[
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\action-items\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 81,
        "column": 55,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 81,
        "endColumn": 58,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2560, 2563], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2560, 2563], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 83,
        "column": 40,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 83,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2706, 2709], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2706, 2709], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\analytics-new\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'ProgressBar' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 16,
        "column": 8,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 16,
        "endColumn": 19
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'InsightCard' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 27,
        "column": 8,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 27,
        "endColumn": 19
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 49,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 49,
        "endColumn": 26
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'activeFilterCount' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 128,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 128,
        "endColumn": 28
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 312,
        "column": 80,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 312,
        "endColumn": 83,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [15864, 15867], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [15864, 15867], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 328,
        "column": 76,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 328,
        "endColumn": 79,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [16810, 16813], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [16810, 16813], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@next/next/no-html-link-for-pages",
        "severity": 1,
        "message": "Do not use an `<a>` element to navigate to `/incidents/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages",
        "line": 529,
        "column": 21,
        "nodeType": "JSXOpeningElement",
        "endLine": 529,
        "endColumn": 79
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { calculateSLAMetrics } from '@/lib/sla-server';\r\nimport { formatTimeMinutesMs } from '@/lib/time-format';\r\nimport { buildAnalyticsExportUrl } from '@/lib/analytics-export';\r\nimport { smoothSeries } from '@/lib/analytics-metrics';\r\nimport type { Metadata } from 'next';\r\nimport { getUserTimeZone } from '@/lib/timezone';\r\nimport { getAuthOptions } from '@/lib/auth';\r\nimport { getServerSession } from 'next-auth';\r\nimport prisma from '@/lib/prisma';\r\nimport MetricCard from '@/components/analytics/MetricCard';\r\nimport ChartCard from '@/components/analytics/ChartCard';\r\nimport AnalyticsFilters from '@/components/analytics/AnalyticsFilters';\r\nimport FilterChips from '@/components/analytics/FilterChips';\r\nimport BarChart from '@/components/analytics/BarChart';\r\nimport PieChart from '@/components/analytics/PieChart';\r\nimport ProgressBar from '@/components/analytics/ProgressBar';\r\nimport MetricIcon from '@/components/analytics/MetricIcon';\r\nimport {\r\n    Shield, CheckCircle, AlertCircle, Zap,\r\n    Users, TrendingUp, Moon, Bell, Repeat, Activity, Sparkles,\r\n    LayoutDashboard, BarChart3, AlertTriangle, Clock\r\n} from 'lucide-react';\r\nimport GaugeChart from '@/components/analytics/GaugeChart';\r\nimport HeatmapCalendar from '@/components/analytics/HeatmapCalendar';\r\nimport LineChart from '@/components/analytics/LineChart';\r\nimport ServiceHealthTable from '@/components/analytics/ServiceHealthTable';\r\nimport InsightCard from '@/components/analytics/InsightCard';\r\nimport './analytics-v2.css';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport const metadata: Metadata = {\r\n    title: 'Analytics V2 | OpsSentinel',\r\n    description: 'Incident Operations Analytics'\r\n};\r\n\r\nconst allowedStatus = ['OPEN', 'ACKNOWLEDGED', 'SNOOZED', 'SUPPRESSED', 'RESOLVED'] as const;\r\nconst allowedUrgency = ['HIGH', 'LOW'] as const;\r\nconst allowedWindows = new Set([1, 3, 7, 14, 30, 60, 90]);\r\n\r\nfunction getStatusColor(status: string): string {\r\n    const colors: Record<string, string> = {\r\n        'OPEN': '#dc2626',\r\n        'ACKNOWLEDGED': '#2563eb',\r\n        'SNOOZED': '#ca8a04',\r\n        'SUPPRESSED': '#7c3aed',\r\n        'RESOLVED': '#16a34a'\r\n    };\r\n    return colors[status] || '#6b7280';\r\n}\r\n\r\nfunction buildSparklinePath(values: number[], width: number = 72, height: number = 24): string {\r\n    if (values.length === 0) return '';\r\n    const min = Math.min(...values);\r\n    const max = Math.max(...values);\r\n    const range = max - min || 1;\r\n    const step = values.length > 1 ? width / (values.length - 1) : width;\r\n\r\n    if (values.length === 1) {\r\n        const y = height - ((values[0] - min) / range) * height;\r\n        return `M0,${y.toFixed(1)} L${width},${y.toFixed(1)}`;\r\n    }\r\n\r\n    return values\r\n        .map((value, index) => {\r\n            const x = index * step;\r\n            const y = height - ((value - min) / range) * height;\r\n            return `${index === 0 ? 'M' : 'L'}${x.toFixed(1)},${y.toFixed(1)}`;\r\n        })\r\n        .join(' ');\r\n}\r\n\r\nfunction buildSparklineAreaPath(values: number[], width: number = 72, height: number = 24): string {\r\n    const linePath = buildSparklinePath(values, width, height);\r\n    if (!linePath) return '';\r\n    return `${linePath} L${width},${height} L0,${height} Z`;\r\n}\r\n\r\ntype SearchParams = {\r\n    service?: string;\r\n    team?: string;\r\n    assignee?: string;\r\n    status?: string;\r\n    urgency?: string;\r\n    window?: string;\r\n};\r\n\r\nexport default async function AnalyticsV2Page({ searchParams }: { searchParams?: Promise<SearchParams> }) {\r\n    const session = await getServerSession(await getAuthOptions());\r\n    const email = session?.user?.email ?? null;\r\n    const user = email ? await prisma.user.findUnique({ where: { email }, select: { timeZone: true } }) : null;\r\n    const userTimeZone = getUserTimeZone(user ?? undefined);\r\n\r\n    const params = await searchParams;\r\n    const teamId = typeof params?.team === 'string' && params.team !== 'ALL' ? params.team : undefined;\r\n    const serviceId = typeof params?.service === 'string' && params.service !== 'ALL' ? params.service : undefined;\r\n    const assigneeId = typeof params?.assignee === 'string' && params.assignee !== 'ALL' ? params.assignee : undefined;\r\n    const statusFilter = typeof params?.status === 'string'\r\n        && allowedStatus.includes(params.status as (typeof allowedStatus)[number])\r\n        ? (params.status as (typeof allowedStatus)[number])\r\n        : undefined;\r\n    const urgencyFilter = typeof params?.urgency === 'string'\r\n        && allowedUrgency.includes(params.urgency as (typeof allowedUrgency)[number])\r\n        ? (params.urgency as (typeof allowedUrgency)[number])\r\n        : undefined;\r\n    const windowCandidate = Number(params?.window ?? 7);\r\n    const windowDays = allowedWindows.has(windowCandidate) ? windowCandidate : 7;\r\n\r\n    const [metrics, teams, services, users] = await Promise.all([\r\n        calculateSLAMetrics({\r\n            teamId, serviceId, assigneeId, status: statusFilter, urgency: urgencyFilter, windowDays, userTimeZone\r\n        }),\r\n        prisma.team.findMany({ select: { id: true, name: true } }),\r\n        prisma.service.findMany({ select: { id: true, name: true, teamId: true } }),\r\n        prisma.user.findMany({ select: { id: true, name: true, email: true } })\r\n    ]);\r\n\r\n    const servicesForFilter = teamId ? services.filter(s => s.teamId === teamId) : services;\r\n\r\n    const formatMinutes = (val: number | null) => val === null ? '--' : formatTimeMinutesMs(val * 60 * 1000);\r\n    const formatPercent = (val: number) => `${val.toFixed(0)}%`;\r\n    const formatHours = (ms: number) => `${(ms / 3600000).toFixed(1)}h`;\r\n    const getComplianceStatus = (val: number) => val >= 95 ? 'success' : val >= 80 ? 'warning' : 'danger';\r\n    const maxTrend = Math.max(1, ...metrics.trendSeries.map(e => e.count));\r\n    const lowUrgencyCount = Math.max(0, metrics.totalIncidents - metrics.highUrgencyCount);\r\n    const ackSlaBurnRate = Math.max(0, 100 - metrics.ackCompliance);\r\n    const resolveSlaBurnRate = Math.max(0, 100 - metrics.resolveCompliance);\r\n    const activeFilterCount = [\r\n        teamId,\r\n        serviceId,\r\n        assigneeId,\r\n        statusFilter,\r\n        urgencyFilter\r\n    ].filter((value) => Boolean(value)).length + (windowDays !== 7 ? 1 : 0);\r\n\r\n    const getDelta = (current: number | null, previous: number | null) => {\r\n        if (current === null || previous === null || previous === 0) return null;\r\n        return ((current - previous) / previous) * 100;\r\n    };\r\n\r\n    const formatDelta = (delta: number | null) => {\r\n        if (delta === null) return undefined;\r\n        const prefix = delta > 0 ? '+' : '';\r\n        return `${prefix}${delta.toFixed(1)}% vs prev`;\r\n    };\r\n\r\n    const getTrend = (delta: number | null) => {\r\n        if (delta === null) return undefined;\r\n        if (delta > 0) return 'up';\r\n        if (delta < 0) return 'down';\r\n        return 'neutral';\r\n    };\r\n\r\n    const incidentDelta = getDelta(metrics.totalIncidents, metrics.previousPeriod.totalIncidents);\r\n    const mttaDelta = getDelta(metrics.mttd, metrics.previousPeriod.mtta);\r\n    const mttrDelta = getDelta(metrics.mttr, metrics.previousPeriod.mttr);\r\n    const smoothingWindow = windowDays <= 3 ? 1 : windowDays <= 14 ? 3 : 7;\r\n    const countSeries = smoothSeries(metrics.trendSeries.map((entry) => entry.count), smoothingWindow);\r\n    const mttaSeries = smoothSeries(metrics.trendSeries.map((entry) => entry.mtta), smoothingWindow);\r\n    const mttrSeries = smoothSeries(metrics.trendSeries.map((entry) => entry.mttr), smoothingWindow);\r\n    const activeSeries = smoothSeries(metrics.trendSeries.map((entry) => entry.count), smoothingWindow);\r\n    const ackComplianceSeries = smoothSeries(metrics.trendSeries.map((entry) => entry.ackCompliance), smoothingWindow);\r\n    const resolveRateSeries = smoothSeries(metrics.trendSeries.map((entry) => entry.resolveRate), smoothingWindow);\r\n    const escalationRateSeries = smoothSeries(metrics.trendSeries.map((entry) => entry.escalationRate), smoothingWindow);\r\n\r\n    const showInsights = metrics.insights.length > 0;\r\n    const exportUrl = buildAnalyticsExportUrl({\r\n        windowDays,\r\n        teamId,\r\n        serviceId,\r\n        assigneeId,\r\n        status: statusFilter,\r\n        urgency: urgencyFilter\r\n    });\r\n\r\n    return (\r\n        <main className=\"page-shell analytics-shell analytics-v2 pb-20\">\r\n            <div className=\"analytics-header\">\r\n                <div className=\"analytics-header-left\">\r\n                    <div className=\"analytics-header-pill-row\">\r\n                        <span className=\"analytics-status-pill\">\r\n                            <span className=\"analytics-live-dot\" aria-hidden=\"true\" />\r\n                            Live operations\r\n                        </span>\r\n                        <span className=\"analytics-window-pill\">Last {windowDays} days</span>\r\n                        <span className=\"analytics-update\">Updated just now</span>\r\n                    </div>\r\n                    <h1 className=\"analytics-header-title\">Analytics &amp; Insights</h1>\r\n                    <p className=\"analytics-header-subtitle\">\r\n                        Incident health, SLA performance, and on-call readiness.\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"analytics-header-actions\">\r\n                    <button className=\"analytics-ghost-button\" type=\"button\">\r\n                        <Repeat className=\"w-4 h-4\" />\r\n                        Refresh\r\n                    </button>\r\n                    <button className=\"analytics-ghost-button\" type=\"button\">\r\n                        <Bell className=\"w-4 h-4\" />\r\n                        Subscribe\r\n                    </button>\r\n                    <a href={exportUrl} className=\"analytics-primary-button\">\r\n                        <BarChart3 className=\"w-4 h-4\" />\r\n                        Export report\r\n                    </a>\r\n                </div>\r\n            </div>\r\n\r\n            <AnalyticsFilters\r\n                teams={teams} services={servicesForFilter} users={users}\r\n                currentFilters={{\r\n                    team: teamId ?? 'ALL', service: serviceId ?? 'ALL', assignee: assigneeId ?? 'ALL',\r\n                    status: statusFilter ?? 'ALL', urgency: urgencyFilter ?? 'ALL', window: `${windowDays}`\r\n                }}\r\n            />\r\n            <div className=\"analytics-context analytics-context-compact\">\r\n                <div className=\"analytics-context-row\">\r\n                    <div className=\"analytics-context-inline\">\r\n                        <span className=\"analytics-context-label\">Filters</span>\r\n                        <span className=\"analytics-context-pill\">Last {windowDays} days</span>\r\n                    </div>\r\n                </div>\r\n                <FilterChips\r\n                    filters={{\r\n                        team: teamId ?? 'ALL', service: serviceId ?? 'ALL', assignee: assigneeId ?? 'ALL',\r\n                        status: statusFilter ?? 'ALL', urgency: urgencyFilter ?? 'ALL'\r\n                    }}\r\n                    teams={teams} services={servicesForFilter} users={users}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"v2-section-header\">\r\n                <h2 className=\"v2-section-title\"><LayoutDashboard className=\"w-5 h-5\" /> Executive Summary</h2>\r\n                <span className=\"text-xs text-muted-foreground\">Highlights vs previous period</span>\r\n            </div>\r\n            <section className=\"v2-grid-4 mb-4\">\r\n                <MetricCard\r\n                    label={`Incidents (${windowDays}d)`}\r\n                    value={metrics.totalIncidents.toLocaleString()}\r\n                    detail=\"New incidents\"\r\n                    trend={getTrend(incidentDelta)}\r\n                    trendValue={formatDelta(incidentDelta)}\r\n                    variant={incidentDelta !== null && incidentDelta > 0 ? 'warning' : 'default'}\r\n                    icon={<MetricIcon type=\"incidents\" />}\r\n                    href=\"/incidents\"\r\n                    className=\"analytics-card-large\"\r\n                >\r\n                    <div className=\"analytics-kpi-meta\">\r\n                        <svg className=\"analytics-sparkline analytics-sparkline-blue\" viewBox=\"0 0 72 24\" aria-hidden=\"true\">\r\n                            <path className=\"analytics-sparkline-area\" d={buildSparklineAreaPath(countSeries)} />\r\n                            <path className=\"analytics-sparkline-line\" d={buildSparklinePath(countSeries)} />\r\n                        </svg>\r\n                    </div>\r\n                </MetricCard>\r\n                <MetricCard\r\n                    label=\"Active Incidents\"\r\n                    value={metrics.activeIncidents.toLocaleString()}\r\n                    detail=\"Current backlog\"\r\n                    variant={metrics.activeIncidents > 5 ? 'danger' : 'default'}\r\n                    icon={<MetricIcon type=\"incidents\" />}\r\n                    href=\"/incidents?status=OPEN\"\r\n                    className=\"analytics-card-large\"\r\n                >\r\n                    <div className=\"analytics-kpi-meta\">\r\n                        <svg className=\"analytics-sparkline analytics-sparkline-blue\" viewBox=\"0 0 72 24\" aria-hidden=\"true\">\r\n                            <path className=\"analytics-sparkline-area\" d={buildSparklineAreaPath(activeSeries)} />\r\n                            <path className=\"analytics-sparkline-line\" d={buildSparklinePath(activeSeries)} />\r\n                        </svg>\r\n                    </div>\r\n                </MetricCard>\r\n                <MetricCard\r\n                    label={`MTTA (${windowDays}d)`}\r\n                    value={formatMinutes(metrics.mttd)}\r\n                    detail=\"Avg response time\"\r\n                    trend={getTrend(mttaDelta)}\r\n                    trendValue={formatDelta(mttaDelta)}\r\n                    variant=\"primary\"\r\n                    icon={<MetricIcon type=\"MTTA\" />}\r\n                    href=\"/incidents\"\r\n                    className=\"analytics-card-large\"\r\n                >\r\n                    <div className=\"analytics-kpi-meta\">\r\n                        <svg className=\"analytics-sparkline analytics-sparkline-amber\" viewBox=\"0 0 72 24\" aria-hidden=\"true\">\r\n                            <path className=\"analytics-sparkline-area\" d={buildSparklineAreaPath(mttaSeries)} />\r\n                            <path className=\"analytics-sparkline-line\" d={buildSparklinePath(mttaSeries)} />\r\n                        </svg>\r\n                    </div>\r\n                </MetricCard>\r\n                <MetricCard\r\n                    label={`MTTR (${windowDays}d)`}\r\n                    value={formatMinutes(metrics.mttr)}\r\n                    detail=\"Avg resolution time\"\r\n                    trend={getTrend(mttrDelta)}\r\n                    trendValue={formatDelta(mttrDelta)}\r\n                    variant=\"primary\"\r\n                    icon={<MetricIcon type=\"MTTR\" />}\r\n                    href=\"/incidents?status=RESOLVED\"\r\n                    className=\"analytics-card-large\"\r\n                >\r\n                    <div className=\"analytics-kpi-meta\">\r\n                        <svg className=\"analytics-sparkline analytics-sparkline-emerald\" viewBox=\"0 0 72 24\" aria-hidden=\"true\">\r\n                            <path className=\"analytics-sparkline-area\" d={buildSparklineAreaPath(mttrSeries)} />\r\n                            <path className=\"analytics-sparkline-line\" d={buildSparklinePath(mttrSeries)} />\r\n                        </svg>\r\n                    </div>\r\n                </MetricCard>\r\n                <MetricCard\r\n                    label=\"Resolution Compliance\"\r\n                    value={formatPercent(metrics.resolveCompliance)}\r\n                    detail=\"SLA compliance\"\r\n                    variant={getComplianceStatus(metrics.resolveCompliance) as any}\r\n                    icon={<Shield className=\"w-5 h-5\" />}\r\n                    href=\"/incidents?status=RESOLVED\"\r\n                    className=\"analytics-card-large\"\r\n                >\r\n                    <div className=\"analytics-kpi-meta\">\r\n                        <svg className=\"analytics-sparkline analytics-sparkline-indigo\" viewBox=\"0 0 72 24\" aria-hidden=\"true\">\r\n                            <path className=\"analytics-sparkline-area\" d={buildSparklineAreaPath(mttrSeries)} />\r\n                            <path className=\"analytics-sparkline-line\" d={buildSparklinePath(mttrSeries)} />\r\n                        </svg>\r\n                    </div>\r\n                </MetricCard>\r\n                <MetricCard\r\n                    label=\"Ack SLA\"\r\n                    value={formatPercent(metrics.ackCompliance)}\r\n                    detail=\"Within target\"\r\n                    variant={getComplianceStatus(metrics.ackCompliance) as any}\r\n                    icon={<Shield className=\"w-5 h-5\" />}\r\n                    href=\"/incidents\"\r\n                    className=\"analytics-card-large\"\r\n                >\r\n                    <div className=\"analytics-kpi-meta\">\r\n                        <svg className=\"analytics-sparkline analytics-sparkline-indigo\" viewBox=\"0 0 72 24\" aria-hidden=\"true\">\r\n                            <path className=\"analytics-sparkline-area\" d={buildSparklineAreaPath(ackComplianceSeries)} />\r\n                            <path className=\"analytics-sparkline-line\" d={buildSparklinePath(ackComplianceSeries)} />\r\n                        </svg>\r\n                    </div>\r\n                </MetricCard>\r\n                <MetricCard\r\n                    label=\"Resolve Rate\"\r\n                    value={formatPercent(metrics.resolveRate)}\r\n                    detail=\"Completion\"\r\n                    variant={metrics.resolveRate > 80 ? 'success' : 'default'}\r\n                    icon={<CheckCircle className=\"w-5 h-5 text-green-500\" />}\r\n                    href=\"/incidents?status=RESOLVED\"\r\n                    className=\"analytics-card-large\"\r\n                >\r\n                    <div className=\"analytics-kpi-meta\">\r\n                        <svg className=\"analytics-sparkline analytics-sparkline-emerald\" viewBox=\"0 0 72 24\" aria-hidden=\"true\">\r\n                            <path className=\"analytics-sparkline-area\" d={buildSparklineAreaPath(resolveRateSeries)} />\r\n                            <path className=\"analytics-sparkline-line\" d={buildSparklinePath(resolveRateSeries)} />\r\n                        </svg>\r\n                    </div>\r\n                </MetricCard>\r\n                <MetricCard\r\n                    label=\"Escalation Rate\"\r\n                    value={formatPercent(metrics.escalationRate)}\r\n                    detail=\"Incidents escalated\"\r\n                    variant={metrics.escalationRate > 20 ? 'warning' : 'default'}\r\n                    icon={<TrendingUp className=\"w-5 h-5\" />}\r\n                    href=\"/incidents\"\r\n                    className=\"analytics-card-large\"\r\n                >\r\n                    <div className=\"analytics-kpi-meta\">\r\n                        <svg className=\"analytics-sparkline analytics-sparkline-rose\" viewBox=\"0 0 72 24\" aria-hidden=\"true\">\r\n                            <path className=\"analytics-sparkline-area\" d={buildSparklineAreaPath(escalationRateSeries)} />\r\n                            <path className=\"analytics-sparkline-line\" d={buildSparklinePath(escalationRateSeries)} />\r\n                        </svg>\r\n                    </div>\r\n                </MetricCard>\r\n            </section>\r\n\r\n            {/* EXTENDED METRIC GRID (Drill Downs Connected) */}\r\n            <section className=\"v2-grid-4 mb-8\">\r\n                {/* Row 1: Rates */}\r\n                <MetricCard className=\"analytics-card-compact\" label=\"Ack Rate\" value={formatPercent(metrics.ackRate)} detail=\"Acknowledgment\" variant={metrics.ackRate > 90 ? 'success' : 'warning'} icon={<CheckCircle className=\"w-5 h-5 text-blue-500\" />} href=\"/incidents?status=ACKNOWLEDGED\" />\r\n                <MetricCard className=\"analytics-card-compact\" label=\"Resolve Breaches\" value={metrics.resolveBreaches.toLocaleString()} detail=\"SLA misses\" variant={metrics.resolveBreaches > 0 ? 'warning' : 'success'} icon={<AlertCircle className=\"w-5 h-5 text-rose-500\" />} href=\"/incidents?status=RESOLVED\" />\r\n                <MetricCard className=\"analytics-card-compact\" label=\"High Urgency\" value={formatPercent(metrics.highUrgencyRate)} detail=\"Share of Total\" variant={metrics.highUrgencyRate > 50 ? 'warning' : 'default'} icon={<AlertTriangle className=\"w-5 h-5 text-orange-500\" />} href=\"/incidents?urgency=HIGH\" />\r\n                <MetricCard className=\"analytics-card-compact\" label=\"Ack Breaches\" value={metrics.ackBreaches.toLocaleString()} detail=\"SLA misses\" variant={metrics.ackBreaches > 0 ? 'warning' : 'success'} icon={<AlertCircle className=\"w-5 h-5 text-orange-500\" />} href=\"/incidents\" />\r\n\r\n                {/* Row 2: Operational */}\r\n                <MetricCard className=\"analytics-card-compact\" label=\"Alerts\" value={metrics.alertsCount.toLocaleString()} detail=\"Total Signals\" variant=\"default\" icon={<Bell className=\"w-5 h-5 text-gray-500\" />} href=\"/alerts\" />\r\n                <MetricCard className=\"analytics-card-compact\" label=\"Noise Ratio\" value={metrics.alertsPerIncident.toFixed(1) + 'x'} detail=\"Alerts/Incident\" variant=\"default\" icon={<Zap className=\"w-5 h-5 text-yellow-500\" />} href=\"/alerts\" />\r\n                <MetricCard className=\"analytics-card-compact\" label=\"Unassigned\" value={metrics.unassignedActive.toLocaleString()} detail=\"Needs Owner\" variant={metrics.unassignedActive > 0 ? 'warning' : 'success'} icon={<Users className=\"w-5 h-5\" />} href=\"/incidents?assignee=UNASSIGNED\" />\r\n                <MetricCard className=\"analytics-card-compact\" label=\"Coverage Gaps\" value={metrics.coverageGapDays.toLocaleString()} detail=\"Days uncovered\" variant={metrics.coverageGapDays > 0 ? 'warning' : 'success'} icon={<AlertTriangle className=\"w-5 h-5 text-orange-500\" />} href=\"/on-call\" />\r\n\r\n                {/* Row 3: Coverage */}\r\n                <MetricCard className=\"analytics-card-compact\" label=\"After Hours\" value={formatPercent(metrics.afterHoursRate)} detail=\"Off-Business Hours\" variant=\"default\" icon={<Moon className=\"w-5 h-5 text-indigo-500\" />} href=\"/on-call\" />\r\n                <MetricCard className=\"analytics-card-compact\" label=\"Coverage\" value={formatPercent(metrics.coveragePercent)} detail=\"On-Call Schedule\" variant={metrics.coveragePercent > 95 ? 'success' : 'danger'} icon={<Shield className=\"w-5 h-5\" />} href=\"/on-call\" />\r\n                <MetricCard className=\"analytics-card-compact\" label=\"On-Call Hours\" value={formatHours(metrics.onCallHoursMs)} detail=\"Total Scheduled\" variant=\"primary\" icon={<Clock className=\"w-5 h-5\" />} href=\"/on-call\" />\r\n                <MetricCard className=\"analytics-card-compact\" label=\"MTBF\" value={metrics.mtbfMs ? formatHours(metrics.mtbfMs) : '--'} detail=\"Mean Time Between\" variant=\"default\" icon={<Activity className=\"w-5 h-5\" />} href=\"/incidents\" />\r\n            </section>\r\n\r\n            {/* SPLIT ROW: Intelligent Insights & Response Trends */}\r\n            <div className={`${showInsights ? 'v2-grid-split' : 'w-full'} mb-8`}>\r\n                {/* INSIGHTS */}\r\n                {showInsights && (\r\n                    <div className=\"glass-panel p-4 h-full analytics-insights\">\r\n                        <div className=\"analytics-insights-header\">\r\n                            <div className=\"analytics-insights-title\">\r\n                                <Sparkles className=\"w-4 h-4 text-purple-500\" />\r\n                                <span>Smart Insights</span>\r\n                            </div>\r\n                            <span className=\"analytics-insights-badge\">Last {windowDays} days</span>\r\n                        </div>\r\n                        <div className=\"analytics-insights-list\">\r\n                            {metrics.insights.slice(0, 5).map((insight, i) => (\r\n                                <div className={`analytics-insights-item ${insight.type === 'positive' ? 'is-positive' : insight.type === 'negative' ? 'is-negative' : ''}`} key={i}>\r\n                                    <div className=\"analytics-insights-item-title\">\r\n                                        <span className=\"analytics-insights-item-dot\" />\r\n                                        <span>{insight.type === 'positive' ? 'Opportunity' : insight.type === 'negative' ? 'Attention' : 'Insight'}</span>\r\n                                    </div>\r\n                                    <div className=\"analytics-insights-item-text\">{insight.text}</div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"analytics-insights-footer\">\r\n                            <span>{metrics.totalIncidents.toLocaleString()} incidents analyzed</span>\r\n                            <span>Updated just now</span>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* CHART */}\r\n                <div>\r\n                    <ChartCard\r\n                        title={`Response Performance Trends (Last ${windowDays} Days)`}\r\n                        subtitle=\"MTTA vs MTTR\"\r\n                        className=\"chart-accent-amber analytics-trend-card\"\r\n                    >\r\n                        <div className=\"h-280\">\r\n                            {metrics.totalIncidents === 0 ? (\r\n                                <div className=\"analytics-empty-state\">\r\n                                    <div className=\"analytics-empty-title\">No incidents in this window</div>\r\n                                    <div className=\"analytics-empty-description\">Response trends will appear once incidents are logged.</div>\r\n                                </div>\r\n                            ) : (\r\n                                <>\r\n                                    <div className=\"analytics-trend-header\">\r\n                                        <div className=\"analytics-trend-legend\">\r\n                                            <span className=\"analytics-trend-chip\">\r\n                                                <span className=\"analytics-trend-dot amber\" />\r\n                                                MTTA (Response)\r\n                                            </span>\r\n                                            <span className=\"analytics-trend-chip\">\r\n                                                <span className=\"analytics-trend-dot emerald\" />\r\n                                                MTTR (Resolution)\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"analytics-trend-meta\">\r\n                                            <span className=\"analytics-trend-meta-label\">Window</span>\r\n                                            <span className=\"analytics-trend-meta-value\">{windowDays} days</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"analytics-trend-grid\">\r\n                                        <div className=\"analytics-trend-chart\">\r\n                                            <LineChart\r\n                                                data={metrics.trendSeries}\r\n                                                lines={[\r\n                                                    { key: 'mtta', color: '#f59e0b', label: 'MTTA (Response)' },\r\n                                                    { key: 'mttr', color: '#10b981', label: 'MTTR (Resolution)' }\r\n                                                ]}\r\n                                                height={280}\r\n                                                valueFormatter={(v: number) => formatTimeMinutesMs(v * 60000)}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"analytics-trend-rail\">\r\n                                            <div className=\"analytics-trend-rail-block\">\r\n                                                <div className=\"analytics-trend-rail-title\">Current averages</div>\r\n                                                <div className=\"analytics-trend-stat\">\r\n                                                    <span>MTTA avg</span>\r\n                                                    <strong>{formatMinutes(metrics.mttd)}</strong>\r\n                                                </div>\r\n                                                <div className=\"analytics-trend-stat\">\r\n                                                    <span>MTTR avg</span>\r\n                                                    <strong>{formatMinutes(metrics.mttr)}</strong>\r\n                                                </div>\r\n                                                <div className=\"analytics-trend-stat\">\r\n                                                    <span>Resolve SLA</span>\r\n                                                    <strong>{formatPercent(metrics.resolveCompliance)}</strong>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"analytics-trend-rail-block\">\r\n                                                <div className=\"analytics-trend-rail-title\">Response benchmarks</div>\r\n                                                <div className=\"analytics-trend-stat\">\r\n                                                    <span>MTTA p50</span>\r\n                                                    <strong>{metrics.mttaP50 === null ? '--' : formatMinutes(metrics.mttaP50)}</strong>\r\n                                                </div>\r\n                                                <div className=\"analytics-trend-stat\">\r\n                                                    <span>MTTA p95</span>\r\n                                                    <strong>{metrics.mttaP95 === null ? '--' : formatMinutes(metrics.mttaP95)}</strong>\r\n                                                </div>\r\n                                                <div className=\"analytics-trend-stat\">\r\n                                                    <span>MTTR p50</span>\r\n                                                    <strong>{metrics.mttrP50 === null ? '--' : formatMinutes(metrics.mttrP50)}</strong>\r\n                                                </div>\r\n                                                <div className=\"analytics-trend-stat\">\r\n                                                    <span>MTTR p95</span>\r\n                                                    <strong>{metrics.mttrP95 === null ? '--' : formatMinutes(metrics.mttrP95)}</strong>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"analytics-trend-rail-block\">\r\n                                                <div className=\"analytics-trend-rail-title\">Change vs prev</div>\r\n                                                <div className=\"analytics-trend-stat\">\r\n                                                    <span>MTTA delta</span>\r\n                                                    <strong>{mttaDelta === null ? '--' : `${Math.abs(mttaDelta).toFixed(1)}%`}</strong>\r\n                                                </div>\r\n                                                <div className=\"analytics-trend-stat\">\r\n                                                    <span>MTTR delta</span>\r\n                                                    <strong>{mttrDelta === null ? '--' : `${Math.abs(mttrDelta).toFixed(1)}%`}</strong>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </ChartCard>\r\n                </div>\r\n            </div>\r\n\r\n            <section className=\"glass-panel mb-8 analytics-narrative analytics-narrative-compact\">\r\n                <div className=\"analytics-narrative-header\">\r\n                    <div className=\"analytics-narrative-title-block\">\r\n                        <span className=\"analytics-narrative-kicker\">Narrative</span>\r\n                        <h3 className=\"analytics-narrative-title\">Key changes vs previous period</h3>\r\n                    </div>\r\n                    <a href=\"/incidents\" className=\"analytics-narrative-link\">View incidents</a>\r\n                </div>\r\n                <div className=\"analytics-narrative-list\">\r\n                    <div className={`analytics-narrative-item ${incidentDelta !== null && incidentDelta > 0 ? 'is-up' : incidentDelta !== null && incidentDelta < 0 ? 'is-down' : ''}`}>\r\n                        <span>Incident volume</span>\r\n                        <strong>{incidentDelta === null ? 'No prior data' : `${Math.abs(incidentDelta).toFixed(1)}% ${incidentDelta > 0 ? 'up' : 'down'}`}</strong>\r\n                    </div>\r\n                    <div className={`analytics-narrative-item ${mttaDelta !== null && mttaDelta > 0 ? 'is-up' : mttaDelta !== null && mttaDelta < 0 ? 'is-down' : ''}`}>\r\n                        <span>Response time (MTTA)</span>\r\n                        <strong>{mttaDelta === null ? 'No prior data' : `${Math.abs(mttaDelta).toFixed(1)}% ${mttaDelta > 0 ? 'slower' : 'faster'}`}</strong>\r\n                    </div>\r\n                    <div className={`analytics-narrative-item ${mttrDelta !== null && mttrDelta > 0 ? 'is-up' : mttrDelta !== null && mttrDelta < 0 ? 'is-down' : ''}`}>\r\n                        <span>Resolution time (MTTR)</span>\r\n                        <strong>{mttrDelta === null ? 'No prior data' : `${Math.abs(mttrDelta).toFixed(1)}% ${mttrDelta > 0 ? 'slower' : 'faster'}`}</strong>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* OPERATIONAL MIX - 3 Cols */}\r\n            <div className=\"v2-grid-3 mb-8\">\r\n                <ChartCard title=\"Incident Volume Trend\" className=\"chart-accent-blue\">\r\n                    <div className=\"h-200\">\r\n                        {metrics.totalIncidents === 0 ? (\r\n                            <div className=\"analytics-empty-state\">\r\n                                <div className=\"analytics-empty-title\">No incident volume yet</div>\r\n                                <div className=\"analytics-empty-description\">Chart appears when incidents are created.</div>\r\n                            </div>\r\n                        ) : (\r\n                            <BarChart data={metrics.trendSeries} maxValue={maxTrend} height={200} showValues />\r\n                        )}\r\n                    </div>\r\n                </ChartCard>\r\n                <ChartCard title=\"Current Status Mix\" className=\"chart-accent-slate\">\r\n                    {metrics.totalIncidents === 0 ? (\r\n                        <div className=\"analytics-empty-state\">\r\n                            <div className=\"analytics-empty-title\">No status distribution</div>\r\n                            <div className=\"analytics-empty-description\">Create incidents to populate the mix.</div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"flex items-center gap-6 h-200\">\r\n                            <PieChart\r\n                                data={metrics.statusMix.map(e => ({ label: e.status, value: e.count, color: getStatusColor(e.status) }))}\r\n                                size={140}\r\n                            />\r\n                            <div className=\"flex flex-col gap-2 text-xs\">\r\n                                {metrics.statusMix.map(e => (\r\n                                    <div key={e.status} className=\"flex items-center gap-2\">\r\n                                        <div className=\"w-2.5 h-2.5 rounded-sm\" style={{ background: getStatusColor(e.status) }} />\r\n                                        <span>{e.status}</span>\r\n                                        <span className=\"font-bold ml-auto\">{e.count}</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </ChartCard>\r\n                <ChartCard title=\"Assignee Load\" className=\"chart-accent-indigo\">\r\n                    <div className=\"flex flex-col gap-3 h-200 overflow-y-auto pr-2 custom-scrollbar\">\r\n                        {metrics.assigneeLoad.length === 0 ? (\r\n                            <div className=\"analytics-empty-state\">\r\n                                <div className=\"analytics-empty-title\">No assignee load yet</div>\r\n                                <div className=\"analytics-empty-description\">Assign incidents to see load distribution.</div>\r\n                            </div>\r\n                        ) : (\r\n                            metrics.assigneeLoad.map((a, i) => (\r\n                                <div key={a.id} className=\"flex items-center gap-3 p-1 rounded hover:bg-muted/50\">\r\n                                    <span className={`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${i < 3 ? 'bg-primary/20 text-primary' : 'bg-muted text-muted-foreground'}`}>{i + 1}</span>\r\n                                    <span className=\"flex-1 text-sm truncate\">{a.name}</span>\r\n                                    <span className=\"font-bold text-sm bg-muted px-2 rounded\">{a.count}</span>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </ChartCard>\r\n            </div>\r\n\r\n            <div className=\"v2-section-header\">\r\n                <h2 className=\"v2-section-title\"><BarChart3 className=\"w-5 h-5\" /> Distribution & Mix</h2>\r\n                <span className=\"text-xs text-muted-foreground\">Service, urgency, and status age</span>\r\n            </div>\r\n            <div className=\"v2-grid-3 mb-8\">\r\n                <ChartCard title=\"Top Services by Incidents\" className=\"chart-accent-blue\">\r\n                    <div className=\"flex flex-col gap-2 h-200 overflow-y-auto pr-2 custom-scrollbar\">\r\n                        {metrics.topServices.length === 0 ? (\r\n                            <div className=\"text-sm text-muted-foreground\">No incidents in this window.</div>\r\n                        ) : metrics.topServices.map((service, index) => (\r\n                            <div key={service.id} className=\"flex items-center gap-3 p-1 rounded hover:bg-muted/50\">\r\n                                <span className={`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${index < 3 ? 'bg-primary/20 text-primary' : 'bg-muted text-muted-foreground'}`}>{index + 1}</span>\r\n                                <span className=\"flex-1 text-sm truncate\">{service.name}</span>\r\n                                <span className=\"font-bold text-sm bg-muted px-2 rounded\">{service.count}</span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </ChartCard>\r\n                <ChartCard title=\"Urgency Mix\" className=\"chart-accent-rose\">\r\n                    <div className=\"flex items-center gap-6 h-200\">\r\n                        <PieChart\r\n                            data={[\r\n                                { label: 'HIGH', value: metrics.highUrgencyCount, color: '#dc2626' },\r\n                                { label: 'LOW', value: lowUrgencyCount, color: '#6b7280' }\r\n                            ]}\r\n                            size={140}\r\n                        />\r\n                        <div className=\"flex flex-col gap-2 text-xs\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <div className=\"w-2.5 h-2.5 rounded-sm\" style={{ background: '#dc2626' }} />\r\n                                <span>HIGH</span>\r\n                                <span className=\"font-bold ml-auto\">{metrics.highUrgencyCount}</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <div className=\"w-2.5 h-2.5 rounded-sm\" style={{ background: '#6b7280' }} />\r\n                                <span>LOW</span>\r\n                                <span className=\"font-bold ml-auto\">{lowUrgencyCount}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ChartCard>\r\n                <ChartCard title=\"State Age Breakdown\" className=\"chart-accent-slate\">\r\n                    <div className=\"flex flex-col gap-2 h-200 overflow-y-auto pr-2 custom-scrollbar\">\r\n                        {metrics.statusAges.map(entry => (\r\n                            <div key={entry.status} className=\"flex items-center gap-2 text-sm\">\r\n                                <span className=\"flex-1\">{entry.status}</span>\r\n                                <span className=\"font-semibold\">{entry.avgMs === null ? '--' : formatHours(entry.avgMs)}</span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </ChartCard>\r\n            </div>\r\n\r\n            <div className=\"v2-section-header\">\r\n                <h2 className=\"v2-section-title\"><Users className=\"w-5 h-5\" /> Ownership & Reliability</h2>\r\n                <span className=\"text-xs text-muted-foreground\">On-call load and recurring incidents</span>\r\n            </div>\r\n            <div className=\"v2-grid-3 mb-8\">\r\n                <ChartCard title=\"On-Call Load\" className=\"chart-accent-indigo\">\r\n                    <div className=\"flex flex-col gap-3 h-200 overflow-y-auto pr-2 custom-scrollbar\">\r\n                        {metrics.onCallLoad.length === 0 ? (\r\n                            <div className=\"text-sm text-muted-foreground\">No on-call shifts in this window.</div>\r\n                        ) : metrics.onCallLoad.map((entry, index) => (\r\n                            <div key={entry.id} className=\"flex items-center gap-3 p-1 rounded hover:bg-muted/50\">\r\n                                <span className={`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${index < 3 ? 'bg-primary/20 text-primary' : 'bg-muted text-muted-foreground'}`}>{index + 1}</span>\r\n                                <span className=\"flex-1 text-sm truncate\">{entry.name}</span>\r\n                                <span className=\"text-xs text-muted-foreground\">{formatHours(entry.hoursMs)}</span>\r\n                                <span className=\"font-bold text-sm bg-muted px-2 rounded\">{entry.incidentCount}</span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </ChartCard>\r\n                <ChartCard title=\"Recurring Incident Titles\" className=\"chart-accent-amber\">\r\n                    <div className=\"flex flex-col gap-2 h-200 overflow-y-auto pr-2 custom-scrollbar\">\r\n                        {metrics.recurringTitles.length === 0 ? (\r\n                            <div className=\"text-sm text-muted-foreground\">No recurring incidents in this window.</div>\r\n                        ) : metrics.recurringTitles.map(entry => (\r\n                            <div key={entry.title} className=\"flex items-center gap-2 text-sm\">\r\n                                <span className=\"flex-1 truncate\">{entry.title}</span>\r\n                                <span className=\"font-semibold\">{entry.count}</span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </ChartCard>\r\n                <ChartCard title=\"Resolution Breakdown\" className=\"chart-accent-emerald\">\r\n                    <div className=\"flex flex-col gap-3 h-200\">\r\n                        <div className=\"flex items-center justify-between text-sm\">\r\n                            <span>Auto-resolved</span>\r\n                            <span className=\"font-semibold\">{metrics.autoResolvedCount.toLocaleString()} ({formatPercent(metrics.autoResolveRate)})</span>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between text-sm\">\r\n                            <span>Manual resolved</span>\r\n                            <span className=\"font-semibold\">{metrics.manualResolvedCount.toLocaleString()}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between text-sm\">\r\n                            <span>Reopen rate</span>\r\n                            <span className=\"font-semibold\">{formatPercent(metrics.reopenRate)}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between text-sm\">\r\n                            <span>Event volume</span>\r\n                            <span className=\"font-semibold\">{metrics.eventsCount.toLocaleString()}</span>\r\n                        </div>\r\n                    </div>\r\n                </ChartCard>\r\n            </div>\r\n\r\n            {/* SERVICE HEALTH MATRIX */}\r\n            <section className=\"glass-panel mb-8 overflow-hidden\">\r\n                <div className=\"p-4 border-b border-border/50 bg-muted/20 flex items-center justify-between\">\r\n                    <h3 className=\"font-semibold text-foreground flex items-center gap-2\">\r\n                        <Activity className=\"w-5 h-5 text-blue-500\" /> Service Health Matrix\r\n                    </h3>\r\n                    <span className=\"text-xs text-muted-foreground\">{metrics.serviceMetrics.length} Services Monitored</span>\r\n                </div>\r\n                <ServiceHealthTable services={metrics.serviceMetrics} />\r\n            </section>\r\n\r\n            <div className=\"v2-section-header\">\r\n                <h2 className=\"v2-section-title\"><Shield className=\"w-5 h-5\" /> SLA & Coverage</h2>\r\n                <span className=\"text-xs text-muted-foreground\">Targets, breaches, and scheduling</span>\r\n            </div>\r\n            <section className=\"glass-panel mb-8 overflow-hidden\">\r\n                <div className=\"p-4 border-b border-border/50 bg-muted/20 flex items-center justify-between\">\r\n                    <h3 className=\"font-semibold text-foreground\">Coverage Outlook</h3>\r\n                    <span className=\"text-xs text-muted-foreground\">Next 14 days</span>\r\n                </div>\r\n                <div className=\"p-4\">\r\n                    <div className=\"analytics-table\">\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Coverage</span>\r\n                            <strong>{formatPercent(metrics.coveragePercent)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Coverage gap days</span>\r\n                            <strong>{metrics.coverageGapDays.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Scheduled on-call hours</span>\r\n                            <strong>{formatHours(metrics.onCallHoursMs)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Unique responders scheduled</span>\r\n                            <strong>{metrics.onCallUsersCount.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Active overrides</span>\r\n                            <strong>{metrics.activeOverrides.toLocaleString()}</strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"glass-panel mb-8 overflow-hidden\">\r\n                <div className=\"p-4 border-b border-border/50 bg-muted/20 flex items-center justify-between\">\r\n                    <h3 className=\"font-semibold text-foreground\">SLA Summary</h3>\r\n                    <span className=\"text-xs text-muted-foreground\">{windowDays} day window</span>\r\n                </div>\r\n                <div className=\"p-4\">\r\n                    <div className=\"analytics-table\">\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>MTTA p50</span>\r\n                            <strong>{metrics.mttaP50 === null ? '--' : formatMinutes(metrics.mttaP50)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>MTTA p95</span>\r\n                            <strong>{metrics.mttaP95 === null ? '--' : formatMinutes(metrics.mttaP95)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>MTTR p50</span>\r\n                            <strong>{metrics.mttrP50 === null ? '--' : formatMinutes(metrics.mttrP50)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>MTTR p95</span>\r\n                            <strong>{metrics.mttrP95 === null ? '--' : formatMinutes(metrics.mttrP95)}</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"analytics-table mt-4\">\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>High urgency share</span>\r\n                            <strong>{formatPercent(metrics.highUrgencyRate)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Ack SLA breaches</span>\r\n                            <strong>{metrics.ackBreaches.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Resolve SLA breaches</span>\r\n                            <strong>{metrics.resolveBreaches.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Ack SLA burn</span>\r\n                            <strong>{formatPercent(ackSlaBurnRate)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Resolve SLA burn</span>\r\n                            <strong>{formatPercent(resolveSlaBurnRate)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Unassigned active incidents</span>\r\n                            <strong>{metrics.unassignedActive.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Incident events logged</span>\r\n                            <strong>{metrics.eventsCount.toLocaleString()}</strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"glass-panel mb-8 overflow-hidden\">\r\n                <div className=\"p-4 border-b border-border/50 bg-muted/20 flex items-center justify-between\">\r\n                    <h3 className=\"font-semibold text-foreground\">SLA Compliance by Service</h3>\r\n                    <span className=\"text-xs text-muted-foreground\">Top services by volume</span>\r\n                </div>\r\n                <div className=\"p-4\">\r\n                    <div className=\"analytics-table\">\r\n                        {metrics.serviceSlaTable.length === 0 ? (\r\n                            <div className=\"text-sm text-muted-foreground\">No SLA data in this window.</div>\r\n                        ) : metrics.serviceSlaTable.map(entry => (\r\n                            <div key={entry.id} className=\"analytics-table-row\">\r\n                                <span>{entry.name}</span>\r\n                                <strong>Ack {formatPercent(entry.ackRate)} | Resolve {formatPercent(entry.resolveRate)}</strong>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* GAUGES */}\r\n            <section className=\"mb-8\">\r\n                <div className=\"v2-section-header\">\r\n                    <h2 className=\"v2-section-title\"><Shield className=\"w-5 h-5\" /> SLA Compliance</h2>\r\n                </div>\r\n                <div className=\"v2-gauge-grid\">\r\n                    <div className=\"v2-gauge-card gauge-accent-indigo\"><GaugeChart value={metrics.ackCompliance} label=\"Ack SLA\" size={120} /></div>\r\n                    <div className=\"v2-gauge-card gauge-accent-emerald\"><GaugeChart value={metrics.resolveCompliance} label=\"Resolve SLA\" size={120} /></div>\r\n                    <div className=\"v2-gauge-card gauge-accent-blue\"><GaugeChart value={metrics.coveragePercent} label=\"Coverage\" size={120} /></div>\r\n                    <div className=\"v2-gauge-card gauge-accent-amber\"><GaugeChart value={metrics.ackRate} label=\"Ack Rate\" size={120} /></div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* HEATMAP */}\r\n            <section className=\"glass-panel p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-6 flex items-center gap-2\">\r\n                    <LayoutDashboard className=\"w-5 h-5 text-muted-foreground\" /> Historical Activity (12 Weeks)\r\n                </h3>\r\n                <HeatmapCalendar data={metrics.heatmapData} weeks={12} cellSize={16} gap={4} />\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\analytics\\page.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 35,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 35,
        "endColumn": 26
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 87,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 87,
        "endColumn": 25
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 432,
        "column": 24,
        "nodeType": "MemberExpression",
        "endLine": 432,
        "endColumn": 38
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 447,
        "column": 13,
        "nodeType": "MemberExpression",
        "endLine": 447,
        "endColumn": 31
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 133,
        "column": 120,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 133,
        "endColumn": 123,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5939, 5942], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5939, 5942], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 136,
        "column": 124,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 136,
        "endColumn": 127,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6219, 6222], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6219, 6222], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Prisma } from '@prisma/client';\r\nimport prisma from '@/lib/prisma';\r\nimport MetricCard from '@/components/analytics/MetricCard';\r\nimport ChartCard from '@/components/analytics/ChartCard';\r\nimport AnalyticsFilters from '@/components/analytics/AnalyticsFilters';\r\nimport BarChart from '@/components/analytics/BarChart';\r\nimport MetricIcon from '@/components/analytics/MetricIcon';\r\nimport ProgressBar from '@/components/analytics/ProgressBar';\r\nimport PieChart from '@/components/analytics/PieChart';\r\nimport GaugeChart from '@/components/analytics/GaugeChart';\r\nimport FilterChips from '@/components/analytics/FilterChips';\r\nimport { getUserTimeZone, formatDateTime } from '@/lib/timezone';\r\nimport { getAuthOptions } from '@/lib/auth';\r\nimport { getServerSession } from 'next-auth';\r\n\r\n// Force dynamic rendering - this page requires database access\r\nexport const dynamic = 'force-dynamic';\r\n\r\nconst formatMinutes = (ms: number | null) => (ms === null ? '--' : `${(ms / 1000 / 60).toFixed(1)}m`);\r\nconst formatPercent = (value: number) => `${value.toFixed(0)}%`;\r\nconst formatHours = (ms: number) => `${(ms / 1000 / 60 / 60).toFixed(1)}h`;\r\nconst formatRatio = (value: number) => `${value.toFixed(1)}x`;\r\nconst formatHoursCompact = (ms: number) => `${(ms / 1000 / 60 / 60).toFixed(2)}h`;\r\nconst defaultAckTargetMinutes = 15;\r\nconst defaultResolveTargetMinutes = 120;\r\n\r\nfunction getStatusColor(status: string): string {\r\n    const colors: Record<string, string> = {\r\n        'OPEN': '#dc2626',\r\n        'ACKNOWLEDGED': '#2563eb',\r\n        'SNOOZED': '#ca8a04',\r\n        'SUPPRESSED': '#7c3aed',\r\n        'RESOLVED': '#16a34a'\r\n    };\r\n    return colors[status] || '#6b7280';\r\n}\r\n\r\nfunction getMetricTooltip(label: string): string {\r\n    const tooltips: Record<string, string> = {\r\n        'Incidents in view': 'Total number of incidents matching your current filters',\r\n        'Incidents': 'Number of new incidents created in the selected time window',\r\n        'MTTA': 'Mean Time to Acknowledge - Average time from incident creation to acknowledgment',\r\n        'MTTR': 'Mean Time to Resolve - Average time from incident creation to resolution',\r\n        'Ack rate': 'Percentage of incidents that were acknowledged',\r\n        'Resolve rate': 'Percentage of incidents that were resolved',\r\n        'Ack SLA met': 'Percentage of acknowledged incidents that met the SLA target time',\r\n        'Resolve SLA met': 'Percentage of resolved incidents that met the SLA target time',\r\n        'High urgency': 'Percentage of incidents marked as HIGH urgency',\r\n        'Alerts': 'Total number of alerts received in the time window',\r\n        'Alerts per incident': 'Average number of alerts per incident (noise indicator)',\r\n        'Unassigned active': 'Number of active incidents without an assignee',\r\n        'MTBF': 'Mean Time Between Failures - Average time between incident occurrences',\r\n        'After-hours': 'Percentage of incidents created outside business hours (8 AM - 6 PM)',\r\n        'Coverage': 'Percentage of days in the next 14 days with on-call coverage scheduled',\r\n        'On-call hours': 'Total scheduled on-call hours in the next 14 days'\r\n    };\r\n\r\n    for (const [key, value] of Object.entries(tooltips)) {\r\n        if (label.includes(key)) {\r\n            return value;\r\n        }\r\n    }\r\n    return 'Analytics metric';\r\n}\r\n\r\nfunction startOfDay(date: Date) {\r\n    const next = new Date(date);\r\n    next.setHours(0, 0, 0, 0);\r\n    return next;\r\n}\r\n\r\nfunction toDateKey(date: Date) {\r\n    const year = date.getFullYear();\r\n    const month = `${date.getMonth() + 1}`.padStart(2, '0');\r\n    const day = `${date.getDate()}`.padStart(2, '0');\r\n    return `${year}-${month}-${day}`;\r\n}\r\n\r\nfunction formatDayLabel(date: Date, timeZone: string = 'UTC') {\r\n    return formatDateTime(date, timeZone, { format: 'short' });\r\n}\r\n\r\nfunction percentile(values: number[], percentileValue: number) {\r\n    if (values.length === 0) return null;\r\n    const sorted = [...values].sort((a, b) => a - b);\r\n    const index = Math.min(sorted.length - 1, Math.ceil((percentileValue / 100) * sorted.length) - 1);\r\n    return sorted[index];\r\n}\r\n\r\nfunction isAfterHours(date: Date) {\r\n    const day = date.getDay();\r\n    const hour = date.getHours();\r\n    const isWeekend = day === 0 || day === 6;\r\n    const isBusinessHours = hour >= 8 && hour < 18;\r\n    return isWeekend || !isBusinessHours;\r\n}\r\n\r\ntype SearchParams = {\r\n    service?: string;\r\n    team?: string;\r\n    assignee?: string;\r\n    status?: string;\r\n    urgency?: string;\r\n    window?: string;\r\n};\r\n\r\nconst allowedStatus = ['OPEN', 'ACKNOWLEDGED', 'SNOOZED', 'SUPPRESSED', 'RESOLVED'] as const;\r\nconst allowedUrgency = ['HIGH', 'LOW'] as const;\r\nconst allowedWindows = new Set([1, 3, 7, 14, 30, 60, 90]);\r\n\r\nexport default async function AnalyticsPage({ searchParams }: { searchParams?: Promise<SearchParams> }) {\r\n    // Get user timezone for date formatting\r\n    const session = await getServerSession(await getAuthOptions());\r\n    const email = session?.user?.email ?? null;\r\n    const user = email\r\n        ? await prisma.user.findUnique({\r\n            where: { email },\r\n            select: { timeZone: true }\r\n        })\r\n        : null;\r\n    const userTimeZone = getUserTimeZone(user ?? undefined);\r\n\r\n    const awaitedSearchParams = await searchParams;\r\n    const teamId = typeof awaitedSearchParams?.team === 'string' && awaitedSearchParams.team !== 'ALL'\r\n        ? awaitedSearchParams.team\r\n        : null;\r\n    const serviceId = typeof awaitedSearchParams?.service === 'string' && awaitedSearchParams.service !== 'ALL'\r\n        ? awaitedSearchParams.service\r\n        : null;\r\n    const assigneeId = typeof awaitedSearchParams?.assignee === 'string' && awaitedSearchParams.assignee !== 'ALL'\r\n        ? awaitedSearchParams.assignee\r\n        : null;\r\n    const statusFilter: (typeof allowedStatus)[number] | 'ALL' = allowedStatus.includes(awaitedSearchParams?.status as any) // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        ? (awaitedSearchParams?.status as (typeof allowedStatus)[number])\r\n        : 'ALL';\r\n    const urgencyFilter: (typeof allowedUrgency)[number] | 'ALL' = allowedUrgency.includes(awaitedSearchParams?.urgency as any) // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        ? (awaitedSearchParams?.urgency as (typeof allowedUrgency)[number])\r\n        : 'ALL';\r\n    const windowCandidate = Number(awaitedSearchParams?.window ?? 7);\r\n    const windowDays = allowedWindows.has(windowCandidate) ? windowCandidate : 7;\r\n\r\n    const now = new Date();\r\n    const recentWindowDays = windowDays;\r\n    const trendWindowDays = windowDays;\r\n    const serviceWindowDays = windowDays;\r\n    const coverageWindowDays = 14;\r\n\r\n    const recentStart = new Date(now);\r\n    recentStart.setDate(now.getDate() - recentWindowDays);\r\n    const trendStart = new Date(now);\r\n    trendStart.setDate(now.getDate() - (trendWindowDays - 1));\r\n    const serviceStart = new Date(now);\r\n    serviceStart.setDate(now.getDate() - serviceWindowDays);\r\n\r\n    const coverageWindowEnd = new Date(now);\r\n    coverageWindowEnd.setDate(now.getDate() + coverageWindowDays);\r\n\r\n    const teamServiceIds = teamId\r\n        ? await prisma.service.findMany({\r\n            where: { teamId },\r\n            select: { id: true }\r\n        })\r\n        : null;\r\n\r\n    const teamServiceIdList = teamServiceIds?.map((service) => service.id) ?? null;\r\n\r\n    const statusValue = statusFilter !== 'ALL' ? (statusFilter as (typeof allowedStatus)[number]) : null;\r\n    const urgencyValue = urgencyFilter !== 'ALL' ? (urgencyFilter as (typeof allowedUrgency)[number]) : null;\r\n    const statusWhere = statusValue ? { status: statusValue } : null;\r\n    const urgencyWhere = urgencyValue ? { urgency: urgencyValue } : null;\r\n    const serviceWhere = serviceId\r\n        ? { serviceId }\r\n        : teamServiceIdList\r\n            ? { serviceId: { in: teamServiceIdList } }\r\n            : null;\r\n    const assigneeWhere = assigneeId ? { assigneeId } : null;\r\n\r\n    const activeStatusWhere = statusValue ? { status: statusValue } : { status: { not: 'RESOLVED' as const } };\r\n    const activeWhere: Prisma.IncidentWhereInput = {\r\n        ...activeStatusWhere,\r\n        ...(serviceWhere ?? {}),\r\n        ...(urgencyWhere ?? {}),\r\n        ...(assigneeWhere ?? {})\r\n    };\r\n\r\n    const recentIncidentWhere = {\r\n        createdAt: { gte: recentStart },\r\n        ...(serviceWhere ?? {}),\r\n        ...(urgencyWhere ?? {}),\r\n        ...(statusWhere ?? {}),\r\n        ...(assigneeWhere ?? {})\r\n    };\r\n\r\n    const trendIncidentWhere = {\r\n        createdAt: { gte: trendStart },\r\n        ...(serviceWhere ?? {}),\r\n        ...(urgencyWhere ?? {}),\r\n        ...(statusWhere ?? {}),\r\n        ...(assigneeWhere ?? {})\r\n    };\r\n\r\n    const topServiceWhere = {\r\n        createdAt: { gte: serviceStart },\r\n        ...(urgencyWhere ?? {}),\r\n        ...(statusWhere ?? {}),\r\n        ...(assigneeWhere ?? {})\r\n    };\r\n\r\n    const [\r\n        activeIncidents,\r\n        unassignedActive,\r\n        recentIncidents,\r\n        incidentsTrend,\r\n        alertsLastWeek,\r\n        futureShifts,\r\n        windowShifts,\r\n        activeOverrides,\r\n        statusTrends,\r\n        services,\r\n        topServiceCounts,\r\n        assigneeCounts,\r\n        recurringTitles,\r\n        teams,\r\n        users\r\n    ] = await Promise.all([\r\n        prisma.incident.count({ where: activeWhere }),\r\n        prisma.incident.count({ where: { ...activeWhere, assigneeId: null } }),\r\n        prisma.incident.findMany({\r\n            where: recentIncidentWhere,\r\n            select: {\r\n                id: true,\r\n                createdAt: true,\r\n                updatedAt: true,\r\n                status: true,\r\n                urgency: true,\r\n                assigneeId: true,\r\n                serviceId: true,\r\n                acknowledgedAt: true,\r\n                resolvedAt: true,\r\n                service: {\r\n                    select: {\r\n                        targetAckMinutes: true,\r\n                        targetResolveMinutes: true\r\n                    }\r\n                }\r\n            }\r\n        }),\r\n        prisma.incident.findMany({\r\n            where: trendIncidentWhere,\r\n            select: { createdAt: true }\r\n        }),\r\n        prisma.alert.count({\r\n            where: {\r\n                createdAt: { gte: recentStart },\r\n                ...(serviceWhere ?? {})\r\n            }\r\n        }),\r\n        prisma.onCallShift.findMany({\r\n            where: { end: { gte: now }, start: { lte: coverageWindowEnd } },\r\n            select: { start: true, end: true, userId: true }\r\n        }),\r\n        prisma.onCallShift.findMany({\r\n            where: { end: { gte: recentStart }, start: { lte: now } },\r\n            select: { start: true, end: true, userId: true }\r\n        }),\r\n        prisma.onCallOverride.count({ where: { end: { gte: now } } }),\r\n        prisma.incident.groupBy({\r\n            by: ['status'],\r\n            where: recentIncidentWhere,\r\n            _count: { _all: true }\r\n        }),\r\n        prisma.service.findMany({\r\n            select: { id: true, name: true, teamId: true, targetAckMinutes: true, targetResolveMinutes: true }\r\n        }),\r\n        prisma.incident.groupBy({\r\n            by: ['serviceId'],\r\n            where: {\r\n                ...topServiceWhere,\r\n                ...(serviceWhere ?? {})\r\n            },\r\n            _count: { _all: true },\r\n            orderBy: { _count: { id: 'desc' } },\r\n            take: 5\r\n        }),\r\n        prisma.incident.groupBy({\r\n            by: ['assigneeId'],\r\n            where: {\r\n                ...recentIncidentWhere,\r\n                assigneeId: { not: null }\r\n            },\r\n            _count: { _all: true },\r\n            orderBy: { _count: { id: 'desc' } },\r\n            take: 6\r\n        }),\r\n        prisma.incident.groupBy({\r\n            by: ['title'],\r\n            where: recentIncidentWhere,\r\n            _count: { _all: true },\r\n            orderBy: { _count: { id: 'desc' } },\r\n            take: 5\r\n        }),\r\n        prisma.team.findMany({\r\n            select: { id: true, name: true }\r\n        }),\r\n        prisma.user.findMany({\r\n            select: { id: true, name: true, email: true }\r\n        })\r\n    ]);\r\n\r\n    const recentIncidentIds = recentIncidents.map((incident) => incident.id);\r\n    const eventsLastWeek = recentIncidentIds.length\r\n        ? await prisma.incidentEvent.count({\r\n            where: {\r\n                createdAt: { gte: recentStart },\r\n                incidentId: { in: recentIncidentIds }\r\n            }\r\n        })\r\n        : 0;\r\n    const [ackEvents, autoResolveEvents, escalationEvents, reopenEvents] = recentIncidentIds.length\r\n        ? await Promise.all([\r\n            prisma.incidentEvent.findMany({\r\n                where: {\r\n                    createdAt: { gte: recentStart },\r\n                    incidentId: { in: recentIncidentIds },\r\n                    message: { contains: 'acknowledged', mode: 'insensitive' }\r\n                },\r\n                select: { incidentId: true, createdAt: true },\r\n                orderBy: { createdAt: 'asc' }\r\n            }),\r\n            prisma.incidentEvent.findMany({\r\n                where: {\r\n                    createdAt: { gte: recentStart },\r\n                    incidentId: { in: recentIncidentIds },\r\n                    message: { contains: 'auto-resolved', mode: 'insensitive' }\r\n                },\r\n                select: { incidentId: true }\r\n            }),\r\n            prisma.incidentEvent.findMany({\r\n                where: {\r\n                    createdAt: { gte: recentStart },\r\n                    incidentId: { in: recentIncidentIds },\r\n                    message: { contains: 'escalated to', mode: 'insensitive' }\r\n                },\r\n                select: { incidentId: true }\r\n            }),\r\n            prisma.incidentEvent.findMany({\r\n                where: {\r\n                    createdAt: { gte: recentStart },\r\n                    incidentId: { in: recentIncidentIds },\r\n                    message: { contains: 'reopen', mode: 'insensitive' }\r\n                },\r\n                select: { incidentId: true }\r\n            })\r\n        ])\r\n        : [[], [], [], []];\r\n\r\n    // Use acknowledgedAt field if available, fallback to event parsing for backward compatibility\r\n    const ackByIncident = new Map<string, Date>();\r\n    for (const incident of recentIncidents) {\r\n        if (incident.acknowledgedAt) {\r\n            ackByIncident.set(incident.id, incident.acknowledgedAt);\r\n        }\r\n    }\r\n    // Fallback to event parsing for incidents without acknowledgedAt\r\n    for (const ack of ackEvents) {\r\n        if (!ackByIncident.has(ack.incidentId)) {\r\n            ackByIncident.set(ack.incidentId, ack.createdAt);\r\n        }\r\n    }\r\n\r\n    const ackDiffs: number[] = [];\r\n    for (const incident of recentIncidents) {\r\n        const ackedAt = ackByIncident.get(incident.id);\r\n        if (ackedAt && incident.createdAt) {\r\n            ackDiffs.push(ackedAt.getTime() - incident.createdAt.getTime());\r\n        }\r\n    }\r\n    const mttaMs = ackDiffs.length ? ackDiffs.reduce((sum, diff) => sum + diff, 0) / ackDiffs.length : null;\r\n    const mttaP50 = percentile(ackDiffs, 50);\r\n    const mttaP95 = percentile(ackDiffs, 95);\r\n\r\n    const resolvedIncidents = recentIncidents.filter((incident) => incident.status === 'RESOLVED');\r\n    const resolvedDiffs = resolvedIncidents.map((incident) => {\r\n        // Use resolvedAt field if available, fallback to updatedAt\r\n        const resolvedAt = incident.resolvedAt || incident.updatedAt;\r\n        if (resolvedAt && incident.createdAt) {\r\n            return resolvedAt.getTime() - incident.createdAt.getTime();\r\n        }\r\n        return null;\r\n    }).filter((diff): diff is number => diff !== null);\r\n    const mttrMs = resolvedDiffs.length ? resolvedDiffs.reduce((sum, diff) => sum + diff, 0) / resolvedDiffs.length : null;\r\n    const mttrP50 = percentile(resolvedDiffs, 50);\r\n    const mttrP95 = percentile(resolvedDiffs, 95);\r\n\r\n    const totalRecent = recentIncidents.length;\r\n    const highUrgencyCount = recentIncidents.filter((incident) => incident.urgency === 'HIGH').length;\r\n    const lowUrgencyCount = Math.max(0, totalRecent - highUrgencyCount);\r\n    const ackedIncidents = ackByIncident.size;\r\n    const resolutionRate = totalRecent ? (resolvedIncidents.length / totalRecent) * 100 : 0;\r\n    const ackRate = totalRecent ? (ackedIncidents / totalRecent) * 100 : 0;\r\n    const highUrgencyRate = totalRecent ? (highUrgencyCount / totalRecent) * 100 : 0;\r\n    const alertsPerIncident = totalRecent ? alertsLastWeek / totalRecent : 0;\r\n\r\n    const coverageDays = new Set<string>();\r\n    let totalShiftMs = 0;\r\n    const onCallUsers = new Set<string>();\r\n    for (const shift of futureShifts) {\r\n        const shiftStart = shift.start < now ? now : shift.start;\r\n        const shiftEnd = shift.end > coverageWindowEnd ? coverageWindowEnd : shift.end;\r\n        if (shiftEnd <= shiftStart) {\r\n            continue;\r\n        }\r\n        totalShiftMs += shiftEnd.getTime() - shiftStart.getTime();\r\n        onCallUsers.add(shift.userId);\r\n        const cursor = new Date(shiftStart);\r\n        while (cursor <= shiftEnd) {\r\n            coverageDays.add(cursor.toDateString());\r\n            cursor.setDate(cursor.getDate() + 1);\r\n        }\r\n    }\r\n    const coveragePercent = Math.min(100, (coverageDays.size / coverageWindowDays) * 100);\r\n    const coverageGapDays = Math.max(0, coverageWindowDays - coverageDays.size);\r\n\r\n    const afterHoursCount = recentIncidents.filter((incident) => isAfterHours(incident.createdAt)).length;\r\n    const afterHoursRate = totalRecent ? (afterHoursCount / totalRecent) * 100 : 0;\r\n\r\n    const sortedTrend = incidentsTrend\r\n        .map((entry) => entry.createdAt)\r\n        .sort((a, b) => a.getTime() - b.getTime());\r\n    const mtbfDiffs: number[] = [];\r\n    for (let i = 1; i < sortedTrend.length; i += 1) {\r\n        mtbfDiffs.push(sortedTrend[i].getTime() - sortedTrend[i - 1].getTime());\r\n    }\r\n    const mtbfMs = mtbfDiffs.length ? mtbfDiffs.reduce((sum, diff) => sum + diff, 0) / mtbfDiffs.length : null;\r\n\r\n    const trendStartDay = startOfDay(trendStart);\r\n    const trendSeries = Array.from({ length: trendWindowDays }, (_, index) => {\r\n        const day = new Date(trendStartDay);\r\n        day.setDate(trendStartDay.getDate() + index);\r\n        return { date: day, key: toDateKey(day), label: formatDayLabel(day, userTimeZone), count: 0 };\r\n    });\r\n    const trendIndex = new Map(trendSeries.map((entry, index) => [entry.key, index]));\r\n    for (const incident of incidentsTrend) {\r\n        const key = toDateKey(startOfDay(incident.createdAt));\r\n        const index = trendIndex.get(key);\r\n        if (index !== undefined) {\r\n            trendSeries[index].count += 1;\r\n        }\r\n    }\r\n    const maxTrend = Math.max(1, ...trendSeries.map((entry) => entry.count));\r\n\r\n    const statusOrder: Array<(typeof allowedStatus)[number]> = ['OPEN', 'ACKNOWLEDGED', 'SNOOZED', 'SUPPRESSED', 'RESOLVED'];\r\n    const statusMap = new Map(statusTrends.map((entry) => [entry.status, entry._count._all]));\r\n    const statusMix = statusOrder.map((status) => ({\r\n        status,\r\n        count: statusMap.get(status) ?? 0\r\n    }));\r\n\r\n    const serviceNameMap = new Map(services.map((service) => [service.id, service.name]));\r\n    const serviceTargetMap = new Map(\r\n        services.map((service) => [\r\n            service.id,\r\n            {\r\n                ackMinutes: service.targetAckMinutes ?? defaultAckTargetMinutes,\r\n                resolveMinutes: service.targetResolveMinutes ?? defaultResolveTargetMinutes\r\n            }\r\n        ])\r\n    );\r\n    const topServices = topServiceCounts.map((entry) => ({\r\n        id: entry.serviceId,\r\n        name: serviceNameMap.get(entry.serviceId) || 'Deleted service',\r\n        count: entry._count._all\r\n    }));\r\n\r\n    const servicesForFilter = teamId\r\n        ? services.filter((service) => service.teamId === teamId)\r\n        : services;\r\n\r\n    const assigneeIds = assigneeCounts\r\n        .map((entry) => entry.assigneeId)\r\n        .filter((id): id is string => Boolean(id));\r\n    const onCallUserIds = Array.from(new Set(windowShifts.map((shift) => shift.userId)));\r\n    const usersById = assigneeIds.length || onCallUserIds.length\r\n        ? await prisma.user.findMany({\r\n            where: { id: { in: Array.from(new Set([...assigneeIds, ...onCallUserIds])) } },\r\n            select: { id: true, name: true, email: true }\r\n        })\r\n        : [];\r\n    const userNameMap = new Map(usersById.map((user) => [user.id, user.name || user.email || 'Unknown user']));\r\n    const _filterUserNameMap = new Map(users.map((user) => [user.id, user.name || user.email || 'Unknown user']));\r\n\r\n    const assigneeLoad = assigneeCounts.map((entry) => ({\r\n        id: entry.assigneeId as string,\r\n        name: userNameMap.get(entry.assigneeId as string) || 'Unknown user',\r\n        count: entry._count._all\r\n    }));\r\n\r\n    const onCallLoadMap = new Map<string, { hoursMs: number; incidentCount: number }>();\r\n    for (const shift of windowShifts) {\r\n        const shiftStart = shift.start < recentStart ? recentStart : shift.start;\r\n        const shiftEnd = shift.end > now ? now : shift.end;\r\n        if (shiftEnd <= shiftStart) {\r\n            continue;\r\n        }\r\n        const entry = onCallLoadMap.get(shift.userId) || { hoursMs: 0, incidentCount: 0 };\r\n        entry.hoursMs += shiftEnd.getTime() - shiftStart.getTime();\r\n        onCallLoadMap.set(shift.userId, entry);\r\n    }\r\n    for (const incident of recentIncidents) {\r\n        for (const shift of windowShifts) {\r\n            if (incident.createdAt >= shift.start && incident.createdAt <= shift.end) {\r\n                const entry = onCallLoadMap.get(shift.userId) || { hoursMs: 0, incidentCount: 0 };\r\n                entry.incidentCount += 1;\r\n                onCallLoadMap.set(shift.userId, entry);\r\n            }\r\n        }\r\n    }\r\n    const onCallLoad = Array.from(onCallLoadMap.entries())\r\n        .map(([userId, stats]) => ({\r\n            id: userId,\r\n            name: userNameMap.get(userId) || 'Unknown user',\r\n            hoursMs: stats.hoursMs,\r\n            incidentCount: stats.incidentCount\r\n        }))\r\n        .sort((a, b) => b.incidentCount - a.incidentCount)\r\n        .slice(0, 6);\r\n\r\n    const statusAgeMap = new Map<string, { totalMs: number; count: number }>();\r\n    for (const incident of recentIncidents) {\r\n        const durationMs = incident.status === 'RESOLVED' && incident.updatedAt\r\n            ? incident.updatedAt.getTime() - incident.createdAt.getTime()\r\n            : now.getTime() - incident.createdAt.getTime();\r\n        const current = statusAgeMap.get(incident.status) || { totalMs: 0, count: 0 };\r\n        current.totalMs += durationMs;\r\n        current.count += 1;\r\n        statusAgeMap.set(incident.status, current);\r\n    }\r\n    const statusAges = statusOrder.map((status) => {\r\n        const data = statusAgeMap.get(status);\r\n        const avgMs = data && data.count ? data.totalMs / data.count : null;\r\n        return { status, avgMs };\r\n    });\r\n\r\n    const serviceSlaStats = new Map<string, { ackMet: number; ackTotal: number; resolveMet: number; resolveTotal: number }>();\r\n    for (const incident of recentIncidents) {\r\n        const targets = serviceTargetMap.get(incident.serviceId);\r\n        const ackTargetMinutes = targets?.ackMinutes ?? defaultAckTargetMinutes;\r\n        const resolveTargetMinutes = targets?.resolveMinutes ?? defaultResolveTargetMinutes;\r\n        const current = serviceSlaStats.get(incident.serviceId) || { ackMet: 0, ackTotal: 0, resolveMet: 0, resolveTotal: 0 };\r\n\r\n        const ackedAt = ackByIncident.get(incident.id);\r\n        if (ackedAt && incident.createdAt) {\r\n            current.ackTotal += 1;\r\n            const diffMinutes = (ackedAt.getTime() - incident.createdAt.getTime()) / 1000 / 60;\r\n            if (diffMinutes <= ackTargetMinutes) {\r\n                current.ackMet += 1;\r\n            }\r\n        }\r\n\r\n        if (incident.status === 'RESOLVED') {\r\n            const resolvedAt = incident.resolvedAt || incident.updatedAt;\r\n            if (resolvedAt && incident.createdAt) {\r\n                current.resolveTotal += 1;\r\n                const diffMinutes = (resolvedAt.getTime() - incident.createdAt.getTime()) / 1000 / 60;\r\n                if (diffMinutes <= resolveTargetMinutes) {\r\n                    current.resolveMet += 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        serviceSlaStats.set(incident.serviceId, current);\r\n    }\r\n\r\n    const serviceSlaTable = Array.from(serviceSlaStats.entries())\r\n        .map(([serviceIdKey, stats]) => ({\r\n            id: serviceIdKey,\r\n            name: serviceNameMap.get(serviceIdKey) || 'Deleted service',\r\n            ackRate: stats.ackTotal ? (stats.ackMet / stats.ackTotal) * 100 : 0,\r\n            resolveRate: stats.resolveTotal ? (stats.resolveMet / stats.resolveTotal) * 100 : 0,\r\n            total: Math.max(stats.ackTotal, stats.resolveTotal)\r\n        }))\r\n        .sort((a, b) => b.total - a.total)\r\n        .slice(0, 8);\r\n\r\n    let ackSlaMet = 0;\r\n    let resolveSlaMet = 0;\r\n    for (const incident of recentIncidents) {\r\n        const targets = serviceTargetMap.get(incident.serviceId);\r\n        const ackTargetMinutes = targets?.ackMinutes ?? defaultAckTargetMinutes;\r\n        const resolveTargetMinutes = targets?.resolveMinutes ?? defaultResolveTargetMinutes;\r\n\r\n        const ackedAt = ackByIncident.get(incident.id);\r\n        if (ackedAt && incident.createdAt) {\r\n            const diffMinutes = (ackedAt.getTime() - incident.createdAt.getTime()) / 1000 / 60;\r\n            if (diffMinutes <= ackTargetMinutes) {\r\n                ackSlaMet += 1;\r\n            }\r\n        }\r\n\r\n        if (incident.status === 'RESOLVED') {\r\n            const resolvedAt = incident.resolvedAt || incident.updatedAt;\r\n            if (resolvedAt && incident.createdAt) {\r\n                const diffMinutes = (resolvedAt.getTime() - incident.createdAt.getTime()) / 1000 / 60;\r\n                if (diffMinutes <= resolveTargetMinutes) {\r\n                    resolveSlaMet += 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const ackSlaRate = ackedIncidents ? (ackSlaMet / ackedIncidents) * 100 : 0;\r\n    const resolveSlaRate = resolvedIncidents.length ? (resolveSlaMet / resolvedIncidents.length) * 100 : 0;\r\n    const ackSlaBreaches = Math.max(0, ackedIncidents - ackSlaMet);\r\n    const resolveSlaBreaches = Math.max(0, resolvedIncidents.length - resolveSlaMet);\r\n    const ackSlaBurnRate = Math.max(0, 100 - ackSlaRate);\r\n    const resolveSlaBurnRate = Math.max(0, 100 - resolveSlaRate);\r\n\r\n    const autoResolvedIds = new Set(autoResolveEvents.map((event) => event.incidentId));\r\n    const escalatedIds = new Set(escalationEvents.map((event) => event.incidentId));\r\n    const reopenedIds = new Set(reopenEvents.map((event) => event.incidentId));\r\n    const autoResolvedCount = resolvedIncidents.filter((incident) => autoResolvedIds.has(incident.id)).length;\r\n    const manualResolvedCount = Math.max(0, resolvedIncidents.length - autoResolvedCount);\r\n    const autoResolvedRate = resolvedIncidents.length ? (autoResolvedCount / resolvedIncidents.length) * 100 : 0;\r\n    const reopenCount = reopenedIds.size;\r\n    const reopenRate = resolvedIncidents.length ? (reopenCount / resolvedIncidents.length) * 100 : 0;\r\n    const escalationRate = totalRecent ? (escalatedIds.size / totalRecent) * 100 : 0;\r\n\r\n    const metricCards = [\r\n        { label: 'Incidents in view', value: activeIncidents.toLocaleString(), detail: 'Filtered set' },\r\n        { label: `Incidents (${recentWindowDays}d)`, value: totalRecent.toLocaleString(), detail: 'New incidents' },\r\n        { label: 'MTTA', value: formatMinutes(mttaMs), detail: `Avg ack time (${recentWindowDays}d)` },\r\n        { label: 'MTTR', value: formatMinutes(mttrMs), detail: `Avg resolve time (${recentWindowDays}d)` },\r\n        { label: 'Ack rate', value: formatPercent(ackRate), detail: 'Incidents acknowledged' },\r\n        { label: 'Resolve rate', value: formatPercent(resolutionRate), detail: 'Incidents resolved' },\r\n        { label: 'Ack SLA met', value: formatPercent(ackSlaRate), detail: 'Within target' },\r\n        { label: 'Resolve SLA met', value: formatPercent(resolveSlaRate), detail: 'Within target' },\r\n        { label: 'High urgency', value: formatPercent(highUrgencyRate), detail: 'Share of HIGH' },\r\n        { label: `Alerts (${recentWindowDays}d)`, value: alertsLastWeek.toLocaleString(), detail: 'Incoming alerts' },\r\n        { label: 'Alerts per incident', value: formatRatio(alertsPerIncident), detail: 'Alert noise' },\r\n        { label: 'Unassigned active', value: unassignedActive.toLocaleString(), detail: 'Needs ownership' },\r\n        { label: 'MTBF', value: mtbfMs ? formatHours(mtbfMs) : '--', detail: `Between incidents (${recentWindowDays}d)` },\r\n        { label: 'After-hours', value: formatPercent(afterHoursRate), detail: `Outside 8-18 (${recentWindowDays}d)` },\r\n        { label: 'Coverage', value: formatPercent(coveragePercent), detail: 'Next 14 days' },\r\n        { label: 'On-call hours', value: formatHours(totalShiftMs), detail: 'Next 14 days' }\r\n    ];\r\n\r\n    // Build export URL with all filters\r\n    const exportParams = new URLSearchParams();\r\n    exportParams.append('format', 'csv');\r\n    exportParams.append('window', `${windowDays}`);\r\n    if (teamId && teamId !== 'ALL') exportParams.append('team', teamId);\r\n    if (serviceId && serviceId !== 'ALL') exportParams.append('service', serviceId);\r\n    if (assigneeId && assigneeId !== 'ALL') exportParams.append('assignee', assigneeId);\r\n    if (statusFilter !== 'ALL') exportParams.append('status', statusFilter);\r\n    if (urgencyFilter !== 'ALL') exportParams.append('urgency', urgencyFilter);\r\n    const exportUrl = `/api/analytics/export?${exportParams.toString()}`;\r\n\r\n    return (\r\n        <main className=\"page-shell analytics-shell\">\r\n            <div className=\"analytics-hero-redesigned\">\r\n                <div className=\"analytics-hero-inner\">\r\n                    <div className=\"analytics-hero-left\">\r\n                        <p className=\"schedule-eyebrow\">Analytics</p>\r\n                        <h1>Operational Readiness</h1>\r\n                    </div>\r\n                    <div className=\"analytics-hero-right\">\r\n                        <a\r\n                            href={exportUrl}\r\n                            className=\"analytics-export-btn\"\r\n                        >\r\n                            <span>≡ƒôÑ</span>\r\n                            Export CSV\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <AnalyticsFilters\r\n                teams={teams}\r\n                services={servicesForFilter}\r\n                users={users}\r\n                currentFilters={{\r\n                    team: teamId ?? 'ALL',\r\n                    service: serviceId ?? 'ALL',\r\n                    assignee: assigneeId ?? 'ALL',\r\n                    status: statusFilter,\r\n                    urgency: urgencyFilter,\r\n                    window: `${windowDays}`\r\n                }}\r\n            />\r\n\r\n            <FilterChips\r\n                filters={{\r\n                    team: teamId ?? 'ALL',\r\n                    service: serviceId ?? 'ALL',\r\n                    assignee: assigneeId ?? 'ALL',\r\n                    status: statusFilter,\r\n                    urgency: urgencyFilter,\r\n                    window: `${windowDays}`\r\n                }}\r\n                teams={teams}\r\n                services={servicesForFilter}\r\n                users={users}\r\n            />\r\n\r\n            <section className=\"glass-panel analytics-grid\">\r\n                {metricCards.map((metric, index) => {\r\n                    // Determine variant based on metric type with better logic\r\n                    let variant: 'default' | 'primary' | 'success' | 'warning' | 'danger' = 'default';\r\n                    let showProgress = false;\r\n                    let progressValue = 0;\r\n                    const tooltipText = getMetricTooltip(metric.label);\r\n\r\n                    // SLA metrics - color by performance\r\n                    if (metric.label.includes('SLA met')) {\r\n                        const value = parseFloat(metric.value.replace(/[^0-9.]/g, ''));\r\n                        if (!isNaN(value)) {\r\n                            variant = value >= 95 ? 'success' : value >= 80 ? 'warning' : 'danger';\r\n                            showProgress = true;\r\n                            progressValue = value;\r\n                        }\r\n                    }\r\n                    // Rate metrics - color by performance\r\n                    else if (metric.label.includes('rate') && !metric.label.includes('SLA')) {\r\n                        const value = parseFloat(metric.value.replace(/[^0-9.]/g, ''));\r\n                        if (!isNaN(value)) {\r\n                            if (metric.label.includes('Ack rate') || metric.label.includes('Resolve rate')) {\r\n                                variant = value >= 80 ? 'success' : value >= 60 ? 'warning' : 'danger';\r\n                            } else if (metric.label.includes('High urgency')) {\r\n                                variant = value >= 50 ? 'warning' : 'default';\r\n                            } else if (metric.label.includes('After-hours')) {\r\n                                variant = value >= 50 ? 'warning' : 'default';\r\n                            }\r\n                        }\r\n                    }\r\n                    // Time metrics - primary color\r\n                    else if (metric.label.includes('MTTA') || metric.label.includes('MTTR') || metric.label.includes('MTBF')) {\r\n                        variant = 'primary';\r\n                    }\r\n                    // Key metrics - primary color\r\n                    else if (index === 0 || index === 1) {\r\n                        variant = 'primary';\r\n                    }\r\n                    // Coverage - success if 100%\r\n                    else if (metric.label.includes('Coverage')) {\r\n                        const value = parseFloat(metric.value.replace(/[^0-9.]/g, ''));\r\n                        if (!isNaN(value)) {\r\n                            variant = value >= 100 ? 'success' : value >= 80 ? 'warning' : 'danger';\r\n                            showProgress = true;\r\n                            progressValue = value;\r\n                        }\r\n                    }\r\n                    // Unassigned - danger if high\r\n                    else if (metric.label.includes('Unassigned')) {\r\n                        const value = parseFloat(metric.value.replace(/[^0-9.]/g, ''));\r\n                        if (!isNaN(value)) {\r\n                            variant = value > 0 ? 'warning' : 'success';\r\n                        }\r\n                    }\r\n\r\n                    return (\r\n                        <MetricCard\r\n                            key={metric.label}\r\n                            label={metric.label}\r\n                            value={metric.value}\r\n                            detail={metric.detail}\r\n                            variant={variant}\r\n                            icon={<MetricIcon type={metric.label} />}\r\n                            tooltip={tooltipText}\r\n                        >\r\n                            {showProgress && (\r\n                                <div style={{ marginTop: '0.75rem' }}>\r\n                                    <ProgressBar\r\n                                        value={progressValue}\r\n                                        variant={variant === 'success' ? 'success' : variant === 'warning' ? 'warning' : variant === 'danger' ? 'danger' : 'primary'}\r\n                                        size=\"sm\"\r\n                                    />\r\n                                </div>\r\n                            )}\r\n                        </MetricCard>\r\n                    );\r\n                })}\r\n            </section>\r\n\r\n            <section className=\"glass-panel analytics-charts\">\r\n                <ChartCard title={`Incident volume (last ${trendWindowDays} days)`}>\r\n                    <BarChart\r\n                        data={trendSeries.map(entry => ({ key: entry.key, label: entry.label, count: entry.count }))}\r\n                        maxValue={maxTrend}\r\n                        height={180}\r\n                    />\r\n                </ChartCard>\r\n                <ChartCard title={`Incident status mix (${recentWindowDays}d)`}>\r\n                    <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1.5rem', alignItems: 'center' }}>\r\n                        <PieChart\r\n                            data={statusMix.map(entry => ({\r\n                                label: entry.status,\r\n                                value: entry.count,\r\n                                color: getStatusColor(entry.status)\r\n                            }))}\r\n                            size={140}\r\n                            showLegend={false}\r\n                        />\r\n                        <div className=\"analytics-list\">\r\n                            {statusMix.map((entry) => (\r\n                                <div key={entry.status} className={`analytics-list-item-enhanced analytics-status-${entry.status.toLowerCase()}`}>\r\n                                    <span className=\"analytics-status-badge\">{entry.status}</span>\r\n                                    <strong>{entry.count}</strong>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </ChartCard>\r\n                <ChartCard title={`Top noisy services (${serviceWindowDays}d)`}>\r\n                    <div className=\"analytics-list\">\r\n                        {topServices.length === 0 ? (\r\n                            <div className=\"analytics-empty-state\">\r\n                                <div className=\"analytics-empty-icon\">≡ƒôè</div>\r\n                                <div className=\"analytics-empty-title\">No incidents found</div>\r\n                                <div className=\"analytics-empty-description\">No incidents in the last {serviceWindowDays} days for the selected filters.</div>\r\n                            </div>\r\n                        ) : topServices.map((service, index) => {\r\n                            const percentage = totalRecent > 0 ? (service.count / totalRecent) * 100 : 0;\r\n                            return (\r\n                                <div key={service.id} className=\"analytics-list-item-enhanced\">\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                        <span style={{\r\n                                            fontSize: '0.7rem',\r\n                                            fontWeight: '700',\r\n                                            color: 'var(--text-muted)',\r\n                                            minWidth: '20px'\r\n                                        }}>#{index + 1}</span>\r\n                                        <span>{service.name}</span>\r\n                                    </div>\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                        <span style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>\r\n                                            {percentage.toFixed(1)}%\r\n                                        </span>\r\n                                        <strong>{service.count}</strong>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </ChartCard>\r\n                <ChartCard title={`Urgency mix (${recentWindowDays}d)`}>\r\n                    <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1.5rem', alignItems: 'center' }}>\r\n                        <PieChart\r\n                            data={[\r\n                                { label: 'HIGH', value: highUrgencyCount, color: '#dc2626' },\r\n                                { label: 'LOW', value: lowUrgencyCount, color: '#6b7280' }\r\n                            ]}\r\n                            size={140}\r\n                            showLegend={false}\r\n                        />\r\n                        <div className=\"analytics-list\">\r\n                            <div className=\"analytics-list-item-enhanced analytics-urgency-high\">\r\n                                <span className=\"analytics-urgency-badge\">HIGH</span>\r\n                                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                    <span style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>\r\n                                        {totalRecent > 0 ? ((highUrgencyCount / totalRecent) * 100).toFixed(1) : 0}%\r\n                                    </span>\r\n                                    <strong>{highUrgencyCount}</strong>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"analytics-list-item-enhanced analytics-urgency-low\">\r\n                                <span className=\"analytics-urgency-badge\">LOW</span>\r\n                                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                    <span style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>\r\n                                        {totalRecent > 0 ? ((lowUrgencyCount / totalRecent) * 100).toFixed(1) : 0}%\r\n                                    </span>\r\n                                    <strong>{lowUrgencyCount}</strong>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ChartCard>\r\n            </section>\r\n\r\n            <section className=\"analytics-split\">\r\n                <div className=\"glass-panel analytics-section-enhanced\">\r\n                    <h2>Response health</h2>\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1.5rem', marginBottom: '1.5rem' }}>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: '0.5rem' }}>\r\n                            <GaugeChart\r\n                                value={ackSlaRate}\r\n                                label=\"Ack SLA\"\r\n                                thresholds={{ good: 95, warning: 80 }}\r\n                            />\r\n                        </div>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: '0.5rem' }}>\r\n                            <GaugeChart\r\n                                value={resolveSlaRate}\r\n                                label=\"Resolve SLA\"\r\n                                thresholds={{ good: 95, warning: 80 }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"analytics-kpi-row\">\r\n                        <div className=\"analytics-kpi\">\r\n                            <span>Avg ack time</span>\r\n                            <strong>{formatMinutes(mttaMs)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-kpi\">\r\n                            <span>Avg resolve time</span>\r\n                            <strong>{formatMinutes(mttrMs)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-kpi\">\r\n                            <span>Acked incidents</span>\r\n                            <strong>{formatPercent(ackRate)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-kpi\">\r\n                            <span>Resolved incidents</span>\r\n                            <strong>{formatPercent(resolutionRate)}</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"analytics-table\">\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>MTTA p50</span>\r\n                            <strong>{mttaP50 === null ? '--' : formatMinutes(mttaP50)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>MTTA p95</span>\r\n                            <strong>{mttaP95 === null ? '--' : formatMinutes(mttaP95)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>MTTR p50</span>\r\n                            <strong>{mttrP50 === null ? '--' : formatMinutes(mttrP50)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>MTTR p95</span>\r\n                            <strong>{mttrP95 === null ? '--' : formatMinutes(mttrP95)}</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"analytics-table\">\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>High urgency share ({recentWindowDays}d)</span>\r\n                            <strong>{formatPercent(highUrgencyRate)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Ack SLA breaches ({recentWindowDays}d)</span>\r\n                            <strong>{ackSlaBreaches.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Resolve SLA breaches ({recentWindowDays}d)</span>\r\n                            <strong>{resolveSlaBreaches.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Unassigned active incidents</span>\r\n                            <strong>{unassignedActive.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Incident events logged ({recentWindowDays}d)</span>\r\n                            <strong>{eventsLastWeek.toLocaleString()}</strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"glass-panel analytics-section-enhanced\">\r\n                    <h2>Coverage outlook</h2>\r\n                    <div className=\"analytics-table\">\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Coverage next {coverageWindowDays} days</span>\r\n                            <strong>{formatPercent(coveragePercent)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Coverage gap days</span>\r\n                            <strong>{coverageGapDays.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Scheduled on-call hours</span>\r\n                            <strong>{formatHours(totalShiftMs)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Unique responders scheduled</span>\r\n                            <strong>{onCallUsers.size.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Active overrides</span>\r\n                            <strong>{activeOverrides.toLocaleString()}</strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"glass-panel analytics-section-enhanced\">\r\n                <h2>SLA compliance by service</h2>\r\n                <div className=\"analytics-table\">\r\n                    {serviceSlaTable.length === 0 ? (\r\n                        <div className=\"analytics-empty-state\">\r\n                            <div className=\"analytics-empty-icon\">≡ƒÄ»</div>\r\n                            <div className=\"analytics-empty-title\">No SLA data</div>\r\n                            <div className=\"analytics-empty-description\">No SLA compliance data available in this time window.</div>\r\n                        </div>\r\n                    ) : serviceSlaTable.map((entry) => (\r\n                        <div key={entry.id} className=\"analytics-table-row\">\r\n                            <span>{entry.name}</span>\r\n                            <strong>Ack {formatPercent(entry.ackRate)} ┬╖ Resolve {formatPercent(entry.resolveRate)}</strong>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"analytics-split\">\r\n                <div className=\"glass-panel analytics-section-enhanced\">\r\n                    <h2>Reliability signals</h2>\r\n                    <div className=\"analytics-table\">\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>MTBF</span>\r\n                            <strong>{mtbfMs ? formatHours(mtbfMs) : '--'}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>After-hours incidents</span>\r\n                            <strong>{afterHoursCount.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Escalation rate</span>\r\n                            <strong>{formatPercent(escalationRate)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Reopen rate</span>\r\n                            <strong>{formatPercent(reopenRate)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Auto-resolved share</span>\r\n                            <strong>{formatPercent(autoResolvedRate)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Manual resolved</span>\r\n                            <strong>{manualResolvedCount.toLocaleString()}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Ack SLA burn</span>\r\n                            <strong>{formatPercent(ackSlaBurnRate)}</strong>\r\n                        </div>\r\n                        <div className=\"analytics-table-row\">\r\n                            <span>Resolve SLA burn</span>\r\n                            <strong>{formatPercent(resolveSlaBurnRate)}</strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"glass-panel analytics-section-enhanced\">\r\n                    <h2>State age breakdown</h2>\r\n                    <div className=\"analytics-list\">\r\n                        {statusAges.map((entry) => (\r\n                            <div key={entry.status} className={`analytics-list-item-enhanced analytics-status-${entry.status.toLowerCase()}`}>\r\n                                <span className=\"analytics-status-badge\">{entry.status}</span>\r\n                                <strong>{entry.avgMs === null ? '--' : formatHoursCompact(entry.avgMs)}</strong>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"glass-panel analytics-section-enhanced\">\r\n                <h2>Ownership & on-call load</h2>\r\n                <div className=\"analytics-columns\">\r\n                    <div>\r\n                        <p className=\"analytics-subtitle\">Assignee load</p>\r\n                        <div className=\"analytics-list\">\r\n                            {assigneeLoad.length === 0 ? (\r\n                                <div className=\"analytics-empty-state\">\r\n                                    <div className=\"analytics-empty-icon\">≡ƒæñ</div>\r\n                                    <div className=\"analytics-empty-title\">No assignee data</div>\r\n                                    <div className=\"analytics-empty-description\">No assignee data available in this time window.</div>\r\n                                </div>\r\n                            ) : assigneeLoad.map((entry) => (\r\n                                <div key={entry.id} className=\"analytics-list-item\">\r\n                                    <span>{entry.name}</span>\r\n                                    <strong>{entry.count}</strong>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"analytics-subtitle\">On-call load</p>\r\n                        <div className=\"analytics-list\">\r\n                            {onCallLoad.length === 0 ? (\r\n                                <div className=\"analytics-empty-state\">\r\n                                    <div className=\"analytics-empty-icon\">≡ƒæÑ</div>\r\n                                    <div className=\"analytics-empty-title\">No on-call shifts</div>\r\n                                    <div className=\"analytics-empty-description\">No on-call shifts scheduled in this time window.</div>\r\n                                </div>\r\n                            ) : onCallLoad.map((entry) => (\r\n                                <div key={entry.id} className=\"analytics-list-item\">\r\n                                    <span>{entry.name}</span>\r\n                                    <strong>{entry.incidentCount} incidents ┬╖ {formatHoursCompact(entry.hoursMs)}</strong>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"glass-panel analytics-section-enhanced\">\r\n                <h2>Top recurring incident titles</h2>\r\n                <div className=\"analytics-list\">\r\n                    {recurringTitles.length === 0 ? (\r\n                        <div className=\"analytics-empty-state\">\r\n                            <div className=\"analytics-empty-icon\">≡ƒöä</div>\r\n                            <div className=\"analytics-empty-title\">No recurring incidents</div>\r\n                            <div className=\"analytics-empty-description\">No recurring incident patterns found in this time window.</div>\r\n                        </div>\r\n                    ) : recurringTitles.map((entry) => (\r\n                        <div key={entry.title} className=\"analytics-list-item\">\r\n                            <span>{entry.title}</span>\r\n                            <strong>{entry._count._all}</strong>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\audit\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\error-boundary.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\events\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\events\\test\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 13,
        "column": 46,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 13,
        "endColumn": 49,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [651, 654], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [651, 654], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 51,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 51,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1985, 1988], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1985, 1988], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 128,
        "column": 76,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 128,
        "endColumn": 79,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6495, 6498], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6495, 6498], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\help\\page.tsx",
    "messages": [
      {
        "ruleId": "@next/next/no-html-link-for-pages",
        "severity": 1,
        "message": "Do not use an `<a>` element to navigate to `/incidents/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages",
        "line": 9,
        "column": 17,
        "nodeType": "JSXOpeningElement",
        "endLine": 9,
        "endColumn": 64
      },
      {
        "ruleId": "@next/next/no-html-link-for-pages",
        "severity": 1,
        "message": "Do not use an `<a>` element to navigate to `/schedules/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages",
        "line": 13,
        "column": 17,
        "nodeType": "JSXOpeningElement",
        "endLine": 13,
        "endColumn": 64
      },
      {
        "ruleId": "@next/next/no-html-link-for-pages",
        "severity": 1,
        "message": "Do not use an `<a>` element to navigate to `/services/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages",
        "line": 17,
        "column": 17,
        "nodeType": "JSXOpeningElement",
        "endLine": 17,
        "endColumn": 63
      },
      {
        "ruleId": "@next/next/no-html-link-for-pages",
        "severity": 1,
        "message": "Do not use an `<a>` element to navigate to `/policies/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages",
        "line": 21,
        "column": 17,
        "nodeType": "JSXOpeningElement",
        "endLine": 21,
        "endColumn": 63
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "export default function HelpPage() {\r\n    return (\r\n        <main style={{ maxWidth: '980px', margin: '0 auto', padding: '1.5rem 0' }}>\r\n            <h1 style={{ fontSize: '2rem', fontWeight: 700, marginBottom: '0.5rem' }}>Help and docs</h1>\r\n            <p style={{ color: 'var(--text-secondary)', marginBottom: '1.5rem' }}>\r\n                Quick links to common workflows and support resources.\r\n            </p>\r\n            <div className=\"settings-cards\">\r\n                <a className=\"settings-card\" href=\"/incidents\">\r\n                    <h3>Incident workflow</h3>\r\n                    <p>Trigger, acknowledge, and resolve incidents with confidence.</p>\r\n                </a>\r\n                <a className=\"settings-card\" href=\"/schedules\">\r\n                    <h3>Schedules</h3>\r\n                    <p>Build on-call rotations and coverage handoffs.</p>\r\n                </a>\r\n                <a className=\"settings-card\" href=\"/services\">\r\n                    <h3>Services</h3>\r\n                    <p>Connect monitors and integrations to services.</p>\r\n                </a>\r\n                <a className=\"settings-card\" href=\"/policies\">\r\n                    <h3>Policies</h3>\r\n                    <p>Define escalation paths and responder roles.</p>\r\n                </a>\r\n            </div>\r\n            <div className=\"glass-panel\" style={{ padding: '1.5rem', background: 'white', marginTop: '1.5rem' }}>\r\n                <h3 style={{ marginBottom: '0.5rem' }}>Need direct support?</h3>\r\n                <p style={{ color: 'var(--text-secondary)' }}>\r\n                    Contact your OpsSentinal administrator or reach out to your internal support channel.\r\n                </p>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\incidents\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 122,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 122,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4263, 4266], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4263, 4266], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\incidents\\actions.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'redirect' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 5,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 18
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 89,
        "column": 42,
        "nodeType": "MemberExpression",
        "endLine": 89,
        "endColumn": 89
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 178,
        "column": 29,
        "nodeType": "MemberExpression",
        "endLine": 178,
        "endColumn": 45
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 31,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 31,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1308, 1311], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1308, 1311], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 180,
        "column": 66,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 180,
        "endColumn": 69,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8318, 8321], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8318, 8321], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 351,
        "column": 48,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 351,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [14831, 14834], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [14831, 14834], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 428,
        "column": 60,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 428,
        "endColumn": 63,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [18079, 18082], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [18079, 18082], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use server';\r\n\r\nimport prisma from '@/lib/prisma';\r\nimport { revalidatePath } from 'next/cache';\r\nimport { redirect } from 'next/navigation';\r\nimport { IncidentStatus, IncidentUrgency } from '@prisma/client';\r\nimport { notifySlackForIncident as _notifySlackForIncident } from '@/lib/slack';\r\nimport { getCurrentUser, assertResponderOrAbove, assertCanModifyIncident } from '@/lib/rbac';\r\nimport { getUserFriendlyError } from '@/lib/user-friendly-errors';\r\nimport { logger } from '@/lib/logger';\r\n\r\nexport async function updateIncidentStatus(id: string, status: IncidentStatus) {\r\n    try {\r\n        // Check resource-level authorization\r\n        await assertCanModifyIncident(id);\r\n    } catch (error) {\r\n        throw new Error(getUserFriendlyError(error));\r\n    }\r\n    const currentIncident = await prisma.$transaction(async (tx) => {\r\n        // Get current incident to check if we're setting acknowledgedAt for the first time\r\n        const incident = await tx.incident.findUnique({\r\n            where: { id },\r\n            select: { status: true, acknowledgedAt: true, resolvedAt: true, currentEscalationStep: true }\r\n        });\r\n\r\n        if (!incident) {\r\n            throw new Error(getUserFriendlyError('Incident not found.'));\r\n        }\r\n\r\n        // Build update data\r\n        const updateData: any = { // eslint-disable-line @typescript-eslint/no-explicit-any\r\n            status,\r\n            // Track SLA timestamps\r\n            ...(status === 'ACKNOWLEDGED' && !incident.acknowledgedAt ? {\r\n                acknowledgedAt: new Date()\r\n            } : {}),\r\n            ...(status === 'RESOLVED' && !incident.resolvedAt ? {\r\n                resolvedAt: new Date()\r\n            } : {}),\r\n            events: {\r\n                create: {\r\n                    message: status === 'SNOOZED'\r\n                        ? 'Incident snoozed (escalation paused)'\r\n                        : status === 'SUPPRESSED'\r\n                            ? 'Incident suppressed (escalation paused)'\r\n                            : status === 'OPEN' && incident.status === 'ACKNOWLEDGED'\r\n                                ? 'Incident unacknowledged (escalation resumed)'\r\n                                : status === 'OPEN' && (incident.status === 'SNOOZED' || incident.status === 'SUPPRESSED')\r\n                                    ? 'Incident unsnoozed/unsuppressed (escalation resumed)'\r\n                                    : `Status updated to ${status}${status === 'ACKNOWLEDGED' || status === 'RESOLVED' ? ' (escalation stopped)' : ''}`\r\n                }\r\n            }\r\n        };\r\n\r\n        // Handle escalation status based on new status\r\n        if (status === 'ACKNOWLEDGED' || status === 'RESOLVED') {\r\n            // Completed - stop escalation permanently\r\n            updateData.escalationStatus = 'COMPLETED';\r\n            updateData.nextEscalationAt = null;\r\n        } else if (status === 'SNOOZED' || status === 'SUPPRESSED') {\r\n            // Paused - stop escalation temporarily\r\n            updateData.escalationStatus = 'PAUSED';\r\n            updateData.nextEscalationAt = null;\r\n        } else if (status === 'OPEN') {\r\n            // Resuming from any paused state - resume escalation\r\n            if (incident.status === 'SNOOZED' || incident.status === 'SUPPRESSED' || incident.status === 'ACKNOWLEDGED') {\r\n                updateData.escalationStatus = 'ESCALATING';\r\n                if (incident.status === 'ACKNOWLEDGED') {\r\n                    const policyData = await tx.incident.findUnique({\r\n                        where: { id },\r\n                        select: {\r\n                            currentEscalationStep: true,\r\n                            service: {\r\n                                select: {\r\n                                    policy: {\r\n                                        select: {\r\n                                            steps: {\r\n                                                orderBy: { stepOrder: 'asc' },\r\n                                                select: { delayMinutes: true }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    const stepIndex = policyData?.currentEscalationStep ?? 0;\r\n                    const delayMinutes = policyData?.service?.policy?.steps?.[stepIndex]?.delayMinutes ?? 0;\r\n                    updateData.nextEscalationAt = new Date(Date.now() + delayMinutes * 60 * 1000);\r\n                } else {\r\n                    updateData.nextEscalationAt = new Date(); // Resume immediately\r\n                }\r\n            }\r\n        }\r\n\r\n        await tx.incident.update({\r\n            where: { id },\r\n            data: updateData\r\n        });\r\n\r\n        return incident;\r\n    });\r\n\r\n    // Send service-level notifications for status changes\r\n    // Uses user preferences for each recipient\r\n    try {\r\n        const { sendIncidentNotifications } = await import('@/lib/user-notifications');\r\n        if (status === 'ACKNOWLEDGED') {\r\n            await sendIncidentNotifications(id, 'acknowledged');\r\n        } else if (status === 'RESOLVED') {\r\n            await sendIncidentNotifications(id, 'resolved');\r\n        } else if (status === 'OPEN' && currentIncident?.status !== 'OPEN') {\r\n            // Status changed to OPEN (e.g., from snoozed/acknowledged)\r\n            await sendIncidentNotifications(id, 'updated');\r\n        }\r\n    } catch (e) {\r\n        logger.error('Service notification failed', { component: 'incidents-actions', error: e, incidentId: id });\r\n    }\r\n\r\n    // Trigger status page webhooks for incident status changes\r\n    try {\r\n        const updatedIncident = await prisma.incident.findUnique({\r\n            where: { id },\r\n            include: {\r\n                service: { select: { id: true, name: true } },\r\n                assignee: { select: { id: true, name: true, email: true } },\r\n            },\r\n        });\r\n\r\n        if (updatedIncident) {\r\n            const { triggerWebhooksForService } = await import('@/lib/status-page-webhooks');\r\n            let eventType = 'incident.updated';\r\n\r\n            if (status === 'RESOLVED') {\r\n                eventType = 'incident.resolved';\r\n            } else if (status === 'ACKNOWLEDGED') {\r\n                eventType = 'incident.acknowledged';\r\n            } else if (status === 'SNOOZED') {\r\n                eventType = 'incident.snoozed'; // Or updated, depending on standard\r\n            } else if (status === 'SUPPRESSED') {\r\n                eventType = 'incident.suppressed';\r\n            }\r\n\r\n            await triggerWebhooksForService(\r\n                updatedIncident.serviceId,\r\n                eventType,\r\n                {\r\n                    id: updatedIncident.id,\r\n                    title: updatedIncident.title,\r\n                    description: updatedIncident.description,\r\n                    status: updatedIncident.status,\r\n                    urgency: updatedIncident.urgency,\r\n                    priority: updatedIncident.priority,\r\n                    service: {\r\n                        id: updatedIncident.service.id,\r\n                        name: updatedIncident.service.name,\r\n                    },\r\n                    assignee: updatedIncident.assignee,\r\n                    createdAt: updatedIncident.createdAt.toISOString(),\r\n                    acknowledgedAt: updatedIncident.acknowledgedAt?.toISOString() || null,\r\n                    resolvedAt: updatedIncident.resolvedAt?.toISOString() || null,\r\n                }\r\n            );\r\n        }\r\n    } catch (e) {\r\n        logger.error('Status page webhook trigger failed', { component: 'incidents-actions', error: e, incidentId: id });\r\n    }\r\n\r\n    // Notify status page subscribers (Email)\r\n    try {\r\n        const { notifyStatusPageSubscribers } = await import('@/lib/status-page-notifications');\r\n        const eventMap: Record<string, string> = {\r\n            'ACKNOWLEDGED': 'acknowledged',\r\n            'RESOLVED': 'resolved',\r\n            'OPEN': 'investigating' // Re-opened or opened\r\n        };\r\n        const notifyEvent = eventMap[status];\r\n        if (notifyEvent) {\r\n            await notifyStatusPageSubscribers(id, notifyEvent as any); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        }\r\n    } catch (e) {\r\n        logger.error('Status page subscriber notification failed', { component: 'incidents-actions', error: e, incidentId: id });\r\n    }\r\n\r\n    revalidatePath(`/incidents/${id}`);\r\n    revalidatePath('/incidents');\r\n    revalidatePath('/');\r\n}\r\n\r\nexport async function resolveIncidentWithNote(id: string, resolution: string) {\r\n    try {\r\n        // Check resource-level authorization\r\n        await assertCanModifyIncident(id);\r\n    } catch (error) {\r\n        throw new Error(getUserFriendlyError(error));\r\n    }\r\n    const trimmedResolution = resolution?.trim();\r\n    const minLength = 10;\r\n    const maxLength = 1000;\r\n\r\n    if (!trimmedResolution || trimmedResolution.length < minLength) {\r\n        throw new Error(`Resolution note must be at least ${minLength} characters. Please provide more details about how the incident was resolved.`);\r\n    }\r\n\r\n    if (trimmedResolution.length > maxLength) {\r\n        throw new Error(`Resolution note must be ${maxLength} characters or fewer. Please shorten your description.`);\r\n    }\r\n    const user = await getCurrentUser();\r\n\r\n    await prisma.$transaction(async (tx) => {\r\n        // Get current incident to check if we're setting resolvedAt for the first time\r\n        const currentIncident = await tx.incident.findUnique({ where: { id } });\r\n        if (!currentIncident) {\r\n            throw new Error(getUserFriendlyError('Incident not found.'));\r\n        }\r\n\r\n        // Idempotency check: If already resolved, prevent duplicate resolution notes\r\n        if (currentIncident.status === 'RESOLVED') {\r\n            return;\r\n        }\r\n\r\n        await tx.incident.update({\r\n            where: { id },\r\n            data: {\r\n                status: 'RESOLVED',\r\n                // Stop escalation when resolved\r\n                escalationStatus: 'COMPLETED',\r\n                nextEscalationAt: null,\r\n                // Track SLA timestamp\r\n                ...(!currentIncident.resolvedAt ? {\r\n                    resolvedAt: new Date()\r\n                } : {}),\r\n                events: {\r\n                    create: {\r\n                        message: trimmedResolution ? `Resolved: ${trimmedResolution}` : 'Resolved (escalation stopped)'\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        if (trimmedResolution && user) {\r\n            await tx.incidentNote.create({\r\n                data: {\r\n                    incidentId: id,\r\n                    userId: user.id,\r\n                    content: `Resolution: ${trimmedResolution}`\r\n                }\r\n            });\r\n\r\n            await tx.incidentEvent.create({\r\n                data: {\r\n                    incidentId: id,\r\n                    message: `Resolution note added by ${user.name}`\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    // Send service-level notifications for resolution\r\n    // Uses user preferences for each recipient\r\n    try {\r\n        const { sendIncidentNotifications } = await import('@/lib/user-notifications');\r\n        await sendIncidentNotifications(id, 'resolved');\r\n    } catch (e) {\r\n        logger.error('Service notification failed', { component: 'incidents-actions', error: e, incidentId: id });\r\n    }\r\n\r\n    // Notify status page subscribers (Email)\r\n    try {\r\n        const { notifyStatusPageSubscribers } = await import('@/lib/status-page-notifications');\r\n        await notifyStatusPageSubscribers(id, 'resolved');\r\n    } catch (e) {\r\n        logger.error('Status page subscriber notification failed', { component: 'incidents-actions', error: e, incidentId: id });\r\n    }\r\n\r\n    // Trigger status page webhooks for resolution\r\n    try {\r\n        const incidentWithRelations = await prisma.incident.findUnique({\r\n            where: { id },\r\n            include: {\r\n                service: { select: { id: true, name: true } },\r\n                assignee: { select: { id: true, name: true, email: true } },\r\n            },\r\n        });\r\n\r\n        if (incidentWithRelations) {\r\n            const { triggerWebhooksForService } = await import('@/lib/status-page-webhooks');\r\n            await triggerWebhooksForService(\r\n                incidentWithRelations.serviceId,\r\n                'incident.resolved',\r\n                {\r\n                    id: incidentWithRelations.id,\r\n                    title: incidentWithRelations.title,\r\n                    description: incidentWithRelations.description,\r\n                    status: incidentWithRelations.status,\r\n                    urgency: incidentWithRelations.urgency,\r\n                    priority: incidentWithRelations.priority,\r\n                    service: {\r\n                        id: incidentWithRelations.service.id,\r\n                        name: incidentWithRelations.service.name,\r\n                    },\r\n                    assignee: incidentWithRelations.assignee,\r\n                    createdAt: incidentWithRelations.createdAt.toISOString(),\r\n                    resolvedAt: incidentWithRelations.resolvedAt?.toISOString() || new Date().toISOString()\r\n                }\r\n            );\r\n        }\r\n    } catch (e) {\r\n        logger.error('Status page webhook trigger failed', { component: 'incidents-actions', error: e, incidentId: id });\r\n    }\r\n\r\n    revalidatePath(`/incidents/${id}`);\r\n    revalidatePath('/incidents');\r\n    revalidatePath('/');\r\n}\r\n\r\nexport async function updateIncidentUrgency(id: string, urgency: string) {\r\n    try {\r\n        // Check resource-level authorization\r\n        await assertCanModifyIncident(id);\r\n    } catch (error) {\r\n        throw new Error(getUserFriendlyError(error));\r\n    }\r\n    const parsedUrgency: IncidentUrgency = urgency === 'LOW' ? 'LOW' : 'HIGH';\r\n    await prisma.incident.update({\r\n        where: { id },\r\n        data: {\r\n            urgency: parsedUrgency,\r\n            events: {\r\n                create: {\r\n                    message: `Urgency updated to ${parsedUrgency}`\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    revalidatePath(`/incidents/${id}`);\r\n    revalidatePath('/incidents');\r\n    revalidatePath('/');\r\n}\r\n\r\nexport async function createIncident(formData: FormData) {\r\n    try {\r\n        await assertResponderOrAbove();\r\n    } catch (error) {\r\n        throw new Error(getUserFriendlyError(error));\r\n    }\r\n    const title = formData.get('title') as string;\r\n    const description = formData.get('description') as string;\r\n    const urgency = formData.get('urgency') as any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    const serviceId = formData.get('serviceId') as string;\r\n    const priority = formData.get('priority') as string | null;\r\n    const dedupKey = formData.get('dedupKey') as string | null;\r\n    const assigneeId = formData.get('assigneeId') as string | null;\r\n    const notifyOnCall = formData.get('notifyOnCall') === 'on';\r\n    const notifySlack = formData.get('notifySlack') === 'on';\r\n\r\n    // Extract custom field values\r\n    const customFieldEntries: Array<{ fieldId: string; value: string }> = [];\r\n    for (const [key, value] of formData.entries()) {\r\n        if (key.startsWith('customField_')) {\r\n            const fieldId = key.replace('customField_', '');\r\n            const fieldValue = value as string;\r\n            if (fieldValue && fieldValue.trim()) {\r\n                customFieldEntries.push({ fieldId, value: fieldValue.trim() });\r\n            }\r\n        }\r\n    }\r\n\r\n    const incident = await prisma.$transaction(async (tx) => {\r\n        let assigneeName: string | null = null;\r\n        if (assigneeId && assigneeId.length) {\r\n            const assignee = await tx.user.findUnique({\r\n                where: { id: assigneeId },\r\n                select: { name: true }\r\n            });\r\n            assigneeName = assignee?.name || null;\r\n        }\r\n\r\n        const createdIncident = await tx.incident.create({\r\n            data: {\r\n                title,\r\n                description,\r\n                urgency,\r\n                serviceId,\r\n                priority: priority && priority.length ? priority : null,\r\n                dedupKey: dedupKey && dedupKey.length ? dedupKey : null,\r\n                assigneeId: assigneeId && assigneeId.length ? assigneeId : null,\r\n                events: {\r\n                    create: {\r\n                        message: assigneeId\r\n                            ? `Incident created with ${urgency} urgency and assigned to ${assigneeName || 'user'}`\r\n                            : `Incident created with ${urgency} urgency`\r\n                    }\r\n                },\r\n                // Create custom field values\r\n                customFieldValues: {\r\n                    create: customFieldEntries.map(({ fieldId, value }) => ({\r\n                        customFieldId: fieldId,\r\n                        value,\r\n                    })),\r\n                },\r\n            }\r\n        });\r\n\r\n        if (notifyOnCall || notifySlack) {\r\n            await tx.incidentEvent.create({\r\n                data: {\r\n                    incidentId: createdIncident.id,\r\n                    message: `Notifications: ${[\r\n                        notifyOnCall ? 'On-call' : null,\r\n                        notifySlack ? 'Service channel' : null\r\n                    ].filter(Boolean).join(', ')}`\r\n                }\r\n            });\r\n        }\r\n\r\n        return createdIncident;\r\n    });\r\n\r\n    // Execute escalation policy if service has one\r\n    let _escalatedUsers: string[] = [];\r\n    try {\r\n        const { executeEscalation } = await import('@/lib/escalation');\r\n        const result = await executeEscalation(incident.id);\r\n        if (result.escalated && result.notifications) {\r\n            _escalatedUsers = result.notifications.map((n: any) => n.userId); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        }\r\n    } catch (e) {\r\n        logger.error('Escalation failed', { component: 'incidents-actions', error: e, incidentId: incident.id });\r\n    }\r\n\r\n    // Send service-level notifications for new incident\r\n    // Uses user preferences for each recipient\r\n    try {\r\n        const { sendIncidentNotifications } = await import('@/lib/user-notifications');\r\n        await sendIncidentNotifications(incident.id, 'triggered', _escalatedUsers);\r\n    } catch (e) {\r\n        logger.error('Service notification failed', { component: 'incidents-actions', error: e, incidentId: incident.id });\r\n    }\r\n\r\n    // Trigger status page webhooks for incident.created event\r\n    try {\r\n        const incidentWithRelations = await prisma.incident.findUnique({\r\n            where: { id: incident.id },\r\n            include: {\r\n                service: { select: { id: true, name: true } },\r\n                assignee: { select: { id: true, name: true, email: true } },\r\n            },\r\n        });\r\n\r\n        if (incidentWithRelations) {\r\n            const { triggerWebhooksForService } = await import('@/lib/status-page-webhooks');\r\n            await triggerWebhooksForService(\r\n                incident.serviceId,\r\n                'incident.created',\r\n                {\r\n                    id: incidentWithRelations.id,\r\n                    title: incidentWithRelations.title,\r\n                    description: incidentWithRelations.description,\r\n                    status: incidentWithRelations.status,\r\n                    urgency: incidentWithRelations.urgency,\r\n                    priority: incidentWithRelations.priority,\r\n                    service: {\r\n                        id: incidentWithRelations.service.id,\r\n                        name: incidentWithRelations.service.name,\r\n                    },\r\n                    assignee: incidentWithRelations.assignee,\r\n                    createdAt: incidentWithRelations.createdAt.toISOString(),\r\n                }\r\n            );\r\n        }\r\n    } catch (e) {\r\n        logger.error('Status page webhook trigger failed', { component: 'incidents-actions', error: e, incidentId: incident.id });\r\n    }\r\n\r\n    // Notify status page subscribers (Email)\r\n    try {\r\n        const { notifyStatusPageSubscribers } = await import('@/lib/status-page-notifications');\r\n        await notifyStatusPageSubscribers(incident.id, 'triggered');\r\n    } catch (e) {\r\n        logger.error('Status page subscriber notification failed', { component: 'incidents-actions', error: e, incidentId: incident.id });\r\n    }\r\n\r\n    // Revalidate all relevant paths to ensure UI shows updated assignee\r\n    revalidatePath('/incidents');\r\n    revalidatePath(`/incidents/${incident.id}`);\r\n    revalidatePath('/');\r\n\r\n    // Return the incident ID so the client can handle redirection (context-aware)\r\n    return { id: incident.id };\r\n}\r\n\r\nexport async function addNote(incidentId: string, content: string) {\r\n    try {\r\n        await assertResponderOrAbove();\r\n    } catch (error) {\r\n        throw new Error(getUserFriendlyError(error));\r\n    }\r\n    const user = await getCurrentUser();\r\n\r\n    await prisma.$transaction(async (tx) => {\r\n        await tx.incidentNote.create({\r\n            data: {\r\n                incidentId,\r\n                userId: user.id,\r\n                content\r\n            }\r\n        });\r\n\r\n        await tx.incidentEvent.create({\r\n            data: {\r\n                incidentId,\r\n                message: `Note added by ${user.name}`\r\n            }\r\n        });\r\n    });\r\n\r\n    revalidatePath(`/incidents/${incidentId}`);\r\n}\r\n\r\nexport async function reassignIncident(incidentId: string, assigneeId: string, teamId?: string) {\r\n    try {\r\n        // Check resource-level authorization\r\n        await assertCanModifyIncident(incidentId);\r\n    } catch (error) {\r\n        throw new Error(getUserFriendlyError(error));\r\n    }\r\n\r\n    // Handle unassigning (empty assigneeId and teamId)\r\n    if ((!assigneeId || assigneeId.trim() === '') && (!teamId || teamId.trim() === '')) {\r\n        await prisma.$transaction(async (tx) => {\r\n            await tx.incident.update({\r\n                where: { id: incidentId },\r\n                data: {\r\n                    assigneeId: null,\r\n                    teamId: null\r\n                }\r\n            });\r\n\r\n            await tx.incidentEvent.create({\r\n                data: {\r\n                    incidentId,\r\n                    message: 'Incident unassigned'\r\n                }\r\n            });\r\n        });\r\n\r\n        revalidatePath(`/incidents/${incidentId}`);\r\n        revalidatePath('/incidents');\r\n        return;\r\n    }\r\n\r\n    // Handle assigning to team\r\n    if (teamId && teamId.trim() !== '') {\r\n        await prisma.$transaction(async (tx) => {\r\n            const teamRecord = await tx.team.findUnique({\r\n                where: { id: teamId },\r\n                select: { name: true }\r\n            });\r\n            if (!teamRecord) {\r\n                throw new Error(getUserFriendlyError('Team not found. The selected team may have been deleted.'));\r\n            }\r\n\r\n            await tx.incident.update({\r\n                where: { id: incidentId },\r\n                data: {\r\n                    teamId,\r\n                    assigneeId: null // Clear user assignment when assigning to team\r\n                }\r\n            });\r\n\r\n            await tx.incidentEvent.create({\r\n                data: {\r\n                    incidentId,\r\n                    message: `Incident assigned to team: ${teamRecord.name}`\r\n                }\r\n            });\r\n        });\r\n\r\n        // Notify all team members\r\n        try {\r\n            const { sendUserNotification } = await import('@/lib/user-notifications');\r\n            const teamWithMembers = await prisma.team.findUnique({\r\n                where: { id: teamId },\r\n                include: {\r\n                    members: true\r\n                }\r\n            });\r\n\r\n            if (teamWithMembers) {\r\n                const incident = await prisma.incident.findUnique({\r\n                    where: { id: incidentId },\r\n                    select: { title: true }\r\n                });\r\n\r\n                const message = `[OpsSentinal] ${incident?.title || 'Incident'} assigned to your team: ${teamWithMembers.name}`;\r\n                for (const member of teamWithMembers.members) {\r\n                    await sendUserNotification(incidentId, member.userId, message);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            logger.error('Failed to notify team members', { component: 'incidents-actions', error, incidentId, teamId });\r\n        } // Continue even if notifications fail\r\n\r\n        revalidatePath(`/incidents/${incidentId}`);\r\n        revalidatePath('/incidents');\r\n        return;\r\n    }\r\n\r\n    // Handle assigning to a user\r\n    if (assigneeId && assigneeId.trim() !== '') {\r\n        await prisma.$transaction(async (tx) => {\r\n            const assigneeRecord = await tx.user.findUnique({ where: { id: assigneeId } });\r\n            if (!assigneeRecord) {\r\n                throw new Error(getUserFriendlyError('Assignee not found. The selected user may have been deleted.'));\r\n            }\r\n\r\n            await tx.incident.update({\r\n                where: { id: incidentId },\r\n                data: {\r\n                    assigneeId,\r\n                    teamId: null // Clear team assignment when assigning to user\r\n                }\r\n            });\r\n\r\n            await tx.incidentEvent.create({\r\n                data: {\r\n                    incidentId,\r\n                    message: `Incident manually reassigned to ${assigneeRecord.name}`\r\n                }\r\n            });\r\n        });\r\n\r\n        revalidatePath(`/incidents/${incidentId}`);\r\n        revalidatePath('/incidents');\r\n    }\r\n}\r\n\r\nexport async function addWatcher(incidentId: string, userId: string, role: string) {\r\n    try {\r\n        await assertResponderOrAbove();\r\n    } catch (error) {\r\n        throw new Error(getUserFriendlyError(error));\r\n    }\r\n    if (!userId) return;\r\n\r\n    await prisma.$transaction(async (tx) => {\r\n        await tx.incidentWatcher.upsert({\r\n            where: {\r\n                incidentId_userId: {\r\n                    incidentId,\r\n                    userId\r\n                }\r\n            },\r\n            update: {\r\n                role: role || 'FOLLOWER'\r\n            },\r\n            create: {\r\n                incidentId,\r\n                userId,\r\n                role: role || 'FOLLOWER'\r\n            }\r\n        });\r\n\r\n        await tx.incidentEvent.create({\r\n            data: {\r\n                incidentId,\r\n                message: `Watcher added (${role || 'FOLLOWER'})`\r\n            }\r\n        });\r\n    });\r\n\r\n    revalidatePath(`/incidents/${incidentId}`);\r\n}\r\n\r\nexport async function removeWatcher(incidentId: string, watcherId: string) {\r\n    try {\r\n        await assertResponderOrAbove();\r\n    } catch (error) {\r\n        throw new Error(getUserFriendlyError(error));\r\n    }\r\n    await prisma.$transaction(async (tx) => {\r\n        await tx.incidentWatcher.delete({\r\n            where: { id: watcherId }\r\n        });\r\n\r\n        await tx.incidentEvent.create({\r\n            data: {\r\n                incidentId,\r\n                message: 'Watcher removed'\r\n            }\r\n        });\r\n    });\r\n\r\n    revalidatePath(`/incidents/${incidentId}`);\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\incidents\\bulk-actions.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 579,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 579,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [22426, 22429], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [22426, 22429], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\incidents\\create\\page.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 38,
        "column": 43,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [1978, 2121],
              "text": "\r\n                                ΓÜá∩╕Å You don&apos;t have access to create incidents. Responder role or above required.\r\n                            "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [1978, 2121],
              "text": "\r\n                                ΓÜá∩╕Å You don&lsquo;t have access to create incidents. Responder role or above required.\r\n                            "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [1978, 2121],
              "text": "\r\n                                ΓÜá∩╕Å You don&#39;t have access to create incidents. Responder role or above required.\r\n                            "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [1978, 2121],
              "text": "\r\n                                ΓÜá∩╕Å You don&rsquo;t have access to create incidents. Responder role or above required.\r\n                            "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 84,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 84,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4736, 4739], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4736, 4739], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport { getUserPermissions } from '@/lib/rbac';\r\nimport { getAllTemplates } from '../template-actions';\r\nimport Link from 'next/link';\r\nimport TemplateFormWrapper from '@/components/incident/TemplateFormWrapper';\r\n\r\nexport default async function CreateIncidentPage({ searchParams }: { searchParams: Promise<{ template?: string }> }) {\r\n    const params = await searchParams;\r\n    const templateId = params.template || null;\r\n\r\n    const [services, users, permissions, customFields] = await Promise.all([\r\n        prisma.service.findMany({ orderBy: { name: 'asc' } }),\r\n        prisma.user.findMany({ \r\n            where: { status: 'ACTIVE', role: { in: ['ADMIN', 'RESPONDER'] } },\r\n            select: { id: true, name: true, email: true },\r\n            orderBy: { name: 'asc' }\r\n        }),\r\n        getUserPermissions(),\r\n        prisma.customField.findMany({ orderBy: { order: 'asc' } })\r\n    ]);\r\n\r\n    const templates = await getAllTemplates(permissions.id);\r\n\r\n    const canCreateIncident = permissions.isResponderOrAbove;\r\n\r\n    if (!canCreateIncident) {\r\n        return (\r\n            <main>\r\n                <Link href=\"/incidents\" style={{ color: 'var(--text-muted)', marginBottom: '2rem', display: 'inline-block', textDecoration: 'none' }}>\r\n                    ΓåÉ Back to Incidents\r\n                </Link>\r\n\r\n                <div className=\"glass-panel\" style={{ padding: '2.5rem', maxWidth: '980px', margin: '0 auto', background: '#f9fafb', border: '1px solid #e5e7eb', borderRadius: '0px' }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', gap: '1.5rem', marginBottom: '2rem' }}>\r\n                        <div>\r\n                            <h1 style={{ fontSize: '2rem', fontWeight: '800', marginBottom: '0.35rem', color: 'var(--text-secondary)' }}>Create Incident</h1>\r\n                            <p style={{ color: 'var(--text-muted)', marginBottom: '1rem' }}>\r\n                                ΓÜá∩╕Å You don't have access to create incidents. Responder role or above required.\r\n                            </p>\r\n                        </div>\r\n                        <Link href=\"/incidents\" className=\"glass-button\" style={{ textDecoration: 'none' }}>Back to Incidents</Link>\r\n                    </div>\r\n                    <div style={{ padding: '2rem', background: 'white', borderRadius: '0px', opacity: 0.5, pointerEvents: 'none' }}>\r\n                        <p style={{ color: 'var(--text-muted)', fontStyle: 'italic' }}>\r\n                            Incident creation form is disabled. Please contact an administrator to upgrade your role.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <main>\r\n            <Link href=\"/incidents\" style={{ color: 'var(--text-muted)', marginBottom: '2rem', display: 'inline-block', textDecoration: 'none', fontWeight: 500 }}>\r\n                ΓåÉ Back to Incidents\r\n            </Link>\r\n\r\n            <div className=\"glass-panel\" style={{ padding: '2.5rem', maxWidth: '980px', margin: '0 auto', background: 'white', border: '1px solid var(--border)', borderRadius: '0px' }}>\r\n                <div style={{ marginBottom: '2rem', paddingBottom: '2rem', borderBottom: '2px solid var(--border)' }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', gap: '1rem', marginBottom: '0.5rem' }}>\r\n                        <div style={{ flex: 1 }}>\r\n                            <h1 style={{ fontSize: '2.25rem', fontWeight: '800', marginBottom: '0.5rem', letterSpacing: '-0.02em' }}>Create Incident</h1>\r\n                            <p style={{ color: 'var(--text-secondary)', fontSize: '1rem' }}>Capture details and route to the appropriate team for response.</p>\r\n                        </div>\r\n                        <Link href=\"/incidents/templates\" style={{ \r\n                            padding: '0.625rem 1rem', \r\n                            background: '#f9fafb', \r\n                            border: '1px solid var(--border)', \r\n                            borderRadius: '0px',\r\n                            color: 'var(--primary)',\r\n                            textDecoration: 'none',\r\n                            fontSize: '0.9rem',\r\n                            fontWeight: 600,\r\n                            whiteSpace: 'nowrap'\r\n                        }}>\r\n                            ≡ƒôï Templates\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Template Selector and Form */}\r\n                <TemplateFormWrapper\r\n                    templates={templates as any} // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    services={services}\r\n                    users={users}\r\n                    selectedTemplateId={templateId}\r\n                    customFields={customFields}\r\n                />\r\n            </div>\r\n        </main>\r\n    );\r\n}",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\incidents\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\incidents\\snooze-actions.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\incidents\\tag-actions.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 37,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 37,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1081, 1084], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1081, 1084], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\incidents\\template-actions.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\incidents\\templates\\create\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\incidents\\templates\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\layout.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 93,
        "column": 54,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 93,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3522, 3525], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3522, 3525], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\monitoring-new\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 53,
        "column": 77,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 53,
        "endColumn": 80,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2381, 2384], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2381, 2384], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 61,
        "column": 75,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 61,
        "endColumn": 78,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2842, 2845], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2842, 2845], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { calculateSLAMetrics } from '@/lib/sla-server';\r\nimport { assertAdmin } from '@/lib/rbac';\r\nimport { Metadata } from 'next';\r\nimport MetricCard from '@/components/analytics/MetricCard';\r\nimport RadialProgress from '@/components/analytics/RadialProgress';\r\nimport { Clock, AlertCircle, TrendingUp, Gauge, Server, Activity } from 'lucide-react';\r\nimport '../analytics-new/analytics-v2.css';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport const metadata: Metadata = {\r\n    title: 'Monitoring V2 | OpsSentinel',\r\n    description: 'Application Health - Golden Signals'\r\n};\r\n\r\ntype SearchParams = { range?: string; service?: string };\r\n\r\nexport default async function MonitoringV2Page({ searchParams }: { searchParams?: Promise<SearchParams> }) {\r\n    await assertAdmin();\r\n\r\n    const params = await searchParams;\r\n    const range = params?.range as string | undefined;\r\n    const serviceId = params?.service as string | undefined;\r\n\r\n    let windowDays = 7;\r\n    if (range === '30d') windowDays = 30;\r\n    else if (range === '90d') windowDays = 90;\r\n\r\n    const metrics = await calculateSLAMetrics({ serviceId, windowDays });\r\n\r\n    // Derived Values\r\n    const uptimeValue = metrics.errorRate !== null ? (100 - metrics.errorRate) : null;\r\n    const getLatencyStatus = (val: number | null) => val === null ? 'default' : val < 200 ? 'success' : val < 500 ? 'warning' : 'danger';\r\n    const getErrorRateStatus = (val: number | null) => val === null ? 'default' : val < 0.1 ? 'success' : val < 1.0 ? 'warning' : 'danger';\r\n\r\n    return (\r\n        <main className=\"page-shell analytics-shell\">\r\n            <div className=\"analytics-hero-redesigned\">\r\n                <div className=\"analytics-hero-inner\">\r\n                    <div className=\"analytics-hero-left\">\r\n                        <p className=\"schedule-eyebrow\">Application Health</p>\r\n                        <h1>Golden Signals</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <section className=\"glass-panel\">\r\n                <div className=\"analytics-grid\">\r\n                    <MetricCard\r\n                        label=\"Latency (P99)\"\r\n                        value={metrics.avgLatencyP99 !== null ? `${metrics.avgLatencyP99}ms` : '--'}\r\n                        detail=\"99th percentile\"\r\n                        variant={getLatencyStatus(metrics.avgLatencyP99) as any}\r\n                        icon={<Clock className=\"w-5 h-5\" />}\r\n                        tooltip=\"Response time for 99% of requests\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Error Rate\"\r\n                        value={metrics.errorRate !== null ? `${metrics.errorRate.toFixed(2)}%` : '--'}\r\n                        detail=\"5xx errors\"\r\n                        variant={getErrorRateStatus(metrics.errorRate) as any}\r\n                        icon={<AlertCircle className=\"w-5 h-5\" />}\r\n                        tooltip=\"Percentage of failed requests\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Throughput\"\r\n                        value={metrics.totalRequests.toLocaleString()}\r\n                        detail=\"Total requests\"\r\n                        variant=\"primary\"\r\n                        icon={<TrendingUp className=\"w-5 h-5\" />}\r\n                        tooltip=\"Total HTTP request volume\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Saturation\"\r\n                        value={metrics.saturation !== null ? `${metrics.saturation.toFixed(1)}%` : '--'}\r\n                        detail=\"Resource usage\"\r\n                        variant={metrics.saturation !== null && metrics.saturation > 80 ? 'danger' : 'success'}\r\n                        icon={<Gauge className=\"w-5 h-5\" />}\r\n                        tooltip=\"CPU/Memory utilization\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Availability\"\r\n                        value={uptimeValue !== null ? `${uptimeValue.toFixed(3)}%` : '--'}\r\n                        detail=\"Uptime SLA\"\r\n                        variant={uptimeValue !== null && uptimeValue >= 99.9 ? 'success' : 'danger'}\r\n                        icon={<Server className=\"w-5 h-5\" />}\r\n                        tooltip=\"Implied uptime based on error rate\"\r\n                    />\r\n                </div>\r\n            </section>\r\n\r\n            {/* VISUAL GAUGES */}\r\n            <section className=\"v2-section\" style={{ marginTop: '2rem' }}>\r\n                <div className=\"v2-section-header\">\r\n                    <h2 className=\"v2-section-title\"><Activity className=\"w-5 h-5\" style={{ color: '#a78bfa' }} /> Health Overview</h2>\r\n                </div>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', gap: '1.5rem' }}>\r\n                    <div className=\"v2-card\" style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', padding: '1.5rem' }}>\r\n                        <RadialProgress value={uptimeValue ?? 0} max={100} size={100} label=\"Uptime\" variant={uptimeValue !== null && uptimeValue >= 99.9 ? 'success' : 'danger'} />\r\n                    </div>\r\n                    <div className=\"v2-card\" style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', padding: '1.5rem' }}>\r\n                        <RadialProgress value={100 - (metrics.errorRate ?? 0)} max={100} size={100} label=\"Success\" variant={(metrics.errorRate ?? 0) < 1 ? 'success' : 'danger'} />\r\n                    </div>\r\n                    <div className=\"v2-card\" style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', padding: '1.5rem' }}>\r\n                        <RadialProgress value={100 - (metrics.saturation ?? 0)} max={100} size={100} label=\"Capacity\" variant={(metrics.saturation ?? 0) < 80 ? 'success' : 'danger'} />\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"glass-panel\" style={{ marginTop: '1.5rem' }}>\r\n                <p style={{ color: 'rgba(255,255,255,0.6)', fontSize: '0.9rem', textAlign: 'center', padding: '2rem' }}>\r\n                    ≡ƒÆí Golden Signal data requires the MetricRollup pipeline to be active. Currently showing placeholder values.\r\n                </p>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 324,
        "column": 30,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 324,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10711, 10714], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10711, 10714], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\policies\\[id]\\page.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 343,
        "column": 43,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [17138, 17265],
              "text": "\r\n                                ΓÜá∩╕Å You don&apos;t have access to edit policies. Admin role required.\r\n                            "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [17138, 17265],
              "text": "\r\n                                ΓÜá∩╕Å You don&lsquo;t have access to edit policies. Admin role required.\r\n                            "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [17138, 17265],
              "text": "\r\n                                ΓÜá∩╕Å You don&#39;t have access to edit policies. Admin role required.\r\n                            "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [17138, 17265],
              "text": "\r\n                                ΓÜá∩╕Å You don&rsquo;t have access to edit policies. Admin role required.\r\n                            "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 238,
        "column": 79,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 238,
        "endColumn": 82,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11008, 11011], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11008, 11011], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 239,
        "column": 77,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 239,
        "endColumn": 80,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11161, 11164], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11161, 11164], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 240,
        "column": 79,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 240,
        "endColumn": 82,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11316, 11319], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11316, 11319], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 241,
        "column": 80,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 241,
        "endColumn": 83,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11474, 11477], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11474, 11477], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport { getUserPermissions } from '@/lib/rbac';\r\nimport { notFound } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport PolicyStepCard from '@/components/PolicyStepCard';\r\nimport PolicyStepCreateForm from '@/components/PolicyStepCreateForm';\r\nimport PolicyDeleteButton from '@/components/PolicyDeleteButton';\r\nimport {\r\n    updatePolicy,\r\n    addPolicyStep,\r\n    updatePolicyStep,\r\n    deletePolicyStep,\r\n    movePolicyStep\r\n} from '../actions';\r\nimport _ConfirmDialog from '@/components/ConfirmDialog';\r\n\r\nexport const revalidate = 30;\r\n\r\nexport default async function PolicyDetailPage({\r\n    params,\r\n    searchParams\r\n}: {\r\n    params: Promise<{ id: string }>;\r\n    searchParams?: Promise<{ error?: string }>;\r\n}) {\r\n    const { id } = await params;\r\n    const resolvedSearchParams = await searchParams;\r\n    const errorCode = resolvedSearchParams?.error;\r\n\r\n    const [policy, users, teams, schedules, services] = await Promise.all([\r\n        prisma.escalationPolicy.findUnique({\r\n            where: { id },\r\n            include: {\r\n                steps: {\r\n                    include: {\r\n                        targetUser: true,\r\n                        targetTeam: true, // teamLead will be included if Prisma client is regenerated\r\n                        targetSchedule: true\r\n                    },\r\n                    orderBy: { stepOrder: 'asc' }\r\n                },\r\n                services: {\r\n                    include: { team: true },\r\n                    orderBy: { name: 'asc' }\r\n                }\r\n            }\r\n        }),\r\n        prisma.user.findMany({\r\n            where: { status: 'ACTIVE', role: { in: ['ADMIN', 'RESPONDER'] } },\r\n            select: { id: true, name: true, email: true },\r\n            orderBy: { name: 'asc' }\r\n        }),\r\n        prisma.team.findMany({\r\n            select: { id: true, name: true },\r\n            orderBy: { name: 'asc' }\r\n        }),\r\n        prisma.onCallSchedule.findMany({\r\n            select: { id: true, name: true },\r\n            orderBy: { name: 'asc' }\r\n        }),\r\n        prisma.service.findMany({\r\n            where: { escalationPolicyId: id },\r\n            include: { team: true },\r\n            orderBy: { name: 'asc' }\r\n        })\r\n    ]);\r\n\r\n    if (!policy) notFound();\r\n\r\n    const permissions = await getUserPermissions();\r\n    const canManagePolicies = permissions.isAdmin;\r\n\r\n    return (\r\n        <main style={{ padding: '1rem' }}>\r\n            {/* Header */}\r\n            <header style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'flex-start',\r\n                marginBottom: '2rem',\r\n                paddingBottom: '1.5rem',\r\n                borderBottom: '2px solid var(--border)'\r\n            }}>\r\n                <div style={{ flex: 1 }}>\r\n                    <Link\r\n                        href=\"/policies\"\r\n                        className=\"schedule-back-link\"\r\n                        style={{\r\n                            display: 'inline-flex',\r\n                            alignItems: 'center',\r\n                            gap: '0.5rem',\r\n                            fontSize: '0.9rem',\r\n                            color: 'var(--text-secondary)',\r\n                            textDecoration: 'none',\r\n                            marginBottom: '0.75rem',\r\n                            fontWeight: '500',\r\n                            transition: 'color 0.2s'\r\n                        }}\r\n                    >\r\n                        ΓåÉ Back to policies\r\n                    </Link>\r\n                    <h1 style={{\r\n                        fontSize: '2rem',\r\n                        fontWeight: 'bold',\r\n                        color: 'var(--text-primary)',\r\n                        marginBottom: '0.5rem'\r\n                    }}>\r\n                        {policy.name}\r\n                    </h1>\r\n                    {policy.description && (\r\n                        <p style={{\r\n                            color: 'var(--text-secondary)',\r\n                            fontSize: '0.95rem',\r\n                            marginBottom: '0.5rem'\r\n                        }}>\r\n                            {policy.description}\r\n                        </p>\r\n                    )}\r\n                    <div style={{ display: 'flex', gap: '1rem', alignItems: 'center', flexWrap: 'wrap' }}>\r\n                        <span style={{\r\n                            padding: '0.25rem 0.6rem',\r\n                            borderRadius: '6px',\r\n                            fontSize: '0.8rem',\r\n                            fontWeight: '600',\r\n                            background: 'linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%)',\r\n                            color: '#0c4a6e',\r\n                            border: '1px solid #bae6fd'\r\n                        }}>\r\n                            {policy.steps.length} {policy.steps.length === 1 ? 'step' : 'steps'}\r\n                        </span>\r\n                        <span style={{\r\n                            padding: '0.25rem 0.6rem',\r\n                            borderRadius: '6px',\r\n                            fontSize: '0.8rem',\r\n                            fontWeight: '600',\r\n                            background: 'linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%)',\r\n                            color: '#0c4a6e',\r\n                            border: '1px solid #bae6fd'\r\n                        }}>\r\n                            {services.length} {services.length === 1 ? 'service' : 'services'}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            {errorCode === 'duplicate-policy' && (\r\n                <div className=\"glass-panel\" style={{\r\n                    padding: '0.75rem 1rem',\r\n                    marginBottom: '1.5rem',\r\n                    background: '#fee2e2',\r\n                    border: '1px solid #fecaca',\r\n                    color: '#991b1b',\r\n                    fontSize: '0.9rem',\r\n                    fontWeight: '600',\r\n                    borderRadius: '0px'\r\n                }}>\r\n                    An escalation policy with this name already exists. Please choose a unique name.\r\n                </div>\r\n            )}\r\n\r\n            {/* Main Content Grid */}\r\n            <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '2rem' }}>\r\n                <div>\r\n                    {/* Escalation Steps Section */}\r\n                    <section className=\"glass-panel\" style={{\r\n                        padding: '1.5rem',\r\n                        background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n                        border: '1px solid #e2e8f0',\r\n                        borderRadius: '12px',\r\n                        marginBottom: '2rem'\r\n                    }}>\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            justifyContent: 'space-between',\r\n                            alignItems: 'center',\r\n                            marginBottom: '1.5rem',\r\n                            paddingBottom: '1rem',\r\n                            borderBottom: '1px solid #e2e8f0'\r\n                        }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                <h3 style={{ fontSize: '1.25rem', fontWeight: '700', color: 'var(--text-primary)', margin: 0 }}>\r\n                                    Escalation Steps\r\n                                </h3>\r\n                                <span\r\n                                    title=\"Escalation steps define who gets notified and when. Steps are executed in order with the specified delay between each step.\"\r\n                                    style={{\r\n                                        width: '20px',\r\n                                        height: '20px',\r\n                                        borderRadius: '50%',\r\n                                        background: '#e0f2fe',\r\n                                        color: '#0c4a6e',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'center',\r\n                                        fontSize: '0.75rem',\r\n                                        fontWeight: '600',\r\n                                        cursor: 'help',\r\n                                        border: '1px solid #bae6fd'\r\n                                    }}\r\n                                >\r\n                                    ?\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {policy.steps.length === 0 ? (\r\n                            <p style={{\r\n                                fontSize: '0.9rem',\r\n                                color: 'var(--text-muted)',\r\n                                padding: '2rem',\r\n                                textAlign: 'center',\r\n                                background: '#f8fafc',\r\n                                borderRadius: '8px'\r\n                            }}>\r\n                                No escalation steps yet. Add a step to define who gets notified.\r\n                            </p>\r\n                        ) : (\r\n                            <div style={{ display: 'grid', gap: '1rem', marginBottom: '1.5rem' }}>\r\n                                {policy.steps.map((step, index) => (\r\n                                    <PolicyStepCard\r\n                                        key={step.id}\r\n                                        step={{\r\n                                            id: step.id,\r\n                                            stepOrder: step.stepOrder,\r\n                                            delayMinutes: step.delayMinutes,\r\n                                            targetType: step.targetType,\r\n                                            notificationChannels: step.notificationChannels || [],\r\n                                            notifyOnlyTeamLead: step.notifyOnlyTeamLead || false,\r\n                                            targetUser: step.targetUser ? {\r\n                                                id: step.targetUser.id,\r\n                                                name: step.targetUser.name,\r\n                                                email: step.targetUser.email\r\n                                            } : null,\r\n                                            targetTeam: step.targetTeam ? {\r\n                                                id: step.targetTeam.id,\r\n                                                name: step.targetTeam.name,\r\n                                                // teamLead available after Prisma client regeneration\r\n                                                teamLead: (step.targetTeam as any).teamLead ? { // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                                                    id: (step.targetTeam as any).teamLead.id, // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                                                    name: (step.targetTeam as any).teamLead.name, // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                                                    email: (step.targetTeam as any).teamLead.email // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                                                } : null\r\n                                            } : null,\r\n                                            targetSchedule: step.targetSchedule ? {\r\n                                                id: step.targetSchedule.id,\r\n                                                name: step.targetSchedule.name\r\n                                            } : null\r\n                                        }}\r\n                                        policyId={policy.id}\r\n                                        canManagePolicies={canManagePolicies}\r\n                                        updateStep={updatePolicyStep}\r\n                                        deleteStep={deletePolicyStep}\r\n                                        moveStep={movePolicyStep}\r\n                                        isFirst={index === 0}\r\n                                        isLast={index === policy.steps.length - 1}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n\r\n                        {canManagePolicies && (\r\n                            <PolicyStepCreateForm\r\n                                policyId={policy.id}\r\n                                users={users}\r\n                                teams={teams}\r\n                                schedules={schedules}\r\n                                addStep={addPolicyStep}\r\n                            />\r\n                        )}\r\n                    </section>\r\n                </div>\r\n\r\n                <aside>\r\n                    {/* Policy Settings */}\r\n                    {canManagePolicies ? (\r\n                        <div className=\"glass-panel\" style={{\r\n                            padding: '1.5rem',\r\n                            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n                            border: '1px solid #e2e8f0',\r\n                            borderRadius: '12px',\r\n                            marginBottom: '2rem'\r\n                        }}>\r\n                            <h3 style={{ fontSize: '1.1rem', fontWeight: '600', marginBottom: '1rem', color: 'var(--text-primary)' }}>\r\n                                Policy Settings\r\n                            </h3>\r\n                            <form action={updatePolicy.bind(null, policy.id)} style={{ display: 'grid', gap: '1rem' }}>\r\n                                <div>\r\n                                    <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                        Name\r\n                                    </label>\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        defaultValue={policy.name}\r\n                                        required\r\n                                        style={{\r\n                                            width: '100%',\r\n                                            padding: '0.6rem',\r\n                                            border: '1px solid var(--border)',\r\n                                            borderRadius: '8px',\r\n                                            fontSize: '0.9rem',\r\n                                            background: 'white'\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                        Description\r\n                                    </label>\r\n                                    <textarea\r\n                                        name=\"description\"\r\n                                        defaultValue={policy.description || ''}\r\n                                        rows={3}\r\n                                        style={{\r\n                                            width: '100%',\r\n                                            padding: '0.6rem',\r\n                                            border: '1px solid var(--border)',\r\n                                            borderRadius: '8px',\r\n                                            fontSize: '0.9rem',\r\n                                            background: 'white',\r\n                                            resize: 'vertical'\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"glass-button primary\"\r\n                                    style={{ width: '100%' }}\r\n                                >\r\n                                    Save Changes\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"glass-panel\" style={{\r\n                            padding: '1.5rem',\r\n                            background: '#f9fafb',\r\n                            border: '1px solid #e5e7eb',\r\n                            borderRadius: '12px',\r\n                            marginBottom: '2rem',\r\n                            opacity: 0.7\r\n                        }}>\r\n                            <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', fontStyle: 'italic' }}>\r\n                                ΓÜá∩╕Å You don't have access to edit policies. Admin role required.\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Services Using This Policy */}\r\n                    <div className=\"glass-panel\" style={{\r\n                        padding: '1.5rem',\r\n                        background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n                        border: '1px solid #e2e8f0',\r\n                        borderRadius: '12px'\r\n                    }}>\r\n                        <h3 style={{ fontSize: '1.1rem', fontWeight: '600', marginBottom: '1rem', color: 'var(--text-primary)' }}>\r\n                            Services Using This Policy\r\n                        </h3>\r\n                        {services.length === 0 ? (\r\n                            <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', fontStyle: 'italic' }}>\r\n                                No services are using this policy yet.\r\n                            </p>\r\n                        ) : (\r\n                            <div style={{ display: 'grid', gap: '0.75rem' }}>\r\n                                {services.map((service) => (\r\n                                    <Link\r\n                                        key={service.id}\r\n                                        href={`/services/${service.id}`}\r\n                                        className=\"service-link-card\"\r\n                                        style={{\r\n                                            display: 'block',\r\n                                            padding: '0.75rem',\r\n                                            background: '#f8fafc',\r\n                                            borderRadius: '8px',\r\n                                            border: '1px solid #e2e8f0',\r\n                                            textDecoration: 'none',\r\n                                            transition: 'all 0.2s'\r\n                                        }}\r\n                                    >\r\n                                        <div style={{ fontWeight: '500', fontSize: '0.9rem', color: 'var(--text-primary)', marginBottom: '0.25rem' }}>\r\n                                            {service.name}\r\n                                        </div>\r\n                                        {service.team && (\r\n                                            <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>\r\n                                                {service.team.name}\r\n                                            </div>\r\n                                        )}\r\n                                    </Link>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Delete Policy */}\r\n                    {canManagePolicies && (\r\n                        <PolicyDeleteButton\r\n                            policyId={policy.id}\r\n                            servicesUsingPolicy={services.map(s => ({ id: s.id, name: s.name }))}\r\n                        />\r\n                    )}\r\n                </aside>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\policies\\actions.ts",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 344,
        "column": 17,
        "nodeType": "MemberExpression",
        "endLine": 344,
        "endColumn": 34
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 346,
        "column": 34,
        "nodeType": "MemberExpression",
        "endLine": 346,
        "endColumn": 51
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 213,
        "column": 97,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 213,
        "endColumn": 100,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7441, 7444], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7441, 7444], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 282,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 282,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10238, 10241], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10238, 10241], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 288,
        "column": 48,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 288,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10628, 10631], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10628, 10631], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use server';\r\n\r\nimport prisma from '@/lib/prisma';\r\nimport { revalidatePath } from 'next/cache';\r\nimport { redirect } from 'next/navigation';\r\nimport { assertAdmin } from '@/lib/rbac';\r\nimport { getDefaultActorId, logAudit } from '@/lib/audit';\r\nimport { assertEscalationPolicyNameAvailable, UniqueNameConflictError } from '@/lib/unique-names';\r\n\r\nexport async function createPolicy(formData: FormData) {\r\n    try {\r\n        await assertAdmin();\r\n    } catch (error) {\r\n        throw new Error(error instanceof Error ? error.message : 'Unauthorized. Admin access required.');\r\n    }\r\n\r\n    const name = formData.get('name') as string;\r\n    const description = formData.get('description') as string;\r\n\r\n    // Parse escalation steps from form data\r\n    const steps: Array<{ targetType: 'USER' | 'TEAM' | 'SCHEDULE'; targetUserId?: string; targetTeamId?: string; delayMinutes: number; stepOrder: number }> = [];\r\n    let stepIndex = 0;\r\n\r\n    while (true) {\r\n        const targetValue = formData.get(`step-${stepIndex}-target`); // Changed from userId to target\r\n        const delay = formData.get(`step-${stepIndex}-delayMinutes`);\r\n\r\n        if (!targetValue) break;\r\n\r\n        const [type, id] = (targetValue as string).split(':');\r\n\r\n        if (type === 'user') {\r\n            steps.push({\r\n                targetType: 'USER',\r\n                targetUserId: id,\r\n                delayMinutes: parseInt(delay as string || '0'),\r\n                stepOrder: stepIndex\r\n            });\r\n        } else if (type === 'team') {\r\n            steps.push({\r\n                targetType: 'TEAM',\r\n                targetTeamId: id,\r\n                delayMinutes: parseInt(delay as string || '0'),\r\n                stepOrder: stepIndex\r\n            });\r\n        }\r\n\r\n        stepIndex++;\r\n    }\r\n\r\n    if (steps.length === 0) {\r\n        throw new Error('At least one escalation step is required');\r\n    }\r\n\r\n    let normalizedName = name;\r\n    try {\r\n        normalizedName = await assertEscalationPolicyNameAvailable(name);\r\n    } catch (error) {\r\n        if (error instanceof UniqueNameConflictError) {\r\n            redirect('/policies?error=duplicate-policy');\r\n        }\r\n        throw error;\r\n    }\r\n\r\n    const policy = await prisma.escalationPolicy.create({\r\n        data: {\r\n            name: normalizedName,\r\n            description: description || undefined,\r\n            steps: {\r\n                create: steps\r\n            }\r\n        },\r\n        include: {\r\n            steps: {\r\n                include: { targetUser: true },\r\n                orderBy: { stepOrder: 'asc' }\r\n            }\r\n        }\r\n    });\r\n\r\n    await logAudit({\r\n        action: 'escalation_policy.created',\r\n        entityType: 'ESCALATION_POLICY',\r\n        entityId: policy.id,\r\n        actorId: await getDefaultActorId(),\r\n        details: { name: normalizedName, stepCount: steps.length }\r\n    });\r\n\r\n    revalidatePath('/policies');\r\n    redirect(`/policies/${policy.id}`);\r\n}\r\n\r\nexport async function updatePolicy(policyId: string, formData: FormData) {\r\n    try {\r\n        await assertAdmin();\r\n    } catch (error) {\r\n        throw new Error(error instanceof Error ? error.message : 'Unauthorized. Admin access required.');\r\n    }\r\n\r\n    const name = formData.get('name') as string;\r\n    const description = formData.get('description') as string;\r\n\r\n    let normalizedName = name;\r\n    try {\r\n        normalizedName = await assertEscalationPolicyNameAvailable(name, { excludeId: policyId });\r\n    } catch (error) {\r\n        if (error instanceof UniqueNameConflictError) {\r\n            redirect(`/policies/${policyId}?error=duplicate-policy`);\r\n        }\r\n        throw error;\r\n    }\r\n\r\n    await prisma.escalationPolicy.update({\r\n        where: { id: policyId },\r\n        data: {\r\n            name: normalizedName,\r\n            description: description || undefined\r\n        }\r\n    });\r\n\r\n    await logAudit({\r\n        action: 'escalation_policy.updated',\r\n        entityType: 'ESCALATION_POLICY',\r\n        entityId: policyId,\r\n        actorId: await getDefaultActorId(),\r\n        details: { name: normalizedName }\r\n    });\r\n\r\n    revalidatePath('/policies');\r\n    revalidatePath(`/policies/${policyId}`);\r\n}\r\n\r\nexport async function deletePolicy(policyId: string) {\r\n    try {\r\n        await assertAdmin();\r\n    } catch (error) {\r\n        throw new Error(error instanceof Error ? error.message : 'Unauthorized. Admin access required.');\r\n    }\r\n\r\n    // Check if policy is used by any services\r\n    const servicesUsingPolicy = await prisma.service.findMany({\r\n        where: { escalationPolicyId: policyId },\r\n        select: { id: true, name: true }\r\n    });\r\n\r\n    if (servicesUsingPolicy.length > 0) {\r\n        const serviceNames = servicesUsingPolicy.map(s => s.name).join(', ');\r\n        throw new Error(`Cannot delete policy: ${servicesUsingPolicy.length} service(s) are using this policy (${serviceNames}). Please reassign or remove the policy from those services first.`);\r\n    }\r\n\r\n    await prisma.escalationPolicy.delete({\r\n        where: { id: policyId }\r\n    });\r\n\r\n    await logAudit({\r\n        action: 'escalation_policy.deleted',\r\n        entityType: 'ESCALATION_POLICY',\r\n        entityId: policyId,\r\n        actorId: await getDefaultActorId()\r\n    });\r\n\r\n    revalidatePath('/policies');\r\n    redirect('/policies');\r\n}\r\n\r\nexport async function addPolicyStep(policyId: string, formData: FormData): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdmin();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin access required.' };\r\n    }\r\n\r\n    const targetType = formData.get('targetType') as 'USER' | 'TEAM' | 'SCHEDULE' || 'USER';\r\n    const targetUserId = formData.get('targetUserId') as string | null;\r\n    const targetTeamId = formData.get('targetTeamId') as string | null;\r\n    const targetScheduleId = formData.get('targetScheduleId') as string | null;\r\n    const delayMinutes = parseInt(formData.get('delayMinutes') as string || '0');\r\n    const notificationChannels = formData.getAll('notificationChannels') as string[];\r\n    const notifyOnlyTeamLead = formData.get('notifyOnlyTeamLead') === 'true';\r\n\r\n    // Validate that appropriate target ID is provided\r\n    let targetId: string | null = null;\r\n    if (targetType === 'USER' && targetUserId) {\r\n        targetId = targetUserId;\r\n    } else if (targetType === 'TEAM' && targetTeamId) {\r\n        targetId = targetTeamId;\r\n    } else if (targetType === 'SCHEDULE' && targetScheduleId) {\r\n        targetId = targetScheduleId;\r\n    }\r\n\r\n    if (!targetId) {\r\n        return { error: `Target ${targetType} is required` };\r\n    }\r\n\r\n    // Get current max step order\r\n    const maxStep = await prisma.escalationRule.findFirst({\r\n        where: { policyId },\r\n        orderBy: { stepOrder: 'desc' }\r\n    });\r\n\r\n    const nextStepOrder = maxStep ? maxStep.stepOrder + 1 : 0;\r\n\r\n    try {\r\n        await prisma.escalationRule.create({\r\n            data: {\r\n                policyId,\r\n                targetType,\r\n                targetUserId: targetType === 'USER' ? targetId : null,\r\n                targetTeamId: targetType === 'TEAM' ? targetId : null,\r\n                targetScheduleId: targetType === 'SCHEDULE' ? targetId : null,\r\n                delayMinutes,\r\n                stepOrder: nextStepOrder,\r\n                notificationChannels: notificationChannels.length > 0 ? notificationChannels as any[] : [], // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                notifyOnlyTeamLead: targetType === 'TEAM' ? notifyOnlyTeamLead : false\r\n            }\r\n        });\r\n\r\n        await logAudit({\r\n            action: 'escalation_policy.step_added',\r\n            entityType: 'ESCALATION_POLICY',\r\n            entityId: policyId,\r\n            actorId: await getDefaultActorId(),\r\n            details: { stepOrder: nextStepOrder, targetType }\r\n        });\r\n\r\n        revalidatePath(`/policies/${policyId}`);\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Failed to add escalation step' };\r\n    }\r\n}\r\n\r\nexport async function updatePolicyStep(stepId: string, formData: FormData): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdmin();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin access required.' };\r\n    }\r\n\r\n    const targetType = formData.get('targetType') as 'USER' | 'TEAM' | 'SCHEDULE' || undefined;\r\n    const targetUserId = formData.get('targetUserId') as string | null;\r\n    const targetTeamId = formData.get('targetTeamId') as string | null;\r\n    const targetScheduleId = formData.get('targetScheduleId') as string | null;\r\n    const delayMinutes = parseInt(formData.get('delayMinutes') as string || '0');\r\n\r\n    // Get notification channels from form (checkboxes)\r\n    const notificationChannels = formData.getAll('notificationChannels') as string[];\r\n    // Default to empty array if none selected (will use user preferences)\r\n    const finalChannels = notificationChannels.length > 0 ? notificationChannels : [];\r\n\r\n    // Get notify only team lead option\r\n    const notifyOnlyTeamLead = formData.get('notifyOnlyTeamLead') === 'true';\r\n\r\n    const step = await prisma.escalationRule.findUnique({\r\n        where: { id: stepId },\r\n        include: { policy: true }\r\n    });\r\n\r\n    if (!step) {\r\n        throw new Error('Escalation step not found');\r\n    }\r\n\r\n    // Use existing targetType if not provided\r\n    const finalTargetType = targetType || step.targetType;\r\n\r\n    // Validate that appropriate target ID is provided\r\n    let targetId: string | null = null;\r\n    if (finalTargetType === 'USER' && targetUserId) {\r\n        targetId = targetUserId;\r\n    } else if (finalTargetType === 'TEAM' && targetTeamId) {\r\n        targetId = targetTeamId;\r\n    } else if (finalTargetType === 'SCHEDULE' && targetScheduleId) {\r\n        targetId = targetScheduleId;\r\n    } else {\r\n        // Fallback to existing values\r\n        targetId = step.targetUserId || step.targetTeamId || step.targetScheduleId || null;\r\n    }\r\n\r\n    if (!targetId) {\r\n        return { error: `Target ${finalTargetType} is required` };\r\n    }\r\n\r\n    const updateData: any = { // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        targetType: finalTargetType,\r\n        targetUserId: finalTargetType === 'USER' ? targetId : null,\r\n        targetTeamId: finalTargetType === 'TEAM' ? targetId : null,\r\n        targetScheduleId: finalTargetType === 'SCHEDULE' ? targetId : null,\r\n        delayMinutes,\r\n        notificationChannels: finalChannels as any[], // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        notifyOnlyTeamLead: finalTargetType === 'TEAM' ? notifyOnlyTeamLead : false\r\n    };\r\n\r\n    try {\r\n        await prisma.escalationRule.update({\r\n            where: { id: stepId },\r\n            data: updateData\r\n        });\r\n\r\n        await logAudit({\r\n            action: 'escalation_policy.step_updated',\r\n            entityType: 'ESCALATION_POLICY',\r\n            entityId: step.policyId,\r\n            actorId: await getDefaultActorId(),\r\n            details: { stepId, stepOrder: step.stepOrder, targetType: finalTargetType }\r\n        });\r\n\r\n        revalidatePath(`/policies/${step.policyId}`);\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Failed to update escalation step' };\r\n    }\r\n}\r\n\r\nexport async function deletePolicyStep(stepId: string): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdmin();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin access required.' };\r\n    }\r\n\r\n    const step = await prisma.escalationRule.findUnique({\r\n        where: { id: stepId },\r\n        include: { policy: true }\r\n    });\r\n\r\n    if (!step) {\r\n        return { error: 'Escalation step not found' };\r\n    }\r\n\r\n    const policyId = step.policyId;\r\n    const deletedStepOrder = step.stepOrder;\r\n\r\n    try {\r\n        await prisma.escalationRule.delete({\r\n            where: { id: stepId }\r\n        });\r\n\r\n        // Reorder remaining steps\r\n        const remainingSteps = await prisma.escalationRule.findMany({\r\n            where: { policyId },\r\n            orderBy: { stepOrder: 'asc' }\r\n        });\r\n\r\n        // Update step orders to be sequential\r\n        for (let i = 0; i < remainingSteps.length; i++) {\r\n            if (remainingSteps[i].stepOrder !== i) {\r\n                await prisma.escalationRule.update({\r\n                    where: { id: remainingSteps[i].id },\r\n                    data: { stepOrder: i }\r\n                });\r\n            }\r\n        }\r\n\r\n        await logAudit({\r\n            action: 'escalation_policy.step_deleted',\r\n            entityType: 'ESCALATION_POLICY',\r\n            entityId: policyId,\r\n            actorId: await getDefaultActorId(),\r\n            details: { deletedStepOrder }\r\n        });\r\n\r\n        revalidatePath(`/policies/${policyId}`);\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Failed to delete escalation step' };\r\n    }\r\n}\r\n\r\nexport async function movePolicyStep(stepId: string, direction: 'up' | 'down'): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdmin();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin access required.' };\r\n    }\r\n\r\n    const step = await prisma.escalationRule.findUnique({\r\n        where: { id: stepId },\r\n        include: { policy: true }\r\n    });\r\n\r\n    if (!step) {\r\n        return { error: 'Escalation step not found' };\r\n    }\r\n\r\n    const policyId = step.policyId;\r\n    const currentOrder = step.stepOrder;\r\n    const newOrder = direction === 'up' ? currentOrder - 1 : currentOrder + 1;\r\n\r\n    if (newOrder < 0) {\r\n        return { error: 'Cannot move step up: already at first position' };\r\n    }\r\n\r\n    // Get all steps\r\n    const allSteps = await prisma.escalationRule.findMany({\r\n        where: { policyId },\r\n        orderBy: { stepOrder: 'asc' }\r\n    });\r\n\r\n    if (newOrder >= allSteps.length) {\r\n        return { error: 'Cannot move step down: already at last position' };\r\n    }\r\n\r\n    // Find the step at the target position\r\n    const targetStep = allSteps.find(s => s.stepOrder === newOrder);\r\n    if (!targetStep) {\r\n        return { error: 'Target step not found' };\r\n    }\r\n\r\n    try {\r\n        // Swap step orders\r\n        await prisma.$transaction([\r\n            prisma.escalationRule.update({\r\n                where: { id: stepId },\r\n                data: { stepOrder: newOrder }\r\n            }),\r\n            prisma.escalationRule.update({\r\n                where: { id: targetStep.id },\r\n                data: { stepOrder: currentOrder }\r\n            })\r\n        ]);\r\n\r\n        await logAudit({\r\n            action: 'escalation_policy.step_moved',\r\n            entityType: 'ESCALATION_POLICY',\r\n            entityId: policyId,\r\n            actorId: await getDefaultActorId(),\r\n            details: { stepId, from: currentOrder, to: newOrder }\r\n        });\r\n\r\n        revalidatePath(`/policies/${policyId}`);\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Failed to move escalation step' };\r\n    }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\policies\\page.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 431,
        "column": 39,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [24911, 25032],
              "text": "\r\n                            ΓÜá∩╕Å You don&apos;t have access to create policies. Admin role required.\r\n                        "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [24911, 25032],
              "text": "\r\n                            ΓÜá∩╕Å You don&lsquo;t have access to create policies. Admin role required.\r\n                        "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [24911, 25032],
              "text": "\r\n                            ΓÜá∩╕Å You don&#39;t have access to create policies. Admin role required.\r\n                        "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [24911, 25032],
              "text": "\r\n                            ΓÜá∩╕Å You don&rsquo;t have access to create policies. Admin role required.\r\n                        "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport { getUserPermissions } from '@/lib/rbac';\r\nimport { createPolicy } from './actions';\r\nimport Link from 'next/link';\r\n\r\nexport const revalidate = 30;\r\n\r\nexport default async function PoliciesPage({ searchParams }: { searchParams?: Promise<{ error?: string }> }) {\r\n    const [policies, users, teams] = await Promise.all([\r\n        prisma.escalationPolicy.findMany({\r\n            include: {\r\n                steps: {\r\n                    include: {\r\n                        targetUser: true,\r\n                        targetTeam: true,\r\n                        targetSchedule: true\r\n                    },\r\n                    orderBy: { stepOrder: 'asc' }\r\n                },\r\n                services: {\r\n                    select: { id: true, name: true }\r\n                }\r\n            },\r\n            orderBy: { name: 'asc' }\r\n        }),\r\n        prisma.user.findMany({\r\n            where: { status: 'ACTIVE', role: { in: ['ADMIN', 'RESPONDER'] } },\r\n            select: { id: true, name: true, email: true },\r\n            orderBy: { name: 'asc' }\r\n        }),\r\n        prisma.team.findMany({\r\n            orderBy: { name: 'asc' },\r\n            select: { id: true, name: true }\r\n        })\r\n    ]);\r\n\r\n    const permissions = await getUserPermissions();\r\n    const canCreatePolicy = permissions.isAdmin;\r\n    const resolvedSearchParams = await searchParams;\r\n    const errorCode = resolvedSearchParams?.error;\r\n\r\n    return (\r\n        <main style={{ padding: '1rem' }}>\r\n            <header style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'flex-start',\r\n                marginBottom: '2rem',\r\n                paddingBottom: '1.5rem',\r\n                borderBottom: '2px solid var(--border)'\r\n            }}>\r\n                <div>\r\n                    <h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: 'var(--text-primary)', marginBottom: '0.5rem' }}>\r\n                        Escalation Policies\r\n                    </h1>\r\n                    <p style={{ color: 'var(--text-secondary)', fontSize: '0.95rem' }}>\r\n                        Define who gets notified when incidents occur and in what order.\r\n                    </p>\r\n                </div>\r\n            </header>\r\n\r\n            {errorCode === 'duplicate-policy' && (\r\n                <div className=\"glass-panel\" style={{\r\n                    padding: '0.75rem 1rem',\r\n                    marginBottom: '1.5rem',\r\n                    background: '#fee2e2',\r\n                    border: '1px solid #fecaca',\r\n                    color: '#991b1b',\r\n                    fontSize: '0.9rem',\r\n                    fontWeight: '600',\r\n                    borderRadius: '0px'\r\n                }}>\r\n                    An escalation policy with this name already exists. Please choose a unique name.\r\n                </div>\r\n            )}\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '2rem' }}>\r\n                {/* Policies List */}\r\n                <div>\r\n                    {policies.length === 0 ? (\r\n                        <div className=\"glass-panel\" style={{\r\n                            padding: '3rem',\r\n                            textAlign: 'center',\r\n                            background: 'white'\r\n                        }}>\r\n                            <p style={{ fontSize: '1.1rem', color: 'var(--text-muted)', marginBottom: '0.5rem' }}>\r\n                                No escalation policies yet\r\n                            </p>\r\n                            <p style={{ fontSize: '0.9rem', color: 'var(--text-secondary)' }}>\r\n                                Create your first escalation policy to define incident notification workflows.\r\n                            </p>\r\n                        </div>\r\n                    ) : (\r\n                        <div style={{ display: 'grid', gap: '1.5rem' }}>\r\n                            {policies.map((policy) => (\r\n                                <Link\r\n                                    key={policy.id}\r\n                                    href={`/policies/${policy.id}`}\r\n                                    style={{ textDecoration: 'none' }}\r\n                                >\r\n                                    <div className=\"glass-panel policy-card\" style={{\r\n                                        padding: '1.5rem',\r\n                                        background: 'white',\r\n                                        border: '1px solid #e2e8f0',\r\n                                        borderRadius: '12px',\r\n                                        transition: 'all 0.2s',\r\n                                        cursor: 'pointer'\r\n                                    }}>\r\n                                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>\r\n                                            <div style={{ flex: 1 }}>\r\n                                                <h3 style={{\r\n                                                    fontWeight: '600',\r\n                                                    fontSize: '1.2rem',\r\n                                                    marginBottom: '0.5rem',\r\n                                                    color: 'var(--text-primary)'\r\n                                                }}>\r\n                                                    {policy.name}\r\n                                                </h3>\r\n                                                {policy.description && (\r\n                                                    <p style={{\r\n                                                        color: 'var(--text-secondary)',\r\n                                                        fontSize: '0.9rem',\r\n                                                        marginBottom: '0.5rem'\r\n                                                    }}>\r\n                                                        {policy.description}\r\n                                                    </p>\r\n                                                )}\r\n                                            </div>\r\n                                            <div style={{ display: 'flex', gap: '0.5rem', flexShrink: 0 }}>\r\n                                                <span style={{\r\n                                                    padding: '0.25rem 0.6rem',\r\n                                                    borderRadius: '6px',\r\n                                                    fontSize: '0.75rem',\r\n                                                    fontWeight: '600',\r\n                                                    background: 'linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%)',\r\n                                                    color: '#0c4a6e',\r\n                                                    border: '1px solid #bae6fd'\r\n                                                }}>\r\n                                                    {policy.steps.length} {policy.steps.length === 1 ? 'step' : 'steps'}\r\n                                                </span>\r\n                                                <span style={{\r\n                                                    padding: '0.25rem 0.6rem',\r\n                                                    borderRadius: '6px',\r\n                                                    fontSize: '0.75rem',\r\n                                                    fontWeight: '600',\r\n                                                    background: 'linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%)',\r\n                                                    color: '#0c4a6e',\r\n                                                    border: '1px solid #bae6fd'\r\n                                                }}>\r\n                                                    {policy.services.length} {policy.services.length === 1 ? 'service' : 'services'}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* Preview of steps */}\r\n                                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                                            {policy.steps.slice(0, 3).map((step, _idx) => (\r\n                                                <div key={step.id} style={{\r\n                                                    display: 'flex',\r\n                                                    alignItems: 'center',\r\n                                                    gap: '0.75rem',\r\n                                                    fontSize: '0.85rem',\r\n                                                    padding: '0.5rem',\r\n                                                    background: '#f8fafc',\r\n                                                    borderRadius: '6px'\r\n                                                }}>\r\n                                                    <div style={{\r\n                                                        width: '24px',\r\n                                                        height: '24px',\r\n                                                        borderRadius: '50%',\r\n                                                        background: 'var(--primary)',\r\n                                                        color: 'white',\r\n                                                        display: 'flex',\r\n                                                        alignItems: 'center',\r\n                                                        justifyContent: 'center',\r\n                                                        fontWeight: 'bold',\r\n                                                        fontSize: '0.75rem',\r\n                                                        flexShrink: 0\r\n                                                    }}>\r\n                                                        {step.stepOrder + 1}\r\n                                                    </div>\r\n                                                    <div style={{ flex: 1, color: 'var(--text-primary)' }}>\r\n                                                        <strong>\r\n                                                            {step.targetUser?.name ||\r\n                                                                step.targetTeam?.name ||\r\n                                                                step.targetSchedule?.name ||\r\n                                                                'Unknown target'}\r\n                                                        </strong>\r\n                                                        {step.targetType && step.targetType !== 'USER' && (\r\n                                                            <span style={{\r\n                                                                fontSize: '0.7rem',\r\n                                                                color: 'var(--text-muted)',\r\n                                                                marginLeft: '0.5rem',\r\n                                                                fontWeight: 'normal'\r\n                                                            }}>\r\n                                                                ({step.targetType})\r\n                                                            </span>\r\n                                                        )}\r\n                                                    </div>\r\n                                                    <div style={{ color: 'var(--text-muted)', fontSize: '0.75rem' }}>\r\n                                                        {step.delayMinutes === 0 ? 'Immediate' : `+${step.delayMinutes}m`}\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))}\r\n                                            {policy.steps.length > 3 && (\r\n                                                <div style={{\r\n                                                    fontSize: '0.8rem',\r\n                                                    color: 'var(--text-muted)',\r\n                                                    fontStyle: 'italic',\r\n                                                    paddingLeft: '2rem'\r\n                                                }}>\r\n                                                    +{policy.steps.length - 3} more step{policy.steps.length - 3 !== 1 ? 's' : ''}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </Link>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Create Policy Form */}\r\n                {canCreatePolicy ? (\r\n                    <div className=\"glass-panel\" style={{\r\n                        padding: '1.5rem',\r\n                        background: 'white',\r\n                        border: '1px solid #e2e8f0',\r\n                        borderRadius: '12px',\r\n                        height: 'fit-content',\r\n                        position: 'sticky',\r\n                        top: '1rem'\r\n                    }}>\r\n                        <h3 style={{ fontWeight: '600', marginBottom: '1rem', fontSize: '1.1rem', color: 'var(--text-primary)' }}>\r\n                            Create New Policy\r\n                        </h3>\r\n                        <form action={createPolicy} style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                    Policy Name *\r\n                                </label>\r\n                                <input\r\n                                    name=\"name\"\r\n                                    placeholder=\"e.g. Critical Escalation\"\r\n                                    required\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.6rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '8px',\r\n                                        fontSize: '0.9rem',\r\n                                        background: 'white'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                    Description\r\n                                </label>\r\n                                <textarea\r\n                                    name=\"description\"\r\n                                    placeholder=\"Brief description of when to use this policy\"\r\n                                    rows={3}\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.6rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '8px',\r\n                                        fontSize: '0.9rem',\r\n                                        background: 'white',\r\n                                        resize: 'vertical'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n\r\n                            <div style={{ borderTop: '1px solid var(--border)', paddingTop: '1rem' }}>\r\n                                <label style={{ fontSize: '0.85rem', fontWeight: '500', display: 'block', marginBottom: '0.5rem' }}>\r\n                                    Step 1: Immediately notify *\r\n                                </label>\r\n                                <select\r\n                                    name=\"step-0-target\"\r\n                                    required\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.6rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '8px',\r\n                                        fontSize: '0.9rem',\r\n                                        background: 'white'\r\n                                    }}\r\n                                >\r\n                                    <option value=\"\">Select target...</option>\r\n                                    <optgroup label=\"Teams\">\r\n                                        {teams.map((t) => (\r\n                                            <option key={`team-${t.id}`} value={`team:${t.id}`}>\r\n                                                {t.name}\r\n                                            </option>\r\n                                        ))}\r\n                                    </optgroup>\r\n                                    <optgroup label=\"Users\">\r\n                                        {users.map((u) => (\r\n                                            <option key={`user-${u.id}`} value={`user:${u.id}`}>\r\n                                                {u.name} ({u.email})\r\n                                            </option>\r\n                                        ))}\r\n                                    </optgroup>\r\n                                </select>\r\n                                <input type=\"hidden\" name=\"step-0-delayMinutes\" value=\"0\" />\r\n                            </div>\r\n\r\n                            <div style={{ borderTop: '1px solid var(--border)', paddingTop: '1rem' }}>\r\n                                <label style={{ fontSize: '0.85rem', fontWeight: '500', display: 'block', marginBottom: '0.5rem' }}>\r\n                                    Step 2: If no response, notify after (optional)\r\n                                </label>\r\n                                <select\r\n                                    name=\"step-1-target\"\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.6rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '8px',\r\n                                        fontSize: '0.9rem',\r\n                                        background: 'white',\r\n                                        marginBottom: '0.5rem'\r\n                                    }}\r\n                                >\r\n                                    <option value=\"\">(None)</option>\r\n                                    <optgroup label=\"Teams\">\r\n                                        {teams.map((t) => (\r\n                                            <option key={`team-${t.id}`} value={`team:${t.id}`}>\r\n                                                {t.name}\r\n                                            </option>\r\n                                        ))}\r\n                                    </optgroup>\r\n                                    <optgroup label=\"Users\">\r\n                                        {users.map((u) => (\r\n                                            <option key={`user-${u.id}`} value={`user:${u.id}`}>\r\n                                                {u.name} ({u.email})\r\n                                            </option>\r\n                                        ))}\r\n                                    </optgroup>\r\n                                </select>\r\n                                <input\r\n                                    name=\"step-1-delayMinutes\"\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    placeholder=\"Delay (minutes)\"\r\n                                    defaultValue=\"15\"\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.6rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '8px',\r\n                                        fontSize: '0.9rem',\r\n                                        background: 'white'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n\r\n                            <div style={{ borderTop: '1px solid var(--border)', paddingTop: '1rem' }}>\r\n                                <label style={{ fontSize: '0.85rem', fontWeight: '500', display: 'block', marginBottom: '0.5rem' }}>\r\n                                    Step 3: Final escalation (optional)\r\n                                </label>\r\n                                <select\r\n                                    name=\"step-2-target\"\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.6rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '8px',\r\n                                        fontSize: '0.9rem',\r\n                                        background: 'white',\r\n                                        marginBottom: '0.5rem'\r\n                                    }}\r\n                                >\r\n                                    <option value=\"\">(None)</option>\r\n                                    <optgroup label=\"Teams\">\r\n                                        {teams.map((t) => (\r\n                                            <option key={`team-${t.id}`} value={`team:${t.id}`}>\r\n                                                {t.name}\r\n                                            </option>\r\n                                        ))}\r\n                                    </optgroup>\r\n                                    <optgroup label=\"Users\">\r\n                                        {users.map((u) => (\r\n                                            <option key={`user-${u.id}`} value={`user:${u.id}`}>\r\n                                                {u.name} ({u.email})\r\n                                            </option>\r\n                                        ))}\r\n                                    </optgroup>\r\n                                </select>\r\n                                <input\r\n                                    name=\"step-2-delayMinutes\"\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    placeholder=\"Delay (minutes)\"\r\n                                    defaultValue=\"30\"\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.6rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '8px',\r\n                                        fontSize: '0.9rem',\r\n                                        background: 'white'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"glass-button primary\"\r\n                                style={{ width: '100%', marginTop: '0.5rem' }}\r\n                            >\r\n                                Create Policy\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"glass-panel\" style={{\r\n                        padding: '1.5rem',\r\n                        background: '#f9fafb',\r\n                        border: '1px solid #e5e7eb',\r\n                        borderRadius: '12px',\r\n                        height: 'fit-content',\r\n                        opacity: 0.7\r\n                    }}>\r\n                        <h3 style={{ fontWeight: '600', marginBottom: '0.5rem', color: 'var(--text-secondary)' }}>\r\n                            Create New Policy\r\n                        </h3>\r\n                        <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '1rem' }}>\r\n                            ΓÜá∩╕Å You don't have access to create policies. Admin role required.\r\n                        </p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\postmortems\\[incidentId]\\page.tsx",
    "messages": [
      {
        "ruleId": "no-duplicate-imports",
        "severity": 1,
        "message": "'next/navigation' import is duplicated.",
        "line": 5,
        "column": 1,
        "nodeType": "ImportDeclaration",
        "messageId": "import",
        "endLine": 5,
        "endColumn": 44
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { getServerSession } from 'next-auth';\r\nimport { getAuthOptions } from '@/lib/auth';\r\nimport { redirect } from 'next/navigation';\r\nimport { getPostmortem } from '../actions';\r\nimport { notFound } from 'next/navigation';\r\nimport PostmortemForm from '@/components/PostmortemForm';\r\nimport PostmortemDetailView from '@/components/postmortem/PostmortemDetailView';\r\nimport { getUserPermissions } from '@/lib/rbac';\r\nimport prisma from '@/lib/prisma';\r\nimport Link from 'next/link';\r\n\r\nexport default async function PostmortemPage({\r\n    params,\r\n    searchParams,\r\n}: {\r\n    params: Promise<{ incidentId: string }>;\r\n    searchParams?: Promise<{ edit?: string }>;\r\n}) {\r\n    const session = await getServerSession(await getAuthOptions());\r\n    if (!session) {\r\n        redirect('/login');\r\n    }\r\n\r\n    const { incidentId } = await params;\r\n    const searchParamsData = await searchParams;\r\n    const editMode = searchParamsData?.edit === 'true';\r\n\r\n    const postmortem = await getPostmortem(incidentId);\r\n    const permissions = await getUserPermissions();\r\n    const canEdit = permissions.isResponderOrAbove;\r\n    // All users can view published postmortems, but only responders+ can edit\r\n    const canView = postmortem ? (postmortem.status === 'PUBLISHED' || canEdit) : canEdit;\r\n\r\n    // Get users for action items assignment\r\n    const users = await prisma.user.findMany({\r\n        where: { status: 'ACTIVE' },\r\n        select: { id: true, name: true, email: true },\r\n        orderBy: { name: 'asc' },\r\n    });\r\n\r\n    if (!postmortem) {\r\n        // Check if incident exists and is resolved\r\n        const prisma = (await import('@/lib/prisma')).default;\r\n        const incident = await prisma.incident.findUnique({\r\n            where: { id: incidentId },\r\n            select: { id: true, title: true, status: true },\r\n        });\r\n\r\n        if (!incident) {\r\n            notFound();\r\n        }\r\n\r\n        if (incident.status !== 'RESOLVED') {\r\n            return (\r\n                <div style={{ padding: 'var(--spacing-6)' }}>\r\n                    <div style={{ textAlign: 'center', padding: 'var(--spacing-8)' }}>\r\n                        <h2 style={{ fontSize: 'var(--font-size-xl)', marginBottom: 'var(--spacing-2)' }}>\r\n                            Incident Not Resolved\r\n                        </h2>\r\n                        <p style={{ color: 'var(--text-muted)', marginBottom: 'var(--spacing-4)' }}>\r\n                            Postmortems can only be created for resolved incidents.\r\n                        </p>\r\n                        <Link\r\n                            href={`/incidents/${incidentId}`}\r\n                            style={{\r\n                                display: 'inline-block',\r\n                                padding: 'var(--spacing-2) var(--spacing-4)',\r\n                                background: 'var(--primary)',\r\n                                color: 'white',\r\n                                borderRadius: 'var(--radius-md)',\r\n                                textDecoration: 'none',\r\n                            }}\r\n                        >\r\n                            View Incident\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // Show create form for new postmortem\r\n        return (\r\n            <div style={{ padding: 'var(--spacing-6)' }}>\r\n                <div style={{ marginBottom: 'var(--spacing-6)' }}>\r\n                    <Link\r\n                        href=\"/postmortems\"\r\n                        style={{\r\n                            color: 'var(--text-muted)',\r\n                            textDecoration: 'none',\r\n                            fontSize: 'var(--font-size-sm)',\r\n                            marginBottom: 'var(--spacing-2)',\r\n                            display: 'inline-block',\r\n                        }}\r\n                    >\r\n                        ΓåÉ Back to Postmortems\r\n                    </Link>\r\n                    <h1 style={{ fontSize: 'var(--font-size-2xl)', fontWeight: 'var(--font-weight-bold)' }}>\r\n                        Create Postmortem\r\n                    </h1>\r\n                    <p style={{ color: 'var(--text-muted)' }}>\r\n                        For incident: {incident.title}\r\n                    </p>\r\n                </div>\r\n\r\n                {canEdit ? (\r\n                    <PostmortemForm incidentId={incidentId} users={users} />\r\n                ) : (\r\n                    <div style={{ padding: 'var(--spacing-4)', background: 'var(--color-warning-light)', borderRadius: 'var(--radius-md)' }}>\r\n                        <p>You don&apos;t have permission to create postmortems.</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Show existing postmortem\r\n    return (\r\n        <div style={{ padding: 'var(--spacing-6)' }}>\r\n            <div style={{ marginBottom: 'var(--spacing-6)' }}>\r\n                <Link\r\n                    href=\"/postmortems\"\r\n                    style={{\r\n                        color: 'var(--text-muted)',\r\n                        textDecoration: 'none',\r\n                        fontSize: 'var(--font-size-sm)',\r\n                        marginBottom: 'var(--spacing-2)',\r\n                        display: 'inline-block',\r\n                    }}\r\n                >\r\n                    ΓåÉ Back to Postmortems\r\n                </Link>\r\n                <h1 style={{ fontSize: 'var(--font-size-2xl)', fontWeight: 'var(--font-weight-bold)' }}>\r\n                    {postmortem.title}\r\n                </h1>\r\n                <p style={{ color: 'var(--text-muted)' }}>\r\n                    Postmortem for{' '}\r\n                    <Link\r\n                        href={`/incidents/${incidentId}`}\r\n                        style={{ color: 'var(--primary)', textDecoration: 'none' }}\r\n                    >\r\n                        {postmortem.incident.title}\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n\r\n            {canView ? (\r\n                editMode && canEdit ? (\r\n                    <PostmortemForm incidentId={incidentId} initialData={postmortem} users={users} />\r\n                ) : (\r\n                    <PostmortemDetailView postmortem={postmortem} users={users} canEdit={canEdit} incidentId={incidentId} />\r\n                )\r\n            ) : (\r\n                <div style={{ padding: 'var(--spacing-4)', background: 'var(--color-warning-light)', borderRadius: 'var(--radius-md)' }}>\r\n                    <p>You don&apos;t have permission to view this postmortem. Only published postmortems are publicly viewable.</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\postmortems\\actions.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 10,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 10,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [261, 264], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [261, 264], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 11,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 11,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [340, 343], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [340, 343], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 14,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 14,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [473, 476], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [473, 476], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\postmortems\\create\\page.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 22,
        "column": 31,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [872, 920],
              "text": "You don&apos;t have permission to create postmortems."
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [872, 920],
              "text": "You don&lsquo;t have permission to create postmortems."
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [872, 920],
              "text": "You don&#39;t have permission to create postmortems."
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [872, 920],
              "text": "You don&rsquo;t have permission to create postmortems."
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { getServerSession } from 'next-auth';\r\nimport { getAuthOptions } from '@/lib/auth';\r\nimport { redirect } from 'next/navigation';\r\nimport PostmortemForm from '@/components/PostmortemForm';\r\nimport { getUserPermissions } from '@/lib/rbac';\r\nimport prisma from '@/lib/prisma';\r\nimport Link from 'next/link';\r\n\r\nexport default async function CreatePostmortemPage() {\r\n    const session = await getServerSession(await getAuthOptions());\r\n    if (!session) {\r\n        redirect('/login');\r\n    }\r\n\r\n    const permissions = await getUserPermissions();\r\n    const canCreate = permissions.isResponderOrAbove;\r\n\r\n    if (!canCreate) {\r\n        return (\r\n            <div style={{ padding: 'var(--spacing-6)' }}>\r\n                <div style={{ padding: 'var(--spacing-4)', background: 'var(--color-warning-light)', borderRadius: 'var(--radius-md)' }}>\r\n                    <p>You don't have permission to create postmortems.</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Get all resolved incidents without postmortems\r\n    const resolvedIncidents = await prisma.incident.findMany({\r\n        where: {\r\n            status: 'RESOLVED',\r\n            postmortem: null,\r\n        },\r\n        include: {\r\n            service: {\r\n                select: {\r\n                    name: true,\r\n                },\r\n            },\r\n        },\r\n        orderBy: { resolvedAt: 'desc' },\r\n        take: 100,\r\n    });\r\n\r\n    // Get users for action items assignment\r\n    const users = await prisma.user.findMany({\r\n        where: { status: 'ACTIVE' },\r\n        select: { id: true, name: true, email: true },\r\n        orderBy: { name: 'asc' },\r\n    });\r\n\r\n    return (\r\n        <div style={{ padding: 'var(--spacing-6)' }}>\r\n            <div style={{ marginBottom: 'var(--spacing-6)' }}>\r\n                <Link\r\n                    href=\"/postmortems\"\r\n                    style={{\r\n                        color: 'var(--text-muted)',\r\n                        textDecoration: 'none',\r\n                        fontSize: 'var(--font-size-sm)',\r\n                        marginBottom: 'var(--spacing-2)',\r\n                        display: 'inline-block',\r\n                    }}\r\n                >\r\n                    ΓåÉ Back to Postmortems\r\n                </Link>\r\n                <h1 style={{ fontSize: 'var(--font-size-2xl)', fontWeight: 'var(--font-weight-bold)' }}>\r\n                    Create Postmortem\r\n                </h1>\r\n                <p style={{ color: 'var(--text-muted)' }}>\r\n                    Select a resolved incident and document the postmortem\r\n                </p>\r\n            </div>\r\n\r\n            {resolvedIncidents.length === 0 ? (\r\n                <div className=\"glass-panel\" style={{\r\n                    padding: 'var(--spacing-8)',\r\n                    background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n                    border: '1px solid #e2e8f0',\r\n                    borderRadius: 'var(--radius-lg)',\r\n                    boxShadow: '0 4px 16px rgba(0,0,0,0.06)',\r\n                    textAlign: 'center',\r\n                }}>\r\n                    <h3 style={{ fontSize: 'var(--font-size-lg)', fontWeight: '600', marginBottom: 'var(--spacing-2)' }}>\r\n                        No Resolved Incidents Available\r\n                    </h3>\r\n                    <p style={{ color: 'var(--text-muted)', marginBottom: 'var(--spacing-4)' }}>\r\n                        There are no resolved incidents without postmortems. Resolve an incident first to create a postmortem.\r\n                    </p>\r\n                    <Link\r\n                        href=\"/incidents\"\r\n                        style={{\r\n                            display: 'inline-block',\r\n                            padding: 'var(--spacing-2) var(--spacing-4)',\r\n                            background: 'var(--primary)',\r\n                            color: 'white',\r\n                            borderRadius: 'var(--radius-md)',\r\n                            textDecoration: 'none',\r\n                        }}\r\n                    >\r\n                        View Incidents\r\n                    </Link>\r\n                </div>\r\n            ) : (\r\n                <PostmortemForm\r\n                    incidentId=\"\"\r\n                    users={users}\r\n                    resolvedIncidents={resolvedIncidents}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\postmortems\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\reports\\executive\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'TrendingUp' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 9,
        "column": 18,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 9,
        "endColumn": 28
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'last90d' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 22,
        "column": 29,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 22,
        "endColumn": 36
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { calculateSLAMetrics } from '@/lib/sla-server';\r\nimport { assertAdmin } from '@/lib/rbac';\r\nimport { Metadata } from 'next';\r\nimport prisma from '@/lib/prisma';\r\nimport MetricCard from '@/components/analytics/MetricCard';\r\nimport ChartCard from '@/components/analytics/ChartCard';\r\nimport ProgressBar from '@/components/analytics/ProgressBar';\r\nimport BarChart from '@/components/analytics/BarChart';\r\nimport { Shield, TrendingUp, Users, Clock, AlertCircle, CheckCircle } from 'lucide-react';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport const metadata: Metadata = {\r\n    title: 'Executive Report | OpsSentinel',\r\n    description: 'High-Level Operational Health Overview'\r\n};\r\n\r\nexport default async function ExecutiveReportPage() {\r\n    await assertAdmin();\r\n\r\n    // Fetch metrics for multiple time windows\r\n    const [last7d, last30d, last90d, slaDefinitions] = await Promise.all([\r\n        calculateSLAMetrics({ windowDays: 7 }),\r\n        calculateSLAMetrics({ windowDays: 30 }),\r\n        calculateSLAMetrics({ windowDays: 90 }),\r\n        prisma.sLADefinition.findMany({\r\n            where: { activeTo: null },\r\n            include: {\r\n                service: { select: { name: true } },\r\n                snapshots: {\r\n                    orderBy: { date: 'desc' },\r\n                    take: 30,\r\n                    select: { date: true, uptimePercentage: true, breachCount: true }\r\n                }\r\n            }\r\n        })\r\n    ]);\r\n\r\n    // Calculate trends\r\n    const incidentTrend = last30d.totalIncidents > 0 && last7d.totalIncidents > 0\r\n        ? ((last7d.totalIncidents / 7) / (last30d.totalIncidents / 30) - 1) * 100\r\n        : 0;\r\n\r\n    const mttrTrend = last30d.mttr !== null && last7d.mttr !== null && last30d.mttr > 0\r\n        ? ((last7d.mttr - last30d.mttr) / last30d.mttr) * 100\r\n        : 0;\r\n\r\n    // SLA Scorecard\r\n    const slaScorecard = slaDefinitions.map(def => {\r\n        const avgUptime = def.snapshots.length > 0\r\n            ? def.snapshots.reduce((sum, s) => sum + s.uptimePercentage, 0) / def.snapshots.length\r\n            : 100;\r\n        const totalBreaches = def.snapshots.reduce((sum, s) => sum + s.breachCount, 0);\r\n        const metStatus = avgUptime >= def.target;\r\n        return {\r\n            id: def.id,\r\n            name: def.name,\r\n            service: def.service.name,\r\n            target: def.target,\r\n            actual: avgUptime,\r\n            breaches: totalBreaches,\r\n            met: metStatus\r\n        };\r\n    });\r\n\r\n    const formatPercent = (val: number) => `${val.toFixed(1)}%`;\r\n    const formatMinutes = (val: number | null) => val === null ? '--' : `${val.toFixed(1)}m`;\r\n    const formatTrend = (val: number) => val > 0 ? `+${val.toFixed(1)}%` : `${val.toFixed(1)}%`;\r\n\r\n    return (\r\n        <main className=\"page-shell analytics-shell\">\r\n            <div className=\"analytics-hero-redesigned\" style={{ background: 'linear-gradient(135deg, rgba(79, 70, 229, 0.15), rgba(139, 92, 246, 0.1))' }}>\r\n                <div className=\"analytics-hero-inner\">\r\n                    <div className=\"analytics-hero-left\">\r\n                        <p className=\"schedule-eyebrow\" style={{ color: '#a78bfa' }}>Executive Report</p>\r\n                        <h1 style={{ fontSize: '2rem' }}>Operational Health Overview</h1>\r\n                    </div>\r\n                    <div className=\"analytics-hero-right\" style={{ color: 'rgba(255,255,255,0.6)', fontSize: '0.9rem' }}>\r\n                        Last updated: {new Date().toLocaleString()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* EXECUTIVE SUMMARY */}\r\n            <section className=\"glass-panel\" style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '1.5rem', marginBottom: '1.5rem' }}>\r\n                <MetricCard\r\n                    label=\"Incidents (7d)\"\r\n                    value={last7d.totalIncidents.toString()}\r\n                    detail={formatTrend(incidentTrend) + ' vs avg'}\r\n                    variant={incidentTrend < 0 ? 'success' : incidentTrend > 20 ? 'danger' : 'default'}\r\n                    icon={<AlertCircle className=\"w-5 h-5\" />}\r\n                />\r\n                <MetricCard\r\n                    label=\"MTTR (7d)\"\r\n                    value={formatMinutes(last7d.mttr)}\r\n                    detail={formatTrend(mttrTrend) + ' vs 30d'}\r\n                    variant={mttrTrend < 0 ? 'success' : mttrTrend > 20 ? 'danger' : 'default'}\r\n                    icon={<Clock className=\"w-5 h-5\" />}\r\n                />\r\n                <MetricCard\r\n                    label=\"SLA Compliance\"\r\n                    value={formatPercent(last7d.ackCompliance)}\r\n                    detail=\"Acknowledgement\"\r\n                    variant={last7d.ackCompliance >= 95 ? 'success' : last7d.ackCompliance >= 80 ? 'warning' : 'danger'}\r\n                    icon={<Shield className=\"w-5 h-5\" />}\r\n                >\r\n                    <div style={{ marginTop: '0.75rem' }}>\r\n                        <ProgressBar value={last7d.ackCompliance} variant={last7d.ackCompliance >= 95 ? 'success' : 'warning'} size=\"sm\" />\r\n                    </div>\r\n                </MetricCard>\r\n                <MetricCard\r\n                    label=\"On-Call Coverage\"\r\n                    value={formatPercent(last7d.coveragePercent)}\r\n                    detail=\"Next 14 days\"\r\n                    variant={last7d.coveragePercent >= 100 ? 'success' : last7d.coveragePercent >= 80 ? 'warning' : 'danger'}\r\n                    icon={<Users className=\"w-5 h-5\" />}\r\n                >\r\n                    <div style={{ marginTop: '0.75rem' }}>\r\n                        <ProgressBar value={last7d.coveragePercent} variant={last7d.coveragePercent >= 100 ? 'success' : 'warning'} size=\"sm\" />\r\n                    </div>\r\n                </MetricCard>\r\n            </section>\r\n\r\n            {/* SLA SCORECARD */}\r\n            <section className=\"glass-panel\" style={{ marginBottom: '1.5rem' }}>\r\n                <h2 style={{ color: 'white', fontSize: '1.1rem', fontWeight: 600, marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                    <Shield className=\"w-5 h-5\" style={{ color: '#a78bfa' }} />\r\n                    SLA Scorecard\r\n                </h2>\r\n                {slaScorecard.length === 0 ? (\r\n                    <p style={{ color: 'rgba(255,255,255,0.5)', textAlign: 'center', padding: '2rem' }}>\r\n                        No SLA definitions configured. <a href=\"/settings/sla\" style={{ color: '#a78bfa' }}>Create one ΓåÆ</a>\r\n                    </p>\r\n                ) : (\r\n                    <div style={{ overflowX: 'auto' }}>\r\n                        <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                            <thead>\r\n                                <tr style={{ borderBottom: '1px solid rgba(255,255,255,0.1)' }}>\r\n                                    <th style={{ textAlign: 'left', padding: '0.75rem', color: 'rgba(255,255,255,0.6)', fontSize: '0.85rem', fontWeight: 500 }}>SLA</th>\r\n                                    <th style={{ textAlign: 'left', padding: '0.75rem', color: 'rgba(255,255,255,0.6)', fontSize: '0.85rem', fontWeight: 500 }}>Service</th>\r\n                                    <th style={{ textAlign: 'right', padding: '0.75rem', color: 'rgba(255,255,255,0.6)', fontSize: '0.85rem', fontWeight: 500 }}>Target</th>\r\n                                    <th style={{ textAlign: 'right', padding: '0.75rem', color: 'rgba(255,255,255,0.6)', fontSize: '0.85rem', fontWeight: 500 }}>Actual (30d)</th>\r\n                                    <th style={{ textAlign: 'right', padding: '0.75rem', color: 'rgba(255,255,255,0.6)', fontSize: '0.85rem', fontWeight: 500 }}>Breaches</th>\r\n                                    <th style={{ textAlign: 'center', padding: '0.75rem', color: 'rgba(255,255,255,0.6)', fontSize: '0.85rem', fontWeight: 500 }}>Status</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {slaScorecard.map(sla => (\r\n                                    <tr key={sla.id} style={{ borderBottom: '1px solid rgba(255,255,255,0.05)' }}>\r\n                                        <td style={{ padding: '0.75rem', color: 'white', fontWeight: 500 }}>{sla.name}</td>\r\n                                        <td style={{ padding: '0.75rem', color: 'rgba(255,255,255,0.8)' }}>{sla.service}</td>\r\n                                        <td style={{ padding: '0.75rem', textAlign: 'right', color: 'rgba(255,255,255,0.8)' }}>{sla.target}%</td>\r\n                                        <td style={{ padding: '0.75rem', textAlign: 'right', fontWeight: 600, color: sla.met ? '#22c55e' : '#ef4444' }}>{sla.actual.toFixed(2)}%</td>\r\n                                        <td style={{ padding: '0.75rem', textAlign: 'right', color: sla.breaches > 0 ? '#ef4444' : 'rgba(255,255,255,0.6)' }}>{sla.breaches}</td>\r\n                                        <td style={{ padding: '0.75rem', textAlign: 'center' }}>\r\n                                            {sla.met ? (\r\n                                                <CheckCircle className=\"w-5 h-5\" style={{ color: '#22c55e' }} />\r\n                                            ) : (\r\n                                                <AlertCircle className=\"w-5 h-5\" style={{ color: '#ef4444' }} />\r\n                                            )}\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                )}\r\n            </section>\r\n\r\n            {/* INCIDENT TREND */}\r\n            <section className=\"glass-panel analytics-charts\">\r\n                <ChartCard title=\"Incident Volume (Last 30 Days)\" subtitle=\"Daily incident count\">\r\n                    <BarChart\r\n                        data={last30d.trendSeries}\r\n                        maxValue={Math.max(1, ...last30d.trendSeries.map(e => e.count))}\r\n                        height={200}\r\n                    />\r\n                </ChartCard>\r\n                <ChartCard title=\"Key Metrics Comparison\">\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1rem' }}>\r\n                        <div style={{ textAlign: 'center', padding: '1rem', background: 'rgba(34, 197, 94, 0.1)', borderRadius: 8 }}>\r\n                            <p style={{ color: 'rgba(255,255,255,0.6)', fontSize: '0.85rem' }}>Resolve Rate (7d)</p>\r\n                            <p style={{ color: '#22c55e', fontSize: '1.5rem', fontWeight: 700 }}>{formatPercent(last7d.resolveRate)}</p>\r\n                        </div>\r\n                        <div style={{ textAlign: 'center', padding: '1rem', background: 'rgba(59, 130, 246, 0.1)', borderRadius: 8 }}>\r\n                            <p style={{ color: 'rgba(255,255,255,0.6)', fontSize: '0.85rem' }}>Ack Rate (7d)</p>\r\n                            <p style={{ color: '#3b82f6', fontSize: '1.5rem', fontWeight: 700 }}>{formatPercent(last7d.ackRate)}</p>\r\n                        </div>\r\n                        <div style={{ textAlign: 'center', padding: '1rem', background: 'rgba(139, 92, 246, 0.1)', borderRadius: 8 }}>\r\n                            <p style={{ color: 'rgba(255,255,255,0.6)', fontSize: '0.85rem' }}>After-Hours (7d)</p>\r\n                            <p style={{ color: '#a78bfa', fontSize: '1.5rem', fontWeight: 700 }}>{formatPercent(last7d.afterHoursRate)}</p>\r\n                        </div>\r\n                        <div style={{ textAlign: 'center', padding: '1rem', background: 'rgba(234, 179, 8, 0.1)', borderRadius: 8 }}>\r\n                            <p style={{ color: 'rgba(255,255,255,0.6)', fontSize: '0.85rem' }}>Escalation Rate (7d)</p>\r\n                            <p style={{ color: '#eab308', fontSize: '1.5rem', fontWeight: 700 }}>{formatPercent(last7d.escalationRate)}</p>\r\n                        </div>\r\n                    </div>\r\n                </ChartCard>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\schedules\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\schedules\\actions.ts",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 359,
        "column": 25,
        "nodeType": "MemberExpression",
        "endLine": 359,
        "endColumn": 37
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 360,
        "column": 24,
        "nodeType": "MemberExpression",
        "endLine": 360,
        "endColumn": 42
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use server';\r\n\r\nimport prisma from '@/lib/prisma';\r\nimport { revalidatePath } from 'next/cache';\r\nimport { assertAdminOrResponder } from '@/lib/rbac';\r\nimport { createInAppNotifications, getScheduleUserIds } from '@/lib/in-app-notifications';\r\nimport { parseDateTimeInTimeZone } from '@/lib/timezone';\r\nimport { assertScheduleNameAvailable, UniqueNameConflictError } from '@/lib/unique-names';\r\ntype ScheduleFormState = {\r\n    error?: string | null;\r\n    success?: boolean;\r\n};\r\n\r\nasync function getScheduleName(scheduleId: string) {\r\n    const schedule = await prisma.onCallSchedule.findUnique({\r\n        where: { id: scheduleId },\r\n        select: { name: true }\r\n    });\r\n    return schedule?.name || 'On-call schedule';\r\n}\r\n\r\nasync function notifyScheduleMembers(\r\n    scheduleId: string,\r\n    title: string,\r\n    message: string,\r\n    userIds?: string[]\r\n) {\r\n    const recipients = userIds && userIds.length > 0\r\n        ? userIds\r\n        : await getScheduleUserIds(scheduleId);\r\n\r\n    await createInAppNotifications({\r\n        userIds: recipients,\r\n        type: 'SCHEDULE',\r\n        title,\r\n        message,\r\n        entityType: 'SCHEDULE',\r\n        entityId: scheduleId\r\n    });\r\n}\r\n\r\nexport async function createSchedule(_prevState: ScheduleFormState, formData: FormData): Promise<ScheduleFormState> {\r\n    try {\r\n        await assertAdminOrResponder();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin or Responder access required.' };\r\n    }\r\n    const name = (formData.get('name') as string)?.trim() || '';\r\n    const timeZone = (formData.get('timeZone') as string) || 'UTC';\r\n\r\n    if (!name) {\r\n        return { error: 'Schedule name is required.' };\r\n    }\r\n\r\n    try {\r\n        const normalizedName = await assertScheduleNameAvailable(name);\r\n        await prisma.onCallSchedule.create({\r\n            data: { name: normalizedName, timeZone }\r\n        });\r\n\r\n        revalidatePath('/schedules');\r\n        return { success: true };\r\n    } catch (error) {\r\n        if (error instanceof UniqueNameConflictError) {\r\n            return { error: 'A schedule with that name already exists.' };\r\n        }\r\n        return { error: error instanceof Error ? error.message : 'Failed to create schedule.' };\r\n    }\r\n}\r\n\r\nexport async function updateSchedule(scheduleId: string, formData: FormData): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdminOrResponder();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin or Responder access required.' };\r\n    }\r\n\r\n    const name = (formData.get('name') as string)?.trim();\r\n    const timeZone = (formData.get('timeZone') as string) || 'UTC';\r\n\r\n    if (!name) {\r\n        return { error: 'Schedule name is required.' };\r\n    }\r\n\r\n    try {\r\n        const normalizedName = await assertScheduleNameAvailable(name, { excludeId: scheduleId });\r\n        await prisma.onCallSchedule.update({\r\n            where: { id: scheduleId },\r\n            data: { name: normalizedName, timeZone }\r\n        });\r\n\r\n        const scheduleName = await getScheduleName(scheduleId);\r\n        await notifyScheduleMembers(\r\n            scheduleId,\r\n            'Schedule updated',\r\n            `Schedule \"${scheduleName}\" timezone and name updated`\r\n        );\r\n\r\n        revalidatePath(`/schedules/${scheduleId}`);\r\n        revalidatePath('/schedules');\r\n        return undefined;\r\n    } catch (error) {\r\n        if (error instanceof UniqueNameConflictError) {\r\n            return { error: 'A schedule with that name already exists.' };\r\n        }\r\n        return { error: error instanceof Error ? error.message : 'Failed to update schedule.' };\r\n    }\r\n}\r\n\r\nexport async function createLayer(scheduleId: string, formData: FormData): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdminOrResponder();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin or Responder access required.' };\r\n    }\r\n    const name = formData.get('name') as string;\r\n    const start = formData.get('start') as string;\r\n    const end = formData.get('end') as string;\r\n    const rotationLength = Number(formData.get('rotationLengthHours'));\r\n\r\n    if (!name || !start || Number.isNaN(rotationLength) || rotationLength <= 0) {\r\n        return { error: 'Invalid layer data. Name, start date, and rotation length are required.' };\r\n    }\r\n\r\n    const schedule = await prisma.onCallSchedule.findUnique({\r\n        where: { id: scheduleId },\r\n        select: { timeZone: true }\r\n    });\r\n\r\n    if (!schedule) {\r\n        return { error: 'Schedule not found.' };\r\n    }\r\n\r\n    const startDate = parseDateTimeInTimeZone(start, schedule.timeZone);\r\n    const endDate = end ? parseDateTimeInTimeZone(end, schedule.timeZone) : null;\r\n\r\n    if (!startDate) {\r\n        return { error: 'Invalid start date.' };\r\n    }\r\n    if (end && !endDate) {\r\n        return { error: 'Invalid end date.' };\r\n    }\r\n    if (endDate && endDate <= startDate) {\r\n        return { error: 'End date must be after start date.' };\r\n    }\r\n\r\n    try {\r\n        await prisma.onCallLayer.create({\r\n            data: {\r\n                scheduleId,\r\n                name,\r\n                start: startDate,\r\n                end: endDate && !Number.isNaN(endDate.getTime()) ? endDate : null,\r\n                rotationLengthHours: rotationLength\r\n            }\r\n        });\r\n\r\n        const scheduleName = await getScheduleName(scheduleId);\r\n        await notifyScheduleMembers(\r\n            scheduleId,\r\n            'Schedule updated',\r\n            `Layer \"${name}\" added to ${scheduleName}`\r\n        );\r\n\r\n        revalidatePath(`/schedules/${scheduleId}`);\r\n        revalidatePath('/schedules');\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Failed to create layer.' };\r\n    }\r\n}\r\n\r\nexport async function deleteLayer(scheduleId: string, layerId: string): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdminOrResponder();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin or Responder access required.' };\r\n    }\r\n    try {\r\n        const layer = await prisma.onCallLayer.findUnique({\r\n            where: { id: layerId },\r\n            select: { name: true }\r\n        });\r\n\r\n        await prisma.$transaction([\r\n            prisma.onCallLayerUser.deleteMany({\r\n                where: { layerId }\r\n            }),\r\n            prisma.onCallLayer.delete({\r\n                where: { id: layerId }\r\n            })\r\n        ]);\r\n\r\n        const scheduleName = await getScheduleName(scheduleId);\r\n        await notifyScheduleMembers(\r\n            scheduleId,\r\n            'Schedule updated',\r\n            `Layer \"${layer?.name || 'Layer'}\" removed from ${scheduleName}`\r\n        );\r\n\r\n        revalidatePath(`/schedules/${scheduleId}`);\r\n        revalidatePath('/schedules');\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Failed to delete layer.' };\r\n    }\r\n}\r\n\r\nexport async function addLayerUser(layerId: string, formData: FormData): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdminOrResponder();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin or Responder access required.' };\r\n    }\r\n    const userId = formData.get('userId') as string;\r\n\r\n    if (!userId) {\r\n        return { error: 'User is required.' };\r\n    }\r\n\r\n    const existing = await prisma.onCallLayerUser.findUnique({\r\n        where: {\r\n            layerId_userId: { layerId, userId }\r\n        }\r\n    });\r\n\r\n    const maxPosition = await prisma.onCallLayerUser.aggregate({\r\n        where: { layerId },\r\n        _max: { position: true }\r\n    });\r\n    const nextPosition = (maxPosition._max.position ?? 0) + 1;\r\n    const finalPosition = nextPosition;\r\n\r\n    if (existing) {\r\n        await prisma.onCallLayerUser.update({\r\n            where: { id: existing.id },\r\n            data: { position: finalPosition }\r\n        });\r\n    } else {\r\n        await prisma.onCallLayerUser.create({\r\n            data: {\r\n                layerId,\r\n                userId,\r\n                position: finalPosition\r\n            }\r\n        });\r\n    }\r\n\r\n    const ordered = await prisma.onCallLayerUser.findMany({\r\n        where: { layerId },\r\n        orderBy: { position: 'asc' }\r\n    });\r\n\r\n    await prisma.$transaction(\r\n        ordered.map((entry, index) =>\r\n            prisma.onCallLayerUser.update({\r\n                where: { id: entry.id },\r\n                data: { position: index + 1 }\r\n            })\r\n        )\r\n    );\r\n\r\n    const layer = await prisma.onCallLayer.findUnique({\r\n        where: { id: layerId },\r\n        select: { scheduleId: true }\r\n    });\r\n\r\n    if (layer) {\r\n        const scheduleName = await getScheduleName(layer.scheduleId);\r\n        await notifyScheduleMembers(\r\n            layer.scheduleId,\r\n            'Schedule updated',\r\n            `You were added to ${scheduleName}`,\r\n            [userId]\r\n        );\r\n\r\n        revalidatePath(`/schedules/${layer.scheduleId}`);\r\n        revalidatePath('/schedules');\r\n    }\r\n}\r\n\r\nexport async function updateLayer(layerId: string, formData: FormData): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdminOrResponder();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin or Responder access required.' };\r\n    }\r\n    const name = formData.get('name') as string;\r\n    const start = formData.get('start') as string;\r\n    const end = formData.get('end') as string;\r\n    const rotationLength = Number(formData.get('rotationLengthHours'));\r\n\r\n    if (!name || !start || Number.isNaN(rotationLength) || rotationLength <= 0) {\r\n        return { error: 'Invalid layer data. Name, start date, and rotation length are required.' };\r\n    }\r\n\r\n    const layerMeta = await prisma.onCallLayer.findUnique({\r\n        where: { id: layerId },\r\n        select: { scheduleId: true, schedule: { select: { timeZone: true } } }\r\n    });\r\n\r\n    if (!layerMeta) {\r\n        return { error: 'Layer not found.' };\r\n    }\r\n\r\n    const startDate = parseDateTimeInTimeZone(start, layerMeta.schedule.timeZone);\r\n    const endDate = end ? parseDateTimeInTimeZone(end, layerMeta.schedule.timeZone) : null;\r\n\r\n    if (!startDate) {\r\n        return { error: 'Invalid start date.' };\r\n    }\r\n    if (end && !endDate) {\r\n        return { error: 'Invalid end date.' };\r\n    }\r\n    if (endDate && endDate <= startDate) {\r\n        return { error: 'End date must be after start date.' };\r\n    }\r\n\r\n    try {\r\n        await prisma.onCallLayer.update({\r\n            where: { id: layerId },\r\n            data: {\r\n                name,\r\n                start: startDate,\r\n                end: endDate && !Number.isNaN(endDate.getTime()) ? endDate : null,\r\n                rotationLengthHours: rotationLength\r\n            }\r\n        });\r\n\r\n        const scheduleName = await getScheduleName(layerMeta.scheduleId);\r\n        await notifyScheduleMembers(\r\n            layerMeta.scheduleId,\r\n            'Schedule updated',\r\n            `Layer \"${name}\" updated in ${scheduleName}`\r\n        );\r\n\r\n        revalidatePath(`/schedules/${layerMeta.scheduleId}`);\r\n        revalidatePath('/schedules');\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Failed to update layer.' };\r\n    }\r\n}\r\nexport async function moveLayerUser(layerId: string, userId: string, direction: 'up' | 'down'): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdminOrResponder();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin or Responder access required.' };\r\n    }\r\n    try {\r\n        const users = await prisma.onCallLayerUser.findMany({\r\n            where: { layerId },\r\n            orderBy: { position: 'asc' }\r\n        });\r\n        const index = users.findIndex((u) => u.userId === userId);\r\n        const targetIndex = direction === 'up' ? index - 1 : index + 1;\r\n\r\n        if (index === -1 || targetIndex < 0 || targetIndex >= users.length) {\r\n            return { error: 'Cannot move user in that direction.' };\r\n        }\r\n\r\n        const current = users[index];\r\n        const target = users[targetIndex];\r\n\r\n        await prisma.$transaction([\r\n            prisma.onCallLayerUser.update({\r\n                where: { id: current.id },\r\n                data: { position: target.position }\r\n            }),\r\n            prisma.onCallLayerUser.update({\r\n                where: { id: target.id },\r\n                data: { position: current.position }\r\n            })\r\n        ]);\r\n\r\n        const layer = await prisma.onCallLayer.findUnique({\r\n            where: { id: layerId },\r\n            select: { scheduleId: true }\r\n        });\r\n\r\n        if (layer) {\r\n            revalidatePath(`/schedules/${layer.scheduleId}`);\r\n            revalidatePath('/schedules');\r\n        }\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Failed to move user.' };\r\n    }\r\n}\r\n\r\nexport async function removeLayerUser(layerId: string, userId: string): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdminOrResponder();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin or Responder access required.' };\r\n    }\r\n    try {\r\n        await prisma.onCallLayerUser.delete({\r\n            where: { layerId_userId: { layerId, userId } }\r\n        });\r\n\r\n        const layer = await prisma.onCallLayer.findUnique({\r\n            where: { id: layerId },\r\n            select: { scheduleId: true }\r\n        });\r\n\r\n        if (layer) {\r\n            const scheduleName = await getScheduleName(layer.scheduleId);\r\n            await notifyScheduleMembers(\r\n                layer.scheduleId,\r\n                'Schedule updated',\r\n                `You were removed from ${scheduleName}`,\r\n                [userId]\r\n            );\r\n\r\n            revalidatePath(`/schedules/${layer.scheduleId}`);\r\n        }\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Failed to remove user from layer.' };\r\n    }\r\n}\r\n\r\nexport async function createOverride(scheduleId: string, formData: FormData): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdminOrResponder();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin or Responder access required.' };\r\n    }\r\n    const userId = formData.get('userId') as string;\r\n    const replacesUserId = (formData.get('replacesUserId') as string) || null;\r\n    const start = formData.get('start') as string;\r\n    const end = formData.get('end') as string;\r\n\r\n    if (!userId || !start || !end) {\r\n        return { error: 'User, start date, and end date are required.' };\r\n    }\r\n\r\n    const schedule = await prisma.onCallSchedule.findUnique({\r\n        where: { id: scheduleId },\r\n        select: { timeZone: true }\r\n    });\r\n\r\n    if (!schedule) {\r\n        return { error: 'Schedule not found.' };\r\n    }\r\n\r\n    const startDate = parseDateTimeInTimeZone(start, schedule.timeZone);\r\n    const endDate = parseDateTimeInTimeZone(end, schedule.timeZone);\r\n\r\n    if (!startDate || !endDate) {\r\n        return { error: 'Invalid date format.' };\r\n    }\r\n\r\n    if (endDate <= startDate) {\r\n        return { error: 'End date must be after start date.' };\r\n    }\r\n\r\n    try {\r\n        await prisma.onCallOverride.create({\r\n            data: {\r\n                scheduleId,\r\n                userId,\r\n                replacesUserId: replacesUserId || null,\r\n                start: startDate,\r\n                end: endDate\r\n            }\r\n        });\r\n\r\n        const scheduleName = await getScheduleName(scheduleId);\r\n        const recipientIds = replacesUserId && replacesUserId !== userId\r\n            ? [userId, replacesUserId]\r\n            : [userId];\r\n        await notifyScheduleMembers(\r\n            scheduleId,\r\n            'Schedule override',\r\n            `Override set on ${scheduleName}`,\r\n            recipientIds\r\n        );\r\n\r\n        revalidatePath(`/schedules/${scheduleId}`);\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Failed to create override.' };\r\n    }\r\n}\r\n\r\nexport async function deleteOverride(scheduleId: string, overrideId: string): Promise<{ error?: string } | undefined> {\r\n    try {\r\n        await assertAdminOrResponder();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin or Responder access required.' };\r\n    }\r\n    try {\r\n        const override = await prisma.onCallOverride.findUnique({\r\n            where: { id: overrideId },\r\n            select: { userId: true, replacesUserId: true }\r\n        });\r\n\r\n        await prisma.onCallOverride.delete({\r\n            where: { id: overrideId }\r\n        });\r\n\r\n        if (override) {\r\n            const scheduleName = await getScheduleName(scheduleId);\r\n            const recipientIds = override.replacesUserId && override.replacesUserId !== override.userId\r\n                ? [override.userId, override.replacesUserId]\r\n                : [override.userId];\r\n            await notifyScheduleMembers(\r\n                scheduleId,\r\n                'Schedule override',\r\n                `Override removed from ${scheduleName}`,\r\n                recipientIds\r\n            );\r\n        }\r\n\r\n        revalidatePath(`/schedules/${scheduleId}`);\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Failed to delete override.' };\r\n    }\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\schedules\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\services\\[id]\\integrations\\page.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 135,
        "column": 102,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [5130, 5175],
              "text": "The service you&apos;re looking for doesn't exist."
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [5130, 5175],
              "text": "The service you&lsquo;re looking for doesn't exist."
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [5130, 5175],
              "text": "The service you&#39;re looking for doesn't exist."
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [5130, 5175],
              "text": "The service you&rsquo;re looking for doesn't exist."
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 135,
        "column": 123,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [5130, 5175],
              "text": "The service you're looking for doesn&apos;t exist."
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [5130, 5175],
              "text": "The service you're looking for doesn&lsquo;t exist."
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [5130, 5175],
              "text": "The service you're looking for doesn&#39;t exist."
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [5130, 5175],
              "text": "The service you're looking for doesn&rsquo;t exist."
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 439,
        "column": 32,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [23028, 23159],
              "text": "\r\n                        You don&apos;t have permission to manage integrations. Admin or Responder role required.\r\n                    "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [23028, 23159],
              "text": "\r\n                        You don&lsquo;t have permission to manage integrations. Admin or Responder role required.\r\n                    "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [23028, 23159],
              "text": "\r\n                        You don&#39;t have permission to manage integrations. Admin or Responder role required.\r\n                    "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [23028, 23159],
              "text": "\r\n                        You don&rsquo;t have permission to manage integrations. Admin or Responder role required.\r\n                    "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport { createIntegration, deleteIntegration } from '../../actions';\r\nimport HoverLink from '@/components/service/HoverLink';\r\nimport ServiceTabs from '@/components/service/ServiceTabs';\r\nimport CopyButton from '@/components/service/CopyButton';\r\nimport DeleteIntegrationButton from '@/components/service/DeleteIntegrationButton';\r\nimport { getUserPermissions } from '@/lib/rbac';\r\n\r\ntype IntegrationType = 'EVENTS_API_V2' | 'CLOUDWATCH' | 'AZURE' | 'DATADOG' | 'WEBHOOK' | 'PAGERDUTY' | 'GRAFANA' | 'PROMETHEUS' | 'NEWRELIC' | 'SENTRY' | 'OPSGENIE' | 'GITHUB';\r\n\r\nconst INTEGRATION_TYPES: Array<{ value: IntegrationType; label: string; description: string; icon: string }> = [\r\n    {\r\n        value: 'EVENTS_API_V2',\r\n        label: 'Events API',\r\n        description: 'Standard API integration using authentication tokens',\r\n        icon: '≡ƒöæ'\r\n    },\r\n    {\r\n        value: 'CLOUDWATCH',\r\n        label: 'AWS CloudWatch',\r\n        description: 'Receive alerts from AWS CloudWatch alarms via SNS',\r\n        icon: 'Γÿü∩╕Å'\r\n    },\r\n    {\r\n        value: 'AZURE',\r\n        label: 'Azure Monitor',\r\n        description: 'Receive alerts from Azure Monitor alert rules',\r\n        icon: '≡ƒö╖'\r\n    },\r\n    {\r\n        value: 'DATADOG',\r\n        label: 'Datadog',\r\n        description: 'Receive alerts from Datadog monitors and events',\r\n        icon: '≡ƒôè'\r\n    },\r\n    {\r\n        value: 'PAGERDUTY',\r\n        label: 'PagerDuty',\r\n        description: 'Receive incidents from PagerDuty webhooks',\r\n        icon: '≡ƒô₧'\r\n    },\r\n    {\r\n        value: 'GRAFANA',\r\n        label: 'Grafana',\r\n        description: 'Receive alerts from Grafana alerting rules',\r\n        icon: '≡ƒôê'\r\n    },\r\n    {\r\n        value: 'PROMETHEUS',\r\n        label: 'Prometheus Alertmanager',\r\n        description: 'Receive alerts from Prometheus Alertmanager webhooks',\r\n        icon: '≡ƒöÑ'\r\n    },\r\n    {\r\n        value: 'NEWRELIC',\r\n        label: 'New Relic',\r\n        description: 'Receive alerts from New Relic APM and infrastructure',\r\n        icon: '≡ƒåò'\r\n    },\r\n    {\r\n        value: 'SENTRY',\r\n        label: 'Sentry',\r\n        description: 'Receive error events from Sentry issue tracking',\r\n        icon: '≡ƒÜ¿'\r\n    },\r\n    {\r\n        value: 'OPSGENIE',\r\n        label: 'Opsgenie',\r\n        description: 'Receive alerts from Opsgenie incident management',\r\n        icon: 'ΓÜí'\r\n    },\r\n    {\r\n        value: 'GITHUB',\r\n        label: 'GitHub/GitLab',\r\n        description: 'Receive alerts from GitHub Actions and GitLab CI/CD pipelines',\r\n        icon: '≡ƒÉÖ'\r\n    },\r\n    {\r\n        value: 'WEBHOOK',\r\n        label: 'Generic Webhook',\r\n        description: 'Custom webhook integration for any monitoring tool',\r\n        icon: '≡ƒöù'\r\n    }\r\n];\r\n\r\nfunction getWebhookUrl(integrationType: IntegrationType, integrationId: string): string {\r\n    // In production, this should use the actual domain from environment variables\r\n    const baseUrl = process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000';\r\n\r\n    switch (integrationType) {\r\n        case 'CLOUDWATCH':\r\n            return `${baseUrl}/api/integrations/cloudwatch?integrationId=${integrationId}`;\r\n        case 'AZURE':\r\n            return `${baseUrl}/api/integrations/azure?integrationId=${integrationId}`;\r\n        case 'DATADOG':\r\n            return `${baseUrl}/api/integrations/datadog?integrationId=${integrationId}`;\r\n        case 'PAGERDUTY':\r\n            return `${baseUrl}/api/integrations/pagerduty?integrationId=${integrationId}`;\r\n        case 'GRAFANA':\r\n            return `${baseUrl}/api/integrations/grafana?integrationId=${integrationId}`;\r\n        case 'PROMETHEUS':\r\n            return `${baseUrl}/api/integrations/prometheus?integrationId=${integrationId}`;\r\n        case 'NEWRELIC':\r\n            return `${baseUrl}/api/integrations/newrelic?integrationId=${integrationId}`;\r\n        case 'SENTRY':\r\n            return `${baseUrl}/api/integrations/sentry?integrationId=${integrationId}`;\r\n        case 'OPSGENIE':\r\n            return `${baseUrl}/api/integrations/opsgenie?integrationId=${integrationId}`;\r\n        case 'GITHUB':\r\n            return `${baseUrl}/api/integrations/github?integrationId=${integrationId}`;\r\n        case 'WEBHOOK':\r\n            return `${baseUrl}/api/integrations/webhook?integrationId=${integrationId}`;\r\n        case 'EVENTS_API_V2':\r\n        default:\r\n            return `${baseUrl}/api/events`;\r\n    }\r\n}\r\n\r\nexport default async function ServiceIntegrationsPage({ params }: { params: Promise<{ id: string }> }) {\r\n    const { id } = await params;\r\n\r\n    const [service, permissions] = await Promise.all([\r\n        prisma.service.findUnique({\r\n            where: { id },\r\n            include: { integrations: { orderBy: { createdAt: 'desc' } } }\r\n        }),\r\n        getUserPermissions()\r\n    ]);\r\n\r\n    if (!service) {\r\n        return (\r\n            <main style={{ padding: '2rem' }}>\r\n                <div className=\"glass-panel\" style={{ padding: '2rem', textAlign: 'center' }}>\r\n                    <h2>Service Not Found</h2>\r\n                    <p style={{ color: 'var(--text-muted)', marginBottom: '1.5rem' }}>The service you're looking for doesn't exist.</p>\r\n                    <HoverLink href=\"/services\" className=\"glass-button primary\">Back to Services</HoverLink>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    const canManageIntegrations = permissions.isAdminOrResponder;\r\n\r\n    return (\r\n        <main style={{ padding: '2rem 1.5rem' }}>\r\n            {/* Header */}\r\n            <HoverLink\r\n                href={`/services/${id}`}\r\n                style={{\r\n                    marginBottom: '2rem',\r\n                    display: 'inline-flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.5rem',\r\n                    textDecoration: 'none',\r\n                    fontSize: '0.9rem',\r\n                    fontWeight: '500'\r\n                }}\r\n            >\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <path d=\"M19 12H5M12 19l-7-7 7-7\" />\r\n                </svg>\r\n                Back to {service.name}\r\n            </HoverLink>\r\n\r\n            <div style={{\r\n                marginBottom: '2rem',\r\n                paddingBottom: '1.5rem',\r\n                borderBottom: '2px solid var(--border)'\r\n            }}>\r\n                <div style={{ marginBottom: '1rem' }}>\r\n                    <h1 style={{ fontSize: '2rem', fontWeight: '700', marginBottom: '0.5rem', color: 'var(--text-primary)' }}>\r\n                        Integrations\r\n                    </h1>\r\n                    <p style={{ color: 'var(--text-secondary)', fontSize: '1rem' }}>\r\n                        Configure alert sources to send incidents to {service.name}\r\n                    </p>\r\n                </div>\r\n                <ServiceTabs serviceId={id} />\r\n            </div>\r\n\r\n            {/* Existing Integrations */}\r\n            {service.integrations.length > 0 && (\r\n                <div style={{ marginBottom: '3rem' }}>\r\n                    <h2 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1.5rem', color: 'var(--text-primary)' }}>\r\n                        Active Integrations ({service.integrations.length})\r\n                    </h2>\r\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                        {service.integrations.map(integration => {\r\n                            const integrationType = integration.type as IntegrationType;\r\n                            const typeInfo = INTEGRATION_TYPES.find(t => t.value === integrationType) || INTEGRATION_TYPES[0];\r\n                            const webhookUrl = getWebhookUrl(integrationType, integration.id);\r\n\r\n                            return (\r\n                                <div\r\n                                    key={integration.id}\r\n                                    style={{\r\n                                        padding: '1.5rem',\r\n                                        background: 'white',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '0px',\r\n                                        boxShadow: '0 1px 3px rgba(0,0,0,0.05)'\r\n                                    }}\r\n                                >\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>\r\n                                        <div style={{ flex: 1 }}>\r\n                                            <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '0.5rem' }}>\r\n                                                <span style={{ fontSize: '1.5rem' }}>{typeInfo.icon}</span>\r\n                                                <div>\r\n                                                    <h3 style={{ fontSize: '1.1rem', fontWeight: '600', color: 'var(--text-primary)' }}>\r\n                                                        {integration.name}\r\n                                                    </h3>\r\n                                                    <span style={{\r\n                                                        fontSize: '0.8rem',\r\n                                                        padding: '0.25rem 0.75rem',\r\n                                                        background: '#e0f2fe',\r\n                                                        color: '#0c4a6e',\r\n                                                        borderRadius: '12px',\r\n                                                        fontWeight: '500'\r\n                                                    }}>\r\n                                                        {typeInfo.label}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginLeft: '2.25rem' }}>\r\n                                                {typeInfo.description}\r\n                                            </p>\r\n                                        </div>\r\n                                        {canManageIntegrations && (\r\n                                            <DeleteIntegrationButton\r\n                                                action={deleteIntegration.bind(null, integration.id, service.id)}\r\n                                                integrationName={integration.name}\r\n                                            />\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    {/* Integration Details */}\r\n                                    <div style={{\r\n                                        marginTop: '1rem',\r\n                                        padding: '1rem',\r\n                                        background: '#f8fafc',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '0px'\r\n                                    }}>\r\n                                        {integrationType === 'EVENTS_API_V2' ? (\r\n                                            <>\r\n                                                <div style={{ marginBottom: '0.75rem' }}>\r\n                                                    <div style={{ fontSize: '0.75rem', fontWeight: '600', color: 'var(--text-muted)', marginBottom: '0.25rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\r\n                                                        API Key\r\n                                                    </div>\r\n                                                    <div style={{\r\n                                                        fontFamily: 'monospace',\r\n                                                        padding: '0.75rem',\r\n                                                        background: 'white',\r\n                                                        border: '1px solid var(--border)',\r\n                                                        borderRadius: '0px',\r\n                                                        fontSize: '0.85rem',\r\n                                                        wordBreak: 'break-all'\r\n                                                    }}>\r\n                                                        {integration.key}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div style={{ fontSize: '0.75rem', fontWeight: '600', color: 'var(--text-muted)', marginBottom: '0.5rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\r\n                                                        Usage Example\r\n                                                    </div>\r\n                                                    <pre style={{\r\n                                                        background: '#1e293b',\r\n                                                        color: '#e2e8f0',\r\n                                                        padding: '1rem',\r\n                                                        borderRadius: '0px',\r\n                                                        overflowX: 'auto',\r\n                                                        fontSize: '0.8rem',\r\n                                                        margin: 0\r\n                                                    }}>\r\n                                                        {`curl -X POST ${webhookUrl} \\\\\r\n  -H \"Content-Type: application/json\" \\\\\r\n  -H \"Authorization: Token token=${integration.key}\" \\\\\r\n  -d '{\r\n    \"event_action\": \"trigger\",\r\n    \"dedup_key\": \"alert_123\",\r\n    \"payload\": {\r\n      \"summary\": \"High CPU Load\",\r\n      \"source\": \"monitoring-tool\",\r\n      \"severity\": \"critical\"\r\n    }\r\n  }'`}\r\n                                                    </pre>\r\n                                                </div>\r\n                                            </>\r\n                                        ) : (\r\n                                            <>\r\n                                                <div style={{ marginBottom: '0.75rem' }}>\r\n                                                    <div style={{ fontSize: '0.75rem', fontWeight: '600', color: 'var(--text-muted)', marginBottom: '0.25rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\r\n                                                        Webhook URL\r\n                                                    </div>\r\n                                                    <div style={{\r\n                                                        fontFamily: 'monospace',\r\n                                                        padding: '0.75rem',\r\n                                                        background: 'white',\r\n                                                        border: '1px solid var(--border)',\r\n                                                        borderRadius: '0px',\r\n                                                        fontSize: '0.85rem',\r\n                                                        wordBreak: 'break-all',\r\n                                                        display: 'flex',\r\n                                                        alignItems: 'center',\r\n                                                        justifyContent: 'space-between',\r\n                                                        gap: '0.5rem'\r\n                                                    }}>\r\n                                                        <span style={{ flex: 1 }}>{webhookUrl}</span>\r\n                                                        <CopyButton text={webhookUrl} />\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div style={{\r\n                                                    padding: '0.75rem',\r\n                                                    background: '#fef3c7',\r\n                                                    border: '1px solid #fbbf24',\r\n                                                    borderRadius: '0px',\r\n                                                    fontSize: '0.85rem',\r\n                                                    color: '#92400e'\r\n                                                }}>\r\n                                                    <strong>Setup Instructions:</strong> Configure your {typeInfo.label} to send webhooks to the URL above.\r\n                                                    The integration will automatically create incidents when alerts are received.\r\n                                                </div>\r\n                                            </>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Create New Integration */}\r\n            {canManageIntegrations ? (\r\n                <div style={{\r\n                    padding: '2rem',\r\n                    background: 'white',\r\n                    border: '1px solid var(--border)',\r\n                    borderRadius: '0px'\r\n                }}>\r\n                    <h2 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1.5rem', color: 'var(--text-primary)' }}>\r\n                        Add New Integration\r\n                    </h2>\r\n                    <form action={createIntegration} style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>\r\n                        <input type=\"hidden\" name=\"serviceId\" value={service.id} />\r\n\r\n                        <div>\r\n                            <label style={{ display: 'block', fontSize: '0.9rem', marginBottom: '0.5rem', fontWeight: '500', color: 'var(--text-primary)' }}>\r\n                                Integration Name\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"name\"\r\n                                placeholder=\"e.g. Production CloudWatch, Staging Datadog\"\r\n                                required\r\n                                className=\"focus-border\"\r\n                                style={{\r\n                                    width: '100%',\r\n                                    padding: '0.75rem',\r\n                                    border: '1px solid var(--border)',\r\n                                    borderRadius: '0px',\r\n                                    fontSize: '0.95rem',\r\n                                    outline: 'none',\r\n                                    transition: 'border-color 0.2s'\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label style={{ display: 'block', fontSize: '0.9rem', marginBottom: '0.5rem', fontWeight: '500', color: 'var(--text-primary)' }}>\r\n                                Integration Type\r\n                            </label>\r\n                            <select\r\n                                name=\"type\"\r\n                                required\r\n                                className=\"focus-border\"\r\n                                style={{\r\n                                    width: '100%',\r\n                                    padding: '0.75rem',\r\n                                    border: '1px solid var(--border)',\r\n                                    borderRadius: '0px',\r\n                                    fontSize: '0.95rem',\r\n                                    background: 'white',\r\n                                    cursor: 'pointer',\r\n                                    outline: 'none',\r\n                                    transition: 'border-color 0.2s'\r\n                                }}\r\n                            >\r\n                                {INTEGRATION_TYPES.map(type => (\r\n                                    <option key={type.value} value={type.value}>\r\n                                        {type.icon} {type.label}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                            <div style={{ marginTop: '0.75rem', display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '0.75rem' }}>\r\n                                {INTEGRATION_TYPES.map(type => (\r\n                                    <div\r\n                                        key={type.value}\r\n                                        style={{\r\n                                            padding: '0.75rem',\r\n                                            background: '#f8fafc',\r\n                                            border: '1px solid var(--border)',\r\n                                            borderRadius: '0px',\r\n                                            fontSize: '0.85rem'\r\n                                        }}\r\n                                    >\r\n                                        <div style={{ fontWeight: '600', marginBottom: '0.25rem' }}>\r\n                                            {type.icon} {type.label}\r\n                                        </div>\r\n                                        <div style={{ color: 'var(--text-muted)', fontSize: '0.8rem' }}>\r\n                                            {type.description}\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', gap: '0.75rem', justifyContent: 'flex-end' }}>\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"glass-button primary\"\r\n                                style={{ padding: '0.75rem 2rem', fontSize: '1rem', fontWeight: '600' }}\r\n                            >\r\n                                Create Integration\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            ) : (\r\n                <div style={{\r\n                    padding: '2rem',\r\n                    background: '#f9fafb',\r\n                    border: '1px solid var(--border)',\r\n                    borderRadius: '0px',\r\n                    textAlign: 'center'\r\n                }}>\r\n                    <p style={{ color: 'var(--text-muted)' }}>\r\n                        You don't have permission to manage integrations. Admin or Responder role required.\r\n                    </p>\r\n                </div>\r\n            )}\r\n        </main>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\services\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 139,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 139,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5572, 5575], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5572, 5575], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\services\\[id]\\settings\\page.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 49,
        "column": 102,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [2189, 2234],
              "text": "The service you&apos;re looking for doesn't exist."
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [2189, 2234],
              "text": "The service you&lsquo;re looking for doesn't exist."
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [2189, 2234],
              "text": "The service you&#39;re looking for doesn't exist."
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [2189, 2234],
              "text": "The service you&rsquo;re looking for doesn't exist."
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 49,
        "column": 123,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [2189, 2234],
              "text": "The service you're looking for doesn&apos;t exist."
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [2189, 2234],
              "text": "The service you're looking for doesn&lsquo;t exist."
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [2189, 2234],
              "text": "The service you're looking for doesn&#39;t exist."
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [2189, 2234],
              "text": "The service you're looking for doesn&rsquo;t exist."
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport Link from 'next/link';\r\nimport HoverLink from '@/components/service/HoverLink';\r\nimport ServiceTabs from '@/components/service/ServiceTabs';\r\nimport ServiceNotificationSettings from '@/components/service/ServiceNotificationSettings';\r\nimport { updateService } from '../../actions';\r\n\r\nexport default async function ServiceSettingsPage({ params, searchParams }: { params: Promise<{ id: string }>; searchParams?: Promise<{ saved?: string; error?: string }> }) {\r\n    const { id } = await params;\r\n    const resolvedSearchParams = await searchParams;\r\n    const showSaved = resolvedSearchParams?.saved === '1';\r\n    const errorCode = resolvedSearchParams?.error;\r\n    const [service, teams, policies] = await Promise.all([\r\n        prisma.service.findUnique({\r\n            where: { id: id },\r\n            include: {\r\n                policy: {\r\n                    select: { id: true, name: true }\r\n                },\r\n                slackIntegration: {\r\n                    select: {\r\n                        id: true,\r\n                        workspaceName: true,\r\n                        workspaceId: true,\r\n                        enabled: true\r\n                    }\r\n                },\r\n                webhookIntegrations: {\r\n                    where: { enabled: true },\r\n                    orderBy: { createdAt: 'desc' }\r\n                }\r\n            }\r\n        }),\r\n        prisma.team.findMany({ orderBy: { name: 'asc' } }),\r\n        prisma.escalationPolicy.findMany({\r\n            select: { id: true, name: true },\r\n            orderBy: { name: 'asc' }\r\n        })\r\n    ]);\r\n\r\n    // Get webhook integrations separately (already included in service)\r\n    const webhookIntegrations = service?.webhookIntegrations || [];\r\n\r\n    if (!service) {\r\n        return (\r\n            <main style={{ padding: '2rem' }}>\r\n                <div className=\"glass-panel\" style={{ padding: '2rem', textAlign: 'center', background: 'white' }}>\r\n                    <h2 style={{ fontSize: '1.5rem', fontWeight: '600', marginBottom: '0.5rem' }}>Service Not Found</h2>\r\n                    <p style={{ color: 'var(--text-muted)', marginBottom: '1.5rem' }}>The service you're looking for doesn't exist.</p>\r\n                    <Link href=\"/services\" className=\"glass-button primary\">Back to Services</Link>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    const updateServiceWithId = updateService.bind(null, id);\r\n\r\n    return (\r\n        <main style={{ padding: '1.5rem' }}>\r\n            <HoverLink\r\n                href={`/services/${id}`}\r\n                style={{\r\n                    marginBottom: '1.5rem',\r\n                    display: 'inline-flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.5rem',\r\n                    textDecoration: 'none',\r\n                    fontSize: '0.9rem',\r\n                    fontWeight: '500'\r\n                }}\r\n            >\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <path d=\"M19 12H5M12 19l-7-7 7-7\" />\r\n                </svg>\r\n                Back to {service.name}\r\n            </HoverLink>\r\n\r\n            <div style={{\r\n                marginBottom: '2rem',\r\n                paddingBottom: '1.5rem',\r\n                borderBottom: '2px solid var(--border)'\r\n            }}>\r\n                <div style={{ marginBottom: '1rem' }}>\r\n                    <h1 style={{ fontSize: '2rem', fontWeight: '700', marginBottom: '0.5rem', color: 'var(--text-primary)' }}>\r\n                        Service Settings\r\n                    </h1>\r\n                    <p style={{ color: 'var(--text-secondary)', fontSize: '1rem' }}>\r\n                        Manage your service configuration, ownership, and integrations\r\n                    </p>\r\n                </div>\r\n                <ServiceTabs serviceId={id} />\r\n            </div>\r\n\r\n            <div className=\"glass-panel\" style={{ padding: '2rem', background: 'white', borderRadius: '0px', border: '1px solid var(--border)' }}>\r\n                {showSaved && (\r\n                    <div style={{\r\n                        marginBottom: '1.5rem',\r\n                        padding: '0.75rem 1rem',\r\n                        borderRadius: '0.5rem',\r\n                        background: '#dcfce7',\r\n                        border: '1px solid #86efac',\r\n                        color: '#166534',\r\n                        fontSize: '0.9rem',\r\n                        fontWeight: '600',\r\n                    }}>\r\n                        Service settings saved successfully.\r\n                    </div>\r\n                )}\r\n                {errorCode === 'duplicate-service' && (\r\n                    <div style={{\r\n                        marginBottom: '1.5rem',\r\n                        padding: '0.75rem 1rem',\r\n                        borderRadius: '0.5rem',\r\n                        background: '#fee2e2',\r\n                        border: '1px solid #fecaca',\r\n                        color: '#991b1b',\r\n                        fontSize: '0.9rem',\r\n                        fontWeight: '600',\r\n                    }}>\r\n                        A service with this name already exists. Please choose a unique name.\r\n                    </div>\r\n                )}\r\n                <form action={updateServiceWithId} style={{ display: 'grid', gap: '2rem' }}>\r\n                    {/* Basic Information Section */}\r\n                    <div>\r\n                        <h3 style={{ fontSize: '1.1rem', fontWeight: '600', marginBottom: '1rem', color: 'var(--text-primary)', paddingBottom: '0.75rem', borderBottom: '1px solid var(--border)' }}>\r\n                            Basic Information\r\n                        </h3>\r\n                        <div style={{ display: 'grid', gap: '1.25rem' }}>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '500', fontSize: '0.9rem', color: 'var(--text-primary)' }}>\r\n                                    Service Name <span style={{ color: 'var(--danger)' }}>*</span>\r\n                                </label>\r\n                                <input\r\n                                    name=\"name\"\r\n                                    defaultValue={service.name}\r\n                                    required\r\n                                    className=\"focus-border\"\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.75rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '0px',\r\n                                        fontSize: '0.95rem',\r\n                                        outline: 'none',\r\n                                        transition: 'border-color 0.2s'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '500', fontSize: '0.9rem', color: 'var(--text-primary)' }}>\r\n                                    Description\r\n                                </label>\r\n                                <textarea\r\n                                    name=\"description\"\r\n                                    defaultValue={service.description || ''}\r\n                                    rows={4}\r\n                                    placeholder=\"Describe what this service does and its purpose...\"\r\n                                    className=\"focus-border\"\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.75rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '0px',\r\n                                        resize: 'vertical',\r\n                                        fontSize: '0.95rem',\r\n                                        fontFamily: 'inherit',\r\n                                        outline: 'none',\r\n                                        transition: 'border-color 0.2s'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '500', fontSize: '0.9rem', color: 'var(--text-primary)' }}>\r\n                                    Region\r\n                                </label>\r\n                                <input\r\n                                    name=\"region\"\r\n                                    defaultValue={service.region || ''}\r\n                                    placeholder=\"e.g. US-East, EU-West\"\r\n                                    className=\"focus-border\"\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.75rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '0px',\r\n                                        fontSize: '0.95rem',\r\n                                        outline: 'none',\r\n                                        transition: 'border-color 0.2s'\r\n                                    }}\r\n                                />\r\n                                <p style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginTop: '0.5rem' }}>\r\n                                    Optional. This region is shown on the public status page.\r\n                                </p>\r\n                            </div>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '500', fontSize: '0.9rem', color: 'var(--text-primary)' }}>\r\n                                    SLA Tier\r\n                                </label>\r\n                                <input\r\n                                    name=\"slaTier\"\r\n                                    defaultValue={service.slaTier || ''}\r\n                                    placeholder=\"e.g. Gold, Silver, Bronze\"\r\n                                    className=\"focus-border\"\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.75rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '0px',\r\n                                        fontSize: '0.95rem',\r\n                                        outline: 'none',\r\n                                        transition: 'border-color 0.2s'\r\n                                    }}\r\n                                />\r\n                                <p style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginTop: '0.5rem' }}>\r\n                                    Optional. Displayed on the public status page when enabled.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Ownership & Policy Section */}\r\n                    <div>\r\n                        <h3 style={{ fontSize: '1.1rem', fontWeight: '600', marginBottom: '1rem', color: 'var(--text-primary)', paddingBottom: '0.75rem', borderBottom: '1px solid var(--border)' }}>\r\n                            Ownership & Escalation\r\n                        </h3>\r\n                        <div style={{ display: 'grid', gap: '1.25rem' }}>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '500', fontSize: '0.9rem', color: 'var(--text-primary)' }}>\r\n                                    Owner Team\r\n                                </label>\r\n                                <select\r\n                                    name=\"teamId\"\r\n                                    defaultValue={service.teamId || ''}\r\n                                    className=\"focus-border\"\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.75rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '0px',\r\n                                        fontSize: '0.95rem',\r\n                                        background: 'white',\r\n                                        cursor: 'pointer',\r\n                                        outline: 'none',\r\n                                        transition: 'border-color 0.2s'\r\n                                    }}\r\n                                >\r\n                                    <option value=\"\">Unassigned</option>\r\n                                    {teams.map((team) => (\r\n                                        <option key={team.id} value={team.id}>{team.name}</option>\r\n                                    ))}\r\n                                </select>\r\n                                <p style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginTop: '0.5rem' }}>\r\n                                    The team responsible for maintaining this service\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem', fontWeight: '500', fontSize: '0.9rem', color: 'var(--text-primary)' }}>\r\n                                    Escalation Policy\r\n                                    <span\r\n                                        title=\"Defines who gets notified when incidents occur and in what order.\"\r\n                                        style={{\r\n                                            width: '18px',\r\n                                            height: '18px',\r\n                                            borderRadius: '50%',\r\n                                            background: '#e0f2fe',\r\n                                            color: '#0c4a6e',\r\n                                            display: 'inline-flex',\r\n                                            alignItems: 'center',\r\n                                            justifyContent: 'center',\r\n                                            fontSize: '0.75rem',\r\n                                            fontWeight: '600',\r\n                                            cursor: 'help',\r\n                                            border: '1px solid #bae6fd'\r\n                                        }}\r\n                                    >\r\n                                        ?\r\n                                    </span>\r\n                                </label>\r\n                                <select\r\n                                    name=\"escalationPolicyId\"\r\n                                    defaultValue={service.escalationPolicyId || ''}\r\n                                    className=\"focus-border\"\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.75rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '0px',\r\n                                        fontSize: '0.95rem',\r\n                                        background: 'white',\r\n                                        cursor: 'pointer',\r\n                                        outline: 'none',\r\n                                        transition: 'border-color 0.2s'\r\n                                    }}\r\n                                >\r\n                                    <option value=\"\">No escalation policy</option>\r\n                                    {policies.map((policy) => (\r\n                                        <option key={policy.id} value={policy.id}>{policy.name}</option>\r\n                                    ))}\r\n                                </select>\r\n                                <p style={{ fontSize: '0.8rem', color: 'var(--text-secondary)', marginTop: '0.5rem' }}>\r\n                                    {service.policy ? (\r\n                                        <>Current policy: <strong style={{ color: 'var(--text-primary)' }}>{service.policy.name}</strong>. <Link href=\"/policies\" style={{ color: 'var(--primary)', textDecoration: 'none', fontWeight: '500' }}>Manage policies ΓåÆ</Link></>\r\n                                    ) : (\r\n                                        <>No escalation policy assigned. <Link href=\"/policies\" style={{ color: 'var(--primary)', textDecoration: 'none', fontWeight: '500' }}>Create one ΓåÆ</Link></>\r\n                                    )}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Service Notifications Section (ISOLATED) */}\r\n                    <div>\r\n                        <h3 style={{ fontSize: '1.1rem', fontWeight: '600', marginBottom: '1rem', color: 'var(--text-primary)', paddingBottom: '0.75rem', borderBottom: '1px solid var(--border)' }}>\r\n                            Service Notifications (Isolated)\r\n                        </h3>\r\n                        <ServiceNotificationSettings\r\n                            serviceId={id}\r\n                            serviceNotificationChannels={service.serviceNotificationChannels || []}\r\n                            slackChannel={service.slackChannel}\r\n                            slackWebhookUrl={service.slackWebhookUrl}\r\n                            slackIntegration={service.slackIntegration || null}\r\n                            webhookIntegrations={webhookIntegrations}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Form Actions */}\r\n                    <div style={{\r\n                        paddingTop: '1rem',\r\n                        borderTop: '1px solid var(--border)',\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center'\r\n                    }}>\r\n                        <Link\r\n                            href={`/services/${id}`}\r\n                            className=\"glass-button\"\r\n                            style={{ display: 'inline-flex', alignItems: 'center', gap: '0.5rem' }}\r\n                        >\r\n                            Cancel\r\n                        </Link>\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"glass-button primary\"\r\n                            style={{\r\n                                padding: '0.75rem 2rem',\r\n                                fontSize: '1rem',\r\n                                fontWeight: '600'\r\n                            }}\r\n                        >\r\n                            Save Changes\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\services\\[id]\\webhooks\\[webhookId]\\edit\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\services\\[id]\\webhooks\\actions.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\services\\[id]\\webhooks\\new\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\services\\actions.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 110,
        "column": 55,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 110,
        "endColumn": 58,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4079, 4082], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4079, 4082], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\services\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 90,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 90,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3387, 3390], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3387, 3390], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 105,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 105,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3939, 3942], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3939, 3942], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 292,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 292,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12037, 12040], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12037, 12040], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\actions.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 87,
        "column": 43,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 87,
        "endColumn": 46,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3064, 3067], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3064, 3067], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\api-keys\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\audit-logs\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\billing\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\custom-fields\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\integrations\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\integrations\\slack\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\loading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\notifications\\history\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\notifications\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\preferences\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\profile\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 27,
        "column": 50,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 27,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1036, 1039], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1036, 1039], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\search-presets\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\security\\actions.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\security\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'SsoSettingsForm' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 7,
        "column": 8,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 23
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'callbackUrl' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 30,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 30,
        "endColumn": 22
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'hasEncryptionKey' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 33,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 33,
        "endColumn": 27
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 38,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 38,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1624, 1627], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1624, 1627], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport { getAuthOptions } from '@/lib/auth';\r\nimport { getServerSession } from 'next-auth';\r\nimport SecurityForm from '@/components/settings/SecurityForm';\r\nimport SettingsPage from '@/components/settings/SettingsPage';\r\nimport SettingsSectionCard from '@/components/settings/SettingsSectionCard';\r\nimport SsoSettingsForm from '@/components/settings/SsoSettingsForm';\r\nimport { getUserTimeZone, formatDateTime } from '@/lib/timezone';\r\n\r\nexport default async function SecuritySettingsPage() {\r\n    const session = await getServerSession(await getAuthOptions());\r\n    const email = session?.user?.email ?? null;\r\n    const user = email\r\n        ? await prisma.user.findUnique({\r\n            where: { email },\r\n            select: { passwordHash: true, updatedAt: true, timeZone: true }\r\n        })\r\n        : null;\r\n\r\n    const oidcConfig = await prisma.oidcConfig.findFirst({\r\n        orderBy: { updatedAt: 'desc' }\r\n    });\r\n\r\n    const systemSettings = await prisma.systemSettings.findUnique({\r\n        where: { id: 'default' },\r\n        select: { appUrl: true }\r\n    });\r\n\r\n    const callbackBase = systemSettings?.appUrl || process.env.NEXT_PUBLIC_APP_URL || '';\r\n    const callbackUrl = callbackBase\r\n        ? `${callbackBase.replace(/\\/$/, '')}/api/auth/callback/oidc`\r\n        : '/api/auth/callback/oidc';\r\n    const hasEncryptionKey = Boolean(process.env.ENCRYPTION_KEY);\r\n\r\n    const ssoEnabled = Boolean(oidcConfig?.enabled);\r\n    const hasPassword = Boolean(user?.passwordHash);\r\n    const timeZone = getUserTimeZone(user ?? undefined);\r\n    const isAdmin = (session?.user as any)?.role === 'ADMIN'; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n\r\n\r\n\r\n    return (\r\n        <SettingsPage\r\n            currentPageId=\"security\"\r\n            backHref=\"/settings\"\r\n            title=\"Security\"\r\n            description=\"Control how you sign in and monitor account activity.\"\r\n        >\r\n            <SettingsSectionCard\r\n                title=\"Security overview\"\r\n                description=\"Your sign-in methods and recent updates.\"\r\n            >\r\n                <div className=\"settings-summary-grid\">\r\n                    <div className=\"settings-summary-card\">\r\n                        <span>Single sign-on</span>\r\n                        <strong>{ssoEnabled ? 'Enabled' : 'Disabled'}</strong>\r\n                        <small>Authenticate with your identity provider.</small>\r\n                    </div>\r\n                    <div className=\"settings-summary-card\">\r\n                        <span>Password</span>\r\n                        <strong>{hasPassword ? 'Set' : 'Not set'}</strong>\r\n                        <small>Use a local password when SSO is unavailable.</small>\r\n                    </div>\r\n                    <div className=\"settings-summary-card\">\r\n                        <span>Last updated</span>\r\n                        <strong>{user?.updatedAt ? formatDateTime(user.updatedAt, timeZone, { format: 'datetime' }) : 'No recent changes'}</strong>\r\n                        <small>Recent credential change timestamp.</small>\r\n                    </div>\r\n                </div>\r\n            </SettingsSectionCard>\r\n\r\n            <SettingsSectionCard\r\n                title=\"Single sign-on (OIDC)\"\r\n                description=\"SSO configuration has moved to System Settings.\"\r\n            >\r\n                <div className=\"settings-inline-note\">\r\n                    SSO settings are now managed in <a href=\"/settings/system\" style={{ textDecoration: 'underline' }}>System Settings</a>.\r\n                    {isAdmin ? ' (Admin access required)' : ' (Contact your administrator)'}\r\n                </div>\r\n            </SettingsSectionCard>\r\n\r\n            <SettingsSectionCard\r\n                title=\"Password\"\r\n                description=\"Update your account password.\"\r\n            >\r\n                <SecurityForm hasPassword={hasPassword} />\r\n                <div className=\"settings-inline-note\">\r\n                    For password resets or session issues, contact your OpsSentinal administrator.\r\n                </div>\r\n            </SettingsSectionCard>\r\n        </SettingsPage>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\sla\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Settings' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 8,
        "column": 19,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 8,
        "endColumn": 27
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'AlertCircle' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 8,
        "column": 46,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 8,
        "endColumn": 57
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'router' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 47,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 47,
        "endColumn": 17
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 109,
        "column": 14,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 109,
        "endColumn": 81
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { logger } from '@/lib/logger';\r\nimport {\r\n    Shield, Plus, Settings, Activity, Clock, AlertCircle,\r\n    Trash2, Edit2, ChevronRight, TrendingUp\r\n} from 'lucide-react';\r\n\r\ninterface SLADefinition {\r\n    id: string;\r\n    serviceId: string;\r\n    name: string;\r\n    version: number;\r\n    target: number;\r\n    window: string;\r\n    metricType: string;\r\n    activeFrom: string;\r\n    activeTo: string | null;\r\n    service: { id: string; name: string };\r\n}\r\n\r\ninterface Service {\r\n    id: string;\r\n    name: string;\r\n}\r\n\r\nconst metricTypeLabels: Record<string, string> = {\r\n    'UPTIME': 'Uptime',\r\n    'AVAILABILITY': 'Availability',\r\n    'LATENCY_P99': 'Latency (P99)',\r\n    'MTTA': 'MTTA',\r\n    'MTTR': 'MTTR'\r\n};\r\n\r\nconst windowLabels: Record<string, string> = {\r\n    '7d': '7 Days',\r\n    '30d': '30 Days',\r\n    '90d': '90 Days',\r\n    'quarterly': 'Quarterly',\r\n    'yearly': 'Yearly'\r\n};\r\n\r\nexport default function SLASettingsPage() {\r\n    const router = useRouter();\r\n    const [definitions, setDefinitions] = useState<SLADefinition[]>([]);\r\n    const [services, setServices] = useState<Service[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showCreateModal, setShowCreateModal] = useState(false);\r\n    const [creating, setCreating] = useState(false);\r\n\r\n    // Form state\r\n    const [formData, setFormData] = useState({\r\n        serviceId: '',\r\n        name: 'Standard SLA',\r\n        target: 99.9,\r\n        window: '30d',\r\n        metricType: 'UPTIME'\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const [defsRes, servicesRes] = await Promise.all([\r\n                fetch('/api/sla-definitions'),\r\n                fetch('/api/services')\r\n            ]);\r\n            const defs = await defsRes.json();\r\n            const srvs = await servicesRes.json();\r\n            setDefinitions(Array.isArray(defs) ? defs : []);\r\n            setServices(Array.isArray(srvs) ? srvs : []);\r\n        } catch (error) {\r\n            logger.error('Failed to fetch SLA data', { error });\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCreate = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setCreating(true);\r\n        try {\r\n            const res = await fetch('/api/sla-definitions', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    ...formData,\r\n                    target: parseFloat(formData.target.toString())\r\n                })\r\n            });\r\n            if (res.ok) {\r\n                setShowCreateModal(false);\r\n                fetchData();\r\n                setFormData({ serviceId: '', name: 'Standard SLA', target: 99.9, window: '30d', metricType: 'UPTIME' });\r\n            }\r\n        } catch (error) {\r\n            logger.error('Failed to create SLA definition', { error });\r\n        } finally {\r\n            setCreating(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (!confirm('Are you sure you want to deactivate this SLA definition?')) return;\r\n        try {\r\n            await fetch(`/api/sla-definitions/${id}`, { method: 'DELETE' });\r\n            fetchData();\r\n        } catch (error) {\r\n            logger.error('Failed to delete SLA definition', { error });\r\n        }\r\n    };\r\n\r\n    const getMetricIcon = (type: string) => {\r\n        switch (type) {\r\n            case 'UPTIME':\r\n            case 'AVAILABILITY':\r\n                return <Shield className=\"w-4 h-4\" />;\r\n            case 'LATENCY_P99':\r\n                return <Clock className=\"w-4 h-4\" />;\r\n            case 'MTTA':\r\n            case 'MTTR':\r\n                return <Activity className=\"w-4 h-4\" />;\r\n            default:\r\n                return <TrendingUp className=\"w-4 h-4\" />;\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"settings-page-container\">\r\n                <div className=\"settings-loading\">Loading SLA definitions...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-page-container\">\r\n            <div className=\"settings-header\">\r\n                <div className=\"settings-header-content\">\r\n                    <div className=\"settings-header-icon\">\r\n                        <Shield className=\"w-6 h-6\" />\r\n                    </div>\r\n                    <div>\r\n                        <h1 className=\"settings-title\">SLA Definitions</h1>\r\n                        <p className=\"settings-description\">\r\n                            Manage Service Level Agreement targets for your services\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <button\r\n                    onClick={() => setShowCreateModal(true)}\r\n                    className=\"btn-primary\"\r\n                    style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}\r\n                >\r\n                    <Plus className=\"w-4 h-4\" />\r\n                    New SLA\r\n                </button>\r\n            </div>\r\n\r\n            {definitions.length === 0 ? (\r\n                <div className=\"settings-empty-state\">\r\n                    <Shield className=\"w-12 h-12\" style={{ opacity: 0.5 }} />\r\n                    <h3>No SLA Definitions</h3>\r\n                    <p>Create your first SLA definition to start tracking service level agreements.</p>\r\n                    <button\r\n                        onClick={() => setShowCreateModal(true)}\r\n                        className=\"btn-primary\"\r\n                    >\r\n                        Create SLA Definition\r\n                    </button>\r\n                </div>\r\n            ) : (\r\n                <div className=\"settings-card-grid\">\r\n                    {definitions.map((def) => (\r\n                        <div key={def.id} className=\"settings-card\">\r\n                            <div className=\"settings-card-header\">\r\n                                <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\r\n                                    <div className=\"settings-card-icon\" style={{ background: 'rgba(139, 92, 246, 0.15)' }}>\r\n                                        {getMetricIcon(def.metricType)}\r\n                                    </div>\r\n                                    <div>\r\n                                        <h3 className=\"settings-card-title\">{def.name}</h3>\r\n                                        <p className=\"settings-card-subtitle\">{def.service.name}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <span className=\"settings-badge\" style={{ background: 'rgba(34, 197, 94, 0.15)', color: '#22c55e' }}>\r\n                                    v{def.version}\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"settings-card-body\">\r\n                                <div className=\"settings-metric-row\">\r\n                                    <span className=\"settings-metric-label\">Target</span>\r\n                                    <span className=\"settings-metric-value\" style={{ color: '#22c55e', fontWeight: 700 }}>\r\n                                        {def.target}%\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"settings-metric-row\">\r\n                                    <span className=\"settings-metric-label\">Type</span>\r\n                                    <span className=\"settings-metric-value\">{metricTypeLabels[def.metricType] || def.metricType}</span>\r\n                                </div>\r\n                                <div className=\"settings-metric-row\">\r\n                                    <span className=\"settings-metric-label\">Window</span>\r\n                                    <span className=\"settings-metric-value\">{windowLabels[def.window] || def.window}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"settings-card-footer\">\r\n                                <button\r\n                                    onClick={() => handleDelete(def.id)}\r\n                                    className=\"btn-ghost btn-sm\"\r\n                                    style={{ color: '#ef4444' }}\r\n                                >\r\n                                    <Trash2 className=\"w-4 h-4\" />\r\n                                </button>\r\n                                <Link href={`/settings/sla/${def.id}`} className=\"btn-ghost btn-sm\">\r\n                                    <Edit2 className=\"w-4 h-4\" />\r\n                                    Edit\r\n                                    <ChevronRight className=\"w-4 h-4\" />\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Create Modal */}\r\n            {showCreateModal && (\r\n                <div className=\"modal-overlay\" onClick={() => setShowCreateModal(false)}>\r\n                    <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n                        <h2 className=\"modal-title\">Create SLA Definition</h2>\r\n                        <form onSubmit={handleCreate}>\r\n                            <div className=\"form-group\">\r\n                                <label className=\"form-label\">Service</label>\r\n                                <select\r\n                                    value={formData.serviceId}\r\n                                    onChange={(e) => setFormData({ ...formData, serviceId: e.target.value })}\r\n                                    className=\"form-select\"\r\n                                    required\r\n                                >\r\n                                    <option value=\"\">Select a service</option>\r\n                                    {services.map((s) => (\r\n                                        <option key={s.id} value={s.id}>{s.name}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label className=\"form-label\">Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={formData.name}\r\n                                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                                    className=\"form-input\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-row\">\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"form-label\">Target (%)</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        step=\"0.01\"\r\n                                        min=\"0\"\r\n                                        max=\"100\"\r\n                                        value={formData.target}\r\n                                        onChange={(e) => setFormData({ ...formData, target: parseFloat(e.target.value) })}\r\n                                        className=\"form-input\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"form-label\">Window</label>\r\n                                    <select\r\n                                        value={formData.window}\r\n                                        onChange={(e) => setFormData({ ...formData, window: e.target.value })}\r\n                                        className=\"form-select\"\r\n                                    >\r\n                                        <option value=\"7d\">7 Days</option>\r\n                                        <option value=\"30d\">30 Days</option>\r\n                                        <option value=\"90d\">90 Days</option>\r\n                                        <option value=\"quarterly\">Quarterly</option>\r\n                                        <option value=\"yearly\">Yearly</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label className=\"form-label\">Metric Type</label>\r\n                                <select\r\n                                    value={formData.metricType}\r\n                                    onChange={(e) => setFormData({ ...formData, metricType: e.target.value })}\r\n                                    className=\"form-select\"\r\n                                >\r\n                                    <option value=\"UPTIME\">Uptime</option>\r\n                                    <option value=\"AVAILABILITY\">Availability</option>\r\n                                    <option value=\"LATENCY_P99\">Latency (P99)</option>\r\n                                    <option value=\"MTTA\">MTTA</option>\r\n                                    <option value=\"MTTR\">MTTR</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"modal-actions\">\r\n                                <button type=\"button\" onClick={() => setShowCreateModal(false)} className=\"btn-ghost\">\r\n                                    Cancel\r\n                                </button>\r\n                                <button type=\"submit\" className=\"btn-primary\" disabled={creating}>\r\n                                    {creating ? 'Creating...' : 'Create SLA'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\slack-oauth\\actions.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\status-page\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 62,
        "column": 32,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 62,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1733, 1736], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1733, 1736], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\system\\actions.ts",
    "messages": [
      {
        "ruleId": "no-duplicate-imports",
        "severity": 1,
        "message": "'@/lib/rbac' import is duplicated.",
        "line": 5,
        "column": 1,
        "nodeType": "ImportDeclaration",
        "messageId": "import",
        "endLine": 5,
        "endColumn": 45
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1079, 1082], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1079, 1082], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use server';\r\n\r\nimport prisma from '@/lib/prisma';\r\nimport { assertAdmin } from '@/lib/rbac';\r\nimport { getCurrentUser } from '@/lib/rbac';\r\nimport { revalidatePath } from 'next/cache';\r\n\r\n/**\r\n * Get all notification provider configurations\r\n * Note: Admin check is done at the page level, so this function doesn't need to check again\r\n */\r\nexport async function getNotificationProviders() {\r\n    const providers = await prisma.notificationProvider.findMany({\r\n        orderBy: { provider: 'asc' }\r\n    });\r\n\r\n    // Return providers with decrypted config (for now, just return as-is)\r\n    // In production, you'd decrypt here\r\n    return providers.map(p => ({\r\n        id: p.id,\r\n        provider: p.provider,\r\n        enabled: p.enabled,\r\n        config: (p.config as Record<string, unknown>) || {},\r\n        updatedAt: p.updatedAt.toISOString()\r\n    }));\r\n}\r\n\r\n/**\r\n * Update notification provider configuration\r\n */\r\nexport async function updateNotificationProvider(\r\n    providerId: string | null,\r\n    provider: string,\r\n    enabled: boolean,\r\n    config: Record<string, any> // eslint-disable-line @typescript-eslint/no-explicit-any\r\n) {\r\n    try {\r\n        await assertAdmin();\r\n    } catch (error) {\r\n        throw new Error(error instanceof Error ? error.message : 'Unauthorized. Admin access required.');\r\n    }\r\n\r\n    const user = await getCurrentUser();\r\n\r\n    // Encrypt sensitive fields (for now, just store as-is)\r\n    // In production, use encryption library like crypto-js or similar\r\n    const encryptedConfig = config;\r\n\r\n    if (providerId) {\r\n        // Update existing\r\n        await prisma.notificationProvider.update({\r\n            where: { id: providerId },\r\n            data: {\r\n                enabled,\r\n                config: encryptedConfig,\r\n                updatedBy: user.id\r\n            }\r\n        });\r\n    } else {\r\n        // Create new\r\n        await prisma.notificationProvider.upsert({\r\n            where: { provider },\r\n            create: {\r\n                provider,\r\n                enabled,\r\n                config: encryptedConfig,\r\n                updatedBy: user.id\r\n            },\r\n            update: {\r\n                enabled,\r\n                config: encryptedConfig,\r\n                updatedBy: user.id\r\n            }\r\n        });\r\n    }\r\n\r\n    revalidatePath('/settings/system');\r\n    return { success: true };\r\n}\r\n\r\n\r\n/**\r\n * Save OIDC/SSO configuration\r\n */\r\nfunction normalizeDomains(value: string) {\r\n    if (!value) return [];\r\n    return value\r\n        .split(/[\\n,\\s]+/)\r\n        .map((domain) => domain.trim().toLowerCase())\r\n        .filter(Boolean);\r\n}\r\n\r\nfunction isValidIssuer(value: string) {\r\n    try {\r\n        const url = new URL(value);\r\n        return url.protocol === 'https:';\r\n    } catch {\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction isValidDomain(domain: string) {\r\n    return /^[a-z0-9.-]+\\.[a-z]{2,}$/i.test(domain);\r\n}\r\n\r\nexport async function saveOidcConfig(\r\n    prevState: { error?: string | null; success?: boolean } | undefined,\r\n    formData: FormData\r\n): Promise<{ error?: string | null; success?: boolean }> {\r\n    try {\r\n        await assertAdmin();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin access required.' };\r\n    }\r\n\r\n    const { getEncryptionKey, encrypt } = await import('@/lib/encryption');\r\n\r\n    const issuer = (formData.get('issuer') as string | null)?.trim() ?? '';\r\n    const clientId = (formData.get('clientId') as string | null)?.trim() ?? '';\r\n    const clientSecret = (formData.get('clientSecret') as string | null)?.trim() ?? '';\r\n    const enabledValue = formData.get('enabled');\r\n    const autoProvisionValue = formData.get('autoProvision');\r\n    const enabled = enabledValue === 'on' || enabledValue === 'true';\r\n    const autoProvision = autoProvisionValue === 'on' || autoProvisionValue === 'true';\r\n    const allowedDomainsInput = (formData.get('allowedDomains') as string | null) ?? '';\r\n    const allowedDomains = normalizeDomains(allowedDomainsInput);\r\n\r\n    if (enabled) {\r\n        if (!issuer || !isValidIssuer(issuer)) {\r\n            return { error: 'Issuer URL must be a valid HTTPS URL.' };\r\n        }\r\n\r\n        if (!clientId) {\r\n            return { error: 'Client ID is required.' };\r\n        }\r\n\r\n        if (allowedDomains.length > 0 && allowedDomains.some((domain) => !isValidDomain(domain))) {\r\n            return { error: 'Allowed domains must be valid domain names.' };\r\n        }\r\n    }\r\n\r\n    const existing = await prisma.oidcConfig.findFirst({\r\n        orderBy: { updatedAt: 'desc' }\r\n    });\r\n\r\n    const encryptionKey = await getEncryptionKey();\r\n\r\n    if (enabled && !encryptionKey) {\r\n        return { error: 'ENCRYPTION_KEY must be set before enabling SSO.' };\r\n    }\r\n\r\n    if (clientSecret && !encryptionKey) {\r\n        return { error: 'ENCRYPTION_KEY must be set before saving the client secret.' };\r\n    }\r\n\r\n    if (!existing && enabled && !clientSecret) {\r\n        return { error: 'Client Secret is required for new configuration.' };\r\n    }\r\n\r\n    let encryptedSecret = existing?.clientSecret ?? null;\r\n    if (clientSecret && clientSecret !== '********') {\r\n        encryptedSecret = await encrypt(clientSecret);\r\n    } else if (enabled && !encryptedSecret) {\r\n        return { error: 'Client Secret is required for new configuration.' };\r\n    }\r\n\r\n    const user = await getCurrentUser();\r\n    const actorId = user.id;\r\n\r\n    await prisma.oidcConfig.upsert({\r\n        where: { id: existing?.id || 'default' },\r\n        create: {\r\n            id: 'default',\r\n            issuer,\r\n            clientId,\r\n            clientSecret: encryptedSecret || '',\r\n            enabled,\r\n            autoProvision,\r\n            allowedDomains,\r\n            updatedBy: actorId\r\n        },\r\n        update: {\r\n            issuer,\r\n            clientId,\r\n            ...(encryptedSecret ? { clientSecret: encryptedSecret } : {}),\r\n            enabled,\r\n            autoProvision,\r\n            allowedDomains,\r\n            updatedBy: actorId\r\n        }\r\n    });\r\n\r\n    await import('@/lib/audit').then(m => m.logAudit({\r\n        action: 'oidc.config.updated',\r\n        entityType: 'USER',\r\n        entityId: user.id,\r\n        actorId,\r\n        details: {\r\n            enabled,\r\n            autoProvision,\r\n            issuer,\r\n            allowedDomainsCount: allowedDomains.length\r\n        }\r\n    }));\r\n\r\n    revalidatePath('/settings/system');\r\n    revalidatePath('/login');\r\n\r\n    return { success: true };\r\n}\r\n\r\n/**\r\n * Save System Encryption Key\r\n */\r\nexport async function saveEncryptionKey(\r\n    prevState: { error?: string | null; success?: boolean } | undefined,\r\n    formData: FormData\r\n): Promise<{ error?: string | null; success?: boolean }> {\r\n    try {\r\n        await assertAdmin();\r\n    } catch (error) {\r\n        return { error: error instanceof Error ? error.message : 'Unauthorized. Admin access required.' };\r\n    }\r\n\r\n    const key = (formData.get('encryptionKey') as string | null)?.trim() ?? '';\r\n\r\n    if (!key) {\r\n        return { error: 'Encryption key is required.' };\r\n    }\r\n\r\n    // Validate hex format (32 bytes = 64 hex chars)\r\n    if (!/^[0-9a-fA-F]{64}$/.test(key)) {\r\n        return { error: 'Invalid key format. Must be a 32-byte (64 character) hex string.' };\r\n    }\r\n\r\n    await prisma.systemSettings.upsert({\r\n        where: { id: 'default' },\r\n        create: { encryptionKey: key },\r\n        update: { encryptionKey: key }\r\n    });\r\n\r\n    const user = await getCurrentUser();\r\n    await import('@/lib/audit').then(m => m.logAudit({\r\n        action: 'system.encryption_key.updated',\r\n        entityType: 'USER',\r\n        entityId: user.id,\r\n        actorId: user.id,\r\n        details: {\r\n            keyLength: key.length\r\n        }\r\n    }));\r\n\r\n    revalidatePath('/settings/system');\r\n    return { success: true };\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\system\\page.tsx",
    "messages": [
      {
        "ruleId": null,
        "nodeType": null,
        "fatal": true,
        "severity": 2,
        "message": "Parsing error: JSX element 'SettingsSectionCard' has no corresponding closing tag.",
        "line": 99,
        "column": 9
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 1,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { getUserPermissions } from '@/lib/rbac';\r\nimport { logger } from '@/lib/logger';\r\nimport AppUrlSettings from '@/components/settings/AppUrlSettings';\r\nimport SettingsPage from '@/components/settings/SettingsPage';\r\nimport SettingsSectionCard from '@/components/settings/SettingsSectionCard';\r\n\r\n// Force dynamic rendering to always fetch fresh data\r\nexport const dynamic = 'force-dynamic';\r\nexport const revalidate = 0;\r\n\r\nexport default async function SystemSettingsPage() {\r\n    const permissions = await getUserPermissions();\r\n\r\n    // Show access denied message for non-admins instead of redirecting\r\n    if (!permissions.isAdmin) {\r\n        return (\r\n            <SettingsPage\r\n                currentPageId=\"system\"\r\n                backHref=\"/settings\"\r\n                title=\"System Settings\"\r\n                description=\"Application-wide configuration and defaults.\"\r\n            >\r\n                <SettingsSectionCard\r\n                    title=\"Access restricted\"\r\n                    description=\"Administrator access required to view these settings.\"\r\n                >\r\n                    <div className=\"settings-empty-state-v2\">\r\n                        <div className=\"settings-empty-icon\">!</div>\r\n                        <h3>Admin role required</h3>\r\n                        <p>Your current role is {permissions.role}. Contact an administrator for access.</p>\r\n                    </div>\r\n                </SettingsSectionCard>\r\n            </SettingsPage>\r\n        );\r\n    }\r\n\r\n\r\n    // Fetch system settings for app URL and encryption key check header\r\n    let appUrlData = { appUrl: null as string | null, fallback: process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000' };\r\n    let hasEncryptionKey = false;\r\n    let ssoConfig = null;\r\n\r\n    try {\r\n        const prisma = await import('@/lib/prisma').then(m => m.default);\r\n\r\n        const systemSettings = await prisma.systemSettings.findUnique({\r\n            where: { id: 'default' },\r\n            select: { appUrl: true, encryptionKey: true }\r\n        });\r\n\r\n        if (systemSettings) {\r\n            appUrlData.appUrl = systemSettings.appUrl;\r\n            // Check if key exists in DB or Env\r\n            hasEncryptionKey = Boolean(systemSettings.encryptionKey || process.env.ENCRYPTION_KEY);\r\n        } else {\r\n            hasEncryptionKey = Boolean(process.env.ENCRYPTION_KEY);\r\n        }\r\n\r\n        // Fetch SSO config\r\n        const oidcConfig = await prisma.oidcConfig.findFirst({\r\n            orderBy: { updatedAt: 'desc' }\r\n        });\r\n\r\n        if (oidcConfig) {\r\n            ssoConfig = {\r\n                enabled: oidcConfig.enabled,\r\n                issuer: oidcConfig.issuer,\r\n                clientId: oidcConfig.clientId,\r\n                autoProvision: oidcConfig.autoProvision,\r\n                allowedDomains: oidcConfig.allowedDomains ?? [],\r\n                hasClientSecret: Boolean(oidcConfig.clientSecret)\r\n            };\r\n        }\r\n\r\n    } catch (error) {\r\n        logger.warn('Failed to fetch system settings from DB', {\r\n            error: error instanceof Error ? error.message : 'Unknown error'\r\n        });\r\n    }\r\n\r\n    // Determine secure callback URL\r\n    const callbackBase = appUrlData.appUrl || appUrlData.fallback;\r\n    const callbackUrl = callbackBase\r\n        ? `${callbackBase.replace(/\\/$/, '')}/api/auth/callback/oidc`\r\n        : '/api/auth/callback/oidc';\r\n\r\n\r\n    // Import components dynamically or statically\r\n    const EncryptionKeyForm = (await import('@/components/settings/EncryptionKeyForm')).default;\r\n    const SsoSettingsForm = (await import('@/components/settings/SsoSettingsForm')).default;\r\n\r\n    return (\r\n      <SettingsPage\r\n        currentPageId=\"system\"\r\n        backHref=\"/settings\"\r\n        title=\"System Settings\"\r\n        description=\"Application-wide configuration and defaults.\"\r\n      >\r\n        <SettingsSectionCard\r\n          title=\"Access restricted\"\r\n          description=\"Administrator access required to view these settings.\"\r\n        >\r\n            <SettingsSectionCard\r\n                title=\"Application URL\"\r\n                description=\"Used in emails, webhooks, and RSS feeds.\"\r\n            >\r\n                <AppUrlSettings\r\n                    appUrl={appUrlData.appUrl}\r\n                    fallback={appUrlData.fallback}\r\n                />\r\n            </SettingsSectionCard>\r\n\r\n            <SettingsSectionCard\r\n                title=\"System Security\"\r\n                description=\"Manage encryption keys and Single Sign-On (SSO) configuration.\"\r\n            >\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem' }}>\r\n                    <div>\r\n                        <h4 className=\"settings-subsection-title\">Encryption Key</h4>\r\n                        <p className=\"settings-subsection-description\">\r\n                            Required for securing sensitive data like API tokens and SSO secrets.\r\n                        </p>\r\n                        <EncryptionKeyForm hasKey={hasEncryptionKey} />\r\n                    </div>\r\n\r\n                    <div style={{ borderTop: '1px solid var(--border)', paddingTop: '2rem' }}>\r\n                        <h4 className=\"settings-subsection-title\">Single Sign-On (OIDC)</h4>\r\n                        <p className=\"settings-subsection-description\">\r\n                            Configure OpenID Connect provider (e.g., Auth0, Okta) for employee login.\r\n                        </p>\r\n                        <SsoSettingsForm\r\n                            initialConfig={ssoConfig}\r\n                            callbackUrl={callbackUrl}\r\n                            hasEncryptionKey={hasEncryptionKey}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </SettingsSectionCard>\r\n\r\n        </SettingsPage>\r\n    );\r\n  }\r\n\r\n  // Fetch system settings for app URL\r\n  const appUrlData = {\r\n    appUrl: null as string | null,\r\n    fallback: process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000',\r\n  };\r\n\r\n  try {\r\n    const settings = await import('@/lib/prisma').then(m =>\r\n      m.default.systemSettings.findUnique({\r\n        where: { id: 'default' },\r\n        select: { appUrl: true },\r\n      })\r\n    );\r\n\r\n    if (settings) {\r\n      appUrlData.appUrl = settings.appUrl;\r\n    }\r\n  } catch (error) {\r\n    logger.warn('Failed to fetch app URL settings from DB', {\r\n      error: error instanceof Error ? error.message : 'Unknown error',\r\n    });\r\n  }\r\n\r\n  return (\r\n    <SettingsPage\r\n      currentPageId=\"system\"\r\n      backHref=\"/settings\"\r\n      title=\"System Settings\"\r\n      description=\"Configure core application settings that affect system-wide behavior.\"\r\n    >\r\n      <SettingsSectionCard\r\n        title=\"Application URL\"\r\n        description=\"Used in emails, webhooks, and RSS feeds.\"\r\n      >\r\n        <AppUrlSettings appUrl={appUrlData.appUrl} fallback={appUrlData.fallback} />\r\n      </SettingsSectionCard>\r\n    </SettingsPage>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\settings\\workspace\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\system-logs\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\teams\\actions.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 279,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 279,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8842, 8845], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8842, 8845], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\teams\\page.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 307,
        "column": 35,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [12834, 12957],
              "text": "\r\n                        ΓÜá∩╕Å You don&apos;t have access to create teams. Admin or Responder role required.\r\n                    "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [12834, 12957],
              "text": "\r\n                        ΓÜá∩╕Å You don&lsquo;t have access to create teams. Admin or Responder role required.\r\n                    "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [12834, 12957],
              "text": "\r\n                        ΓÜá∩╕Å You don&#39;t have access to create teams. Admin or Responder role required.\r\n                    "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [12834, 12957],
              "text": "\r\n                        ΓÜá∩╕Å You don&rsquo;t have access to create teams. Admin or Responder role required.\r\n                    "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport { Prisma } from '@prisma/client';\r\nimport { getUserPermissions } from '@/lib/rbac';\r\nimport { addTeamMember, createTeam, deleteTeam, removeTeamMember, updateTeam, updateTeamMemberRole, updateTeamMemberNotifications } from './actions';\r\nimport { logger } from '@/lib/logger';\r\nimport TeamCreateForm from '@/components/TeamCreateForm';\r\nimport TeamCard from '@/components/TeamCard';\r\nimport Link from 'next/link';\r\n\r\ntype TeamsPageProps = {\r\n    searchParams?: Promise<{ [key: string]: string | string[] | undefined }>;\r\n};\r\n\r\nconst TEAMS_PER_PAGE = 10;\r\nconst ACTIVITY_PER_PAGE = 5;\r\n\r\nfunction buildPaginationUrl(baseParams: URLSearchParams, page: number): string {\r\n    const params = new URLSearchParams(baseParams);\r\n    params.set('page', page.toString());\r\n    return `/teams?${params.toString()}`;\r\n}\r\n\r\nfunction getPageNumbers(currentPage: number, totalPages: number): (number | string)[] {\r\n    const pages: (number | string)[] = [];\r\n    const maxVisible = 7; // Maximum number of page buttons to show\r\n\r\n    if (totalPages <= maxVisible) {\r\n        // Show all pages if total is less than max\r\n        for (let i = 1; i <= totalPages; i++) {\r\n            pages.push(i);\r\n        }\r\n    } else {\r\n        // Always show first page\r\n        pages.push(1);\r\n\r\n        if (currentPage <= 4) {\r\n            // Near the beginning: 1 2 3 4 5 ... last\r\n            for (let i = 2; i <= 5; i++) {\r\n                pages.push(i);\r\n            }\r\n            pages.push('...');\r\n            pages.push(totalPages);\r\n        } else if (currentPage >= totalPages - 3) {\r\n            // Near the end: 1 ... (last-4) (last-3) (last-2) (last-1) last\r\n            pages.push('...');\r\n            for (let i = totalPages - 4; i <= totalPages; i++) {\r\n                pages.push(i);\r\n            }\r\n        } else {\r\n            // In the middle: 1 ... (current-1) current (current+1) ... last\r\n            pages.push('...');\r\n            for (let i = currentPage - 1; i <= currentPage + 1; i++) {\r\n                pages.push(i);\r\n            }\r\n            pages.push('...');\r\n            pages.push(totalPages);\r\n        }\r\n    }\r\n\r\n    return pages;\r\n}\r\n\r\nexport default async function TeamsPage({ searchParams }: TeamsPageProps) {\r\n    const awaitedSearchParams = await searchParams;\r\n    const query = typeof awaitedSearchParams?.q === 'string' ? awaitedSearchParams.q.trim() : '';\r\n    const sortBy = typeof awaitedSearchParams?.sortBy === 'string' ? awaitedSearchParams.sortBy : 'createdAt';\r\n    const sortOrder = typeof awaitedSearchParams?.sortOrder === 'string' ? awaitedSearchParams.sortOrder : 'desc';\r\n    const minMembers = typeof awaitedSearchParams?.minMembers === 'string' ? Number(awaitedSearchParams.minMembers) : undefined;\r\n    const minServices = typeof awaitedSearchParams?.minServices === 'string' ? Number(awaitedSearchParams.minServices) : undefined;\r\n    const page = Math.max(1, Number(awaitedSearchParams?.page) || 1);\r\n    const skip = (page - 1) * TEAMS_PER_PAGE;\r\n\r\n    // Build where clause with filters\r\n    const where: Prisma.TeamWhereInput = query\r\n        ? {\r\n            OR: [\r\n                { name: { contains: query, mode: 'insensitive' } },\r\n                { description: { contains: query, mode: 'insensitive' } }\r\n            ]\r\n        }\r\n        : {};\r\n\r\n    // Build orderBy\r\n    let orderBy: Prisma.TeamOrderByWithRelationInput = { createdAt: 'desc' }; // Default: newest first\r\n    if (sortBy === 'createdAt') {\r\n        orderBy = { createdAt: sortOrder as Prisma.SortOrder };\r\n    } else if (sortBy === 'name') {\r\n        orderBy = { name: sortOrder as Prisma.SortOrder };\r\n    } else {\r\n        // For memberCount/serviceCount, we'll sort in memory after fetching\r\n        orderBy = { createdAt: 'desc' };\r\n    }\r\n\r\n    const [allTeams, _totalCount, users, ownerCounts] = await Promise.all([\r\n        prisma.team.findMany({\r\n            include: {\r\n                members: {\r\n                    include: {\r\n                        user: {\r\n                            select: {\r\n                                id: true,\r\n                                name: true,\r\n                                email: true,\r\n                                status: true,\r\n                                emailNotificationsEnabled: true,\r\n                                smsNotificationsEnabled: true,\r\n                                pushNotificationsEnabled: true,\r\n                                whatsappNotificationsEnabled: true\r\n                            }\r\n                        }\r\n                    },\r\n                    orderBy: { role: 'asc' }\r\n                },\r\n                // teamLead relation - uncomment after running: npx prisma generate\r\n                // teamLead: {\r\n                //     select: {\r\n                //         id: true,\r\n                //         name: true,\r\n                //         email: true\r\n                //     }\r\n                // },\r\n                services: { select: { id: true, name: true } },\r\n                _count: { select: { members: true, services: true } }\r\n            },\r\n            where,\r\n            orderBy,\r\n        }),\r\n        prisma.team.count({ where }),\r\n        prisma.user.findMany({\r\n            orderBy: { name: 'asc' },\r\n            select: {\r\n                id: true,\r\n                name: true,\r\n                email: true,\r\n                status: true\r\n            }\r\n        }),\r\n        prisma.teamMember.groupBy({\r\n            by: ['teamId'],\r\n            where: { role: 'OWNER' },\r\n            _count: { _all: true }\r\n        })\r\n    ]);\r\n\r\n    // Apply member/service count filters and sorting\r\n    let filteredTeams = allTeams;\r\n\r\n    if (minMembers !== undefined) {\r\n        filteredTeams = filteredTeams.filter(team => team._count.members >= minMembers);\r\n    }\r\n\r\n    if (minServices !== undefined) {\r\n        filteredTeams = filteredTeams.filter(team => team._count.services >= minServices);\r\n    }\r\n\r\n    // Sort by member/service count if needed\r\n    if (sortBy === 'memberCount' || sortBy === 'serviceCount') {\r\n        filteredTeams = [...filteredTeams].sort((a, b) => {\r\n            const aCount = sortBy === 'memberCount' ? a._count.members : a._count.services;\r\n            const bCount = sortBy === 'memberCount' ? b._count.members : b._count.services;\r\n            return sortOrder === 'asc' ? aCount - bCount : bCount - aCount;\r\n        });\r\n    }\r\n\r\n    // Apply pagination\r\n    const teams = filteredTeams.slice(skip, skip + TEAMS_PER_PAGE);\r\n    const adjustedTotalCount = filteredTeams.length;\r\n\r\n    const ownerCountByTeam = new Map<string, number>();\r\n    for (const entry of ownerCounts) {\r\n        ownerCountByTeam.set(entry.teamId, entry._count._all);\r\n    }\r\n\r\n    // Get current user permissions\r\n    let permissions;\r\n    try {\r\n        permissions = await getUserPermissions();\r\n    } catch (error) {\r\n        logger.error('Error getting user permissions', { component: 'teams-page', error });\r\n        // Default to USER role if there's an error\r\n        permissions = {\r\n            id: '',\r\n            role: 'USER' as const,\r\n            isAdmin: false,\r\n            isAdminOrResponder: false,\r\n            isResponderOrAbove: false\r\n        };\r\n    }\r\n    const canCreateTeam = permissions.isAdminOrResponder;\r\n    const canUpdateTeam = permissions.isAdminOrResponder;\r\n    const canDeleteTeam = permissions.isAdmin;\r\n    const canManageMembers = permissions.isAdminOrResponder;\r\n\r\n    const totalPages = Math.ceil(adjustedTotalCount / TEAMS_PER_PAGE);\r\n    const pageNumbers = totalPages > 1 ? getPageNumbers(page, totalPages) : [];\r\n    const baseParams = new URLSearchParams();\r\n    if (query) baseParams.set('q', query);\r\n    if (sortBy !== 'createdAt') baseParams.set('sortBy', sortBy);\r\n    if (sortOrder !== 'desc') baseParams.set('sortOrder', sortOrder);\r\n    if (minMembers !== undefined) baseParams.set('minMembers', minMembers.toString());\r\n    if (minServices !== undefined) baseParams.set('minServices', minServices.toString());\r\n\r\n    // Fetch activity logs for each team\r\n    const teamsWithActivity = await Promise.all(\r\n        teams.map(async (team) => {\r\n            try {\r\n                const [activityLogs, activityTotal] = await Promise.all([\r\n                    prisma.auditLog.findMany({\r\n                        where: {\r\n                            OR: [\r\n                                { entityType: 'TEAM', entityId: team.id },\r\n                                {\r\n                                    entityType: 'TEAM_MEMBER',\r\n                                    entityId: {\r\n                                        not: null,\r\n                                        startsWith: `${team.id}:`\r\n                                    }\r\n                                }\r\n                            ]\r\n                        },\r\n                        include: {\r\n                            actor: {\r\n                                select: {\r\n                                    name: true,\r\n                                    email: true\r\n                                }\r\n                            }\r\n                        },\r\n                        orderBy: { createdAt: 'desc' },\r\n                        take: ACTIVITY_PER_PAGE\r\n                    }),\r\n                    prisma.auditLog.count({\r\n                        where: {\r\n                            OR: [\r\n                                { entityType: 'TEAM', entityId: team.id },\r\n                                {\r\n                                    entityType: 'TEAM_MEMBER',\r\n                                    entityId: {\r\n                                        not: null,\r\n                                        startsWith: `${team.id}:`\r\n                                    }\r\n                                }\r\n                            ]\r\n                        }\r\n                    })\r\n                ]);\r\n\r\n                return { team, activityLogs, activityTotal };\r\n            } catch (error) {\r\n                // If activity log fetch fails, return empty logs\r\n                logger.error(`Error fetching activity logs for team ${team.id}`, { component: 'teams-page', teamId: team.id, error });\r\n                return { team, activityLogs: [], activityTotal: 0 };\r\n            }\r\n        })\r\n    );\r\n\r\n    return (\r\n        <main style={{ padding: '1rem' }}>\r\n            {/* Header */}\r\n            <header style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                marginBottom: '2rem',\r\n                paddingBottom: '1.5rem',\r\n                borderBottom: '2px solid var(--border)'\r\n            }}>\r\n                <div>\r\n                    <h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: 'var(--text-primary)', marginBottom: '0.5rem' }}>Teams</h1>\r\n                    <p style={{ color: 'var(--text-secondary)', fontSize: '0.95rem' }}>\r\n                        Manage ownership, roles, and service coverage. {adjustedTotalCount} {adjustedTotalCount === 1 ? 'team' : 'teams'} total.\r\n                    </p>\r\n                </div>\r\n                <div style={{ display: 'flex', gap: '0.75rem', alignItems: 'center' }}>\r\n                    <Link\r\n                        href=\"/users\"\r\n                        className=\"glass-button\"\r\n                        style={{ textDecoration: 'none' }}\r\n                    >\r\n                        View Users\r\n                    </Link>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Create Team Section */}\r\n            {canCreateTeam ? (\r\n                <div id=\"create-team\" className=\"glass-panel\" style={{\r\n                    padding: '1.5rem',\r\n                    marginBottom: '2rem',\r\n                    background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n                    border: '1px solid #e2e8f0',\r\n                    boxShadow: '0 4px 12px rgba(0,0,0,0.05)'\r\n                }}>\r\n                    <h2 style={{ fontSize: '1.2rem', fontWeight: '600', marginBottom: '1rem', color: 'var(--accent)' }}>Create Team</h2>\r\n                    <TeamCreateForm action={createTeam} />\r\n                </div>\r\n            ) : (\r\n                <div className=\"glass-panel\" style={{\r\n                    padding: '1.5rem',\r\n                    marginBottom: '2rem',\r\n                    background: '#f9fafb',\r\n                    border: '1px solid #e5e7eb',\r\n                    opacity: 0.7\r\n                }}>\r\n                    <h2 style={{ fontSize: '1.2rem', fontWeight: '600', marginBottom: '0.5rem', color: 'var(--text-secondary)' }}>Create Team</h2>\r\n                    <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '1rem' }}>\r\n                        ΓÜá∩╕Å You don't have access to create teams. Admin or Responder role required.\r\n                    </p>\r\n                    <div style={{ padding: '1rem', background: 'white', borderRadius: '6px', opacity: 0.5, pointerEvents: 'none' }}>\r\n                        <TeamCreateForm action={createTeam} />\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Advanced Search and Filters */}\r\n            <div className=\"glass-panel\" style={{\r\n                padding: '1.5rem',\r\n                marginBottom: '1.5rem',\r\n                background: 'white',\r\n                border: '1px solid #e2e8f0'\r\n            }}>\r\n                <h3 style={{ fontSize: '1rem', fontWeight: '600', marginBottom: '1rem', color: 'var(--text-primary)' }}>Search & Filters</h3>\r\n                <form method=\"get\" style={{ display: 'grid', gap: '1rem' }}>\r\n                    <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr', gap: '0.75rem', alignItems: 'end' }}>\r\n                        <div>\r\n                            <label style={{ display: 'block', marginBottom: '0.35rem', fontSize: '0.8rem', fontWeight: '500' }}>Search Teams</label>\r\n                            <input\r\n                                name=\"q\"\r\n                                defaultValue={query}\r\n                                placeholder=\"Team name or description\"\r\n                                style={{\r\n                                    width: '100%',\r\n                                    padding: '0.6rem 0.75rem',\r\n                                    border: '1px solid var(--border)',\r\n                                    borderRadius: '8px',\r\n                                    fontSize: '0.9rem'\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label style={{ display: 'block', marginBottom: '0.35rem', fontSize: '0.8rem', fontWeight: '500' }}>Sort By</label>\r\n                            <select\r\n                                name=\"sortBy\"\r\n                                defaultValue={sortBy}\r\n                                style={{\r\n                                    width: '100%',\r\n                                    padding: '0.6rem 0.75rem',\r\n                                    border: '1px solid var(--border)',\r\n                                    borderRadius: '8px',\r\n                                    fontSize: '0.9rem'\r\n                                }}\r\n                            >\r\n                                <option value=\"createdAt\">Created Date</option>\r\n                                <option value=\"name\">Name</option>\r\n                                <option value=\"memberCount\">Member Count</option>\r\n                                <option value=\"serviceCount\">Service Count</option>\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label style={{ display: 'block', marginBottom: '0.35rem', fontSize: '0.8rem', fontWeight: '500' }}>Order</label>\r\n                            <select\r\n                                name=\"sortOrder\"\r\n                                defaultValue={sortOrder}\r\n                                style={{\r\n                                    width: '100%',\r\n                                    padding: '0.6rem 0.75rem',\r\n                                    border: '1px solid var(--border)',\r\n                                    borderRadius: '8px',\r\n                                    fontSize: '0.9rem'\r\n                                }}\r\n                            >\r\n                                <option value=\"desc\">Newest First</option>\r\n                                <option value=\"asc\">Oldest First</option>\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label style={{ display: 'block', marginBottom: '0.35rem', fontSize: '0.8rem', fontWeight: '500' }}>Min Members</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                name=\"minMembers\"\r\n                                defaultValue={minMembers}\r\n                                placeholder=\"Any\"\r\n                                min=\"0\"\r\n                                style={{\r\n                                    width: '100%',\r\n                                    padding: '0.6rem 0.75rem',\r\n                                    border: '1px solid var(--border)',\r\n                                    borderRadius: '8px',\r\n                                    fontSize: '0.9rem'\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label style={{ display: 'block', marginBottom: '0.35rem', fontSize: '0.8rem', fontWeight: '500' }}>Min Services</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                name=\"minServices\"\r\n                                defaultValue={minServices}\r\n                                placeholder=\"Any\"\r\n                                min=\"0\"\r\n                                style={{\r\n                                    width: '100%',\r\n                                    padding: '0.6rem 0.75rem',\r\n                                    border: '1px solid var(--border)',\r\n                                    borderRadius: '8px',\r\n                                    fontSize: '0.9rem'\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'flex-end' }}>\r\n                        <button type=\"submit\" className=\"glass-button\">Apply Filters</button>\r\n                        <a href=\"/teams\" className=\"glass-button\" style={{ textDecoration: 'none', display: 'inline-flex', alignItems: 'center' }}>\r\n                            Reset\r\n                        </a>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n            {/* Teams List */}\r\n            <div style={{ display: 'grid', gap: '1.5rem' }}>\r\n                {teams.length === 0 ? (\r\n                    <div className=\"glass-panel empty-state\" style={{\r\n                        padding: '3rem',\r\n                        textAlign: 'center',\r\n                        color: 'var(--text-muted)',\r\n                        background: 'white',\r\n                        borderRadius: '12px'\r\n                    }}>\r\n                        <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>≡ƒæÑ</div>\r\n                        <p style={{ fontSize: '1.1rem', marginBottom: '0.5rem', fontWeight: '600' }}>No teams found</p>\r\n                        <p style={{ fontSize: '0.9rem', marginBottom: '1.5rem' }}>\r\n                            {query || minMembers !== undefined || minServices !== undefined\r\n                                ? 'Try adjusting your search criteria.'\r\n                                : 'Create one above to start organizing responders and services.'}\r\n                        </p>\r\n                        {canCreateTeam && (\r\n                            <a href=\"#create-team\" className=\"glass-button primary\" style={{ textDecoration: 'none' }}>\r\n                                Create Your First Team\r\n                            </a>\r\n                        )}\r\n                    </div>\r\n                ) : teamsWithActivity.map(({ team, activityLogs, activityTotal }) => {\r\n                    const availableUsers = users.filter((user) =>\r\n                        !team.members.some((member) => member.userId === user.id) && user.status !== 'DISABLED'\r\n                    );\r\n\r\n                    const ownerCount = ownerCountByTeam.get(team.id) || 0;\r\n                    const adminCount = team.members.filter(m => m.role === 'ADMIN').length;\r\n                    const memberCount = team.members.length;\r\n                    const isTeamOwner = team.members.some((member) => member.userId === permissions.id && member.role === 'OWNER');\r\n                    const canManageNotifications = permissions.isAdmin ||\r\n                        isTeamOwner ||\r\n                        (permissions.isAdminOrResponder && team.members.some((member) => member.userId === permissions.id));\r\n                    const canAssignOwnerAdmin = permissions.isAdmin || isTeamOwner;\r\n\r\n                    return (\r\n                        <TeamCard\r\n                            key={team.id}\r\n                            team={team}\r\n                            teamId={team.id}\r\n                            ownerCount={ownerCount}\r\n                            adminCount={adminCount}\r\n                            memberCount={memberCount}\r\n                            availableUsers={availableUsers}\r\n                            activityLogs={activityLogs}\r\n                            activityTotal={activityTotal}\r\n                            canUpdateTeam={canUpdateTeam}\r\n                            canDeleteTeam={canDeleteTeam}\r\n                            canManageMembers={canManageMembers}\r\n                            canManageNotifications={canManageNotifications}\r\n                            canAssignOwnerAdmin={canAssignOwnerAdmin}\r\n                            updateTeam={updateTeam}\r\n                            deleteTeam={deleteTeam}\r\n                            addTeamMember={addTeamMember}\r\n                            updateTeamMemberRole={updateTeamMemberRole}\r\n                            updateTeamMemberNotifications={updateTeamMemberNotifications}\r\n                            removeTeamMember={removeTeamMember}\r\n                        />\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            {/* Pagination */}\r\n            {totalPages > 1 && (\r\n                <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    gap: '1rem',\r\n                    marginTop: '2rem',\r\n                    padding: '1.25rem 1.5rem',\r\n                    background: 'white',\r\n                    borderRadius: '12px',\r\n                    border: '1px solid #e2e8f0',\r\n                    flexWrap: 'wrap'\r\n                }}>\r\n                    <div style={{ fontSize: '0.85rem', color: 'var(--text-secondary)', fontWeight: '500' }}>\r\n                        Showing {skip + 1}-{Math.min(skip + TEAMS_PER_PAGE, adjustedTotalCount)} of {adjustedTotalCount} teams\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '0.4rem', alignItems: 'center', flexWrap: 'wrap' }}>\r\n                        <Link\r\n                            href={buildPaginationUrl(baseParams, 1)}\r\n                            className={`glass-button ${page === 1 ? 'disabled' : ''}`}\r\n                            style={{\r\n                                padding: '0.4rem 0.8rem',\r\n                                fontSize: '0.8rem',\r\n                                textDecoration: 'none',\r\n                                opacity: page === 1 ? 0.5 : 1,\r\n                                pointerEvents: page === 1 ? 'none' : 'auto'\r\n                            }}\r\n                        >\r\n                            First\r\n                        </Link>\r\n                        <Link\r\n                            href={buildPaginationUrl(baseParams, Math.max(1, page - 1))}\r\n                            className={`glass-button ${page === 1 ? 'disabled' : ''}`}\r\n                            style={{\r\n                                padding: '0.4rem 0.8rem',\r\n                                fontSize: '0.8rem',\r\n                                textDecoration: 'none',\r\n                                opacity: page === 1 ? 0.5 : 1,\r\n                                pointerEvents: page === 1 ? 'none' : 'auto'\r\n                            }}\r\n                        >\r\n                            Previous\r\n                        </Link>\r\n\r\n                        {/* Page Number Buttons */}\r\n                        {pageNumbers.map((pageNum, index) => {\r\n                            if (pageNum === '...') {\r\n                                return (\r\n                                    <span\r\n                                        key={`ellipsis-${index}`}\r\n                                        style={{\r\n                                            padding: '0 0.25rem',\r\n                                            color: 'var(--text-muted)',\r\n                                            fontSize: '0.85rem'\r\n                                        }}\r\n                                    >\r\n                                        ...\r\n                                    </span>\r\n                                );\r\n                            }\r\n\r\n                            const isActive = pageNum === page;\r\n                            return (\r\n                                <Link\r\n                                    key={pageNum}\r\n                                    href={buildPaginationUrl(baseParams, pageNum as number)}\r\n                                    className={`glass-button ${isActive ? 'primary' : ''}`}\r\n                                    style={{\r\n                                        padding: '0.4rem 0.75rem',\r\n                                        fontSize: '0.8rem',\r\n                                        textDecoration: 'none',\r\n                                        minWidth: '2.5rem',\r\n                                        textAlign: 'center',\r\n                                        background: isActive\r\n                                            ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\r\n                                            : undefined,\r\n                                        color: isActive ? 'white' : undefined,\r\n                                        border: isActive ? 'none' : undefined,\r\n                                        fontWeight: isActive ? '600' : '500',\r\n                                        boxShadow: isActive ? '0 2px 8px rgba(102, 126, 234, 0.3)' : undefined\r\n                                    }}\r\n                                >\r\n                                    {String(pageNum)}\r\n                                </Link>\r\n                            );\r\n                        })}\r\n\r\n                        <Link\r\n                            href={buildPaginationUrl(baseParams, Math.min(totalPages, page + 1))}\r\n                            className={`glass-button ${page === totalPages ? 'disabled' : ''}`}\r\n                            style={{\r\n                                padding: '0.4rem 0.8rem',\r\n                                fontSize: '0.8rem',\r\n                                textDecoration: 'none',\r\n                                opacity: page === totalPages ? 0.5 : 1,\r\n                                pointerEvents: page === totalPages ? 'none' : 'auto'\r\n                            }}\r\n                        >\r\n                            Next\r\n                        </Link>\r\n                        <Link\r\n                            href={buildPaginationUrl(baseParams, totalPages)}\r\n                            className={`glass-button ${page === totalPages ? 'disabled' : ''}`}\r\n                            style={{\r\n                                padding: '0.4rem 0.8rem',\r\n                                fontSize: '0.8rem',\r\n                                textDecoration: 'none',\r\n                                opacity: page === totalPages ? 0.5 : 1,\r\n                                pointerEvents: page === totalPages ? 'none' : 'auto'\r\n                            }}\r\n                        >\r\n                            Last\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </main>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\users\\actions.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(app)\\users\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 64,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 64,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2654, 2657], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2654, 2657], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\analytics\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\error.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\incidents\\[id]\\actions.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\incidents\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\incidents\\create\\client.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\incidents\\create\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\incidents\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\loading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\more\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\notifications\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\policies\\[id]\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'MobileAvatar' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 5,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 22
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport Link from 'next/link';\r\nimport { notFound } from 'next/navigation';\r\nimport MobileCard from '@/components/mobile/MobileCard';\r\nimport { MobileAvatar } from '@/components/mobile/MobileUtils';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\ntype PageProps = {\r\n    params: Promise<{ id: string }>;\r\n};\r\n\r\nexport default async function MobilePolicyDetailPage({ params }: PageProps) {\r\n    const { id } = await params;\r\n\r\n    const policy = await prisma.escalationPolicy.findUnique({\r\n        where: { id },\r\n        include: {\r\n            steps: {\r\n                orderBy: { stepOrder: 'asc' },\r\n                include: {\r\n                    targetUser: { select: { id: true, name: true, email: true } },\r\n                    targetTeam: { select: { id: true, name: true } },\r\n                    targetSchedule: { select: { id: true, name: true } }\r\n                }\r\n            },\r\n            services: { select: { id: true, name: true } }\r\n        }\r\n    });\r\n\r\n    if (!policy) {\r\n        notFound();\r\n    }\r\n\r\n    // Group rules by stepOrder\r\n    const stepsMap = new Map<number, typeof policy.steps>();\r\n    policy.steps.forEach(rule => {\r\n        const rules = stepsMap.get(rule.stepOrder) || [];\r\n        rules.push(rule);\r\n        stepsMap.set(rule.stepOrder, rules);\r\n    });\r\n\r\n    const sortedSteps = Array.from(stepsMap.entries()).sort((a, b) => a[0] - b[0]);\r\n\r\n    return (\r\n        <div className=\"mobile-dashboard\">\r\n            {/* Header */}\r\n            <div>\r\n                <Link\r\n                    href=\"/m/policies\"\r\n                    style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '0.375rem',\r\n                        color: 'var(--primary)',\r\n                        textDecoration: 'none',\r\n                        fontSize: '0.85rem',\r\n                        fontWeight: '600',\r\n                        marginBottom: '0.75rem',\r\n                    }}\r\n                >\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                        <path d=\"M15 18l-6-6 6-6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                    </svg>\r\n                    Back to Policies\r\n                </Link>\r\n\r\n                <div style={{ marginBottom: '1.5rem' }}>\r\n                    <h1 style={{ fontSize: '1.25rem', fontWeight: '700', margin: 0, lineHeight: 1.3 }}>\r\n                        {policy.name}\r\n                    </h1>\r\n                    {policy.description && (\r\n                        <div style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginTop: '0.5rem' }}>\r\n                            {policy.description}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Steps */}\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                <h3 style={{ fontSize: '1rem', fontWeight: '700', margin: 0 }}>Escalation Steps</h3>\r\n\r\n                {sortedSteps.length === 0 ? (\r\n                    <div style={{ padding: '2rem', textAlign: 'center', color: 'var(--text-muted)', background: 'var(--bg-secondary)', borderRadius: '8px' }}>\r\n                        No escalation steps defined.\r\n                    </div>\r\n                ) : (\r\n                    sortedSteps.map(([stepOrder, rules]) => (\r\n                        <MobileCard key={stepOrder}>\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                gap: '0.5rem',\r\n                                marginBottom: '0.75rem',\r\n                                borderBottom: '1px solid var(--border)',\r\n                                paddingBottom: '0.5rem'\r\n                            }}>\r\n                                <div style={{\r\n                                    width: '24px',\r\n                                    height: '24px',\r\n                                    borderRadius: '50%',\r\n                                    background: 'var(--accent)',\r\n                                    color: 'white',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                    fontWeight: 'bold',\r\n                                    fontSize: '0.75rem'\r\n                                }}>\r\n                                    {stepOrder + 1}\r\n                                </div>\r\n                                <span style={{ fontWeight: '600', fontSize: '0.9rem', color: 'var(--text-primary)' }}>\r\n                                    Wait {rules[0].delayMinutes}m\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\r\n                                {rules.map((rule) => (\r\n                                    <div key={rule.id} style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\r\n                                        <div style={{ fontSize: '1.25rem' }}>\r\n                                            {rule.targetType === 'USER' ? '≡ƒæñ' : rule.targetType === 'SCHEDULE' ? '≡ƒôà' : '∩┐╜'}\r\n                                        </div>\r\n                                        <div>\r\n                                            <div style={{ fontWeight: '500', fontSize: '0.9rem', color: 'var(--text-primary)' }}>\r\n                                                {rule.targetType === 'USER' && rule.targetUser\r\n                                                    ? (rule.targetUser.name || rule.targetUser.email)\r\n                                                    : rule.targetType === 'SCHEDULE' && rule.targetSchedule\r\n                                                        ? rule.targetSchedule.name\r\n                                                        : rule.targetType === 'TEAM' && rule.targetTeam\r\n                                                            ? rule.targetTeam.name\r\n                                                            : 'Unknown Target'}\r\n                                            </div>\r\n                                            <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>\r\n                                                {rule.targetType === 'USER' ? 'User' : rule.targetType === 'SCHEDULE' ? 'Schedule' : 'Team'}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </MobileCard>\r\n                    ))\r\n                )}\r\n            </div>\r\n\r\n            {/* Used By Services */}\r\n            {policy.services.length > 0 && (\r\n                <div style={{ marginTop: '2rem' }}>\r\n                    <h3 style={{ fontSize: '1rem', fontWeight: '700', marginBottom: '0.75rem' }}>Used by Services</h3>\r\n                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>\r\n                        {policy.services.map(service => (\r\n                            <Link\r\n                                key={service.id}\r\n                                href={`/m/services/${service.id}`}\r\n                                style={{\r\n                                    textDecoration: 'none',\r\n                                    background: 'var(--bg-surface)',\r\n                                    padding: '0.5rem 0.75rem',\r\n                                    borderRadius: '6px',\r\n                                    border: '1px solid var(--border)',\r\n                                    color: 'var(--text-primary)',\r\n                                    fontSize: '0.85rem',\r\n                                    fontWeight: '500'\r\n                                }}\r\n                            >\r\n                                {service.name}\r\n                            </Link>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\policies\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\postmortems\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\postmortems\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'MobileAvatar' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 4,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 22
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport Link from 'next/link';\r\nimport MobileCard from '@/components/mobile/MobileCard';\r\nimport { MobileAvatar } from '@/components/mobile/MobileUtils';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport default async function MobilePostmortemsPage() {\r\n    const postmortems = await prisma.postmortem.findMany({\r\n        orderBy: { createdAt: 'desc' },\r\n        include: {\r\n            incident: {\r\n                select: {\r\n                    title: true,\r\n                    service: { select: { name: true } }\r\n                }\r\n            },\r\n            createdBy: { select: { name: true, email: true } },\r\n        },\r\n        take: 20\r\n    });\r\n\r\n    return (\r\n        <div className=\"mobile-dashboard\">\r\n            <h1 style={{ fontSize: '1.25rem', fontWeight: '700', marginBottom: '1rem' }}>Postmortems</h1>\r\n\r\n            {postmortems.length === 0 ? (\r\n                <div style={{\r\n                    padding: '3rem 2rem',\r\n                    textAlign: 'center',\r\n                    background: 'var(--bg-secondary)',\r\n                    borderRadius: '12px',\r\n                    border: '1px solid var(--border)',\r\n                }}>\r\n                    <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>≡ƒô¥</div>\r\n                    <h3 style={{ margin: '0 0 0.5rem', fontSize: '1rem' }}>No postmortems</h3>\r\n                    <p style={{ margin: 0, color: 'var(--text-muted)', fontSize: '0.85rem' }}>\r\n                        Postmortems are created from resolved incidents\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\r\n                    {postmortems.map((pm) => (\r\n                        <Link\r\n                            key={pm.id}\r\n                            href={`/m/postmortems/${pm.id}`}\r\n                            style={{ textDecoration: 'none' }}\r\n                        >\r\n                            <MobileCard className=\"mobile-incident-card\">\r\n                                <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\r\n                                    <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n\r\n                                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                                            <span style={{\r\n                                                fontSize: '0.65rem',\r\n                                                fontWeight: '700',\r\n                                                textTransform: 'uppercase',\r\n                                                padding: '0.2rem 0.5rem',\r\n                                                borderRadius: '4px',\r\n                                                background: pm.status === 'PUBLISHED' ? 'var(--badge-success-bg)' : 'var(--badge-neutral-bg)',\r\n                                                color: pm.status === 'PUBLISHED' ? 'var(--badge-success-text)' : 'var(--badge-neutral-text)'\r\n                                            }}>\r\n                                                {pm.status}\r\n                                            </span>\r\n                                            <span style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>\r\n                                                {new Date(pm.createdAt).toLocaleDateString()}\r\n                                            </span>\r\n                                        </div>\r\n\r\n                                        <div style={{ fontWeight: '600', fontSize: '0.95rem', color: 'var(--text-primary)' }}>\r\n                                            {pm.incident.title}\r\n                                        </div>\r\n\r\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '0.75rem', color: 'var(--text-secondary)' }}>\r\n                                            <span>{pm.incident.service.name}</span>\r\n                                            <span>ΓÇó</span>\r\n                                            <span>By {pm.createdBy.name || pm.createdBy.email}</span>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"var(--text-muted)\" strokeWidth=\"2\">\r\n                                        <path d=\"M9 18l6-6-6-6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                    </svg>\r\n                                </div>\r\n                            </MobileCard>\r\n                        </Link>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\schedules\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\schedules\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\services\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\services\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\status\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\teams\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\teams\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\users\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(mobile)\\m\\users\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(public)\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(public)\\logs\\LogsClient.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 80,
        "column": 83,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 80,
        "endColumn": 86,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2791, 2794], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2791, 2794], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(public)\\logs\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(public)\\m\\forgot-password\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(public)\\m\\login\\MobileLoginClient.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(public)\\m\\login\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(public)\\status\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 33,
        "column": 48,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 33,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1315, 1318], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1315, 1318], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": null,
        "message": "Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').",
        "line": 34,
        "column": 13,
        "severity": 1,
        "nodeType": null,
        "fix": { "range": [1334, 1391], "text": " " }
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 138,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 138,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4320, 4323], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4320, 4323], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": null,
        "message": "Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').",
        "line": 139,
        "column": 7,
        "severity": 1,
        "nodeType": null,
        "fix": { "range": [4334, 4391], "text": " " }
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 181,
        "column": 64,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [5728, 5885],
              "text": "\r\n                  The database tables for the status page haven&apos;t been created yet. Please run the\r\n                  database migration.\r\n                "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [5728, 5885],
              "text": "\r\n                  The database tables for the status page haven&lsquo;t been created yet. Please run the\r\n                  database migration.\r\n                "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [5728, 5885],
              "text": "\r\n                  The database tables for the status page haven&#39;t been created yet. Please run the\r\n                  database migration.\r\n                "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [5728, 5885],
              "text": "\r\n                  The database tables for the status page haven&rsquo;t been created yet. Please run the\r\n                  database migration.\r\n                "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 236,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 236,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7626, 7629], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7626, 7629], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": null,
        "message": "Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').",
        "line": 237,
        "column": 3,
        "severity": 1,
        "nodeType": null,
        "fix": { "range": [7636, 7693], "text": " " }
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 428,
        "column": 81,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 428,
        "endColumn": 84,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [15094, 15097], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [15094, 15097], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": null,
        "message": "Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').",
        "line": 429,
        "column": 5,
        "severity": 1,
        "nodeType": null,
        "fix": { "range": [15109, 15166], "text": " " }
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 452,
        "column": 52,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 452,
        "endColumn": 55,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [15861, 15864], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [15861, 15864], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": null,
        "message": "Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').",
        "line": 453,
        "column": 5,
        "severity": 1,
        "nodeType": null,
        "fix": { "range": [15876, 15933], "text": " " }
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 494,
        "column": 9,
        "nodeType": "MemberExpression",
        "endLine": 494,
        "endColumn": 29
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 1213,
        "column": 27,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [46802, 46902],
              "text": "\r\n                        We&apos;ll never share your email. Unsubscribe anytime.\r\n                      "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [46802, 46902],
              "text": "\r\n                        We&lsquo;ll never share your email. Unsubscribe anytime.\r\n                      "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [46802, 46902],
              "text": "\r\n                        We&#39;ll never share your email. Unsubscribe anytime.\r\n                      "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [46802, 46902],
              "text": "\r\n                        We&rsquo;ll never share your email. Unsubscribe anytime.\r\n                      "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 1420,
        "column": 21,
        "nodeType": "JSXOpeningElement",
        "endLine": 1424,
        "endColumn": 23
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 243,
        "column": 48,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 243,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7900, 7903], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7900, 7903], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 261,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 261,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8772, 8775], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8772, 8775], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 262,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 262,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8868, 8871], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8868, 8871], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 265,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 265,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9044, 9047], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9044, 9047], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 308,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 308,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10233, 10236], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10233, 10236], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 312,
        "column": 67,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 312,
        "endColumn": 70,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10469, 10472], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10469, 10472], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 313,
        "column": 66,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 313,
        "endColumn": 69,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10626, 10629], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10626, 10629], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 385,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 385,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12981, 12984], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12981, 12984], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 388,
        "column": 48,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 388,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13192, 13195], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13192, 13195], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 389,
        "column": 50,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 389,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13333, 13336], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13333, 13336], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 606,
        "column": 40,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 606,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [20770, 20773], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [20770, 20773], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 860,
        "column": 51,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 860,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [31523, 31526], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [31523, 31526], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 892,
        "column": 36,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 892,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [32887, 32890], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [32887, 32890], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 896,
        "column": 33,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 896,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [33096, 33099], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [33096, 33099], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 7,
    "fatalErrorCount": 0,
    "warningCount": 7,
    "fixableErrorCount": 0,
    "fixableWarningCount": 5,
    "source": "∩╗┐import prisma from '@/lib/prisma';\r\nimport { Metadata } from 'next';\r\nimport { getBaseUrl } from '@/lib/env-validation';\r\nimport { getServerSession } from 'next-auth';\r\nimport { getAuthOptions } from '@/lib/auth';\r\nimport { redirect } from 'next/navigation';\r\nimport { logger } from '@/lib/logger';\r\nimport StatusPageHeader from '@/components/status-page/StatusPageHeader';\r\nimport StatusPageServices from '@/components/status-page/StatusPageServices';\r\nimport StatusPageIncidents from '@/components/status-page/StatusPageIncidents';\r\nimport StatusPageAnnouncements from '@/components/status-page/StatusPageAnnouncements';\r\nimport StatusPageSubscribe from '@/components/status-page/StatusPageSubscribe';\r\nimport StatusPageMetrics from '@/components/status-page/StatusPageMetrics';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport async function generateMetadata(): Promise<Metadata> {\r\n  const statusPage = await prisma.statusPage.findFirst({\r\n    where: { enabled: true },\r\n  });\r\n\r\n  if (!statusPage) {\r\n    return {\r\n      title: 'Status Page',\r\n      description: 'Service status and incident information',\r\n    };\r\n  }\r\n\r\n  const branding =\r\n    statusPage.branding &&\r\n    typeof statusPage.branding === 'object' &&\r\n    !Array.isArray(statusPage.branding)\r\n      ? (statusPage.branding as Record<string, any>)\r\n      : {}; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  const metaTitle = (branding.metaTitle as string) || statusPage.name;\r\n  const metaDescription =\r\n    (branding.metaDescription as string) || `Status page for ${statusPage.name}`;\r\n  const baseUrl = getBaseUrl();\r\n\r\n  return {\r\n    title: metaTitle,\r\n    description: metaDescription,\r\n    openGraph: {\r\n      title: metaTitle,\r\n      description: metaDescription,\r\n      url: `${baseUrl}/status`,\r\n      siteName: statusPage.name,\r\n      type: 'website',\r\n    },\r\n    twitter: {\r\n      card: 'summary',\r\n      title: metaTitle,\r\n      description: metaDescription,\r\n    },\r\n    alternates: {\r\n      types: {\r\n        'application/rss+xml': `${baseUrl}/api/status/rss`,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default async function PublicStatusPage() {\r\n  // Get the status page configuration\r\n  const statusPage = await prisma.statusPage.findFirst({\r\n    include: {\r\n      services: {\r\n        include: {\r\n          service: true,\r\n        },\r\n        orderBy: { order: 'asc' },\r\n      },\r\n      announcements: {\r\n        where: {\r\n          isActive: true,\r\n          OR: [{ endDate: null }, { endDate: { gte: new Date() } }],\r\n        },\r\n        orderBy: { startDate: 'desc' },\r\n        take: 10,\r\n      },\r\n    },\r\n  });\r\n\r\n  // Check if status page is disabled\r\n  if (statusPage && !statusPage.enabled) {\r\n    return (\r\n      <div\r\n        style={{ padding: '4rem 2rem', textAlign: 'center', maxWidth: '600px', margin: '0 auto' }}\r\n      >\r\n        <div style={{ fontSize: '4rem', marginBottom: '1rem' }}>≡ƒÜ½</div>\r\n        <h1 style={{ fontSize: '2rem', fontWeight: '700', marginBottom: '1rem', color: '#111827' }}>\r\n          Status Page Disabled\r\n        </h1>\r\n        <p style={{ fontSize: '1.1rem', color: '#6b7280', lineHeight: 1.6 }}>\r\n          The status page is currently disabled by the administrator.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Check if authentication is required\r\n  if (statusPage?.requireAuth) {\r\n    const session = await getServerSession(await getAuthOptions());\r\n    if (!session) {\r\n      redirect('/login?callbackUrl=/status');\r\n    }\r\n  }\r\n\r\n  // If no status page exists, create a default one\r\n  if (!statusPage) {\r\n    try {\r\n      const newStatusPage = await prisma.statusPage.create({\r\n        data: {\r\n          name: 'Status Page',\r\n          enabled: true,\r\n          showServices: true,\r\n          showIncidents: true,\r\n          showMetrics: true,\r\n        },\r\n        include: {\r\n          services: {\r\n            include: {\r\n              service: true,\r\n            },\r\n            orderBy: { order: 'asc' },\r\n          },\r\n          announcements: {\r\n            where: {\r\n              isActive: true,\r\n              OR: [{ endDate: null }, { endDate: { gte: new Date() } }],\r\n            },\r\n            orderBy: { startDate: 'desc' },\r\n            take: 10,\r\n          },\r\n        },\r\n      });\r\n      return renderStatusPage(newStatusPage);\r\n    } catch (error: any) {\r\n      // eslint-disable-line @typescript-eslint/no-explicit-any\r\n      logger.error('Status page creation error', { component: 'status-page', error });\r\n      const isTableMissing =\r\n        error.message?.includes('does not exist') ||\r\n        error.code === '42P01' ||\r\n        error.message?.includes('StatusPage');\r\n\r\n      return (\r\n        <div\r\n          style={{\r\n            minHeight: '100vh',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            padding: '2rem',\r\n            background: '#f9fafb',\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              textAlign: 'center',\r\n              maxWidth: '600px',\r\n              background: 'white',\r\n              padding: '3rem',\r\n              borderRadius: '0.5rem',\r\n              boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\r\n            }}\r\n          >\r\n            <div style={{ fontSize: '4rem', marginBottom: '1rem' }}>!</div>\r\n            <h1\r\n              style={{\r\n                fontSize: '1.5rem',\r\n                fontWeight: 'bold',\r\n                marginBottom: '1rem',\r\n                color: '#111827',\r\n              }}\r\n            >\r\n              Status Page Not Available\r\n            </h1>\r\n            {isTableMissing ? (\r\n              <>\r\n                <p style={{ color: '#6b7280', marginBottom: '1.5rem', lineHeight: '1.6' }}>\r\n                  The database tables for the status page haven't been created yet. Please run the\r\n                  database migration.\r\n                </p>\r\n                <div\r\n                  style={{\r\n                    background: '#f3f4f6',\r\n                    padding: '1rem',\r\n                    borderRadius: '0.5rem',\r\n                    marginBottom: '1.5rem',\r\n                    textAlign: 'left',\r\n                  }}\r\n                >\r\n                  <p\r\n                    style={{\r\n                      fontSize: '0.875rem',\r\n                      color: '#374151',\r\n                      marginBottom: '0.5rem',\r\n                      fontWeight: '600',\r\n                    }}\r\n                  >\r\n                    Run this command:\r\n                  </p>\r\n                  <code\r\n                    style={{\r\n                      background: '#1f2937',\r\n                      color: '#f9fafb',\r\n                      padding: '0.75rem 1rem',\r\n                      borderRadius: '0.25rem',\r\n                      display: 'block',\r\n                      fontSize: '0.875rem',\r\n                      fontFamily: 'monospace',\r\n                    }}\r\n                  >\r\n                    npx prisma db push\r\n                  </code>\r\n                </div>\r\n                <p style={{ fontSize: '0.875rem', color: '#9ca3af' }}>\r\n                  After running the migration, refresh this page.\r\n                </p>\r\n              </>\r\n            ) : (\r\n              <p style={{ color: '#6b7280', marginBottom: '1.5rem' }}>\r\n                An error occurred while setting up the status page. Please check the server logs or\r\n                contact support.\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  return renderStatusPage(statusPage);\r\n}\r\n\r\nasync function renderStatusPage(statusPage: any) {\r\n  // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  // Parse branding\r\n  const branding =\r\n    statusPage.branding &&\r\n    typeof statusPage.branding === 'object' &&\r\n    !Array.isArray(statusPage.branding)\r\n      ? (statusPage.branding as Record<string, any>) // eslint-disable-line @typescript-eslint/no-explicit-any\r\n      : {};\r\n\r\n  const backgroundColor = branding.backgroundColor || '#ffffff';\r\n  const textColor = branding.textColor || 'var(--status-text, #111827)';\r\n  const customCss = branding.customCss || '';\r\n  const layout = branding.layout || 'default';\r\n  const showHeader = branding.showHeader !== false;\r\n  const showFooter = branding.showFooter !== false;\r\n  const showRssLink = branding.showRssLink !== false;\r\n  const showApiLink = branding.showApiLink !== false;\r\n  const autoRefresh = branding.autoRefresh !== false;\r\n  const refreshInterval = branding.refreshInterval || 60;\r\n  const showSubscribe = statusPage.showSubscribe !== false;\r\n  const showUptimeExports = statusPage.enableUptimeExports === true;\r\n\r\n  // Get current service statuses\r\n  const serviceIds = statusPage.services\r\n    .filter((sp: any) => sp.showOnPage) // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    .map((sp: any) => sp.serviceId); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n\r\n  // If no services are configured, get all services (or show empty state)\r\n  let services: any[] = []; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  if (serviceIds.length > 0) {\r\n    services = await prisma.service.findMany({\r\n      where: { id: { in: serviceIds } },\r\n      include: {\r\n        team: {\r\n          select: {\r\n            id: true,\r\n            name: true,\r\n          },\r\n        },\r\n        _count: {\r\n          select: {\r\n            incidents: {\r\n              where: {\r\n                status: { in: ['OPEN', 'ACKNOWLEDGED'] },\r\n              },\r\n            },\r\n          },\r\n        },\r\n        incidents: {\r\n          where: {\r\n            status: { in: ['OPEN', 'ACKNOWLEDGED'] },\r\n          },\r\n          select: {\r\n            urgency: true,\r\n            status: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  } else {\r\n    // If no services configured, show empty state (do not fetch all services)\r\n    services = [];\r\n  }\r\n\r\n  // Calculate actual status based on active incidents\r\n  services = services.map(service => {\r\n    const activeIncidents = service.incidents || [];\r\n\r\n    // Filter out resolved incidents (shouldn't happen, but just in case)\r\n    const unresolvedIncidents = activeIncidents.filter(\r\n      (\r\n        inc: any // eslint-disable-line @typescript-eslint/no-explicit-any\r\n      ) => inc.status !== 'RESOLVED' && inc.status !== 'SNOOZED' && inc.status !== 'SUPPRESSED'\r\n    );\r\n\r\n    const highUrgencyIncidents = unresolvedIncidents.filter((inc: any) => inc.urgency === 'HIGH'); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    const lowUrgencyIncidents = unresolvedIncidents.filter((inc: any) => inc.urgency === 'LOW'); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n\r\n    // Determine status based on incidents\r\n    // Priority: HIGH urgency incidents = MAJOR_OUTAGE, LOW urgency = PARTIAL_OUTAGE, none = OPERATIONAL\r\n    let calculatedStatus = 'OPERATIONAL';\r\n    if (highUrgencyIncidents.length > 0) {\r\n      calculatedStatus = 'MAJOR_OUTAGE';\r\n    } else if (lowUrgencyIncidents.length > 0) {\r\n      calculatedStatus = 'PARTIAL_OUTAGE';\r\n    }\r\n\r\n    return {\r\n      ...service,\r\n      status: calculatedStatus, // Override with calculated status based on active incidents\r\n    };\r\n  });\r\n\r\n  // Get recent incidents (last 90 days) with events\r\n  // Use all services if none configured, or specific service IDs\r\n  const incidentServiceIds = serviceIds.length > 0 ? serviceIds : services.map(s => s.id);\r\n  const recentIncidents = statusPage.showIncidents\r\n    ? await prisma.incident.findMany({\r\n        where: {\r\n          serviceId: { in: incidentServiceIds },\r\n          createdAt: { gte: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000) },\r\n        },\r\n        include: {\r\n          service: true,\r\n          events: {\r\n            orderBy: { createdAt: 'asc' },\r\n            take: 50, // Get recent events for timeline\r\n          },\r\n          postmortem: {\r\n            select: {\r\n              id: true,\r\n              status: true,\r\n              isPublic: true,\r\n            },\r\n          },\r\n        },\r\n        orderBy: { createdAt: 'desc' },\r\n        take: 50,\r\n      })\r\n    : [];\r\n\r\n  // Calculate uptime metrics for last 30 and 90 days\r\n  const now = new Date();\r\n  const thirtyDaysAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\r\n  const ninetyDaysAgo = new Date(now.getTime() - 90 * 24 * 60 * 60 * 1000);\r\n\r\n  // Get incidents for status history and uptime calculation\r\n  const allIncidents = await prisma.incident.findMany({\r\n    where: {\r\n      serviceId: { in: incidentServiceIds },\r\n      OR: [\r\n        { createdAt: { gte: ninetyDaysAgo } },\r\n        { resolvedAt: { gte: ninetyDaysAgo } },\r\n        { status: { in: ['OPEN', 'ACKNOWLEDGED'] } },\r\n      ],\r\n    },\r\n    select: {\r\n      id: true,\r\n      serviceId: true,\r\n      createdAt: true,\r\n      resolvedAt: true,\r\n      status: true,\r\n      urgency: true,\r\n    },\r\n  });\r\n\r\n  const activeIncidents = allIncidents.filter(\r\n    (\r\n      inc: any // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    ) => inc.status !== 'RESOLVED' && inc.status !== 'SNOOZED' && inc.status !== 'SUPPRESSED'\r\n  );\r\n  const hasOutage = activeIncidents.some((inc: any) => inc.urgency === 'HIGH'); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  const hasDegraded = activeIncidents.some((inc: any) => inc.urgency === 'LOW'); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  const overallStatus = hasOutage ? 'outage' : hasDegraded ? 'degraded' : 'operational';\r\n  const affectedServices = services.filter(\r\n    service => service.status && service.status !== 'OPERATIONAL'\r\n  ).length;\r\n  const activeIncidentCount = activeIncidents.length;\r\n  const statusSummary =\r\n    overallStatus === 'outage'\r\n      ? { label: 'Major Outage', color: '#be123c', background: '#fef2f2', border: '#fecaca' }\r\n      : overallStatus === 'degraded'\r\n        ? {\r\n            label: 'Degraded Performance',\r\n            color: '#d97706',\r\n            background: '#fffbeb',\r\n            border: '#fde68a',\r\n          }\r\n        : {\r\n            label: 'All Systems Operational',\r\n            color: '#059669',\r\n            background: '#f0fdf4',\r\n            border: '#d1fae5',\r\n          };\r\n  const lastUpdatedLabel = now.toLocaleString('en-US', { dateStyle: 'medium', timeStyle: 'short' });\r\n\r\n  const serviceUptime90 = buildServiceUptime(allIncidents, services, ninetyDaysAgo, now);\r\n  const incidentsForHistory = allIncidents.map(incident => ({\r\n    serviceId: incident.serviceId,\r\n    createdAt: incident.createdAt.toISOString(),\r\n    resolvedAt: incident.resolvedAt ? incident.resolvedAt.toISOString() : null,\r\n    status: incident.status,\r\n    urgency: incident.urgency,\r\n  }));\r\n\r\n  const normalizeAffectedServiceIds = (value: unknown) => {\r\n    if (!Array.isArray(value)) return [];\r\n    return value.map(id => (typeof id === 'string' ? id.trim() : '')).filter(Boolean);\r\n  };\r\n\r\n  const serviceLookup = new Map(services.map(service => [service.id, service] as const));\r\n  const announcementsWithServices = statusPage.announcements.map((announcement: any) => {\r\n    // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    const affectedServiceIds = normalizeAffectedServiceIds(announcement.affectedServiceIds).filter(\r\n      id => serviceLookup.has(id)\r\n    );\r\n    const affectedServices = affectedServiceIds\r\n      .map(serviceId => {\r\n        const service = serviceLookup.get(serviceId);\r\n        if (!service) return null;\r\n        return {\r\n          id: service.id,\r\n          name: service.name,\r\n          region: service.region ?? null,\r\n        };\r\n      })\r\n      .filter(Boolean);\r\n    return {\r\n      ...announcement,\r\n      affectedServiceIds,\r\n      affectedServices,\r\n    };\r\n  });\r\n\r\n  const activeMaintenanceServiceIds = new Set<string>();\r\n  announcementsWithServices.forEach((announcement: any) => {\r\n    // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    if (announcement.type !== 'MAINTENANCE' || !announcement.isActive) {\r\n      return;\r\n    }\r\n    const startDate = new Date(announcement.startDate);\r\n    const endDate = announcement.endDate ? new Date(announcement.endDate) : null;\r\n    if (startDate > now) return;\r\n    if (endDate && endDate < now) return;\r\n    (announcement.affectedServiceIds || []).forEach((serviceId: string) =>\r\n      activeMaintenanceServiceIds.add(serviceId)\r\n    );\r\n  });\r\n\r\n  const normalizeRegions = (region?: string | null) => {\r\n    if (!region) return [];\r\n    return region\r\n      .split(',')\r\n      .map(entry => entry.trim())\r\n      .filter(Boolean);\r\n  };\r\n\r\n  const regionSummaries = (() => {\r\n    const severityRank: Record<string, number> = {\r\n      OPERATIONAL: 0,\r\n      MAINTENANCE: 1,\r\n      DEGRADED: 2,\r\n      PARTIAL_OUTAGE: 2,\r\n      MAJOR_OUTAGE: 3,\r\n    };\r\n    const summaryMap = new Map<\r\n      string,\r\n      { total: number; impacted: number; maintenance: number; severity: number }\r\n    >();\r\n\r\n    services.forEach(service => {\r\n      const regions = normalizeRegions(service.region);\r\n      if (regions.length === 0) return;\r\n      const status = service.status || 'OPERATIONAL';\r\n      const impacted = status !== 'OPERATIONAL' && status !== 'MAINTENANCE';\r\n      const isMaintenance = activeMaintenanceServiceIds.has(service.id) && status === 'OPERATIONAL';\r\n      const severity = Math.max(\r\n        severityRank[status] ?? 0,\r\n        isMaintenance ? severityRank.MAINTENANCE : 0\r\n      );\r\n\r\n      regions.forEach(region => {\r\n        const entry = summaryMap.get(region) || {\r\n          total: 0,\r\n          impacted: 0,\r\n          maintenance: 0,\r\n          severity: 0,\r\n        };\r\n        entry.total += 1;\r\n        if (impacted) {\r\n          entry.impacted += 1;\r\n        }\r\n        if (isMaintenance) {\r\n          entry.maintenance += 1;\r\n        }\r\n        entry.severity = Math.max(entry.severity, severity);\r\n        summaryMap.set(region, entry);\r\n      });\r\n    });\r\n\r\n    const summaries = Array.from(summaryMap.entries()).map(([region, summary]) => ({\r\n      region,\r\n      ...summary,\r\n    }));\r\n\r\n    summaries.sort((a, b) => {\r\n      if (a.impacted !== b.impacted) return b.impacted - a.impacted;\r\n      return a.region.localeCompare(b.region);\r\n    });\r\n\r\n    return summaries;\r\n  })();\r\n\r\n  // Determine max width based on layout\r\n  const maxWidth = layout === 'wide' ? '1600px' : layout === 'compact' ? '900px' : '1280px';\r\n\r\n  // Structured data for SEO\r\n  const baseUrl = getBaseUrl();\r\n  const structuredData = {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'Service',\r\n    name: statusPage.name,\r\n    description: branding.metaDescription || `Status page for ${statusPage.name}`,\r\n    url: `${baseUrl}/status`,\r\n    serviceStatus:\r\n      overallStatus === 'operational'\r\n        ? 'https://schema.org/ServiceAvailable'\r\n        : overallStatus === 'degraded'\r\n          ? 'https://schema.org/ServiceTemporarilyUnavailable'\r\n          : 'https://schema.org/ServiceUnavailable',\r\n    areaServed: 'Worldwide',\r\n  };\r\n  const contactUrlLabel = statusPage.contactUrl\r\n    ? statusPage.contactUrl.replace(/^https?:\\/\\//, '')\r\n    : null;\r\n\r\n  return (\r\n    <>\r\n      {/* Structured Data (JSON-LD) */}\r\n      <script\r\n        type=\"application/ld+json\"\r\n        dangerouslySetInnerHTML={{ __html: JSON.stringify(structuredData) }}\r\n      />\r\n\r\n      {/* Custom CSS */}\r\n      {customCss && <style dangerouslySetInnerHTML={{ __html: customCss }} />}\r\n\r\n      {/* Auto-refresh script */}\r\n      {autoRefresh && refreshInterval >= 30 && (\r\n        <script\r\n          dangerouslySetInnerHTML={{\r\n            __html: `\r\n                            setTimeout(function() {\r\n                                window.location.reload();\r\n                            }, ${refreshInterval * 1000});\r\n                        `,\r\n          }}\r\n        />\r\n      )}\r\n\r\n      <div\r\n        className=\"status-page-container\"\r\n        style={{\r\n          minHeight: '100vh',\r\n          background: backgroundColor,\r\n        }}\r\n      >\r\n        {/* Header */}\r\n        {showHeader && (\r\n          <StatusPageHeader\r\n            statusPage={statusPage}\r\n            overallStatus={overallStatus}\r\n            branding={branding}\r\n            lastUpdated={now.toISOString()}\r\n          />\r\n        )}\r\n\r\n        {/* Main Content */}\r\n        <main\r\n          style={{\r\n            width: '100%',\r\n            maxWidth: maxWidth,\r\n            margin: '0 auto',\r\n            padding: layout === 'compact' ? '1.5rem' : '2rem',\r\n            paddingLeft: 'clamp(1rem, 4vw, 2rem)',\r\n            paddingRight: 'clamp(1rem, 4vw, 2rem)',\r\n            paddingTop: 'clamp(1.5rem, 4vw, 2rem)',\r\n            paddingBottom: 'clamp(1.5rem, 4vw, 2rem)',\r\n            boxSizing: 'border-box',\r\n            ['--status-card-shadow' as any]: '0 6px 16px rgba(15, 23, 42, 0.05)', // eslint-disable-line @typescript-eslint/no-explicit-any\r\n          }}\r\n        >\r\n          <section style={{ marginBottom: 'clamp(2rem, 6vw, 3rem)' }}>\r\n            <div\r\n              style={{\r\n                display: 'grid',\r\n                gap: '1rem',\r\n                gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))',\r\n                padding: 'clamp(1rem, 3vw, 1.5rem)',\r\n                background: 'var(--status-panel-bg, #ffffff)',\r\n                border: '1px solid var(--status-panel-border, #e2e8f0)',\r\n                borderRadius: '0.875rem',\r\n                boxShadow: '0 4px 12px rgba(15, 23, 42, 0.05)',\r\n              }}\r\n            >\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                <div\r\n                  style={{\r\n                    fontSize: '0.75rem',\r\n                    textTransform: 'uppercase',\r\n                    letterSpacing: '0.08em',\r\n                    color: 'var(--status-text-muted, #64748b)',\r\n                    fontWeight: '600',\r\n                  }}\r\n                >\r\n                  Overall Status\r\n                </div>\r\n                <span\r\n                  style={{\r\n                    display: 'inline-flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.5rem',\r\n                    padding: '0.4rem 0.75rem',\r\n                    borderRadius: '999px',\r\n                    background: statusSummary.background,\r\n                    color: statusSummary.color,\r\n                    border: `1px solid ${statusSummary.border}`,\r\n                    fontWeight: '700',\r\n                    fontSize: '0.8125rem',\r\n                  }}\r\n                >\r\n                  {statusSummary.label}\r\n                </span>\r\n                <div style={{ fontSize: '0.8125rem', color: 'var(--status-text-muted, #6b7280)' }}>\r\n                  Last updated: {lastUpdatedLabel}\r\n                </div>\r\n              </div>\r\n              <div style={{ display: 'grid', gap: '0.5rem' }}>\r\n                <div\r\n                  style={{\r\n                    fontSize: '0.75rem',\r\n                    textTransform: 'uppercase',\r\n                    letterSpacing: '0.08em',\r\n                    color: 'var(--status-text-muted, #64748b)',\r\n                    fontWeight: '600',\r\n                  }}\r\n                >\r\n                  Services\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    fontSize: '1.5rem',\r\n                    fontWeight: '700',\r\n                    color: 'var(--status-text, #111827)',\r\n                  }}\r\n                >\r\n                  {services.length}\r\n                </div>\r\n                <div style={{ fontSize: '0.8125rem', color: 'var(--status-text-muted, #6b7280)' }}>\r\n                  {affectedServices} affected\r\n                </div>\r\n              </div>\r\n              <div style={{ display: 'grid', gap: '0.5rem' }}>\r\n                <div\r\n                  style={{\r\n                    fontSize: '0.75rem',\r\n                    textTransform: 'uppercase',\r\n                    letterSpacing: '0.08em',\r\n                    color: 'var(--status-text-muted, #64748b)',\r\n                    fontWeight: '600',\r\n                  }}\r\n                >\r\n                  Active Incidents\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    fontSize: '1.5rem',\r\n                    fontWeight: '700',\r\n                    color: 'var(--status-text, #111827)',\r\n                  }}\r\n                >\r\n                  {activeIncidentCount}\r\n                </div>\r\n                <div style={{ fontSize: '0.8125rem', color: 'var(--status-text-muted, #6b7280)' }}>\r\n                  Last 90 days: {recentIncidents.length}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n          {statusPage.showRegionHeatmap &&\r\n            statusPage.showServiceRegions !== false &&\r\n            regionSummaries.length > 0 && (\r\n              <section style={{ marginBottom: 'clamp(2rem, 6vw, 3rem)' }}>\r\n                <div\r\n                  style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    marginBottom: 'clamp(1rem, 3vw, 1.5rem)',\r\n                    flexWrap: 'wrap',\r\n                    gap: '1rem',\r\n                  }}\r\n                >\r\n                  <div>\r\n                    <h2\r\n                      style={{\r\n                        fontSize: 'clamp(1.5rem, 4vw, 1.875rem)',\r\n                        fontWeight: '800',\r\n                        color: 'var(--status-text-strong, #0f172a)',\r\n                        margin: 0,\r\n                        marginBottom: '0.25rem',\r\n                        letterSpacing: '-0.02em',\r\n                      }}\r\n                    >\r\n                      Regions\r\n                    </h2>\r\n                    <p\r\n                      style={{\r\n                        fontSize: 'clamp(0.8125rem, 2vw, 0.875rem)',\r\n                        color: 'var(--status-text-muted, #64748b)',\r\n                        margin: 0,\r\n                      }}\r\n                    >\r\n                      Service health by hosting region\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    display: 'grid',\r\n                    gap: '1rem',\r\n                    gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))',\r\n                  }}\r\n                >\r\n                  {regionSummaries.map(region => {\r\n                    const severityStyle =\r\n                      region.severity >= 3\r\n                        ? {\r\n                            label: 'Outage',\r\n                            color: '#be123c',\r\n                            background: '#fef2f2',\r\n                            border: '#fecaca',\r\n                          }\r\n                        : region.severity >= 2\r\n                          ? {\r\n                              label: 'Degraded',\r\n                              color: '#d97706',\r\n                              background: '#fffbeb',\r\n                              border: '#fde68a',\r\n                            }\r\n                          : region.severity >= 1\r\n                            ? {\r\n                                label: 'Maintenance',\r\n                                color: 'var(--status-primary, #3b82f6)',\r\n                                background: 'rgba(59, 130, 246, 0.05)',\r\n                                border: 'rgba(59, 130, 246, 0.2)',\r\n                              }\r\n                            : {\r\n                                label: 'Operational',\r\n                                color: '#059669',\r\n                                background: '#f0fdf4',\r\n                                border: '#d1fae5',\r\n                              };\r\n                    const secondaryCounts =\r\n                      region.maintenance > 0 && region.impacted === 0\r\n                        ? `${region.maintenance} maintenance`\r\n                        : region.maintenance > 0\r\n                          ? `${region.impacted} impacted ΓÇó ${region.maintenance} maintenance`\r\n                          : `${region.impacted} impacted`;\r\n                    return (\r\n                      <div\r\n                        key={region.region}\r\n                        style={{\r\n                          padding: '1rem 1.25rem',\r\n                          background: 'var(--status-panel-bg, #ffffff)',\r\n                          border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                          borderRadius: '0.875rem',\r\n                          display: 'flex',\r\n                          flexDirection: 'column',\r\n                          gap: '0.6rem',\r\n                          boxShadow: 'var(--status-card-shadow, 0 6px 16px rgba(15, 23, 42, 0.05))',\r\n                        }}\r\n                      >\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            justifyContent: 'space-between',\r\n                            alignItems: 'center',\r\n                            gap: '0.75rem',\r\n                            flexWrap: 'wrap',\r\n                          }}\r\n                        >\r\n                          <div\r\n                            style={{\r\n                              fontSize: '1rem',\r\n                              fontWeight: '700',\r\n                              color: 'var(--status-text, #111827)',\r\n                            }}\r\n                          >\r\n                            {region.region}\r\n                          </div>\r\n                          <span\r\n                            style={{\r\n                              display: 'inline-flex',\r\n                              alignItems: 'center',\r\n                              gap: '0.4rem',\r\n                              padding: '0.25rem 0.6rem',\r\n                              borderRadius: '999px',\r\n                              background: severityStyle.background,\r\n                              color: severityStyle.color,\r\n                              border: `1px solid ${severityStyle.border}`,\r\n                              fontSize: '0.7rem',\r\n                              fontWeight: '700',\r\n                              textTransform: 'uppercase',\r\n                              letterSpacing: '0.05em',\r\n                            }}\r\n                          >\r\n                            {severityStyle.label}\r\n                          </span>\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '0.75rem',\r\n                            fontSize: '0.8125rem',\r\n                            color: 'var(--status-text-muted, #64748b)',\r\n                          }}\r\n                        >\r\n                          <span>\r\n                            {region.total} service{region.total !== 1 ? 's' : ''}\r\n                          </span>\r\n                          <span>ΓÇó</span>\r\n                          <span>{secondaryCounts}</span>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </section>\r\n            )}\r\n\r\n          {statusPage.showChangelog &&\r\n            announcementsWithServices.some((item: any) => item.type === 'UPDATE') && ( // eslint-disable-line @typescript-eslint/no-explicit-any\r\n              <section style={{ marginBottom: 'clamp(2rem, 6vw, 4rem)' }}>\r\n                <div style={{ marginBottom: 'clamp(1rem, 3vw, 1.5rem)' }}>\r\n                  <h2\r\n                    style={{\r\n                      fontSize: 'clamp(1.5rem, 4vw, 1.875rem)',\r\n                      fontWeight: '800',\r\n                      marginBottom: '0.25rem',\r\n                      color: 'var(--status-text-strong, #0f172a)',\r\n                      letterSpacing: '-0.02em',\r\n                    }}\r\n                  >\r\n                    Recent Updates\r\n                  </h2>\r\n                  <p\r\n                    style={{\r\n                      fontSize: 'clamp(0.8125rem, 2vw, 0.875rem)',\r\n                      color: 'var(--status-text-muted, #64748b)',\r\n                      margin: 0,\r\n                    }}\r\n                  >\r\n                    Release notes and service improvements\r\n                  </p>\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    gap: 'clamp(0.75rem, 2vw, 1rem)',\r\n                  }}\r\n                >\r\n                  {announcementsWithServices\r\n                    .filter((item: any) => item.type === 'UPDATE') // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    .slice(0, 6)\r\n                    .map(\r\n                      (\r\n                        update: any // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                      ) => (\r\n                        <div\r\n                          key={update.id}\r\n                          style={{\r\n                            padding: 'clamp(1rem, 3vw, 1.25rem)',\r\n                            background: 'var(--status-panel-bg, #ffffff)',\r\n                            border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                            borderRadius: '0.875rem',\r\n                            boxShadow:\r\n                              'var(--status-card-shadow, 0 4px 12px rgba(15, 23, 42, 0.05))',\r\n                          }}\r\n                        >\r\n                          <div\r\n                            style={{\r\n                              display: 'flex',\r\n                              alignItems: 'center',\r\n                              justifyContent: 'space-between',\r\n                              gap: '1rem',\r\n                              flexWrap: 'wrap',\r\n                              marginBottom: '0.5rem',\r\n                            }}\r\n                          >\r\n                            <div\r\n                              style={{ fontWeight: '700', color: 'var(--status-text, #111827)' }}\r\n                            >\r\n                              {update.title}\r\n                            </div>\r\n                            <div\r\n                              style={{\r\n                                fontSize: '0.8rem',\r\n                                color: 'var(--status-text-muted, #6b7280)',\r\n                              }}\r\n                            >\r\n                              {new Date(update.startDate).toLocaleDateString('en-US', {\r\n                                month: 'short',\r\n                                day: 'numeric',\r\n                                year: 'numeric',\r\n                              })}\r\n                            </div>\r\n                          </div>\r\n                          <div\r\n                            style={{\r\n                              fontSize: '0.9rem',\r\n                              color: 'var(--status-text-muted, #4b5563)',\r\n                              whiteSpace: 'pre-wrap',\r\n                            }}\r\n                          >\r\n                            {update.message}\r\n                          </div>\r\n                        </div>\r\n                      )\r\n                    )}\r\n                </div>\r\n              </section>\r\n            )}\r\n\r\n          {/* Announcements */}\r\n          {announcementsWithServices.length > 0 && (\r\n            <StatusPageAnnouncements\r\n              announcements={announcementsWithServices}\r\n              showServiceRegions={statusPage.showServiceRegions !== false}\r\n            />\r\n          )}\r\n\r\n          {/* Services */}\r\n          {statusPage.showServices && (\r\n            <>\r\n              {services.length > 0 ? (\r\n                <StatusPageServices\r\n                  services={services}\r\n                  statusPageServices={statusPage.services}\r\n                  uptime90={serviceUptime90}\r\n                  incidents={incidentsForHistory}\r\n                  privacySettings={{\r\n                    showServiceMetrics: statusPage.showServiceMetrics !== false,\r\n                    showServiceDescriptions: statusPage.showServiceDescriptions !== false,\r\n                    showServiceRegions: statusPage.showServiceRegions !== false,\r\n                    showUptimeHistory: statusPage.showUptimeHistory !== false,\r\n                    showTeamInformation: statusPage.showTeamInformation === true,\r\n                  }}\r\n                  groupByRegionDefault={statusPage.showServicesByRegion}\r\n                  showServiceOwners={statusPage.showServiceOwners === true}\r\n                  showServiceSlaTier={statusPage.showServiceSlaTier === true}\r\n                />\r\n              ) : (\r\n                <section style={{ marginBottom: '3rem' }}>\r\n                  <h2\r\n                    style={{\r\n                      fontSize: '1.5rem',\r\n                      fontWeight: '700',\r\n                      marginBottom: '1.5rem',\r\n                      color: textColor,\r\n                    }}\r\n                  >\r\n                    Services\r\n                  </h2>\r\n                  <div\r\n                    style={{\r\n                      padding: '3rem',\r\n                      background: backgroundColor,\r\n                      border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                      borderRadius: '0.75rem',\r\n                      textAlign: 'center',\r\n                      color: 'var(--status-text-muted, #6b7280)',\r\n                    }}\r\n                  >\r\n                    <p>No services configured for this status page.</p>\r\n                    <p style={{ fontSize: '0.875rem', marginTop: '0.5rem' }}>\r\n                      Configure services in the status page settings.\r\n                    </p>\r\n                  </div>\r\n                </section>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {/* Metrics */}\r\n          {statusPage.showMetrics && services.length > 0 && (\r\n            <StatusPageMetrics\r\n              services={services.map(s => ({ id: s.id, name: s.name }))}\r\n              incidents={allIncidents.map(inc => ({\r\n                id: inc.id,\r\n                serviceId: inc.serviceId,\r\n                createdAt: inc.createdAt,\r\n                resolvedAt: inc.resolvedAt,\r\n                status: inc.status,\r\n                urgency: inc.urgency,\r\n              }))}\r\n              thirtyDaysAgo={thirtyDaysAgo}\r\n              ninetyDaysAgo={ninetyDaysAgo}\r\n              uptimeExcellentThreshold={statusPage.uptimeExcellentThreshold ?? 99.9}\r\n              uptimeGoodThreshold={statusPage.uptimeGoodThreshold ?? 99.0}\r\n            />\r\n          )}\r\n\r\n          {/* Recent Incidents */}\r\n          {statusPage.showIncidents && (\r\n            <>\r\n              {recentIncidents.length > 0 ? (\r\n                <div id=\"incidents\">\r\n                  <StatusPageIncidents\r\n                    incidents={recentIncidents}\r\n                    privacySettings={{\r\n                      showIncidentTitles: statusPage.showIncidentTitles !== false,\r\n                      showIncidentDescriptions: statusPage.showIncidentDescriptions !== false,\r\n                      showAffectedServices: statusPage.showAffectedServices !== false,\r\n                      showServiceRegions: statusPage.showServiceRegions !== false,\r\n                      showIncidentTimestamps: statusPage.showIncidentTimestamps !== false,\r\n                      showIncidentUrgency: statusPage.showIncidentUrgency !== false,\r\n                      showIncidentDetails: statusPage.showIncidentDetails !== false,\r\n                    }}\r\n                    showPostIncidentReview={statusPage.showPostIncidentReview === true}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <section style={{ marginBottom: '3rem' }}>\r\n                  <h2\r\n                    style={{\r\n                      fontSize: '1.5rem',\r\n                      fontWeight: '700',\r\n                      marginBottom: '1.5rem',\r\n                      color: textColor,\r\n                    }}\r\n                  >\r\n                    Recent Incidents\r\n                  </h2>\r\n                  <div\r\n                    style={{\r\n                      padding: '3rem',\r\n                      background: backgroundColor,\r\n                      border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                      borderRadius: '0.75rem',\r\n                      textAlign: 'center',\r\n                      color: 'var(--status-text-muted, #6b7280)',\r\n                    }}\r\n                  >\r\n                    <p>No incidents in the last 90 days.</p>\r\n                    <p style={{ fontSize: '0.875rem', marginTop: '0.5rem', color: '#10b981' }}>\r\n                      All systems operational\r\n                    </p>\r\n                  </div>\r\n                </section>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {showSubscribe && (\r\n            <>\r\n              {/* Subscription */}\r\n              <section style={{ marginBottom: 'clamp(2.5rem, 7vw, 5rem)' }}>\r\n                <div\r\n                  style={{\r\n                    position: 'relative',\r\n                    overflow: 'hidden',\r\n                    borderRadius: '0.875rem',\r\n                    border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                    borderTop: '3px solid var(--status-primary, var(--primary))',\r\n                    background: 'var(--status-panel-bg, #ffffff)',\r\n                    padding: 'clamp(1.5rem, 4vw, 2.5rem)',\r\n                    boxShadow: 'var(--status-card-shadow, 0 6px 16px rgba(15, 23, 42, 0.05))',\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      position: 'absolute',\r\n                      top: '-60px',\r\n                      right: '-60px',\r\n                      width: '180px',\r\n                      height: '180px',\r\n                      background:\r\n                        'radial-gradient(circle, rgba(148, 163, 184, 0.14) 0%, transparent 70%)',\r\n                      pointerEvents: 'none',\r\n                    }}\r\n                  />\r\n                  <div\r\n                    style={{\r\n                      position: 'absolute',\r\n                      bottom: '-80px',\r\n                      left: '-80px',\r\n                      width: '220px',\r\n                      height: '220px',\r\n                      background:\r\n                        'radial-gradient(circle, rgba(148, 163, 184, 0.12) 0%, transparent 70%)',\r\n                      pointerEvents: 'none',\r\n                    }}\r\n                  />\r\n                  <div\r\n                    style={{\r\n                      position: 'relative',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: 'clamp(1.5rem, 4vw, 2.5rem)',\r\n                      flexWrap: 'wrap',\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        flex: '1 1 260px',\r\n                        minWidth: '240px',\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          fontSize: '0.75rem',\r\n                          letterSpacing: '0.12em',\r\n                          textTransform: 'uppercase',\r\n                          color: 'var(--status-primary, var(--primary))',\r\n                          fontWeight: '700',\r\n                          marginBottom: '0.5rem',\r\n                        }}\r\n                      >\r\n                        Stay in the loop\r\n                      </div>\r\n                      <h2\r\n                        style={{\r\n                          fontSize: 'clamp(1.35rem, 3vw, 1.75rem)',\r\n                          fontWeight: '700',\r\n                          marginBottom: '0.75rem',\r\n                          color: textColor,\r\n                        }}\r\n                      >\r\n                        Subscribe to Updates\r\n                      </h2>\r\n                      <p\r\n                        style={{\r\n                          fontSize: 'clamp(0.9rem, 2.2vw, 1rem)',\r\n                          color: 'var(--status-text-muted, #4b5563)',\r\n                          marginBottom: '1rem',\r\n                          lineHeight: 1.6,\r\n                        }}\r\n                      >\r\n                        Get incident alerts, maintenance notices, and recovery updates the moment\r\n                        they happen.\r\n                      </p>\r\n                      <div\r\n                        style={{\r\n                          display: 'inline-flex',\r\n                          alignItems: 'center',\r\n                          gap: '0.5rem',\r\n                          padding: '0.35rem 0.75rem',\r\n                          borderRadius: '999px',\r\n                          background: 'var(--status-panel-bg, #ffffff)',\r\n                          border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                          color: 'var(--status-text, #374151)',\r\n                          fontSize: '0.8125rem',\r\n                          fontWeight: '600',\r\n                        }}\r\n                      >\r\n                        Email notifications only\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        flex: '1 1 320px',\r\n                        minWidth: '280px',\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          padding: 'clamp(1rem, 3vw, 1.5rem)',\r\n                          background: 'var(--status-panel-bg, #ffffff)',\r\n                          border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                          borderRadius: '0.875rem',\r\n                          boxShadow: '0 12px 25px rgba(15, 23, 42, 0.12)',\r\n                        }}\r\n                      >\r\n                        <StatusPageSubscribe statusPageId={statusPage.id} />\r\n                      </div>\r\n                      <p\r\n                        style={{\r\n                          marginTop: '0.75rem',\r\n                          fontSize: '0.8125rem',\r\n                          color: 'var(--status-text-muted, #6b7280)',\r\n                          textAlign: 'center',\r\n                        }}\r\n                      >\r\n                        We'll never share your email. Unsubscribe anytime.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n            </>\r\n          )}\r\n          {/* Footer */}\r\n          {showFooter && (statusPage.footerText || showRssLink || showApiLink) && (\r\n            <footer\r\n              style={{\r\n                marginTop: '4rem',\r\n                color: 'var(--status-text-muted, #6b7280)',\r\n                fontSize: '0.9rem',\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  padding: '1rem 0',\r\n                  borderTop: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  gap: '1rem',\r\n                  flexWrap: 'wrap',\r\n                  textAlign: 'center',\r\n                  flexDirection: 'column',\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    width: '56px',\r\n                    height: '2px',\r\n                    borderRadius: '999px',\r\n                    background: 'var(--status-primary, var(--primary))',\r\n                    opacity: 0.6,\r\n                  }}\r\n                />\r\n                {statusPage.footerText && (\r\n                  <p\r\n                    style={{\r\n                      margin: 0,\r\n                      color: 'var(--status-text-muted, #6b7280)',\r\n                      fontWeight: '600',\r\n                    }}\r\n                  >\r\n                    {statusPage.footerText}\r\n                  </p>\r\n                )}\r\n                {(statusPage.contactEmail || statusPage.contactUrl) && (\r\n                  <div\r\n                    style={{\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '0.75rem',\r\n                      fontSize: '0.8125rem',\r\n                      color: 'var(--status-text-muted, #6b7280)',\r\n                      fontWeight: '600',\r\n                      flexWrap: 'wrap',\r\n                      justifyContent: 'center',\r\n                    }}\r\n                  >\r\n                    {statusPage.contactEmail && (\r\n                      <a\r\n                        href={`mailto:${statusPage.contactEmail}`}\r\n                        style={{\r\n                          display: 'inline-flex',\r\n                          alignItems: 'center',\r\n                          gap: '0.4rem',\r\n                          padding: '0.2rem 0.4rem',\r\n                          borderRadius: '6px',\r\n                          color: 'var(--status-text, #111827)',\r\n                          textDecoration: 'none',\r\n                          fontWeight: '600',\r\n                        }}\r\n                        aria-label={`Email ${statusPage.contactEmail}`}\r\n                      >\r\n                        <span aria-hidden=\"true\" style={{ fontSize: '0.9rem' }}>\r\n                          Γ£ë\r\n                        </span>\r\n                        {statusPage.contactEmail}\r\n                      </a>\r\n                    )}\r\n                    {statusPage.contactUrl && (\r\n                      <a\r\n                        href={statusPage.contactUrl}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        style={{\r\n                          display: 'inline-flex',\r\n                          alignItems: 'center',\r\n                          gap: '0.4rem',\r\n                          padding: '0.2rem 0.4rem',\r\n                          borderRadius: '6px',\r\n                          color: 'var(--status-text, #111827)',\r\n                          textDecoration: 'none',\r\n                          fontWeight: '600',\r\n                        }}\r\n                        aria-label={`Open ${contactUrlLabel || statusPage.contactUrl}`}\r\n                      >\r\n                        <span aria-hidden=\"true\" style={{ fontSize: '0.9rem' }}>\r\n                          Γåù\r\n                        </span>\r\n                        {contactUrlLabel || statusPage.contactUrl}\r\n                      </a>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                {(showRssLink || showApiLink) && (\r\n                  <div\r\n                    style={{\r\n                      display: 'flex',\r\n                      gap: '0.75rem',\r\n                      flexWrap: 'wrap',\r\n                      justifyContent: 'center',\r\n                    }}\r\n                  >\r\n                    {showRssLink && (\r\n                      <a\r\n                        href=\"/api/status/rss\"\r\n                        className=\"status-footer-link\"\r\n                        style={{\r\n                          color: 'var(--status-text-muted, #6b7280)',\r\n                          textDecoration: 'none',\r\n                          fontWeight: '600',\r\n                        }}\r\n                      >\r\n                        RSS Feed\r\n                      </a>\r\n                    )}\r\n                    {showRssLink && showApiLink && (\r\n                      <span style={{ color: 'var(--status-text-subtle, #94a3b8)' }}>ΓÇó</span>\r\n                    )}\r\n                    {showApiLink && (\r\n                      <a\r\n                        href=\"/api/status\"\r\n                        className=\"status-footer-link\"\r\n                        style={{\r\n                          color: 'var(--status-text-muted, #6b7280)',\r\n                          textDecoration: 'none',\r\n                          fontWeight: '600',\r\n                        }}\r\n                      >\r\n                        JSON API\r\n                      </a>\r\n                    )}\r\n                    {showUptimeExports && (\r\n                      <>\r\n                        {(showRssLink || showApiLink) && (\r\n                          <span style={{ color: 'var(--status-text-subtle, #94a3b8)' }}>┬╖</span>\r\n                        )}\r\n                        <a\r\n                          href=\"/api/status/uptime-export?format=csv\"\r\n                          className=\"status-footer-link\"\r\n                          style={{\r\n                            color: 'var(--status-text-muted, #6b7280)',\r\n                            textDecoration: 'none',\r\n                            fontWeight: '600',\r\n                          }}\r\n                        >\r\n                          Uptime CSV\r\n                        </a>\r\n                        <a\r\n                          href=\"/api/status/uptime-export?format=pdf\"\r\n                          className=\"status-footer-link\"\r\n                          style={{\r\n                            color: 'var(--status-text-muted, #6b7280)',\r\n                            textDecoration: 'none',\r\n                            fontWeight: '600',\r\n                          }}\r\n                        >\r\n                          Uptime PDF\r\n                        </a>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                <a\r\n                  href=\"https://github.com\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  style={{\r\n                    display: 'inline-flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.5rem',\r\n                    fontSize: '0.8125rem',\r\n                    color: 'var(--status-text-subtle, #94a3b8)',\r\n                    fontWeight: '600',\r\n                    letterSpacing: '0.02em',\r\n                    textDecoration: 'none',\r\n                  }}\r\n                  aria-label=\"OpsSentinal GitHub Repository\"\r\n                >\r\n                  <span\r\n                    style={{\r\n                      width: '22px',\r\n                      height: '22px',\r\n                      borderRadius: '4px',\r\n                      background: 'var(--status-panel-muted-bg, #f8fafc)',\r\n                      border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                      display: 'inline-flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      overflow: 'hidden',\r\n                    }}\r\n                  >\r\n                    <img\r\n                      src=\"/logo.svg\"\r\n                      alt=\"OpsSentinel\"\r\n                      style={{ width: '16px', height: '16px', display: 'block' }}\r\n                    />\r\n                  </span>\r\n                  Powered by{' '}\r\n                  <strong style={{ fontWeight: '700', color: 'var(--status-text, #111827)' }}>\r\n                    OpsSentinal\r\n                  </strong>\r\n                </a>\r\n              </div>\r\n              <style\r\n                dangerouslySetInnerHTML={{\r\n                  __html: `\r\n                                .status-footer-link:hover {\r\n                                    text-decoration: underline;\r\n                                    text-decoration-thickness: 2px;\r\n                                    text-underline-offset: 3px;\r\n                                }\r\n                            `,\r\n                }}\r\n              />\r\n            </footer>\r\n          )}\r\n        </main>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction buildServiceUptime(\r\n  incidents: Array<{\r\n    serviceId: string;\r\n    createdAt: Date;\r\n    resolvedAt?: Date | null;\r\n    status: string;\r\n  }>,\r\n  services: Array<{ id: string }>,\r\n  periodStart: Date,\r\n  periodEnd: Date\r\n) {\r\n  const uptimeByService: Record<string, number> = {};\r\n  const totalMinutes = (periodEnd.getTime() - periodStart.getTime()) / (1000 * 60);\r\n\r\n  services.forEach(service => {\r\n    if (totalMinutes <= 0) {\r\n      uptimeByService[service.id] = 100;\r\n      return;\r\n    }\r\n\r\n    const serviceIncidents = incidents.filter(incident => {\r\n      if (incident.serviceId !== service.id) {\r\n        return false;\r\n      }\r\n      if (incident.status === 'SUPPRESSED' || incident.status === 'SNOOZED') {\r\n        return false;\r\n      }\r\n      const incidentEnd = incident.resolvedAt || periodEnd;\r\n      return incident.createdAt < periodEnd && incidentEnd > periodStart;\r\n    });\r\n\r\n    let downtimeMinutes = 0;\r\n    serviceIncidents.forEach(incident => {\r\n      const incidentStart = incident.createdAt > periodStart ? incident.createdAt : periodStart;\r\n      const incidentEnd =\r\n        (incident.resolvedAt || periodEnd) < periodEnd\r\n          ? incident.resolvedAt || periodEnd\r\n          : periodEnd;\r\n      const incidentMinutes = (incidentEnd.getTime() - incidentStart.getTime()) / (1000 * 60);\r\n      if (incidentMinutes > 0) {\r\n        downtimeMinutes += incidentMinutes;\r\n      }\r\n    });\r\n\r\n    const uptime = totalMinutes > 0 ? ((totalMinutes - downtimeMinutes) / totalMinutes) * 100 : 100;\r\n    uptimeByService[service.id] = Math.max(0, Math.min(100, uptime));\r\n  });\r\n\r\n  return uptimeByService;\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(public)\\status\\postmortems\\[incidentId]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(public)\\status\\unsubscribe\\[token]\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Link' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 2,
        "column": 8,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport Link from 'next/link';\r\nimport { logger } from '@/lib/logger';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport default async function UnsubscribePage({ params }: { params: Promise<{ token: string }> }) {\r\n  const { token } = await params;\r\n  let status: 'invalid' | 'already_unsubscribed' | 'success' | 'error' = 'error';\r\n  let subscription = null;\r\n\r\n  try {\r\n    const sub = await prisma.statusPageSubscription.findUnique({\r\n      where: { token },\r\n      include: {\r\n        statusPage: true,\r\n      },\r\n    });\r\n\r\n    if (!sub) {\r\n      status = 'invalid';\r\n    } else if (sub.unsubscribedAt) {\r\n      status = 'already_unsubscribed';\r\n      subscription = sub;\r\n    } else {\r\n      // Unsubscribe\r\n      await prisma.statusPageSubscription.update({\r\n        where: { id: sub.id },\r\n        data: {\r\n          unsubscribedAt: new Date(),\r\n        },\r\n      });\r\n      status = 'success';\r\n      subscription = sub;\r\n    }\r\n  } catch (error) {\r\n    logger.error('Unsubscribe error', { component: 'status-unsubscribe-page', error });\r\n    status = 'error';\r\n  }\r\n\r\n  if (status === 'invalid') {\r\n    return (\r\n      <div\r\n        style={{\r\n          minHeight: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          padding: '2rem',\r\n        }}\r\n      >\r\n        <div style={{ textAlign: 'center', maxWidth: '600px' }}>\r\n          <h1 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' }}>\r\n            Invalid Unsubscribe Link\r\n          </h1>\r\n          <p style={{ color: '#6b7280' }}>This unsubscribe link is invalid or has expired.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (status === 'already_unsubscribed' && subscription) {\r\n    return (\r\n      <div\r\n        style={{\r\n          minHeight: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          padding: '2rem',\r\n        }}\r\n      >\r\n        <div style={{ textAlign: 'center', maxWidth: '600px' }}>\r\n          <h1 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' }}>\r\n            Already Unsubscribed\r\n          </h1>\r\n          <p style={{ color: '#6b7280' }}>\r\n            You have already unsubscribed from {subscription.statusPage.name} status updates.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (status === 'success' && subscription) {\r\n    return (\r\n      <div\r\n        style={{\r\n          minHeight: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          padding: '2rem',\r\n          background: '#f9fafb',\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            textAlign: 'center',\r\n            maxWidth: '600px',\r\n            background: 'white',\r\n            padding: '3rem',\r\n            borderRadius: '0.5rem',\r\n            boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\r\n          }}\r\n        >\r\n          <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>Γ£ô</div>\r\n          <h1 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' }}>\r\n            Successfully Unsubscribed\r\n          </h1>\r\n          <p style={{ color: '#6b7280', marginBottom: '2rem' }}>\r\n            You have been unsubscribed from {subscription.statusPage.name} status updates. You will\r\n            no longer receive email notifications.\r\n          </p>\r\n          <a\r\n            href=\"/status\"\r\n            style={{\r\n              display: 'inline-block',\r\n              padding: '0.75rem 1.5rem',\r\n              background: '#667eea',\r\n              color: 'white',\r\n              textDecoration: 'none',\r\n              borderRadius: '0.5rem',\r\n              fontWeight: '600',\r\n            }}\r\n          >\r\n            View Status Page\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error case\r\n  return (\r\n    <div\r\n      style={{\r\n        minHeight: '100vh',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: '2rem',\r\n      }}\r\n    >\r\n      <div style={{ textAlign: 'center', maxWidth: '600px' }}>\r\n        <h1 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' }}>Error</h1>\r\n        <p style={{ color: '#6b7280' }}>\r\n          An error occurred while processing your unsubscribe request.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\(public)\\status\\verify\\[token]\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Link' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 2,
        "column": 8,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport Link from 'next/link';\r\nimport { logger } from '@/lib/logger';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport default async function VerifySubscriptionPage({\r\n  params,\r\n}: {\r\n  params: Promise<{ token: string }>;\r\n}) {\r\n  const { token } = await params;\r\n  let status: 'invalid' | 'already_verified' | 'success' | 'error' = 'error';\r\n  let subscription = null;\r\n\r\n  try {\r\n    const sub = await prisma.statusPageSubscription.findFirst({\r\n      where: { verificationToken: token },\r\n      include: {\r\n        statusPage: true,\r\n      },\r\n    });\r\n\r\n    if (!sub) {\r\n      status = 'invalid';\r\n    } else if (sub.verified) {\r\n      status = 'already_verified';\r\n      subscription = sub;\r\n    } else {\r\n      // Verify\r\n      await prisma.statusPageSubscription.update({\r\n        where: { id: sub.id },\r\n        data: {\r\n          verified: true,\r\n          verificationToken: null,\r\n        },\r\n      });\r\n      status = 'success';\r\n      subscription = sub;\r\n    }\r\n  } catch (error) {\r\n    logger.error('Verify error', { component: 'status-verify-page', error });\r\n    status = 'error';\r\n  }\r\n\r\n  if (status === 'invalid') {\r\n    return (\r\n      <div\r\n        style={{\r\n          minHeight: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          padding: '2rem',\r\n        }}\r\n      >\r\n        <div style={{ textAlign: 'center', maxWidth: '600px' }}>\r\n          <h1 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' }}>\r\n            Invalid Verification Link\r\n          </h1>\r\n          <p style={{ color: '#6b7280' }}>This verification link is invalid or has expired.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (status === 'already_verified' && subscription) {\r\n    return (\r\n      <div\r\n        style={{\r\n          minHeight: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          padding: '2rem',\r\n        }}\r\n      >\r\n        <div style={{ textAlign: 'center', maxWidth: '600px' }}>\r\n          <h1 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' }}>\r\n            Already Verified\r\n          </h1>\r\n          <p style={{ color: '#6b7280' }}>\r\n            Your email address has already been verified for {subscription.statusPage.name} status\r\n            updates.\r\n          </p>\r\n          <a\r\n            href=\"/status\"\r\n            style={{\r\n              display: 'inline-block',\r\n              marginTop: '1.5rem',\r\n              padding: '0.75rem 1.5rem',\r\n              background: '#667eea',\r\n              color: 'white',\r\n              textDecoration: 'none',\r\n              borderRadius: '0.5rem',\r\n              fontWeight: '600',\r\n            }}\r\n          >\r\n            View Status Page\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (status === 'success' && subscription) {\r\n    return (\r\n      <div\r\n        style={{\r\n          minHeight: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          padding: '2rem',\r\n          background: '#f9fafb',\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            textAlign: 'center',\r\n            maxWidth: '600px',\r\n            background: 'white',\r\n            padding: '3rem',\r\n            borderRadius: '0.5rem',\r\n            boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\r\n          }}\r\n        >\r\n          <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>Γ£ô</div>\r\n          <h1 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' }}>\r\n            Email Verified Successfully\r\n          </h1>\r\n          <p style={{ color: '#6b7280', marginBottom: '2rem' }}>\r\n            Your email address has been verified. You will now receive email notifications about\r\n            incidents and status changes for {subscription.statusPage.name}.\r\n          </p>\r\n          <a\r\n            href=\"/status\"\r\n            style={{\r\n              display: 'inline-block',\r\n              padding: '0.75rem 1.5rem',\r\n              background: '#667eea',\r\n              color: 'white',\r\n              textDecoration: 'none',\r\n              borderRadius: '0.5rem',\r\n              fontWeight: '600',\r\n            }}\r\n          >\r\n            View Status Page\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error case\r\n  return (\r\n    <div\r\n      style={{\r\n        minHeight: '100vh',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: '2rem',\r\n      }}\r\n    >\r\n      <div style={{ textAlign: 'center', maxWidth: '600px' }}>\r\n        <h1 style={{ fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' }}>Error</h1>\r\n        <p style={{ color: '#6b7280' }}>\r\n          An error occurred while processing your verification request.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\admin\\generate-reset-link\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\alert-rules\\evaluate\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\analytics\\export\\route.ts",
    "messages": [
      {
        "ruleId": "no-duplicate-imports",
        "severity": 1,
        "message": "'@prisma/client' import is duplicated.",
        "line": 9,
        "column": 1,
        "nodeType": "ImportDeclaration",
        "messageId": "import",
        "endLine": 9,
        "endColumn": 71
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 37,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 37,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1722, 1725], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1722, 1725], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from 'next/server';\r\nimport { getServerSession } from 'next-auth';\r\nimport { getAuthOptions } from '@/lib/auth';\r\nimport { assertResponderOrAbove } from '@/lib/rbac';\r\nimport prisma from '@/lib/prisma';\r\nimport { jsonError } from '@/lib/api-response';\r\nimport { logger } from '@/lib/logger';\r\nimport { IncidentStatus as IncidentStatusEnum, IncidentUrgency as IncidentUrgencyEnum } from '@prisma/client';\r\nimport type { IncidentStatus, IncidentUrgency } from '@prisma/client';\r\nimport { getUserTimeZone, formatDateTime } from '@/lib/timezone';\r\n\r\nconst incidentStatusValues = new Set<string>(Object.values(IncidentStatusEnum));\r\nconst incidentUrgencyValues = new Set<string>(Object.values(IncidentUrgencyEnum));\r\n\r\nconst normalizeIncidentStatusParam = (value: string | null): IncidentStatus | 'ALL' => {\r\n    if (!value || value === 'ALL') return 'ALL';\r\n    return incidentStatusValues.has(value) ? (value as IncidentStatus) : 'ALL';\r\n};\r\n\r\nconst normalizeIncidentUrgencyParam = (value: string | null): IncidentUrgency | 'ALL' => {\r\n    if (!value || value === 'ALL') return 'ALL';\r\n    return incidentUrgencyValues.has(value) ? (value as IncidentUrgency) : 'ALL';\r\n};\r\n\r\nconst formatMinutes = (ms: number | null) => (ms === null ? '--' : `${(ms / 1000 / 60).toFixed(1)}m`);\r\nconst formatPercent = (value: number) => `${value.toFixed(0)}%`;\r\n\r\nfunction escapeCSV(value: string | number | null | undefined): string {\r\n    if (value === null || value === undefined) return '';\r\n    const str = String(value);\r\n    if (str.includes(',') || str.includes('\"') || str.includes('\\n')) {\r\n        return `\"${str.replace(/\"/g, '\"\"')}\"`;\r\n    }\r\n    return str;\r\n}\r\n\r\nfunction generateCSV(data: any[][]): string { // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    return data.map(row => row.map(escapeCSV).join(',')).join('\\n');\r\n}\r\n\r\nfunction createProgressBar(value: number, max: number, length: number = 20): string {\r\n    const percentage = max > 0 ? value / max : 0;\r\n    const filled = Math.round(percentage * length);\r\n    const empty = length - filled;\r\n    // Use ASCII characters for better compatibility\r\n    return '='.repeat(filled) + '-'.repeat(empty) + ` ${(percentage * 100).toFixed(1)}%`;\r\n}\r\n\r\nfunction formatDate(date: Date, timeZone: string): string {\r\n    // Format as: Dec 21, 2025 09:31 PM in user's timezone\r\n    return formatDateTime(date, timeZone, { format: 'datetime', hour12: true });\r\n}\r\n\r\nexport async function GET(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(await getAuthOptions());\r\n        if (!session) {\r\n            return jsonError('Unauthorized', 401);\r\n        }\r\n\r\n        try {\r\n            await assertResponderOrAbove();\r\n        } catch (error) {\r\n            return jsonError(error instanceof Error ? error.message : 'Unauthorized', 403);\r\n        }\r\n\r\n        // Get user timezone for date formatting\r\n        const email = session?.user?.email ?? null;\r\n        const user = email\r\n            ? await prisma.user.findUnique({\r\n                where: { email },\r\n                select: { timeZone: true }\r\n            })\r\n            : null;\r\n        const userTimeZone = getUserTimeZone(user ?? undefined);\r\n        \r\n        const searchParams = req.nextUrl.searchParams;\r\n        \r\n        const teamId = searchParams.get('team') && searchParams.get('team') !== 'ALL' \r\n            ? searchParams.get('team') \r\n            : null;\r\n        const serviceId = searchParams.get('service') && searchParams.get('service') !== 'ALL'\r\n            ? searchParams.get('service')\r\n            : null;\r\n        const assigneeId = searchParams.get('assignee') && searchParams.get('assignee') !== 'ALL'\r\n            ? searchParams.get('assignee')\r\n            : null;\r\n        const statusFilter = normalizeIncidentStatusParam(searchParams.get('status'));\r\n        const urgencyFilter = normalizeIncidentUrgencyParam(searchParams.get('urgency'));\r\n        const windowDays = parseInt(searchParams.get('window') || '7', 10);\r\n\r\n        const now = new Date();\r\n        const recentStart = new Date(now);\r\n        recentStart.setDate(now.getDate() - windowDays);\r\n\r\n        // Build where clauses\r\n        const serviceWhere = serviceId\r\n            ? { serviceId }\r\n            : teamId\r\n                ? { service: { teamId } }\r\n                : null;\r\n\r\n        const statusWhere = statusFilter !== 'ALL' ? { status: statusFilter } : null;\r\n        const urgencyWhere = urgencyFilter !== 'ALL' ? { urgency: urgencyFilter } : null;\r\n        const assigneeWhere = assigneeId ? { assigneeId } : null;\r\n\r\n        const recentIncidentWhere = {\r\n            createdAt: { gte: recentStart },\r\n            ...(serviceWhere ?? {}),\r\n            ...(urgencyWhere ?? {}),\r\n            ...(statusWhere ?? {}),\r\n            ...(assigneeWhere ?? {})\r\n        };\r\n\r\n        // Fetch data\r\n        const [recentIncidents, services, teams, users, statusTrends, topServices] = await Promise.all([\r\n            prisma.incident.findMany({\r\n                where: recentIncidentWhere,\r\n                include: {\r\n                    service: true,\r\n                    assignee: true\r\n                },\r\n                orderBy: { createdAt: 'desc' }\r\n            }),\r\n            prisma.service.findMany({\r\n                where: teamId ? { teamId } : undefined,\r\n                include: { team: true }\r\n            }),\r\n            prisma.team.findMany(),\r\n            prisma.user.findMany(),\r\n            prisma.incident.groupBy({\r\n                by: ['status'],\r\n                where: recentIncidentWhere,\r\n                _count: { _all: true }\r\n            }),\r\n            prisma.incident.groupBy({\r\n                by: ['serviceId'],\r\n                where: recentIncidentWhere,\r\n                _count: { _all: true },\r\n                orderBy: { _count: { id: 'desc' } },\r\n                take: 10\r\n            })\r\n        ]);\r\n\r\n        // Calculate metrics\r\n        const totalIncidents = recentIncidents.length;\r\n        const resolvedIncidents = recentIncidents.filter(i => i.status === 'RESOLVED');\r\n        const openIncidents = recentIncidents.filter(i => i.status === 'OPEN');\r\n        const highUrgencyCount = recentIncidents.filter(i => i.urgency === 'HIGH').length;\r\n\r\n        // Calculate MTTA and MTTR (simplified)\r\n        const ackEvents = await prisma.incidentEvent.findMany({\r\n            where: {\r\n                incidentId: { in: recentIncidents.map(i => i.id) },\r\n                message: { contains: 'acknowledged', mode: 'insensitive' }\r\n            },\r\n            select: { incidentId: true, createdAt: true }\r\n        });\r\n\r\n        const ackByIncident = new Map<string, Date>();\r\n        for (const ack of ackEvents) {\r\n            if (!ackByIncident.has(ack.incidentId)) {\r\n                ackByIncident.set(ack.incidentId, ack.createdAt);\r\n            }\r\n        }\r\n\r\n        const ackDiffs: number[] = [];\r\n        for (const incident of recentIncidents) {\r\n            const ackedAt = ackByIncident.get(incident.id);\r\n            if (ackedAt && incident.createdAt) {\r\n                ackDiffs.push(ackedAt.getTime() - incident.createdAt.getTime());\r\n            }\r\n        }\r\n        const mttaMs = ackDiffs.length ? ackDiffs.reduce((sum, diff) => sum + diff, 0) / ackDiffs.length : null;\r\n\r\n        const resolvedDiffs = resolvedIncidents\r\n            .map(i => {\r\n                const resolvedAt = i.resolvedAt || i.updatedAt;\r\n                return resolvedAt && i.createdAt ? resolvedAt.getTime() - i.createdAt.getTime() : null;\r\n            })\r\n            .filter((diff): diff is number => diff !== null);\r\n        const mttrMs = resolvedDiffs.length ? resolvedDiffs.reduce((sum, diff) => sum + diff, 0) / resolvedDiffs.length : null;\r\n\r\n        const resolutionRate = totalIncidents ? (resolvedIncidents.length / totalIncidents) * 100 : 0;\r\n        const ackRate = totalIncidents ? (ackByIncident.size / totalIncidents) * 100 : 0;\r\n\r\n        // Build CSV content with well-designed structure\r\n        const csvRows: string[][] = [];\r\n\r\n        // Header section with branding (using ASCII characters)\r\n        csvRows.push(['===============================================================']);\r\n        csvRows.push(['                    ANALYTICS REPORT']);\r\n        csvRows.push(['              Operational Readiness Dashboard']);\r\n        csvRows.push(['===============================================================']);\r\n        csvRows.push(['']);\r\n        csvRows.push(['Report Generated:', formatDate(now, userTimeZone)]);\r\n        csvRows.push(['Time Window:', `Last ${windowDays} day${windowDays !== 1 ? 's' : ''}`]);\r\n        csvRows.push(['Report Period:', `${formatDate(recentStart, userTimeZone)} to ${formatDate(now, userTimeZone)}`]);\r\n        csvRows.push(['']);\r\n        \r\n        // Filter information\r\n        csvRows.push(['---------------------------------------------------------------']);\r\n        csvRows.push(['FILTERS APPLIED']);\r\n        csvRows.push(['---------------------------------------------------------------']);\r\n        const hasFilters = teamId || serviceId || assigneeId || statusFilter !== 'ALL' || urgencyFilter !== 'ALL';\r\n        if (hasFilters) {\r\n            if (teamId) {\r\n                const team = teams.find(t => t.id === teamId);\r\n                csvRows.push(['Team:', team?.name || teamId]);\r\n            } else {\r\n                csvRows.push(['Team:', 'All Teams']);\r\n            }\r\n            if (serviceId) {\r\n                const service = services.find(s => s.id === serviceId);\r\n                csvRows.push(['Service:', service?.name || serviceId]);\r\n            } else {\r\n                csvRows.push(['Service:', 'All Services']);\r\n            }\r\n            if (assigneeId) {\r\n                const user = users.find(u => u.id === assigneeId);\r\n                csvRows.push(['Assignee:', user?.name || user?.email || assigneeId]);\r\n            } else {\r\n                csvRows.push(['Assignee:', 'All Assignees']);\r\n            }\r\n            csvRows.push(['Status:', statusFilter === 'ALL' ? 'All Statuses' : statusFilter]);\r\n            csvRows.push(['Urgency:', urgencyFilter === 'ALL' ? 'All Urgencies' : urgencyFilter]);\r\n        } else {\r\n            csvRows.push(['No filters applied - showing all data']);\r\n        }\r\n        csvRows.push(['']);\r\n\r\n        // Summary metrics with visual separators\r\n        csvRows.push(['---------------------------------------------------------------']);\r\n        csvRows.push(['KEY PERFORMANCE INDICATORS (KPIs)']);\r\n        csvRows.push(['---------------------------------------------------------------']);\r\n        csvRows.push(['Metric', 'Value', 'Status']);\r\n        \r\n        // Add status indicators with ASCII-compatible characters\r\n        const getStatusIndicator = (value: number, thresholds: { good: number; warning: number }) => {\r\n            if (value >= thresholds.good) return '[OK] Good';\r\n            if (value >= thresholds.warning) return '[!] Warning';\r\n            return '[X] Needs Attention';\r\n        };\r\n        \r\n        csvRows.push(['Total Incidents', totalIncidents.toString(), '']);\r\n        csvRows.push(['Open Incidents', openIncidents.length.toString(), openIncidents.length > 10 ? '[!] High' : '[OK] Normal']);\r\n        csvRows.push(['Resolved Incidents', resolvedIncidents.length.toString(), '']);\r\n        csvRows.push(['High Urgency Incidents', highUrgencyCount.toString(), highUrgencyCount > 5 ? '[!] High' : '[OK] Normal']);\r\n        \r\n        // MTTA with visual indicator\r\n        const mttaStatus = mttaMs && mttaMs < 15 * 60 * 1000 ? '[OK] Good' : mttaMs && mttaMs < 30 * 60 * 1000 ? '[!] Review' : '[X] Needs Attention';\r\n        csvRows.push(['MTTA (Mean Time to Acknowledge)', formatMinutes(mttaMs), mttaStatus]);\r\n        \r\n        // MTTR with visual indicator\r\n        const mttrStatus = mttrMs && mttrMs < 120 * 60 * 1000 ? '[OK] Good' : mttrMs && mttrMs < 240 * 60 * 1000 ? '[!] Review' : '[X] Needs Attention';\r\n        csvRows.push(['MTTR (Mean Time to Resolve)', formatMinutes(mttrMs), mttrStatus]);\r\n        \r\n        csvRows.push(['Acknowledgment Rate', formatPercent(ackRate), getStatusIndicator(ackRate, { good: 90, warning: 70 })]);\r\n        csvRows.push(['Resolution Rate', formatPercent(resolutionRate), getStatusIndicator(resolutionRate, { good: 80, warning: 60 })]);\r\n        csvRows.push(['']);\r\n\r\n        // Status breakdown with visual bars\r\n        csvRows.push(['---------------------------------------------------------------']);\r\n        csvRows.push(['INCIDENT STATUS BREAKDOWN']);\r\n        csvRows.push(['---------------------------------------------------------------']);\r\n        csvRows.push(['Status', 'Count', 'Percentage', 'Visual Bar']);\r\n        const statusMap = new Map<IncidentStatus, number>(statusTrends.map(s => [s.status, s._count._all]));\r\n        const statusOrder: IncidentStatus[] = ['OPEN', 'ACKNOWLEDGED', 'SNOOZED', 'SUPPRESSED', 'RESOLVED'];\r\n        const maxStatusCount = Math.max(...Array.from(statusMap.values()), 1);\r\n        statusOrder.forEach(status => {\r\n            const count = statusMap.get(status) || 0;\r\n            const percentage = totalIncidents ? parseFloat(((count / totalIncidents) * 100).toFixed(1)) : 0;\r\n            const progressBar = createProgressBar(count, maxStatusCount, 30);\r\n            csvRows.push([status, count.toString(), `${percentage.toFixed(1)}%`, progressBar]);\r\n        });\r\n        csvRows.push(['']);\r\n\r\n        // Top services with ranking and visualization\r\n        csvRows.push(['---------------------------------------------------------------']);\r\n        csvRows.push(['TOP SERVICES BY INCIDENT COUNT']);\r\n        csvRows.push(['---------------------------------------------------------------']);\r\n        csvRows.push(['Rank', 'Service', 'Incident Count', 'Percentage', 'Visual Bar']);\r\n        const serviceNameMap = new Map(services.map(s => [s.id, s.name]));\r\n        const maxServiceCount = topServices.length > 0 ? Math.max(...topServices.map(s => s._count._all)) : 1;\r\n        topServices.forEach((entry, index) => {\r\n            const serviceName = serviceNameMap.get(entry.serviceId) || 'Unknown Service';\r\n            const percentage = totalIncidents ? ((entry._count._all / totalIncidents) * 100).toFixed(1) : '0.0';\r\n            const progressBar = createProgressBar(entry._count._all, maxServiceCount, 25);\r\n            csvRows.push([\r\n                `#${index + 1}`,\r\n                serviceName,\r\n                entry._count._all.toString(),\r\n                `${percentage}%`,\r\n                progressBar\r\n            ]);\r\n        });\r\n        csvRows.push(['']);\r\n\r\n        // Detailed incident list with better formatting\r\n        csvRows.push(['---------------------------------------------------------------']);\r\n        csvRows.push(['DETAILED INCIDENT LIST']);\r\n        csvRows.push(['---------------------------------------------------------------']);\r\n        csvRows.push([\r\n            'ID',\r\n            'Title',\r\n            'Service',\r\n            'Status',\r\n            'Urgency',\r\n            'Assignee',\r\n            'Created At',\r\n            'Updated At',\r\n            'Duration (hours)'\r\n        ]);\r\n\r\n        recentIncidents.forEach(incident => {\r\n            const duration = incident.updatedAt && incident.createdAt\r\n                ? ((incident.updatedAt.getTime() - incident.createdAt.getTime()) / 1000 / 60 / 60).toFixed(2)\r\n                : '--';\r\n            \r\n            csvRows.push([\r\n                incident.id,\r\n                incident.title || '',\r\n                incident.service?.name || 'Unknown',\r\n                incident.status,\r\n                incident.urgency,\r\n                incident.assignee?.name || incident.assignee?.email || 'Unassigned',\r\n                formatDate(incident.createdAt, userTimeZone),\r\n                formatDate(incident.updatedAt, userTimeZone),\r\n                duration\r\n            ]);\r\n        });\r\n\r\n        // Generate CSV with UTF-8 BOM for Excel compatibility\r\n        const csvContent = generateCSV(csvRows);\r\n        // Add UTF-8 BOM for proper Excel encoding\r\n        const csvWithBOM = '\\uFEFF' + csvContent;\r\n\r\n        // Return response with proper encoding\r\n        return new NextResponse(csvWithBOM, {\r\n            headers: {\r\n                'Content-Type': 'text/csv; charset=utf-8',\r\n                'Content-Disposition': `attachment; filename=\"analytics-report-${new Date().toISOString().split('T')[0]}.csv\"`,\r\n                'Cache-Control': 'no-cache',\r\n            },\r\n        });\r\n    } catch (error) {\r\n        logger.error('api.analytics.export_error', { error: error instanceof Error ? error.message : String(error) });\r\n        return jsonError('Failed to generate export', 500);\r\n    }\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\auth\\[...nextauth]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\auth\\forgot-password\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\auth\\reset-password\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\events\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 60,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 60,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2179, 2182], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2179, 2182], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 126,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 126,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5024, 5027], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5024, 5027], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\events\\stream\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 85,
        "column": 33,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 85,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2646, 2649], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2646, 2649], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 164,
        "column": 33,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 164,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6465, 6468], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6465, 6468], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\health\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 46,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 46,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1540, 1543], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1540, 1543], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 70,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 70,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2497, 2500], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2497, 2500], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\incidents\\[id]\\context\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\incidents\\[id]\\custom-fields\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 27,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 27,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [880, 883], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [880, 883], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 84,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 84,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2927, 2930], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2927, 2930], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\incidents\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 107,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 107,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3955, 3958], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3955, 3958], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\incidents\\export\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 27,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 27,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1008, 1011], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1008, 1011], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 30,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 30,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1167, 1170], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1167, 1170], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\incidents\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 109,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 109,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3711, 3714], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3711, 3714], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\integrations\\azure\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 36,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 36,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1236, 1239], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1236, 1239], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 50,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 50,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1792, 1795], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1792, 1795], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\integrations\\cloudwatch\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 37,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 37,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1334, 1337], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1334, 1337], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 63,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 63,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2338, 2341], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2338, 2341], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\integrations\\datadog\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 36,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 36,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1234, 1237], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1234, 1237], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 50,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 50,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1790, 1793], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1790, 1793], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\integrations\\github\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1182, 1185], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1182, 1185], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 45,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 45,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1647, 1650], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1647, 1650], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\integrations\\grafana\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1180, 1183], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1180, 1183], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 45,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 45,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1647, 1650], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1647, 1650], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\integrations\\newrelic\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1186, 1189], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1186, 1189], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 45,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 45,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1655, 1658], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1655, 1658], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\integrations\\opsgenie\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1185, 1188], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1185, 1188], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 45,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 45,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1654, 1657], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1654, 1657], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\integrations\\pagerduty\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1190, 1193], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1190, 1193], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 45,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 45,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1661, 1664], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1661, 1664], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\integrations\\prometheus\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1208, 1211], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1208, 1211], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 45,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 45,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1681, 1684], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1681, 1684], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\integrations\\sentry\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1175, 1178], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1175, 1178], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 45,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 45,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1640, 1643], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1640, 1643], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\integrations\\webhook\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 36,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 36,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1251, 1254], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1251, 1254], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 54,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 54,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1979, 1982], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1979, 1982], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\logs\\ingest\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\monitoring\\queries\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\monitoring\\services\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\notifications\\history\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 33,
        "column": 22,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 33,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1232, 1235], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1232, 1235], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\notifications\\route.ts",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 64,
        "column": 26,
        "nodeType": "MemberExpression",
        "endLine": 64,
        "endColumn": 42
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 110,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 110,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3938, 3941], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3938, 3941], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest } from 'next/server';\r\nimport prisma from '@/lib/prisma';\r\nimport { getServerSession } from 'next-auth';\r\nimport { getAuthOptions } from '@/lib/auth';\r\nimport { jsonError, jsonOk } from '@/lib/api-response';\r\nimport { NotificationPatchSchema } from '@/lib/validation';\r\nimport { logger } from '@/lib/logger';\r\nimport { getUserTimeZone, formatDateTime } from '@/lib/timezone';\r\n\r\nexport async function GET(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(await getAuthOptions());\r\n        if (!session?.user?.email) {\r\n            return jsonError('Unauthorized', 401);\r\n        }\r\n\r\n        const user = await prisma.user.findUnique({\r\n            where: { email: session.user.email },\r\n            select: { id: true, timeZone: true }\r\n        });\r\n\r\n        if (!user) {\r\n            return jsonError('User not found', 404);\r\n        }\r\n\r\n        const userTimeZone = getUserTimeZone(user ?? undefined);\r\n\r\n        const { searchParams } = new URL(req.url);\r\n        const limit = parseLimit(searchParams.get('limit'));\r\n        const unreadOnly = searchParams.get('unreadOnly') === 'true';\r\n\r\n        const baseWhere = {\r\n            userId: user.id\r\n        };\r\n\r\n        const where = unreadOnly\r\n            ? { ...baseWhere, readAt: null }\r\n            : baseWhere;\r\n\r\n        const [notifications, unreadCount, total] = await Promise.all([\r\n            prisma.inAppNotification.findMany({\r\n                where,\r\n                take: limit,\r\n                orderBy: { createdAt: 'desc' }\r\n            }),\r\n            prisma.inAppNotification.count({\r\n                where: { ...baseWhere, readAt: null }\r\n            }),\r\n            prisma.inAppNotification.count({\r\n                where: baseWhere\r\n            })\r\n        ]);\r\n\r\n        const formattedNotifications = notifications.map((notification) => {\r\n            // Use centralized formatDateTime with 'relative' option for consistency\r\n            const timeAgo = formatDateTime(notification.createdAt, userTimeZone, { format: 'relative' });\r\n            const typeKey = notification.type.toLowerCase();\r\n            const typeMap: Record<string, 'incident' | 'service' | 'schedule'> = {\r\n                incident: 'incident',\r\n                schedule: 'schedule',\r\n                service: 'service',\r\n                team: 'service'\r\n            };\r\n            const type = typeMap[typeKey] || 'incident';\r\n            const incidentId = notification.entityType === 'INCIDENT'\r\n                ? notification.entityId\r\n                : null;\r\n\r\n            return {\r\n                id: notification.id,\r\n                title: notification.title,\r\n                message: notification.message,\r\n                time: timeAgo,\r\n                unread: !notification.readAt,\r\n                type,\r\n                incidentId,\r\n                createdAt: notification.createdAt.toISOString()\r\n            };\r\n        });\r\n\r\n        return jsonOk({ notifications: formattedNotifications, unreadCount, total }, 200);\r\n    } catch (error) {\r\n        logger.error('api.notifications.fetch_error', { error: error instanceof Error ? error.message : String(error) });\r\n        return jsonError('Failed to fetch notifications', 500);\r\n    }\r\n}\r\n\r\nfunction parseLimit(value: string | null) {\r\n    const limit = Number(value);\r\n    if (Number.isNaN(limit) || limit <= 0) return 50;\r\n    return Math.min(limit, 200);\r\n}\r\n\r\nexport async function PATCH(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(await getAuthOptions());\r\n        if (!session?.user?.email) {\r\n            return jsonError('Unauthorized', 401);\r\n        }\r\n\r\n        const user = await prisma.user.findUnique({\r\n            where: { email: session.user.email },\r\n            select: { id: true }\r\n        });\r\n\r\n        if (!user) {\r\n            return jsonError('User not found', 404);\r\n        }\r\n\r\n        let body: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        try {\r\n            body = await req.json();\r\n        } catch (_error) {\r\n            return jsonError('Invalid JSON in request body.', 400);\r\n        }\r\n        const parsed = NotificationPatchSchema.safeParse(body);\r\n        if (!parsed.success) {\r\n            return jsonError('Invalid request body.', 400, { issues: parsed.error.issues });\r\n        }\r\n        const { notificationIds, markAllAsRead } = parsed.data;\r\n\r\n        if (markAllAsRead) {\r\n            await prisma.inAppNotification.updateMany({\r\n                where: {\r\n                    userId: user.id,\r\n                    readAt: null\r\n                },\r\n                data: {\r\n                    readAt: new Date()\r\n                }\r\n            });\r\n\r\n            return jsonOk({ success: true, message: 'All notifications marked as read' }, 200);\r\n        }\r\n\r\n        if (notificationIds && Array.isArray(notificationIds)) {\r\n            await prisma.inAppNotification.updateMany({\r\n                where: {\r\n                    id: { in: notificationIds },\r\n                    userId: user.id\r\n                },\r\n                data: {\r\n                    readAt: new Date()\r\n                }\r\n            });\r\n\r\n            return jsonOk({ success: true, message: 'Notifications marked as read' }, 200);\r\n        }\r\n\r\n        return jsonError('Invalid request', 400);\r\n    } catch (error) {\r\n        logger.error('api.notifications.update_error', { error: error instanceof Error ? error.message : String(error) });\r\n        return jsonError('Failed to update notifications', 500);\r\n    }\r\n}\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\notifications\\stream\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\notifications\\test-push\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\prefer-desktop\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\public-logs\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\realtime\\stream\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\schedules\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\schedules\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\search-presets\\[id]\\duplicate\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 72,
        "column": 60,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 72,
        "endColumn": 63,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2299, 2302], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2299, 2302], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 93,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 93,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3069, 3072], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3069, 3072], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\search-presets\\[id]\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 64,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 64,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1705, 1708], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1705, 1708], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 176,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 176,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4681, 4684], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4681, 4684], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 217,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 217,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5865, 5868], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5865, 5868], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 100,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 100,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2735, 2738], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2735, 2738], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 122,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 122,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3334, 3337], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3334, 3337], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest } from 'next/server';\r\nimport { getServerSession } from 'next-auth';\r\nimport { getAuthOptions } from '@/lib/auth';\r\nimport prisma from '@/lib/prisma';\r\nimport { jsonError, jsonOk } from '@/lib/api-response';\r\nimport { SearchPresetPatchSchema } from '@/lib/validation';\r\nimport { logger } from '@/lib/logger';\r\n\r\n/**\r\n * Get Preset by ID\r\n * GET /api/search-presets/[id]\r\n */\r\nexport async function GET(req: NextRequest, { params }: { params: Promise<{ id: string }> }) {\r\n  try {\r\n    const session = await getServerSession(await getAuthOptions());\r\n    if (!session?.user?.id) {\r\n      return jsonError('Unauthorized', 401);\r\n    }\r\n\r\n    const { id } = await params;\r\n\r\n    const preset = await prisma.searchPreset.findUnique({\r\n      where: { id },\r\n      include: {\r\n        createdBy: {\r\n          select: {\r\n            id: true,\r\n            name: true,\r\n            email: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n\r\n    if (!preset) {\r\n      return jsonError('Preset not found', 404);\r\n    }\r\n\r\n    // Check access\r\n    const userTeams = await prisma.user.findUnique({\r\n      where: { id: session.user.id },\r\n      select: {\r\n        teamMemberships: {\r\n          select: {\r\n            teamId: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n\r\n    const userTeamIds = userTeams?.teamMemberships.map(t => t.teamId) || [];\r\n\r\n    const hasAccess =\r\n      preset.createdById === session.user.id ||\r\n      preset.isPublic ||\r\n      preset.isShared ||\r\n      preset.sharedWithTeams.some(teamId => userTeamIds.includes(teamId));\r\n\r\n    if (!hasAccess) {\r\n      return jsonError('Access denied', 403);\r\n    }\r\n\r\n    return jsonOk({ preset }, 200);\r\n  } catch (error: any) {\r\n     \r\n    logger.error('api.search_presets.fetch_one_error', {\r\n      error: error instanceof Error ? error.message : String(error),\r\n    });\r\n    return jsonError(error.message || 'Failed to fetch preset', 500);\r\n  }\r\n}\r\n\r\n/**\r\n * Update Preset\r\n * PATCH /api/search-presets/[id]\r\n */\r\nexport async function PATCH(req: NextRequest, { params }: { params: Promise<{ id: string }> }) {\r\n  try {\r\n    const session = await getServerSession(await getAuthOptions());\r\n    if (!session?.user?.id) {\r\n      return jsonError('Unauthorized', 401);\r\n    }\r\n\r\n    const { id } = await params;\r\n\r\n    // Check ownership or admin\r\n    const preset = await prisma.searchPreset.findUnique({\r\n      where: { id },\r\n    });\r\n\r\n    if (!preset) {\r\n      return jsonError('Preset not found', 404);\r\n    }\r\n\r\n    const permissions = await import('@/lib/rbac').then(m => m.getUserPermissions());\r\n    if (preset.createdById !== session.user.id && !permissions.isAdmin) {\r\n      return jsonError('Access denied', 403);\r\n    }\r\n\r\n    let body: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    try {\r\n      body = await req.json();\r\n    } catch (_error) {\r\n      return jsonError('Invalid JSON in request body.', 400);\r\n    }\r\n    const parsed = SearchPresetPatchSchema.safeParse(body);\r\n    if (!parsed.success) {\r\n      return jsonError('Invalid request body.', 400, { issues: parsed.error.issues });\r\n    }\r\n    const {\r\n      name,\r\n      description,\r\n      filterCriteria,\r\n      isShared,\r\n      isPublic,\r\n      icon,\r\n      color,\r\n      order,\r\n      sharedWithTeams,\r\n    } = parsed.data;\r\n\r\n    const updateData: any = {}; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n\r\n    if (name !== undefined) {\r\n      updateData.name = name.trim();\r\n    }\r\n\r\n    if (description !== undefined) {\r\n      updateData.description = description?.trim() || null;\r\n    }\r\n\r\n    if (filterCriteria !== undefined) {\r\n      updateData.filterCriteria = filterCriteria;\r\n    }\r\n\r\n    if (isShared !== undefined) {\r\n      updateData.isShared = isShared;\r\n    }\r\n\r\n    if (isPublic !== undefined && permissions.isAdmin) {\r\n      updateData.isPublic = isPublic;\r\n    }\r\n\r\n    if (icon !== undefined) {\r\n      updateData.icon = icon || null;\r\n    }\r\n\r\n    if (color !== undefined) {\r\n      updateData.color = color || null;\r\n    }\r\n\r\n    if (order !== undefined) {\r\n      updateData.order = order;\r\n    }\r\n\r\n    if (sharedWithTeams !== undefined) {\r\n      updateData.sharedWithTeams = Array.isArray(sharedWithTeams) ? sharedWithTeams : [];\r\n    }\r\n\r\n    const updated = await prisma.searchPreset.update({\r\n      where: { id },\r\n      data: updateData,\r\n      include: {\r\n        createdBy: {\r\n          select: {\r\n            id: true,\r\n            name: true,\r\n            email: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n\r\n    logger.info('api.search_presets.updated', { presetId: updated.id });\r\n    return jsonOk({ preset: updated }, 200);\r\n  } catch (error: any) {\r\n     \r\n    logger.error('api.search_presets.update_error', {\r\n      error: error instanceof Error ? error.message : String(error),\r\n    });\r\n    return jsonError(error.message || 'Failed to update preset', 500);\r\n  }\r\n}\r\n\r\n/**\r\n * Delete Preset\r\n * DELETE /api/search-presets/[id]\r\n */\r\nexport async function DELETE(req: NextRequest, { params }: { params: Promise<{ id: string }> }) {\r\n  try {\r\n    const session = await getServerSession(await getAuthOptions());\r\n    if (!session?.user?.id) {\r\n      return jsonError('Unauthorized', 401);\r\n    }\r\n\r\n    const { id } = await params;\r\n\r\n    const preset = await prisma.searchPreset.findUnique({\r\n      where: { id },\r\n    });\r\n\r\n    if (!preset) {\r\n      return jsonError('Preset not found', 404);\r\n    }\r\n\r\n    const permissions = await import('@/lib/rbac').then(m => m.getUserPermissions());\r\n    if (preset.createdById !== session.user.id && !permissions.isAdmin) {\r\n      return jsonError('Access denied', 403);\r\n    }\r\n\r\n    await prisma.searchPreset.delete({\r\n      where: { id },\r\n    });\r\n\r\n    logger.info('api.search_presets.deleted', { presetId: id });\r\n    return jsonOk({ success: true }, 200);\r\n  } catch (error: any) {\r\n     \r\n    logger.error('api.search_presets.delete_error', {\r\n      error: error instanceof Error ? error.message : String(error),\r\n    });\r\n    return jsonError(error.message || 'Failed to delete preset', 500);\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\search-presets\\[id]\\use\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 58,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 58,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1770, 1773], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1770, 1773], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\search-presets\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 39,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 39,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1368, 1371], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1368, 1371], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 58,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 58,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2010, 2013], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2010, 2013], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 116,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 116,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4105, 4108], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4105, 4108], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\search\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 285,
        "column": 37,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 285,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10231, 10234], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10231, 10234], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 307,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 307,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11160, 11163], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11160, 11163], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\services\\[id]\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 36,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 36,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1088, 1091], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1088, 1091], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest } from 'next/server';\r\nimport prisma from '@/lib/prisma';\r\nimport { authenticateApiKey, hasApiScopes } from '@/lib/api-auth';\r\nimport { jsonError, jsonOk } from '@/lib/api-response';\r\n\r\nexport async function GET(req: NextRequest, { params }: { params: Promise<{ id: string }> }) {\r\n  try {\r\n    const apiKey = await authenticateApiKey(req);\r\n    if (!apiKey) {\r\n      return jsonError('Unauthorized. Missing or invalid API key.', 401);\r\n    }\r\n    if (!hasApiScopes(apiKey.scopes, ['services:read'])) {\r\n      return jsonError('API key missing scope: services:read.', 403);\r\n    }\r\n\r\n    const { id } = await params;\r\n    const service = await prisma.service.findUnique({\r\n      where: { id },\r\n      select: {\r\n        id: true,\r\n        name: true,\r\n        description: true,\r\n        status: true,\r\n        teamId: true,\r\n        escalationPolicyId: true,\r\n        createdAt: true,\r\n        updatedAt: true,\r\n      },\r\n    });\r\n\r\n    if (!service) {\r\n      return jsonError('Service not found.', 404);\r\n    }\r\n\r\n    return jsonOk({ service });\r\n  } catch (error: any) {\r\n     \r\n    return jsonError(error.message || 'Internal Server Error', 500);\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\services\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 41,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 41,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1235, 1238], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1235, 1238], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest } from 'next/server';\r\nimport prisma from '@/lib/prisma';\r\nimport { authenticateApiKey, hasApiScopes } from '@/lib/api-auth';\r\nimport { jsonError, jsonOk } from '@/lib/api-response';\r\n\r\nfunction parseLimit(value: string | null) {\r\n  const limit = Number(value);\r\n  if (Number.isNaN(limit) || limit <= 0) return 50;\r\n  return Math.min(limit, 200);\r\n}\r\n\r\nexport async function GET(req: NextRequest) {\r\n  try {\r\n    const apiKey = await authenticateApiKey(req);\r\n    if (!apiKey) {\r\n      return jsonError('Unauthorized. Missing or invalid API key.', 401);\r\n    }\r\n    if (!hasApiScopes(apiKey.scopes, ['services:read'])) {\r\n      return jsonError('API key missing scope: services:read.', 403);\r\n    }\r\n\r\n    const { searchParams } = new URL(req.url);\r\n    const limit = parseLimit(searchParams.get('limit'));\r\n\r\n    const services = await prisma.service.findMany({\r\n      orderBy: { createdAt: 'desc' },\r\n      take: limit,\r\n      select: {\r\n        id: true,\r\n        name: true,\r\n        description: true,\r\n        status: true,\r\n        teamId: true,\r\n        escalationPolicyId: true,\r\n        createdAt: true,\r\n        updatedAt: true,\r\n      },\r\n    });\r\n\r\n    return jsonOk({ services });\r\n  } catch (error: any) {\r\n     \r\n    return jsonError(error.message || 'Internal Server Error', 500);\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\settings\\app-url\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\settings\\custom-fields\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 43,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 43,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1353, 1356], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1353, 1356], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\settings\\custom-fields\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 28,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 28,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [916, 919], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [916, 919], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 74,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 74,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2587, 2590], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2587, 2590], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 103,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 103,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3525, 3528], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3525, 3528], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\settings\\email-providers\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 28,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 28,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1203, 1206], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1203, 1206], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 38,
        "column": 55,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 38,
        "endColumn": 58,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1577, 1580], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1577, 1580], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 48,
        "column": 51,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 48,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1941, 1944], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1941, 1944], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 58,
        "column": 50,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 58,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2332, 2335], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2332, 2335], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 68,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 68,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2679, 2682], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2679, 2682], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\settings\\notifications\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 112,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 112,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4638, 4641], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4638, 4641], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 169,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 169,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6997, 7000], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6997, 7000], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 27,
        "column": 20,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 27,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1111, 1114], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1111, 1114], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 29,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 29,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1311, 1314], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1311, 1314], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 38,
        "column": 44,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 38,
        "endColumn": 47,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1692, 1695], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1692, 1695], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 49,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 49,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2061, 2064], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2061, 2064], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 51,
        "column": 49,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 51,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2267, 2270], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2267, 2270], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 60,
        "column": 50,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 60,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2671, 2674], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2671, 2674], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 70,
        "column": 56,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 70,
        "endColumn": 59,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3057, 3060], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3057, 3060], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 107,
        "column": 69,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 107,
        "endColumn": 72,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4393, 4396], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4393, 4396], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest } from 'next/server';\r\nimport { getCurrentUser } from '@/lib/rbac';\r\nimport { jsonError, jsonOk } from '@/lib/api-response';\r\nimport { getUserFriendlyError } from '@/lib/user-friendly-errors';\r\nimport prisma from '@/lib/prisma';\r\n\r\n/**\r\n * GET /api/settings/notifications\r\n * Get notification provider settings from database\r\n */\r\nexport async function GET(_req: NextRequest) {\r\n  try {\r\n    const user = await getCurrentUser();\r\n    if (!user || user.role !== 'ADMIN') {\r\n      return jsonError('Unauthorized. Admin access required.', 403);\r\n    }\r\n\r\n    // Get settings from database\r\n    const [twilioProvider, awsProvider, firebaseProvider, onesignalProvider] = await Promise.all([\r\n      prisma.notificationProvider.findUnique({ where: { provider: 'twilio' } }),\r\n      prisma.notificationProvider.findUnique({ where: { provider: 'aws-sns' } }),\r\n      prisma.notificationProvider.findUnique({ where: { provider: 'firebase' } }),\r\n      prisma.notificationProvider.findUnique({ where: { provider: 'onesignal' } }),\r\n    ]);\r\n\r\n    // Build SMS config from database\r\n    let smsConfig: any = { enabled: false, provider: null }; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    if (twilioProvider && twilioProvider.enabled) {\r\n      const config = twilioProvider.config as any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n      smsConfig = {\r\n        enabled: true,\r\n        provider: 'twilio',\r\n        accountSid: config.accountSid || '',\r\n        authToken: config.authToken || '',\r\n        fromNumber: config.fromNumber || '',\r\n      };\r\n    } else if (awsProvider && awsProvider.enabled) {\r\n      const config = awsProvider.config as any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n      smsConfig = {\r\n        enabled: true,\r\n        provider: 'aws-sns',\r\n        region: config.region || 'us-east-1',\r\n        accessKeyId: config.accessKeyId || '',\r\n        secretAccessKey: config.secretAccessKey || '',\r\n      };\r\n    }\r\n\r\n    // Build Push config from database\r\n    let pushConfig: any = { enabled: false, provider: null }; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    if (firebaseProvider && firebaseProvider.enabled) {\r\n      const config = firebaseProvider.config as any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n      pushConfig = {\r\n        enabled: true,\r\n        provider: 'firebase',\r\n        projectId: config.projectId || '',\r\n        privateKey: config.privateKey || '',\r\n        clientEmail: config.clientEmail || '',\r\n      };\r\n    } else if (onesignalProvider && onesignalProvider.enabled) {\r\n      const config = onesignalProvider.config as any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n      pushConfig = {\r\n        enabled: true,\r\n        provider: 'onesignal',\r\n        appId: config.appId || '',\r\n        restApiKey: config.restApiKey || '',\r\n      };\r\n    }\r\n\r\n    // Get WhatsApp config from Twilio provider config (independent of SMS enablement)\r\n    const whatsappProvider = twilioProvider?.config as any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    const whatsappNumber = whatsappProvider?.whatsappNumber || '';\r\n    const whatsappContentSid = whatsappProvider?.whatsappContentSid || '';\r\n    const whatsappEnabled = whatsappProvider?.whatsappEnabled ?? !!whatsappNumber;\r\n    const whatsappConfig = {\r\n      number: whatsappNumber,\r\n      contentSid: whatsappContentSid,\r\n      accountSid: whatsappProvider?.whatsappAccountSid || '',\r\n      authToken: whatsappProvider?.whatsappAuthToken || '',\r\n      enabled: !!whatsappEnabled && !!whatsappNumber,\r\n    };\r\n\r\n    return jsonOk({\r\n      sms: smsConfig,\r\n      push: pushConfig,\r\n      whatsapp: whatsappConfig,\r\n    });\r\n  } catch (error) {\r\n    return jsonError(getUserFriendlyError(error), 500);\r\n  }\r\n}\r\n\r\n/**\r\n * POST /api/settings/notifications\r\n * Update notification provider settings in database\r\n */\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const user = await getCurrentUser();\r\n    if (!user || user.role !== 'ADMIN') {\r\n      return jsonError('Unauthorized. Admin access required.', 403);\r\n    }\r\n\r\n    const body = await req.json();\r\n    const existingTwilioProvider = await prisma.notificationProvider.findUnique({\r\n      where: { provider: 'twilio' },\r\n    });\r\n    const existingTwilioConfig = (existingTwilioProvider?.config as any) || {}; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n\r\n    // Save SMS provider (Twilio or AWS SNS)\r\n    if (body.sms) {\r\n      const smsProvider = body.sms.provider === 'twilio' ? 'twilio' : 'aws-sns';\r\n      const smsConfig: any = {\r\n         \r\n        enabled: body.sms.enabled || false,\r\n      };\r\n\r\n      if (body.sms.provider === 'twilio') {\r\n        smsConfig.accountSid = body.sms.accountSid || '';\r\n        smsConfig.authToken = body.sms.authToken || '';\r\n        smsConfig.fromNumber = body.sms.fromNumber || '';\r\n        // Store WhatsApp config in Twilio provider config\r\n        const whatsappNumber = body.whatsapp?.number ?? existingTwilioConfig.whatsappNumber ?? '';\r\n        smsConfig.whatsappNumber = whatsappNumber;\r\n        smsConfig.whatsappContentSid =\r\n          body.whatsapp?.contentSid ?? existingTwilioConfig.whatsappContentSid ?? '';\r\n        smsConfig.whatsappEnabled =\r\n          body.whatsapp?.enabled ?? existingTwilioConfig.whatsappEnabled ?? !!whatsappNumber;\r\n        smsConfig.whatsappAccountSid =\r\n          body.whatsapp?.accountSid ?? existingTwilioConfig.whatsappAccountSid ?? '';\r\n        smsConfig.whatsappAuthToken =\r\n          body.whatsapp?.authToken ?? existingTwilioConfig.whatsappAuthToken ?? '';\r\n      } else if (body.sms.provider === 'aws-sns') {\r\n        smsConfig.region = body.sms.region || 'us-east-1';\r\n        smsConfig.accessKeyId = body.sms.accessKeyId || '';\r\n        smsConfig.secretAccessKey = body.sms.secretAccessKey || '';\r\n      }\r\n\r\n      await prisma.notificationProvider.upsert({\r\n        where: { provider: smsProvider },\r\n        create: {\r\n          provider: smsProvider,\r\n          enabled: smsConfig.enabled,\r\n          config: smsConfig,\r\n          updatedBy: user.id,\r\n        },\r\n        update: {\r\n          enabled: smsConfig.enabled,\r\n          config: smsConfig,\r\n          updatedBy: user.id,\r\n        },\r\n      });\r\n\r\n      // Disable the other SMS provider if switching\r\n      const otherProvider = body.sms.provider === 'twilio' ? 'aws-sns' : 'twilio';\r\n      const otherProviderRecord = await prisma.notificationProvider.findUnique({\r\n        where: { provider: otherProvider },\r\n      });\r\n      if (otherProviderRecord) {\r\n        await prisma.notificationProvider.update({\r\n          where: { provider: otherProvider },\r\n          data: { enabled: false, updatedBy: user.id },\r\n        });\r\n      }\r\n    }\r\n\r\n    // Save Push provider (Firebase or OneSignal)\r\n    if (body.push) {\r\n      const pushProvider = body.push.provider === 'firebase' ? 'firebase' : 'onesignal';\r\n      const pushConfig: any = {\r\n         \r\n        enabled: body.push.enabled || false,\r\n      };\r\n\r\n      if (body.push.provider === 'firebase') {\r\n        pushConfig.projectId = body.push.projectId || '';\r\n        pushConfig.privateKey = body.push.privateKey || '';\r\n        pushConfig.clientEmail = body.push.clientEmail || '';\r\n      } else if (body.push.provider === 'onesignal') {\r\n        pushConfig.appId = body.push.appId || '';\r\n        pushConfig.restApiKey = body.push.restApiKey || '';\r\n      }\r\n\r\n      await prisma.notificationProvider.upsert({\r\n        where: { provider: pushProvider },\r\n        create: {\r\n          provider: pushProvider,\r\n          enabled: pushConfig.enabled,\r\n          config: pushConfig,\r\n          updatedBy: user.id,\r\n        },\r\n        update: {\r\n          enabled: pushConfig.enabled,\r\n          config: pushConfig,\r\n          updatedBy: user.id,\r\n        },\r\n      });\r\n\r\n      // Disable the other push provider if switching\r\n      const otherProvider = body.push.provider === 'firebase' ? 'onesignal' : 'firebase';\r\n      const otherProviderRecord = await prisma.notificationProvider.findUnique({\r\n        where: { provider: otherProvider },\r\n      });\r\n      if (otherProviderRecord) {\r\n        await prisma.notificationProvider.update({\r\n          where: { provider: otherProvider },\r\n          data: { enabled: false, updatedBy: user.id },\r\n        });\r\n      }\r\n    }\r\n\r\n    if (body.whatsapp) {\r\n      const whatsappNumber = body.whatsapp.number ?? existingTwilioConfig.whatsappNumber ?? '';\r\n      const updatedTwilioConfig = {\r\n        ...existingTwilioConfig,\r\n        whatsappNumber,\r\n        whatsappContentSid:\r\n          body.whatsapp.contentSid ?? existingTwilioConfig.whatsappContentSid ?? '',\r\n        whatsappEnabled:\r\n          body.whatsapp.enabled ?? existingTwilioConfig.whatsappEnabled ?? !!whatsappNumber,\r\n        whatsappAccountSid:\r\n          body.whatsapp.accountSid ?? existingTwilioConfig.whatsappAccountSid ?? '',\r\n        whatsappAuthToken: body.whatsapp.authToken ?? existingTwilioConfig.whatsappAuthToken ?? '',\r\n      };\r\n\r\n      if (existingTwilioProvider) {\r\n        await prisma.notificationProvider.update({\r\n          where: { provider: 'twilio' },\r\n          data: {\r\n            config: updatedTwilioConfig,\r\n            updatedBy: user.id,\r\n          },\r\n        });\r\n      } else {\r\n        await prisma.notificationProvider.create({\r\n          data: {\r\n            provider: 'twilio',\r\n            enabled: false,\r\n            config: updatedTwilioConfig,\r\n            updatedBy: user.id,\r\n          },\r\n        });\r\n      }\r\n    }\r\n\r\n    return jsonOk({\r\n      success: true,\r\n      message: 'Notification provider settings saved successfully',\r\n    });\r\n  } catch (error) {\r\n    return jsonError(getUserFriendlyError(error), 500);\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\settings\\slack-oauth\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 27,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 27,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [881, 884], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [881, 884], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\settings\\status-page\\announcements\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 32,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 32,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1100, 1103], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1100, 1103], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 54,
        "column": 69,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 54,
        "endColumn": 72,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2267, 2270], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2267, 2270], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 71,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 71,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3344, 3347], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3344, 3347], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 85,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 85,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3879, 3882], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3879, 3882], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 107,
        "column": 110,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 107,
        "endColumn": 113,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5244, 5247], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5244, 5247], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 113,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 113,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5517, 5520], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5517, 5520], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 127,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 127,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6053, 6056], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6053, 6056], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 143,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 143,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6754, 6757], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6754, 6757], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\settings\\status-page\\api-tokens\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 17,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 17,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [603, 606], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [603, 606], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 43,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 43,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1544, 1547], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1544, 1547], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 57,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 57,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2070, 2073], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2070, 2073], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 77,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 77,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2839, 2842], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2839, 2842], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\settings\\status-page\\route.ts",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 203,
        "column": 40,
        "nodeType": "MemberExpression",
        "endLine": 203,
        "endColumn": 65
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 22,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 22,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [736, 739], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [736, 739], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 218,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 218,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10667, 10670], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10667, 10670], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest } from 'next/server';\r\nimport prisma from '@/lib/prisma';\r\nimport { assertAdmin } from '@/lib/rbac';\r\nimport { jsonError, jsonOk } from '@/lib/api-response';\r\nimport { StatusPageSettingsSchema } from '@/lib/validation';\r\nimport { logger } from '@/lib/logger';\r\nimport { Prisma } from '@prisma/client';\r\nimport { assertStatusPageNameAvailable, UniqueNameConflictError } from '@/lib/unique-names';\r\n\r\n/**\r\n * Update Status Page Settings\r\n * POST /api/settings/status-page\r\n */\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        await assertAdmin();\r\n    } catch (error) {\r\n        return jsonError(error instanceof Error ? error.message : 'Unauthorized', 403);\r\n    }\r\n\r\n    try {\r\n        let body: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        try {\r\n            body = await req.json();\r\n        } catch (_error) {\r\n            return jsonError('Invalid JSON in request body.', 400);\r\n        }\r\n        const parsed = StatusPageSettingsSchema.safeParse(body);\r\n        if (!parsed.success) {\r\n            return jsonError('Invalid request body.', 400, { issues: parsed.error.issues });\r\n        }\r\n        const {\r\n            name,\r\n            organizationName,\r\n            subdomain,\r\n            customDomain,\r\n            enabled,\r\n            showServices,\r\n            showIncidents,\r\n            showMetrics,\r\n            showSubscribe,\r\n            footerText,\r\n            contactEmail,\r\n            contactUrl,\r\n            branding,\r\n            serviceIds = [],\r\n            serviceConfigs = {},\r\n            // Privacy settings\r\n            privacyMode,\r\n            showIncidentDetails,\r\n            showIncidentTitles,\r\n            showIncidentDescriptions,\r\n            showAffectedServices,\r\n            showIncidentTimestamps,\r\n            showServiceMetrics,\r\n            showServiceDescriptions,\r\n            showServiceRegions,\r\n            showServicesByRegion,\r\n            showServiceOwners,\r\n            showServiceSlaTier,\r\n            showTeamInformation,\r\n            showCustomFields,\r\n            showIncidentAssignees,\r\n            showIncidentUrgency,\r\n            showUptimeHistory,\r\n            showRecentIncidents,\r\n            showChangelog,\r\n            showRegionHeatmap,\r\n            showPostIncidentReview,\r\n            maxIncidentsToShow,\r\n            incidentHistoryDays,\r\n            allowedCustomFields,\r\n            dataRetentionDays,\r\n            requireAuth,\r\n            authProvider,\r\n            emailProvider,\r\n            enableUptimeExports,\r\n            statusApiRequireToken,\r\n            statusApiRateLimitEnabled,\r\n            statusApiRateLimitMax,\r\n            statusApiRateLimitWindowSec,\r\n        } = parsed.data;\r\n\r\n        // Get or create status page\r\n        let statusPage = await prisma.statusPage.findFirst({});\r\n\r\n        let normalizedName = name?.trim();\r\n        if (normalizedName) {\r\n            try {\r\n                normalizedName = await assertStatusPageNameAvailable(normalizedName);\r\n            } catch (error) {\r\n                if (error instanceof UniqueNameConflictError) {\r\n                    return jsonError('A status page with this name already exists.', 400);\r\n                }\r\n                return jsonError(error instanceof Error ? error.message : 'Invalid status page name.', 400);\r\n            }\r\n        }\r\n\r\n        if (!statusPage) {\r\n            statusPage = await prisma.statusPage.create({\r\n                data: {\r\n                    name: normalizedName || 'Status Page',\r\n                    organizationName: organizationName || null,\r\n                    enabled: enabled !== false,\r\n                    showServices: showServices !== false,\r\n                    showIncidents: showIncidents !== false,\r\n                    showMetrics: showMetrics !== false,\r\n                    showSubscribe: showSubscribe !== false,\r\n                },\r\n            });\r\n        }\r\n\r\n        // Update status page\r\n        const updateData: Prisma.StatusPageUpdateInput = {\r\n            organizationName: organizationName !== undefined ? (organizationName && organizationName.trim() ? organizationName.trim() : null) : undefined,\r\n            subdomain: subdomain && subdomain.trim() ? subdomain.trim() : null,\r\n            customDomain: customDomain && customDomain.trim() ? customDomain.trim() : null,\r\n            enabled: enabled !== false,\r\n            showServices: showServices !== false,\r\n            showIncidents: showIncidents !== false,\r\n            showMetrics: showMetrics !== false,\r\n            showSubscribe: showSubscribe !== false,\r\n            footerText: footerText && footerText.trim() ? footerText.trim() : null,\r\n            contactEmail: contactEmail && contactEmail.trim() ? contactEmail.trim() : null,\r\n            contactUrl: contactUrl && contactUrl.trim() ? contactUrl.trim() : null\r\n        };\r\n\r\n        // Only update name if it's provided and not empty\r\n        if (name !== undefined && name !== null && name.trim().length > 0) {\r\n            try {\r\n                const uniqueName = await assertStatusPageNameAvailable(name, { excludeId: statusPage.id });\r\n                updateData.name = uniqueName;\r\n            } catch (error) {\r\n                if (error instanceof UniqueNameConflictError) {\r\n                    return jsonError('A status page with this name already exists.', 400);\r\n                }\r\n                return jsonError(error instanceof Error ? error.message : 'Invalid status page name.', 400);\r\n            }\r\n        }\r\n\r\n        if (branding !== undefined) {\r\n            updateData.branding = branding === null ? Prisma.JsonNull : (branding as Prisma.InputJsonValue);\r\n        }\r\n\r\n        // Privacy settings\r\n        if (privacyMode !== undefined) updateData.privacyMode = privacyMode;\r\n        if (showIncidentDetails !== undefined) updateData.showIncidentDetails = showIncidentDetails;\r\n        if (showIncidentTitles !== undefined) updateData.showIncidentTitles = showIncidentTitles;\r\n        if (showIncidentDescriptions !== undefined) updateData.showIncidentDescriptions = showIncidentDescriptions;\r\n        if (showAffectedServices !== undefined) updateData.showAffectedServices = showAffectedServices;\r\n        if (showIncidentTimestamps !== undefined) updateData.showIncidentTimestamps = showIncidentTimestamps;\r\n        if (showServiceMetrics !== undefined) updateData.showServiceMetrics = showServiceMetrics;\r\n        if (showServiceDescriptions !== undefined) updateData.showServiceDescriptions = showServiceDescriptions;\r\n        if (showServiceRegions !== undefined) updateData.showServiceRegions = showServiceRegions;\r\n        if (showServicesByRegion !== undefined) updateData.showServicesByRegion = showServicesByRegion;\r\n        if (showServiceOwners !== undefined) updateData.showServiceOwners = showServiceOwners;\r\n        if (showServiceSlaTier !== undefined) updateData.showServiceSlaTier = showServiceSlaTier;\r\n        if (showTeamInformation !== undefined) updateData.showTeamInformation = showTeamInformation;\r\n        if (showCustomFields !== undefined) updateData.showCustomFields = showCustomFields;\r\n        if (showIncidentAssignees !== undefined) updateData.showIncidentAssignees = showIncidentAssignees;\r\n        if (showIncidentUrgency !== undefined) updateData.showIncidentUrgency = showIncidentUrgency;\r\n        if (showUptimeHistory !== undefined) updateData.showUptimeHistory = showUptimeHistory;\r\n        if (showRecentIncidents !== undefined) updateData.showRecentIncidents = showRecentIncidents;\r\n        if (showChangelog !== undefined) updateData.showChangelog = showChangelog;\r\n        if (showRegionHeatmap !== undefined) updateData.showRegionHeatmap = showRegionHeatmap;\r\n        if (showPostIncidentReview !== undefined) updateData.showPostIncidentReview = showPostIncidentReview;\r\n        if (maxIncidentsToShow !== undefined) updateData.maxIncidentsToShow = maxIncidentsToShow;\r\n        if (incidentHistoryDays !== undefined) updateData.incidentHistoryDays = incidentHistoryDays;\r\n        if (allowedCustomFields !== undefined) {\r\n            updateData.allowedCustomFields = allowedCustomFields === null ? Prisma.JsonNull : (allowedCustomFields as Prisma.InputJsonValue);\r\n        }\r\n        if (dataRetentionDays !== undefined) updateData.dataRetentionDays = dataRetentionDays;\r\n        if (requireAuth !== undefined) updateData.requireAuth = requireAuth;\r\n        if (authProvider !== undefined) {\r\n            updateData.authProvider = authProvider && authProvider.trim() ? authProvider.trim() : null;\r\n        }\r\n        if (emailProvider !== undefined) {\r\n            updateData.emailProvider = emailProvider && emailProvider.trim() ? emailProvider.trim() : null;\r\n        }\r\n        if (showSubscribe !== undefined) updateData.showSubscribe = showSubscribe;\r\n        if (enableUptimeExports !== undefined) updateData.enableUptimeExports = enableUptimeExports;\r\n        if (statusApiRequireToken !== undefined) updateData.statusApiRequireToken = statusApiRequireToken;\r\n        if (statusApiRateLimitEnabled !== undefined) updateData.statusApiRateLimitEnabled = statusApiRateLimitEnabled;\r\n        if (statusApiRateLimitMax !== undefined) updateData.statusApiRateLimitMax = statusApiRateLimitMax;\r\n        if (statusApiRateLimitWindowSec !== undefined) updateData.statusApiRateLimitWindowSec = statusApiRateLimitWindowSec;\r\n\r\n        await prisma.statusPage.update({\r\n            where: { id: statusPage.id },\r\n            data: updateData,\r\n        });\r\n\r\n        // Update services\r\n        if (Array.isArray(serviceIds)) {\r\n            // Delete existing services\r\n            await prisma.statusPageService.deleteMany({\r\n                where: { statusPageId: statusPage.id },\r\n            });\r\n\r\n            // Create new services with configurations\r\n            if (serviceIds.length > 0) {\r\n                await prisma.statusPageService.createMany({\r\n                    data: serviceIds.map((serviceId: string) => {\r\n                        const config = serviceConfigs[serviceId] || {};\r\n                        return {\r\n                            statusPageId: statusPage.id,\r\n                            serviceId,\r\n                            displayName: config.displayName || null,\r\n                            order: config.order || 0,\r\n                            showOnPage: config.showOnPage !== false,\r\n                        };\r\n                    }),\r\n                });\r\n            }\r\n        }\r\n\r\n        logger.info('api.status_page.updated', { statusPageId: statusPage.id });\r\n        return jsonOk({ success: true }, 200);\r\n    } catch (error: any) { // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        logger.error('api.status_page.update_error', { error: error instanceof Error ? error.message : String(error) });\r\n\r\n        // Handle Prisma unique constraint violations\r\n        if (error.code === 'P2002') {\r\n            const field = error.meta?.target?.[0];\r\n            if (field === 'subdomain') {\r\n                return jsonError('This subdomain is already in use. Please choose a different one.', 400);\r\n            }\r\n            if (field === 'customDomain') {\r\n                return jsonError('This custom domain is already in use. Please choose a different one.', 400);\r\n            }\r\n            return jsonError('A record with this value already exists.', 400);\r\n        }\r\n\r\n        return jsonError(error.message || 'Failed to update status page', 500);\r\n    }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\sidebar-stats\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\sla-definitions\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\sla-definitions\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\slack\\actions\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 100,
        "column": 29,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 100,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3267, 3270], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3267, 3270], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 156,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 156,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5264, 5267], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5264, 5267], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\slack\\channels\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 104,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 104,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3572, 3575], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3572, 3575], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 107,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 107,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3765, 3768], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3765, 3768], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 112,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 112,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3991, 3994], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3991, 3994], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 112,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 112,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3999, 4002], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3999, 4002], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 115,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 115,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4168, 4171], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4168, 4171], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\slack\\disconnect\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 141,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 141,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5036, 5039], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5036, 5039], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\slack\\oauth\\callback\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 175,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 175,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7161, 7164], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7161, 7164], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\slack\\oauth\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 32,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1209, 1212], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1209, 1212], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 114,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 114,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4551, 4554], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4551, 4554], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\status-page\\domains\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\status-page\\subscribe\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 107,
        "column": 30,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 107,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4164, 4167], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4164, 4167], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 119,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 119,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4808, 4811], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4808, 4811], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\status-page\\subscribers\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 37,
        "column": 22,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 37,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1340, 1343], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1340, 1343], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 93,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 93,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2845, 2848], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2845, 2848], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 149,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 149,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4668, 4671], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4668, 4671], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\status-page\\webhooks\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1076, 1079], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1076, 1079], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 78,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 78,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2515, 2518], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2515, 2518], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 103,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 103,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3331, 3334], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3331, 3334], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 134,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 134,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4373, 4376], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4373, 4376], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 167,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 167,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5463, 5466], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5463, 5466], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\status-page\\webhooks\\test\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 86,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 86,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3014, 3017], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3014, 3017], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\status\\create-default\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 52,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 52,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1576, 1579], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1576, 1579], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\status\\history\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 112,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 112,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4043, 4046], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4043, 4046], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\status\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 245,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 245,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9488, 9491], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9488, 9491], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\status\\rss\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 108,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 108,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4320, 4323], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4320, 4323], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\status\\subscribe\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 38,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 38,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1358, 1361], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1358, 1361], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\status\\uptime-export\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 170,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 170,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6945, 6948], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6945, 6948], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\system\\vapid-public-key\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\api\\user\\push-subscription\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\auth\\signout\\page.tsx",
    "messages": [
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 44,
        "column": 17,
        "nodeType": "JSXOpeningElement",
        "endLine": 49,
        "endColumn": 19
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Suspense } from 'react';\r\nimport SignOutClient from './signout-client';\r\n\r\nexport default function SignOutPage() {\r\n  return (\r\n    <Suspense\r\n      fallback={\r\n        <main className=\"login-shell\" role=\"main\">\r\n          <div className=\"login-bg-animation\">\r\n            <div className=\"login-bg-orb login-bg-orb-1\"></div>\r\n            <div className=\"login-bg-orb login-bg-orb-2\"></div>\r\n            <div className=\"login-bg-orb login-bg-orb-3\"></div>\r\n          </div>\r\n\r\n          <div\r\n            className=\"login-card glass-panel\"\r\n            style={{\r\n              maxWidth: '480px',\r\n              margin: 'auto',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              minHeight: 'auto',\r\n              gridTemplateColumns: 'none',\r\n              background: 'rgba(255, 255, 255, 0.7)',\r\n              backdropFilter: 'blur(20px)',\r\n              border: '1px solid rgba(255, 255, 255, 0.4)',\r\n              boxShadow: '0 8px 32px rgba(0, 0, 0, 0.1)',\r\n            }}\r\n          >\r\n            <section\r\n              className=\"login-form\"\r\n              style={{\r\n                width: '100%',\r\n                padding: '3rem 2rem',\r\n                background: 'transparent',\r\n                boxShadow: 'none',\r\n                textAlign: 'center',\r\n              }}\r\n            >\r\n              <div\r\n                className=\"login-form-logo\"\r\n                style={{ margin: '0 auto 1.5rem', width: '56px', height: '56px' }}\r\n              >\r\n                <img\r\n                  src=\"/logo.svg\"\r\n                  alt=\"OpsSentinal\"\r\n                  className=\"login-form-logo-img\"\r\n                  style={{ width: '32px', height: '32px' }}\r\n                />\r\n              </div>\r\n\r\n              <h1\r\n                style={{\r\n                  fontSize: '1.75rem',\r\n                  fontWeight: 800,\r\n                  color: 'var(--text-primary)',\r\n                  marginBottom: '0.75rem',\r\n                }}\r\n              >\r\n                Sign Out\r\n              </h1>\r\n\r\n              <p\r\n                style={{\r\n                  color: 'var(--text-secondary)',\r\n                  marginBottom: '2rem',\r\n                  fontSize: '1rem',\r\n                }}\r\n              >\r\n                LoadingΓÇª\r\n              </p>\r\n            </section>\r\n          </div>\r\n        </main>\r\n      }\r\n    >\r\n      <SignOutClient />\r\n    </Suspense>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\auth\\signout\\signout-client.tsx",
    "messages": [
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 55,
        "column": 13,
        "nodeType": "JSXOpeningElement",
        "endLine": 60,
        "endColumn": 15
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useSearchParams } from 'next/navigation';\r\nimport { signOut } from 'next-auth/react';\r\nimport { useState } from 'react';\r\n\r\nexport default function SignOutClient() {\r\n  const searchParams = useSearchParams();\r\n  const callbackUrl = searchParams.get('callbackUrl') || '/login';\r\n  const [isSigningOut, setIsSigningOut] = useState(false);\r\n\r\n  const handleSignOut = async () => {\r\n    setIsSigningOut(true);\r\n    await signOut({ callbackUrl });\r\n  };\r\n\r\n  return (\r\n    <main className=\"login-shell\" role=\"main\">\r\n      <div className=\"login-bg-animation\">\r\n        <div className=\"login-bg-orb login-bg-orb-1\"></div>\r\n        <div className=\"login-bg-orb login-bg-orb-2\"></div>\r\n        <div className=\"login-bg-orb login-bg-orb-3\"></div>\r\n      </div>\r\n\r\n      <div\r\n        className=\"login-card glass-panel\"\r\n        style={{\r\n          maxWidth: '480px',\r\n          margin: 'auto',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          minHeight: 'auto',\r\n          gridTemplateColumns: 'none',\r\n          background: 'rgba(255, 255, 255, 0.7)',\r\n          backdropFilter: 'blur(20px)',\r\n          border: '1px solid rgba(255, 255, 255, 0.4)',\r\n          boxShadow: '0 8px 32px rgba(0, 0, 0, 0.1)',\r\n        }}\r\n      >\r\n        <section\r\n          className=\"login-form\"\r\n          style={{\r\n            width: '100%',\r\n            padding: '3rem 2rem',\r\n            background: 'transparent',\r\n            boxShadow: 'none',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          <div\r\n            className=\"login-form-logo\"\r\n            style={{ margin: '0 auto 1.5rem', width: '56px', height: '56px' }}\r\n          >\r\n            <img\r\n              src=\"/logo.svg\"\r\n              alt=\"OpsSentinal\"\r\n              className=\"login-form-logo-img\"\r\n              style={{ width: '32px', height: '32px' }}\r\n            />\r\n          </div>\r\n\r\n          <h1\r\n            style={{\r\n              fontSize: '1.75rem',\r\n              fontWeight: 800,\r\n              color: 'var(--text-primary)',\r\n              marginBottom: '0.75rem',\r\n            }}\r\n          >\r\n            Sign Out\r\n          </h1>\r\n\r\n          <p\r\n            style={{\r\n              color: 'var(--text-secondary)',\r\n              marginBottom: '2rem',\r\n              fontSize: '1rem',\r\n            }}\r\n          >\r\n            Are you sure you want to sign out of your session?\r\n          </p>\r\n\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\r\n            <button\r\n              onClick={handleSignOut}\r\n              disabled={isSigningOut}\r\n              className=\"login-btn login-btn-primary\"\r\n              style={{ width: '100%' }}\r\n            >\r\n              {isSigningOut ? 'Signing out...' : 'Sign Out'}\r\n            </button>\r\n\r\n            <Link\r\n              href={callbackUrl}\r\n              className=\"login-btn\"\r\n              style={{\r\n                background: 'rgba(255, 255, 255, 0.5)',\r\n                color: 'var(--text-secondary)',\r\n                width: '100%',\r\n                textDecoration: 'none',\r\n                justifyContent: 'center',\r\n              }}\r\n            >\r\n              Cancel\r\n            </Link>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\forgot-password\\page.tsx",
    "messages": [
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 70,
        "column": 33,
        "nodeType": "JSXOpeningElement",
        "endLine": 70,
        "endColumn": 106
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 150,
        "column": 51,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [7620, 7699],
              "text": "\r\n                                        If you don&apos;t receive an email or SMS,"
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [7620, 7699],
              "text": "\r\n                                        If you don&lsquo;t receive an email or SMS,"
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [7620, 7699],
              "text": "\r\n                                        If you don&#39;t receive an email or SMS,"
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [7620, 7699],
              "text": "\r\n                                        If you don&rsquo;t receive an email or SMS,"
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport Spinner from '@/components/ui/Spinner';\r\n\r\nexport default function ForgotPasswordPage() {\r\n    const [email, setEmail] = useState('');\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [isSent, setIsSent] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsSubmitting(true);\r\n        setError('');\r\n        setMessage('');\r\n\r\n        try {\r\n            const res = await fetch('/api/auth/forgot-password', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ email })\r\n            });\r\n            const data = await res.json();\r\n\r\n            if (res.ok) {\r\n                setIsSent(true);\r\n                setMessage(data.message);\r\n            } else {\r\n                setError(data.message || 'Something went wrong.');\r\n            }\r\n        } catch (_err) {\r\n            setError('An unexpected error occurred.');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"login-shell\" role=\"main\">\r\n            <div className=\"login-bg-animation\">\r\n                <div className=\"login-bg-orb login-bg-orb-1\"></div>\r\n                <div className=\"login-bg-orb login-bg-orb-2\"></div>\r\n                <div className=\"login-bg-orb login-bg-orb-3\"></div>\r\n            </div>\r\n\r\n            <div className=\"login-card glass-panel\" style={{\r\n                maxWidth: '480px',\r\n                margin: 'auto',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                minHeight: 'auto',\r\n                gridTemplateColumns: 'none',\r\n                background: 'rgba(255, 255, 255, 0.7)',\r\n                backdropFilter: 'blur(20px)',\r\n                border: '1px solid rgba(255, 255, 255, 0.4)',\r\n                boxShadow: '0 8px 32px rgba(0, 0, 0, 0.1)'\r\n            }}>\r\n                <section className=\"login-form\" aria-label=\"Forgot Password form\" style={{\r\n                    width: '100%',\r\n                    padding: '2.5rem 2rem',\r\n                    background: 'transparent',\r\n                    boxShadow: 'none'\r\n                }}>\r\n                    <div className=\"login-form-wrapper\">\r\n                        <div className=\"login-form-header\" style={{ flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n                            <div className=\"login-form-logo\" style={{ marginBottom: '1rem' }}>\r\n                                <img src=\"/logo.svg\" alt=\"OpsSentinal\" className=\"login-form-logo-img\" />\r\n                            </div>\r\n                            <div className=\"login-form-branding\">\r\n                                <h2 className=\"login-title\" style={{ fontSize: '1.5rem' }}>Reset Password</h2>\r\n                                <p className=\"login-subtitle\">\r\n                                    Enter your email to receive instructions\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {isSent ? (\r\n                            <div className=\"login-alert success\" role=\"alert\" style={{ flexDirection: 'column', alignItems: 'center', textAlign: 'center', gap: '1rem' }}>\r\n                                <div style={{\r\n                                    width: '48px',\r\n                                    height: '48px',\r\n                                    background: 'rgba(34, 197, 94, 0.1)',\r\n                                    borderRadius: '50%',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                    color: 'var(--color-success)'\r\n                                }}>\r\n                                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                        <path d=\"M20 6L9 17l-5-5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <div style={{ fontSize: '1rem', fontWeight: 500 }}>\r\n                                    Check your inbox\r\n                                </div>\r\n                                <p style={{ fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\r\n                                    {message}\r\n                                </p>\r\n                                <div style={{ marginTop: '0.5rem' }}>\r\n                                    <Link href=\"/login\" className=\"login-btn login-btn-primary\" style={{ textDecoration: 'none', display: 'inline-flex', width: 'auto', padding: '0.6rem 1.5rem' }}>\r\n                                        Return to Sign In\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <form onSubmit={handleSubmit} className=\"login-form-fields\" noValidate>\r\n                                <div className=\"login-field\">\r\n                                    <label htmlFor=\"email\">Email address</label>\r\n                                    <div className=\"login-input-wrapper\">\r\n                                        <input\r\n                                            id=\"email\"\r\n                                            type=\"email\"\r\n                                            required\r\n                                            value={email}\r\n                                            onChange={(e) => setEmail(e.target.value)}\r\n                                            placeholder=\"name@company.com\"\r\n                                            className=\"login-input\"\r\n                                            disabled={isSubmitting}\r\n                                            style={{ background: 'rgba(255, 255, 255, 0.8)' }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {error && (\r\n                                    <div className=\"login-alert error\" role=\"alert\">\r\n                                        <span>{error}</span>\r\n                                    </div>\r\n                                )}\r\n\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"login-btn login-btn-primary\"\r\n                                    disabled={isSubmitting}\r\n                                >\r\n                                    {isSubmitting ? (\r\n                                        <>\r\n                                            <Spinner size=\"sm\" variant=\"white\" />\r\n                                            <span>Sending...</span>\r\n                                        </>\r\n                                    ) : (\r\n                                        <span>Send Instructions</span>\r\n                                    )}\r\n                                </button>\r\n\r\n                                <div style={{ marginTop: '1.5rem', textAlign: 'center', fontSize: '0.85rem', color: 'var(--text-muted)' }}>\r\n                                    <p style={{ marginBottom: '1rem' }}>\r\n                                        If you don't receive an email or SMS,<br />\r\n                                        please contact your administrator.\r\n                                    </p>\r\n                                    <Link href=\"/login\" style={{ color: 'var(--text-secondary)', textDecoration: 'none', fontWeight: 500 }}>\r\n                                        Back to Sign In\r\n                                    </Link>\r\n                                </div>\r\n                            </form>\r\n                        )}\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\login\\LoginClient.tsx",
    "messages": [
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 178,
        "column": 33,
        "nodeType": "JSXOpeningElement",
        "endLine": 178,
        "endColumn": 103
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 252,
        "column": 33,
        "nodeType": "JSXOpeningElement",
        "endLine": 252,
        "endColumn": 106
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { signIn } from 'next-auth/react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Spinner from '@/components/ui/Spinner';\r\n\r\ntype Props = {\r\n    callbackUrl: string;\r\n    errorCode?: string | null;\r\n    passwordSet?: boolean;\r\n    ssoEnabled: boolean;\r\n};\r\n\r\nfunction formatError(message: string | null | undefined) {\r\n    if (!message) return '';\r\n    if (message === 'CredentialsSignin') return 'Invalid email or password. Please check your credentials and try again.';\r\n    if (message === 'AccessDenied') return 'Access denied. Please contact your administrator for access.';\r\n    if (message === 'Configuration') return 'Server configuration error. Please contact support.';\r\n    return 'Unable to sign in. Please try again.';\r\n}\r\n\r\nexport default function LoginClient({ callbackUrl, errorCode, passwordSet, ssoEnabled }: Props) {\r\n    const router = useRouter();\r\n    const emailInputRef = useRef<HTMLInputElement>(null);\r\n    const passwordInputRef = useRef<HTMLInputElement>(null);\r\n    const errorRef = useRef<HTMLDivElement>(null);\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [emailError, setEmailError] = useState('');\r\n    const [passwordError, setPasswordError] = useState('');\r\n    const [isSSOLoading, setIsSSOLoading] = useState(false);\r\n\r\n    // Set initial error from errorCode prop after mount to avoid hydration issues\r\n    useEffect(() => {\r\n        if (errorCode) {\r\n            const errorMessage = formatError(errorCode);\r\n            setError(errorMessage);\r\n            // Focus error message for screen readers\r\n            setTimeout(() => {\r\n                errorRef.current?.focus();\r\n            }, 100);\r\n        }\r\n    }, [errorCode]);\r\n\r\n    // Focus email input on mount and prevent body scroll\r\n    useEffect(() => {\r\n        emailInputRef.current?.focus();\r\n        // Prevent body scroll on login page\r\n        document.body.style.overflow = 'hidden';\r\n        return () => {\r\n            // Restore body scroll when component unmounts\r\n            document.body.style.overflow = '';\r\n        };\r\n    }, []);\r\n\r\n    const validateEmail = (value: string): boolean => {\r\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        if (!value) {\r\n            setEmailError('Email is required');\r\n            return false;\r\n        }\r\n        if (!emailRegex.test(value)) {\r\n            setEmailError('Please enter a valid email address');\r\n            return false;\r\n        }\r\n        setEmailError('');\r\n        return true;\r\n    };\r\n\r\n    const validatePassword = (value: string): boolean => {\r\n        if (!value) {\r\n            setPasswordError('Password is required');\r\n            return false;\r\n        }\r\n        if (value.length < 1) {\r\n            setPasswordError('Password cannot be empty');\r\n            return false;\r\n        }\r\n        setPasswordError('');\r\n        return true;\r\n    };\r\n\r\n    const handleEmailChange = (value: string) => {\r\n        setEmail(value);\r\n        if (emailError) {\r\n            validateEmail(value);\r\n        }\r\n        setError(''); // Clear general error when user types\r\n    };\r\n\r\n    const handlePasswordChange = (value: string) => {\r\n        setPassword(value);\r\n        if (passwordError) {\r\n            validatePassword(value);\r\n        }\r\n        setError(''); // Clear general error when user types\r\n    };\r\n\r\n    const handleSSO = async () => {\r\n        setIsSSOLoading(true);\r\n        setError('');\r\n        try {\r\n            await signIn('oidc', { callbackUrl });\r\n        } catch (_err) {\r\n            setError('SSO authentication failed. Please try again.');\r\n            setIsSSOLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCredentials = async (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n\r\n        // Clear previous errors\r\n        setError('');\r\n        setEmailError('');\r\n        setPasswordError('');\r\n\r\n        // Validate inputs\r\n        const isEmailValid = validateEmail(email);\r\n        const isPasswordValid = validatePassword(password);\r\n\r\n        if (!isEmailValid || !isPasswordValid) {\r\n            // Focus first invalid field\r\n            if (!isEmailValid) {\r\n                emailInputRef.current?.focus();\r\n            } else if (!isPasswordValid) {\r\n                passwordInputRef.current?.focus();\r\n            }\r\n            return;\r\n        }\r\n\r\n        setIsSubmitting(true);\r\n\r\n        try {\r\n            const result = await signIn('credentials', {\r\n                redirect: false,\r\n                email: email.trim(),\r\n                password,\r\n                callbackUrl\r\n            });\r\n\r\n            if (result?.error) {\r\n                setError(formatError(result.error));\r\n                // Focus password field on error for security\r\n                passwordInputRef.current?.focus();\r\n                setPassword('');\r\n            } else if (result?.ok) {\r\n                router.push(result?.url || callbackUrl);\r\n            }\r\n        } catch (_err) {\r\n            setError('An unexpected error occurred. Please try again.');\r\n            passwordInputRef.current?.focus();\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"login-shell\" role=\"main\">\r\n            {/* Animated background elements */}\r\n            <div className=\"login-bg-animation\">\r\n                <div className=\"login-bg-orb login-bg-orb-1\"></div>\r\n                <div className=\"login-bg-orb login-bg-orb-2\"></div>\r\n                <div className=\"login-bg-orb login-bg-orb-3\"></div>\r\n            </div>\r\n\r\n            <div className=\"login-card\">\r\n                {/* Brand Section */}\r\n                <section className=\"login-brand\" aria-label=\"OpsSentinal product information\">\r\n                    <div className=\"login-brand-content\">\r\n                        <div className=\"login-brand-header\">\r\n                            <div className=\"login-logo-container\">\r\n                                <img src=\"/logo.svg\" alt=\"OpsSentinal\" className=\"login-brand-logo\" />\r\n                            </div>\r\n                            <div className=\"login-badge\" aria-hidden=\"true\">\r\n                                <span className=\"login-badge-dot\"></span>\r\n                                OpsSentinal Platform\r\n                            </div>\r\n                        </div>\r\n\r\n                        <h1 className=\"login-brand-title\">\r\n                            Command incidents.\r\n                            <span className=\"login-brand-title-accent\">Stay ahead.</span>\r\n                        </h1>\r\n\r\n                        <p className=\"login-brand-description\">\r\n                            A redline-ready control center for high-stakes response. See every alert, escalation, and shift before it becomes a disruption.\r\n                        </p>\r\n\r\n                        <div className=\"login-features\" suppressHydrationWarning aria-label=\"Key features\">\r\n                            <div className=\"login-feature-item\" role=\"listitem\">\r\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                    <path d=\"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5Z\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                </svg>\r\n                                <span>Live incident war room</span>\r\n                            </div>\r\n                            <div className=\"login-feature-item\" role=\"listitem\">\r\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                    <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                                    <polyline points=\"12 6 12 12 16 14\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                </svg>\r\n                                <span>Sub-minute escalation</span>\r\n                            </div>\r\n                            <div className=\"login-feature-item\" role=\"listitem\">\r\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                    <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                    <circle cx=\"9\" cy=\"7\" r=\"4\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                    <path d=\"M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                </svg>\r\n                                <span>Follow-the-sun coverage</span>\r\n                            </div>\r\n                            <div className=\"login-feature-item\" role=\"listitem\">\r\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                    <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                    <path d=\"M7 11V7a5 5 0 0 1 10 0v4\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                </svg>\r\n                                <span>Audit-ready access controls</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"login-brand-footer\">\r\n                            <div className=\"login-brand-stats\">\r\n                                <div className=\"login-stat\">\r\n                                    <div className=\"login-stat-value\">99.9%</div>\r\n                                    <div className=\"login-stat-label\">Uptime</div>\r\n                                </div>\r\n                                <div className=\"login-stat-divider\"></div>\r\n                                <div className=\"login-stat\">\r\n                                    <div className=\"login-stat-value\">24/7</div>\r\n                                    <div className=\"login-stat-label\">Monitoring</div>\r\n                                </div>\r\n                                <div className=\"login-stat-divider\"></div>\r\n                                <div className=\"login-stat\">\r\n                                    <div className=\"login-stat-value\">Global</div>\r\n                                    <div className=\"login-stat-label\">Resilience</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Form Section */}\r\n                <section className=\"login-form\" aria-label=\"Sign in form\">\r\n                    <div className=\"login-form-wrapper\">\r\n                        <div className=\"login-form-header\">\r\n                            <div className=\"login-form-logo\">\r\n                                <img src=\"/logo.svg\" alt=\"OpsSentinal\" className=\"login-form-logo-img\" />\r\n                            </div>\r\n                            <div className=\"login-form-branding\">\r\n                                <h2 className=\"login-title\">Welcome back</h2>\r\n                                <p className=\"login-subtitle\">\r\n                                    Sign in to access your OpsSentinal dashboard\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {ssoEnabled && (\r\n                            <>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleSSO}\r\n                                    className=\"login-btn login-btn-sso\"\r\n                                    disabled={isSSOLoading || isSubmitting}\r\n                                    aria-label=\"Sign in with Single Sign-On\"\r\n                                >\r\n                                    {isSSOLoading ? (\r\n                                        <>\r\n                                            <Spinner size=\"sm\" variant=\"white\" />\r\n                                            <span>Connecting to SSO...</span>\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                                <path d=\"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5Z\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                            </svg>\r\n                                            <span>Continue with SSO</span>\r\n                                        </>\r\n                                    )}\r\n                                </button>\r\n\r\n                                <div className=\"login-divider\" role=\"separator\" aria-label=\"Or\">\r\n                                    <span className=\"login-divider-line\" />\r\n                                    <span className=\"login-divider-label\">or continue with email</span>\r\n                                    <span className=\"login-divider-line\" />\r\n                                </div>\r\n                            </>\r\n                        )}\r\n\r\n                        {passwordSet && (\r\n                            <div\r\n                                className=\"login-alert success\"\r\n                                role=\"alert\"\r\n                                aria-live=\"polite\"\r\n                            >\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                    <path d=\"M20 6L9 17l-5-5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                </svg>\r\n                                <span>Password set successfully. Sign in to continue.</span>\r\n                            </div>\r\n                        )}\r\n\r\n                        <form\r\n                            onSubmit={handleCredentials}\r\n                            className=\"login-form-fields\"\r\n                            noValidate\r\n                            aria-label=\"Email and password sign in\"\r\n                        >\r\n                            <div className=\"login-field\">\r\n                                <label htmlFor=\"email\">\r\n                                    Email address\r\n                                    <span className=\"sr-only\"> (required)</span>\r\n                                </label>\r\n                                <div className=\"login-input-wrapper\">\r\n                                    <input\r\n                                        id=\"email\"\r\n                                        ref={emailInputRef}\r\n                                        name=\"email\"\r\n                                        type=\"email\"\r\n                                        autoComplete=\"email\"\r\n                                        required\r\n                                        value={email}\r\n                                        onChange={(e) => handleEmailChange(e.target.value)}\r\n                                        onBlur={() => validateEmail(email)}\r\n                                        placeholder=\"name@company.com\"\r\n                                        className={`login-input ${emailError ? 'login-input-error' : ''}`}\r\n                                        aria-invalid={emailError ? 'true' : 'false'}\r\n                                        aria-describedby={emailError ? 'email-error' : undefined}\r\n                                        disabled={isSubmitting || isSSOLoading}\r\n                                    />\r\n                                    {email && !emailError && (\r\n                                        <svg\r\n                                            className=\"login-input-icon success\"\r\n                                            width=\"16\"\r\n                                            height=\"16\"\r\n                                            viewBox=\"0 0 24 24\"\r\n                                            fill=\"none\"\r\n                                            stroke=\"currentColor\"\r\n                                            strokeWidth=\"2\"\r\n                                            aria-hidden=\"true\"\r\n                                        >\r\n                                            <path d=\"M20 6L9 17l-5-5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                        </svg>\r\n                                    )}\r\n                                </div>\r\n                                {emailError && (\r\n                                    <div id=\"email-error\" className=\"login-field-error\" role=\"alert\">\r\n                                        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                            <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                                            <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\" />\r\n                                            <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\" />\r\n                                        </svg>\r\n                                        {emailError}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            <div className=\"login-field\">\r\n                                <label htmlFor=\"password\">\r\n                                    Password\r\n                                    <span className=\"sr-only\"> (required)</span>\r\n                                </label>\r\n                                <div style={{ marginBottom: '0.35rem', textAlign: 'right' }}>\r\n                                    <a href=\"/forgot-password\" style={{ fontSize: '0.8rem', color: 'var(--primary)', textDecoration: 'none', fontWeight: 500 }} tabIndex={-1}>\r\n                                        Forgot password?\r\n                                    </a>\r\n                                </div>\r\n                                <div className=\"login-input-wrapper\">\r\n                                    <input\r\n                                        id=\"password\"\r\n                                        ref={passwordInputRef}\r\n                                        name=\"password\"\r\n                                        type={showPassword ? 'text' : 'password'}\r\n                                        autoComplete=\"current-password\"\r\n                                        required\r\n                                        value={password}\r\n                                        onChange={(e) => handlePasswordChange(e.target.value)}\r\n                                        onBlur={() => validatePassword(password)}\r\n                                        placeholder=\"Enter your password\"\r\n                                        className={`login-input ${passwordError ? 'login-input-error' : ''}`}\r\n                                        aria-invalid={passwordError ? 'true' : 'false'}\r\n                                        aria-describedby={passwordError ? 'password-error' : undefined}\r\n                                        disabled={isSubmitting || isSSOLoading}\r\n                                    />\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={() => setShowPassword(!showPassword)}\r\n                                        className=\"login-password-toggle\"\r\n                                        aria-label={showPassword ? 'Hide password' : 'Show password'}\r\n                                        disabled={isSubmitting || isSSOLoading}\r\n                                        tabIndex={0}\r\n                                    >\r\n                                        {showPassword ? (\r\n                                            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                                <path d=\"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                                <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                            </svg>\r\n                                        ) : (\r\n                                            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                                <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                                <circle cx=\"12\" cy=\"12\" r=\"3\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                            </svg>\r\n                                        )}\r\n                                    </button>\r\n                                </div>\r\n                                {passwordError && (\r\n                                    <div id=\"password-error\" className=\"login-field-error\" role=\"alert\">\r\n                                        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                            <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                                            <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\" />\r\n                                            <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\" />\r\n                                        </svg>\r\n                                        {passwordError}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {error && (\r\n                                <div\r\n                                    ref={errorRef}\r\n                                    className=\"login-alert error\"\r\n                                    role=\"alert\"\r\n                                    aria-live=\"assertive\"\r\n                                    tabIndex={-1}\r\n                                >\r\n                                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                        <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                                        <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\" />\r\n                                        <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\" />\r\n                                    </svg>\r\n                                    <span>{error}</span>\r\n                                </div>\r\n                            )}\r\n\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"login-btn login-btn-primary\"\r\n                                disabled={isSubmitting || isSSOLoading}\r\n                                aria-label=\"Sign in with email and password\"\r\n                            >\r\n                                {isSubmitting ? (\r\n                                    <>\r\n                                        <Spinner size=\"sm\" variant=\"white\" />\r\n                                        <span>Signing in...</span>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <span>Sign in</span>\r\n                                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                            <path d=\"M5 12h14M12 5l7 7-7 7\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                        </svg>\r\n                                    </>\r\n                                )}\r\n                            </button>\r\n                        </form>\r\n\r\n                        <div className=\"login-help\">\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" aria-hidden=\"true\">\r\n                                <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                                <path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3m0 4h.01\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                            </svg>\r\n                            <span>Need help? Contact your OpsSentinal administrator.</span>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\login\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\login\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\manifest.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\reset-password\\page.tsx",
    "messages": [
      {
        "ruleId": "security/detect-possible-timing-attacks",
        "severity": 1,
        "message": "Potential timing attack, left side: true",
        "line": 31,
        "column": 9,
        "nodeType": "IfStatement",
        "endLine": 34,
        "endColumn": 10
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 156,
        "column": 33,
        "nodeType": "JSXOpeningElement",
        "endLine": 156,
        "endColumn": 106
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, Suspense } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport _Link from 'next/link';\r\nimport Spinner from '@/components/ui/Spinner';\r\n\r\nfunction ResetPasswordForm() {\r\n    const searchParams = useSearchParams();\r\n    const router = useRouter();\r\n    const token = searchParams.get('token');\r\n\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    if (!token) {\r\n        return (\r\n            <div className=\"login-alert error\">\r\n                Invalid or missing reset token. Please request a new link.\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        if (password !== confirmPassword) {\r\n            setError('Passwords do not match');\r\n            return;\r\n        }\r\n\r\n        if (password.length < 8) {\r\n            setError('Password must be at least 8 characters');\r\n            return;\r\n        }\r\n\r\n        setIsSubmitting(true);\r\n        try {\r\n            const res = await fetch('/api/auth/reset-password', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ token, password })\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (!res.ok) {\r\n                setError(data.error || 'Failed to reset password');\r\n            } else {\r\n                setSuccess(true);\r\n                // Redirect after success\r\n                setTimeout(() => {\r\n                    router.push('/login?password=1');\r\n                }, 2000);\r\n            }\r\n        } catch (_err) {\r\n            setError('An unexpected error occurred');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    if (success) {\r\n        return (\r\n            <div className=\"login-alert success\" role=\"alert\">\r\n                <span>Password reset successfully! Redirecting to login...</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"login-form-fields\" noValidate>\r\n            <div className=\"login-field\">\r\n                <label htmlFor=\"password\">New Password</label>\r\n                <div className=\"login-input-wrapper\">\r\n                    <input\r\n                        id=\"password\"\r\n                        type=\"password\"\r\n                        required\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        placeholder=\"New password\"\r\n                        className=\"login-input\"\r\n                        disabled={isSubmitting}\r\n                        autoComplete=\"new-password\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"login-field\">\r\n                <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                <div className=\"login-input-wrapper\">\r\n                    <input\r\n                        id=\"confirmPassword\"\r\n                        type=\"password\"\r\n                        required\r\n                        value={confirmPassword}\r\n                        onChange={(e) => setConfirmPassword(e.target.value)}\r\n                        placeholder=\"Confirm new password\"\r\n                        className=\"login-input\"\r\n                        disabled={isSubmitting}\r\n                        autoComplete=\"new-password\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {error && (\r\n                <div className=\"login-alert error\" role=\"alert\">\r\n                    <span>{error}</span>\r\n                </div>\r\n            )}\r\n\r\n            <button\r\n                type=\"submit\"\r\n                className=\"login-btn login-btn-primary\"\r\n                disabled={isSubmitting}\r\n            >\r\n                {isSubmitting ? (\r\n                    <>\r\n                        <Spinner size=\"sm\" variant=\"white\" />\r\n                        <span>Updating...</span>\r\n                    </>\r\n                ) : (\r\n                    <span>Set New Password</span>\r\n                )}\r\n            </button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default function ResetPasswordPage() {\r\n    return (\r\n        <main className=\"login-shell\" role=\"main\">\r\n            <div className=\"login-bg-animation\">\r\n                <div className=\"login-bg-orb login-bg-orb-1\"></div>\r\n                <div className=\"login-bg-orb login-bg-orb-2\"></div>\r\n                <div className=\"login-bg-orb login-bg-orb-3\"></div>\r\n            </div>\r\n\r\n            <div className=\"login-card\" style={{\r\n                maxWidth: '480px',\r\n                margin: 'auto',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                minHeight: 'auto',\r\n                gridTemplateColumns: 'none' // Override grid\r\n            }}>\r\n                <section className=\"login-form\" aria-label=\"Reset Password form\" style={{ width: '100%', padding: '0 2rem' }}>\r\n                    <div className=\"login-form-wrapper\">\r\n                        <div className=\"login-form-header\">\r\n                            <div className=\"login-form-logo\">\r\n                                <img src=\"/logo.svg\" alt=\"OpsSentinal\" className=\"login-form-logo-img\" />\r\n                            </div>\r\n                            <div className=\"login-form-branding\">\r\n                                <h2 className=\"login-title\">Create New Password</h2>\r\n                                <p className=\"login-subtitle\">\r\n                                    Secure your account with a strong password\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Suspense fallback={<Spinner />}>\r\n                            <ResetPasswordForm />\r\n                        </Suspense>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\robots.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\set-password\\actions.ts",
    "messages": [
      {
        "ruleId": "security/detect-possible-timing-attacks",
        "severity": 1,
        "message": "Potential timing attack, left side: true",
        "line": 24,
        "column": 5,
        "nodeType": "IfStatement",
        "endLine": 26,
        "endColumn": 6
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use server';\r\n\r\nimport prisma from '@/lib/prisma';\r\nimport bcrypt from 'bcryptjs';\r\nimport { redirect } from 'next/navigation';\r\nimport { logAudit } from '@/lib/audit';\r\nimport { validatePasswordStrength } from '@/lib/passwords';\r\n\r\nexport async function setPassword(formData: FormData) {\r\n    const token = formData.get('token') as string;\r\n    const password = formData.get('password') as string;\r\n    const confirmPassword = formData.get('confirmPassword') as string;\r\n\r\n    if (!token) {\r\n        redirect('/set-password?error=missing');\r\n    }\r\n\r\n    const passwordError = validatePasswordStrength(password || '');\r\n    if (passwordError) {\r\n        const code = passwordError.includes('include') ? 'complexity' : 'weak';\r\n        redirect(`/set-password?token=${encodeURIComponent(token)}&error=${code}`);\r\n    }\r\n\r\n    if (password !== confirmPassword) {\r\n        redirect(`/set-password?token=${encodeURIComponent(token)}&error=mismatch`);\r\n    }\r\n\r\n    const record = await prisma.verificationToken.findUnique({\r\n        where: { token }\r\n    });\r\n\r\n    if (!record || record.expires < new Date()) {\r\n        redirect('/set-password?error=expired');\r\n    }\r\n\r\n    const user = await prisma.user.findUnique({\r\n        where: { email: record.identifier }\r\n    });\r\n\r\n    if (!user) {\r\n        redirect('/set-password?error=invalid');\r\n    }\r\n\r\n    const passwordHash = await bcrypt.hash(password, 10);\r\n\r\n    await prisma.user.update({\r\n        where: { id: user.id },\r\n        data: {\r\n            passwordHash,\r\n            status: 'ACTIVE',\r\n            invitedAt: null,\r\n            deactivatedAt: null\r\n        }\r\n    });\r\n\r\n    await prisma.verificationToken.delete({\r\n        where: { token }\r\n    });\r\n\r\n    await logAudit({\r\n        action: 'user.password.set',\r\n        entityType: 'USER',\r\n        entityId: user.id,\r\n        actorId: null,\r\n        details: { method: 'invite' }\r\n    });\r\n\r\n    // Force sign-out effectively by redirecting to signout or letting the frontend handle it. \r\n    // Since this is a server action, we can't easily clear the cookie domain-wide without auth hooks.\r\n    // However, redirecting to the sign-out route with a callback to login is a safe way to ensure fresh session.\r\n    redirect('/api/auth/signout?callbackUrl=/login?password=1');\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\set-password\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\setup\\actions.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\setup\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\app\\sitemap.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\AssigneePicker.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 83,
        "column": 45,
        "nodeType": "MemberExpression",
        "endLine": 83,
        "endColumn": 65
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useMemo, useRef, useState } from 'react';\r\n\r\ntype User = { id: string; name: string };\r\n\r\ntype Props = {\r\n    users: User[];\r\n    currentAssigneeId?: string | null;\r\n    action: (formData: FormData) => Promise<void>;\r\n    accentColor?: string;\r\n    inputBackground?: string;\r\n    buttonBackground?: string;\r\n    buttonBorder?: string;\r\n    buttonTextColor?: string;\r\n    searchPlaceholder?: string;\r\n};\r\n\r\nexport default function AssigneePicker({\r\n    users,\r\n    currentAssigneeId,\r\n    action,\r\n    accentColor,\r\n    inputBackground,\r\n    buttonBackground,\r\n    buttonBorder,\r\n    buttonTextColor,\r\n    searchPlaceholder\r\n}: Props) {\r\n    const currentUser = users.find((user) => user.id === currentAssigneeId);\r\n    const [query, setQuery] = useState(currentUser?.name || '');\r\n    const [selectedId, setSelectedId] = useState<string | null>(currentAssigneeId || null);\r\n    const [expanded, setExpanded] = useState(false);\r\n    const [open, setOpen] = useState(false);\r\n    const [highlighted, setHighlighted] = useState(0);\r\n    const blurTimeout = useRef<number | null>(null);\r\n\r\n    const filtered = useMemo(() => {\r\n        const q = query.trim().toLowerCase();\r\n        if (!q) return users;\r\n        return users.filter((user) => user.name.toLowerCase().includes(q));\r\n    }, [query, users]);\r\n\r\n    const visible = expanded ? filtered : filtered.slice(0, 6);\r\n    const options = [{ id: null as string | null, name: 'Unassigned' }, ...visible];\r\n    const accentTint = accentColor ? `${accentColor}22` : 'rgba(211,47,47,0.12)';\r\n    const inputBorder = buttonBorder || 'var(--border)';\r\n\r\n    const selectUser = (userId: string | null, name: string) => {\r\n        setSelectedId(userId);\r\n        setQuery(name);\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <form action={action} style={{ display: 'grid', gap: '0.6rem' }}>\r\n            <input type=\"hidden\" name=\"assigneeId\" value={selectedId || ''} />\r\n            <div style={{ display: 'grid', gap: '0.5rem', position: 'relative' }}>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder={searchPlaceholder || \"Type to search...\"}\r\n                    value={query}\r\n                    onChange={(e) => setQuery(e.target.value)}\r\n                    onFocus={() => {\r\n                        if (blurTimeout.current) {\r\n                            window.clearTimeout(blurTimeout.current);\r\n                        }\r\n                        setOpen(true);\r\n                    }}\r\n                    onBlur={() => {\r\n                        blurTimeout.current = window.setTimeout(() => setOpen(false), 150);\r\n                    }}\r\n                    onKeyDown={(e) => {\r\n                        if (!open) setOpen(true);\r\n                        if (e.key === 'ArrowDown') {\r\n                            e.preventDefault();\r\n                            setHighlighted((prev) => Math.min(prev + 1, options.length - 1));\r\n                        } else if (e.key === 'ArrowUp') {\r\n                            e.preventDefault();\r\n                            setHighlighted((prev) => Math.max(prev - 1, 0));\r\n                        } else if (e.key === 'Enter') {\r\n                            e.preventDefault();\r\n                            const current = options[highlighted];\r\n                            if (current) {\r\n                                selectUser(current.id, current.name);\r\n                            }\r\n                        } else if (e.key === 'Escape') {\r\n                            setOpen(false);\r\n                        }\r\n                    }}\r\n                    style={{\r\n                        padding: '0.5rem 0.6rem',\r\n                        borderRadius: '10px',\r\n                        border: `1px solid ${inputBorder}`,\r\n                        fontSize: '0.85rem',\r\n                        background: inputBackground || '#fff'\r\n                    }}\r\n                />\r\n                {open && (\r\n                    <div style={{\r\n                        display: 'grid',\r\n                        gap: '0.4rem',\r\n                        position: 'absolute',\r\n                        top: '46px',\r\n                        left: 0,\r\n                        right: 0,\r\n                        background: '#fff',\r\n                        border: '1px solid var(--border)',\r\n                        borderRadius: '10px',\r\n                        padding: '0.5rem',\r\n                        boxShadow: 'var(--shadow-md)',\r\n                        zIndex: 5\r\n                    }}>\r\n                    {options.map((user, index) => (\r\n                        <button\r\n                            key={user.id ?? 'unassigned'}\r\n                            type=\"button\"\r\n                            onMouseDown={(e) => e.preventDefault()}\r\n                            onClick={() => selectUser(user.id, user.name)}\r\n                            style={{\r\n                                textAlign: 'left',\r\n                                padding: '0.4rem 0.6rem',\r\n                                borderRadius: '8px',\r\n                                border: user.id === null ? '1px dashed var(--border)' : '1px solid var(--border)',\r\n                                background: highlighted === index ? accentTint : '#fff',\r\n                                color: user.id === null ? 'var(--text-secondary)' : 'var(--text-primary)',\r\n                                cursor: 'pointer'\r\n                            }}\r\n                        >\r\n                            {user.name}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n                )}\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <button\r\n                    className=\"glass-button\"\r\n                    style={{\r\n                        height: '32px',\r\n                        padding: '0 0.75rem',\r\n                        fontSize: '0.8rem',\r\n                        background: buttonBackground || undefined,\r\n                        border: buttonBorder || undefined,\r\n                        color: buttonTextColor || undefined\r\n                    }}\r\n                >\r\n                    Assign\r\n                </button>\r\n                {filtered.length > 6 && (\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => setExpanded((prev) => !prev)}\r\n                        style={{ border: 'none', background: 'transparent', color: 'var(--text-muted)', fontSize: '0.75rem', cursor: 'pointer' }}\r\n                    >\r\n                        {expanded ? 'Show less' : `Show ${filtered.length - 6} more`}\r\n                    </button>\r\n                )}\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\BootstrapSetupForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\BulkTeamMemberActions.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\BulkUserActionsForm.tsx",
    "messages": [
      {
        "ruleId": "no-duplicate-imports",
        "severity": 1,
        "message": "'react' import is duplicated.",
        "line": 4,
        "column": 1,
        "nodeType": "ImportDeclaration",
        "messageId": "import",
        "endLine": 4,
        "endColumn": 40
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 84,
        "column": 41,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 84,
        "endColumn": 104
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useEffect, useActionState, type CSSProperties } from 'react';\r\nimport type { FormEvent } from 'react';\r\nimport { useFormStatus } from 'react-dom';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ntype FormState = {\r\n    error?: string | null;\r\n    success?: boolean;\r\n};\r\n\r\ntype Props = {\r\n    action: (prevState: FormState, formData: FormData) => Promise<FormState>;\r\n    formId: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n    disabled?: boolean;\r\n};\r\n\r\nfunction SubmitButton() {\r\n    const { pending } = useFormStatus();\r\n    return (\r\n        <button type=\"submit\" className=\"glass-button bulk-actions-button\" disabled={pending}>\r\n            {pending ? 'Applying...' : 'Apply'}\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default function BulkUserActionsForm({ action, formId, className = '', style, disabled = false }: Props) {\r\n    const [state, formAction] = useActionState(action, { error: null, success: false });\r\n    const [localError, setLocalError] = useState<string | null>(null);\r\n    const [showRoleSelect, setShowRoleSelect] = useState(false);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (state?.success) {\r\n            router.refresh();\r\n        }\r\n    }, [state?.success, router]);\r\n\r\n    useEffect(() => {\r\n        const actionSelect = document.getElementById(`${formId}-action`) as HTMLSelectElement;\r\n        const roleSelect = document.getElementById(`${formId}-role`) as HTMLSelectElement;\r\n\r\n        if (actionSelect && roleSelect) {\r\n            const handleChange = () => {\r\n                setShowRoleSelect(actionSelect.value === 'setRole');\r\n                if (actionSelect.value !== 'setRole') {\r\n                    roleSelect.value = '';\r\n                }\r\n            };\r\n            actionSelect.addEventListener('change', handleChange);\r\n            return () => actionSelect.removeEventListener('change', handleChange);\r\n        }\r\n    }, [formId]);\r\n\r\n    const handleSubmit = (event: FormEvent<HTMLFormElement>) => {\r\n        const formData = new FormData(event.currentTarget);\r\n        const userIds = formData.getAll('userIds');\r\n        const bulkAction = formData.get('bulkAction') as string;\r\n\r\n        if (!bulkAction) {\r\n            setLocalError('Choose a bulk action first.');\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (userIds.length === 0) {\r\n            setLocalError('Select at least one user.');\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (bulkAction === 'setRole') {\r\n            const role = formData.get('role') as string;\r\n            if (!role) {\r\n                setLocalError('Select a role.');\r\n                event.preventDefault();\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (bulkAction === 'delete' && !window.confirm('Delete selected users? This cannot be undone.')) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        setLocalError(null);\r\n    };\r\n\r\n    return (\r\n        <form\r\n            id={formId}\r\n            action={formAction}\r\n            onSubmit={handleSubmit}\r\n            className={`bulk-actions-form ${className}`.trim()}\r\n            style={{ ...style, opacity: disabled ? 0.6 : 1 }}\r\n        >\r\n            <fieldset disabled={disabled} style={{ border: 'none', padding: 0, margin: 0, display: 'contents' }}>\r\n                <select name=\"bulkAction\" defaultValue=\"\" className=\"bulk-actions-select\" id={`${formId}-action`}>\r\n                    <option value=\"\" disabled>Bulk action</option>\r\n                    <option value=\"activate\">Activate</option>\r\n                    <option value=\"deactivate\">Deactivate</option>\r\n                    <option value=\"setRole\">Change Role</option>\r\n                    <option value=\"delete\">Delete</option>\r\n                </select>\r\n                {showRoleSelect && (\r\n                    <select name=\"role\" defaultValue=\"\" className=\"bulk-actions-select\" id={`${formId}-role`} required>\r\n                        <option value=\"\" disabled>Select role</option>\r\n                        <option value=\"ADMIN\">Admin</option>\r\n                        <option value=\"RESPONDER\">Responder</option>\r\n                        <option value=\"USER\">User</option>\r\n                    </select>\r\n                )}\r\n                <SubmitButton />\r\n            </fieldset>\r\n            {disabled && (\r\n                <span style={{ fontSize: '0.7rem', color: 'var(--text-muted)', fontStyle: 'italic', marginLeft: '0.5rem' }}>\r\n                    Admin access required\r\n                </span>\r\n            )}\r\n            {(localError || state?.error) ? (\r\n                <span className=\"bulk-actions-error\">\r\n                    {localError || state?.error}\r\n                </span>\r\n            ) : null}\r\n        </form>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ConfirmDialog.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 87,
        "column": 18,
        "nodeType": "MemberExpression",
        "endLine": 87,
        "endColumn": 40
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useEffect, useRef } from 'react';\r\n\r\ntype ConfirmDialogProps = {\r\n  isOpen: boolean;\r\n  title: string;\r\n  message: string;\r\n  confirmText: string;\r\n  cancelText: string;\r\n  variant?: 'danger' | 'warning' | 'info';\r\n  onConfirm: () => void;\r\n  onCancel: () => void;\r\n};\r\n\r\nexport default function ConfirmDialog({\r\n  isOpen,\r\n  title,\r\n  message,\r\n  confirmText,\r\n  cancelText,\r\n  variant = 'danger',\r\n  onConfirm,\r\n  onCancel,\r\n}: ConfirmDialogProps) {\r\n  const dialogRef = useRef<HTMLDivElement>(null);\r\n  const confirmButtonRef = useRef<HTMLButtonElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      // Focus the confirm button when dialog opens\r\n      confirmButtonRef.current?.focus();\r\n      // Prevent body scroll\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      // Restore body scroll\r\n      document.body.style.overflow = '';\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.overflow = '';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  useEffect(() => {\r\n    const handleEscape = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape' && isOpen) {\r\n        onCancel();\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', handleEscape);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n    };\r\n  }, [isOpen, onCancel]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const variantStyles = {\r\n    danger: {\r\n      confirmBg: 'linear-gradient(180deg, #be123c 0%, #9f1239 100%)',\r\n      confirmHover: '#881337',\r\n      borderColor: '#fecaca',\r\n      iconBg: '#fef2f2',\r\n      iconColor: '#be123c',\r\n    },\r\n    warning: {\r\n      confirmBg: 'linear-gradient(180deg, #d97706 0%, #b45309 100%)',\r\n      confirmHover: '#92400e',\r\n      borderColor: '#fde68a',\r\n      iconBg: '#fffbeb',\r\n      iconColor: '#d97706',\r\n    },\r\n    info: {\r\n      confirmBg: 'linear-gradient(180deg, #3b82f6 0%, #2563eb 100%)',\r\n      confirmHover: '#1d4ed8',\r\n      borderColor: '#dbeafe',\r\n      iconBg: '#dbeafe',\r\n      iconColor: '#3b82f6',\r\n    },\r\n  };\r\n\r\n  const styles = variantStyles[variant];\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'fixed',\r\n        inset: 0,\r\n        zIndex: 1000,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: '1rem',\r\n        background: 'rgba(0, 0, 0, 0.5)',\r\n        backdropFilter: 'blur(4px)',\r\n      }}\r\n      onClick={onCancel}\r\n    >\r\n      <div\r\n        ref={dialogRef}\r\n        style={{\r\n          background: '#ffffff',\r\n          borderRadius: '16px',\r\n          boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\r\n          maxWidth: '500px',\r\n          width: '100%',\r\n          padding: '2rem',\r\n          border: `2px solid ${styles.borderColor}`,\r\n          position: 'relative',\r\n          animation: 'fadeIn 0.2s ease-out',\r\n        }}\r\n        onClick={e => e.stopPropagation()}\r\n        role=\"dialog\"\r\n        aria-modal=\"true\"\r\n        aria-labelledby=\"dialog-title\"\r\n        aria-describedby=\"dialog-message\"\r\n      >\r\n        <style>{`\r\n                    @keyframes fadeIn {\r\n                        from {\r\n                            opacity: 0;\r\n                            transform: scale(0.95);\r\n                        }\r\n                        to {\r\n                            opacity: 1;\r\n                            transform: scale(1);\r\n                        }\r\n                    }\r\n                `}</style>\r\n\r\n        {/* Icon */}\r\n        <div\r\n          style={{\r\n            width: '48px',\r\n            height: '48px',\r\n            borderRadius: '50%',\r\n            background: styles.iconBg,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            marginBottom: '1rem',\r\n          }}\r\n        >\r\n          {variant === 'danger' && <span style={{ fontSize: '24px' }}>ΓÜá∩╕Å</span>}\r\n          {variant === 'warning' && <span style={{ fontSize: '24px' }}>ΓÜá∩╕Å</span>}\r\n          {variant === 'info' && <span style={{ fontSize: '24px' }}>Γä╣∩╕Å</span>}\r\n        </div>\r\n\r\n        {/* Title */}\r\n        <h3\r\n          id=\"dialog-title\"\r\n          style={{\r\n            fontSize: '1.25rem',\r\n            fontWeight: '700',\r\n            color: 'var(--text-primary)',\r\n            marginBottom: '0.75rem',\r\n            lineHeight: 1.3,\r\n          }}\r\n        >\r\n          {title}\r\n        </h3>\r\n\r\n        {/* Message */}\r\n        <p\r\n          id=\"dialog-message\"\r\n          style={{\r\n            fontSize: '0.95rem',\r\n            color: 'var(--text-secondary)',\r\n            lineHeight: 1.6,\r\n            marginBottom: '1.5rem',\r\n          }}\r\n        >\r\n          {message}\r\n        </p>\r\n\r\n        {/* Actions */}\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            gap: '0.75rem',\r\n            justifyContent: 'flex-end',\r\n          }}\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            onClick={onCancel}\r\n            style={{\r\n              padding: '0.625rem 1.25rem',\r\n              borderRadius: '8px',\r\n              border: '1px solid var(--border)',\r\n              background: '#ffffff',\r\n              color: 'var(--text-primary)',\r\n              fontSize: '0.875rem',\r\n              fontWeight: '600',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.2s',\r\n            }}\r\n            onMouseEnter={e => {\r\n              e.currentTarget.style.background = '#f9fafb';\r\n              e.currentTarget.style.borderColor = '#d1d5db';\r\n            }}\r\n            onMouseLeave={e => {\r\n              e.currentTarget.style.background = '#ffffff';\r\n              e.currentTarget.style.borderColor = 'var(--border)';\r\n            }}\r\n          >\r\n            {cancelText}\r\n          </button>\r\n          <button\r\n            ref={confirmButtonRef}\r\n            type=\"button\"\r\n            onClick={onConfirm}\r\n            style={{\r\n              padding: '0.625rem 1.25rem',\r\n              borderRadius: '8px',\r\n              border: 'none',\r\n              background: styles.confirmBg,\r\n              color: '#ffffff',\r\n              fontSize: '0.875rem',\r\n              fontWeight: '600',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.2s',\r\n              boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',\r\n            }}\r\n            onMouseEnter={e => {\r\n              e.currentTarget.style.background = styles.confirmHover;\r\n              e.currentTarget.style.transform = 'translateY(-1px)';\r\n              e.currentTarget.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.15)';\r\n            }}\r\n            onMouseLeave={e => {\r\n              e.currentTarget.style.background = styles.confirmBg;\r\n              e.currentTarget.style.transform = 'translateY(0)';\r\n              e.currentTarget.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.1)';\r\n            }}\r\n          >\r\n            {confirmText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ConfirmSubmitButton.tsx",
    "messages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 24,
        "column": 22,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 24,
        "endColumn": 45
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport type { CSSProperties, ReactNode } from 'react';\r\n\r\ntype ConfirmSubmitButtonProps = {\r\n    confirmMessage: string;\r\n    children: ReactNode;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n};\r\n\r\nexport default function ConfirmSubmitButton({\r\n    confirmMessage,\r\n    children,\r\n    className,\r\n    style\r\n}: ConfirmSubmitButtonProps) {\r\n    return (\r\n        <button\r\n            type=\"submit\"\r\n            className={className}\r\n            style={style}\r\n            onClick={(e) => {\r\n                if (!confirm(confirmMessage)) {\r\n                    e.preventDefault();\r\n                }\r\n            }}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\CreatePresetFromCurrent.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 59,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 59,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2053, 2056], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2053, 2056], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\CurrentCoverageDisplay.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\CustomFieldInput.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 13,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 13,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [354, 357], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [354, 357], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\CustomFieldsConfig.tsx",
    "messages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 92,
        "column": 14,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 92,
        "endColumn": 119
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 14,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 14,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [420, 423], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [420, 423], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 85,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 85,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2921, 2924], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2921, 2924], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 108,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 108,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3771, 3774], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3771, 3774], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useTransition } from 'react';\r\nimport { Card, Button, FormField, Select, Switch } from '@/components/ui';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ntype CustomField = {\r\n    id: string;\r\n    name: string;\r\n    key: string;\r\n    type: 'TEXT' | 'NUMBER' | 'DATE' | 'SELECT' | 'BOOLEAN' | 'URL' | 'EMAIL';\r\n    required: boolean;\r\n    defaultValue?: string | null;\r\n    options?: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    order: number;\r\n    showInList: boolean;\r\n    _count: {\r\n        values: number;\r\n    };\r\n};\r\n\r\ntype CustomFieldsConfigProps = {\r\n    customFields: CustomField[];\r\n};\r\n\r\nexport default function CustomFieldsConfig({ customFields: initialFields }: CustomFieldsConfigProps) {\r\n    const router = useRouter();\r\n    const [isPending, startTransition] = useTransition();\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [customFields, _setCustomFields] = useState(initialFields);\r\n    const [_editingId, _setEditingId] = useState<string | null>(null);\r\n    const [showAddForm, setShowAddForm] = useState(false);\r\n\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        key: '',\r\n        type: 'TEXT' as CustomField['type'],\r\n        required: false,\r\n        defaultValue: '',\r\n        options: '',\r\n        showInList: false,\r\n    });\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError(null);\r\n\r\n        // Validate key format (alphanumeric and underscores only)\r\n        if (!/^[a-zA-Z0-9_]+$/.test(formData.key)) {\r\n            setError('Key must contain only letters, numbers, and underscores');\r\n            return;\r\n        }\r\n\r\n        startTransition(async () => {\r\n            try {\r\n                const options = formData.type === 'SELECT' && formData.options\r\n                    ? formData.options.split(',').map(o => o.trim()).filter(Boolean)\r\n                    : null;\r\n\r\n                const response = await fetch('/api/settings/custom-fields', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({\r\n                        ...formData,\r\n                        options,\r\n                    }),\r\n                });\r\n\r\n                if (!response.ok) {\r\n                    const data = await response.json();\r\n                    throw new Error(data.error || 'Failed to save custom field');\r\n                }\r\n\r\n                router.refresh();\r\n                setShowAddForm(false);\r\n                setFormData({\r\n                    name: '',\r\n                    key: '',\r\n                    type: 'TEXT',\r\n                    required: false,\r\n                    defaultValue: '',\r\n                    options: '',\r\n                    showInList: false,\r\n                });\r\n            } catch (err: any) { // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                setError(err.message || 'Failed to save custom field');\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (!confirm('Are you sure you want to delete this custom field? This will remove all values for this field.')) {\r\n            return;\r\n        }\r\n\r\n        startTransition(async () => {\r\n            try {\r\n                const response = await fetch(`/api/settings/custom-fields/${id}`, {\r\n                    method: 'DELETE',\r\n                });\r\n\r\n                if (!response.ok) {\r\n                    const data = await response.json();\r\n                    throw new Error(data.error || 'Failed to delete custom field');\r\n                }\r\n\r\n                router.refresh();\r\n            } catch (err: any) { // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                setError(err.message || 'Failed to delete custom field');\r\n            }\r\n        });\r\n    };\r\n\r\n    const fieldTypeOptions = [\r\n        { value: 'TEXT', label: 'Text' },\r\n        { value: 'NUMBER', label: 'Number' },\r\n        { value: 'DATE', label: 'Date' },\r\n        { value: 'SELECT', label: 'Select (Dropdown)' },\r\n        { value: 'BOOLEAN', label: 'Boolean (Yes/No)' },\r\n        { value: 'URL', label: 'URL' },\r\n        { value: 'EMAIL', label: 'Email' },\r\n    ];\r\n\r\n    return (\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}>\r\n            {/* Add New Field */}\r\n            <Card>\r\n                <div style={{ padding: 'var(--spacing-5)' }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 'var(--spacing-4)' }}>\r\n                        <h2 style={{ fontSize: 'var(--font-size-lg)', fontWeight: 'var(--font-weight-semibold)' }}>\r\n                            Add Custom Field\r\n                        </h2>\r\n                        <Button\r\n                            variant=\"primary\"\r\n                            onClick={() => setShowAddForm(!showAddForm)}\r\n                        >\r\n                            {showAddForm ? 'Cancel' : '+ Add Field'}\r\n                        </Button>\r\n                    </div>\r\n\r\n                    {showAddForm && (\r\n                        <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-4)' }}>\r\n                            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 'var(--spacing-4)' }}>\r\n                                <FormField\r\n                                    type=\"input\"\r\n                                    inputType=\"text\"\r\n                                    label=\"Field Name\"\r\n                                    value={formData.name}\r\n                                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                                    required\r\n                                    placeholder=\"e.g., Customer ID\"\r\n                                />\r\n                                <FormField\r\n                                    type=\"input\"\r\n                                    inputType=\"text\"\r\n                                    label=\"Field Key\"\r\n                                    value={formData.key}\r\n                                    onChange={(e) => setFormData({ ...formData, key: e.target.value.toLowerCase().replace(/\\s+/g, '_') })}\r\n                                    required\r\n                                    placeholder=\"e.g., customer_id\"\r\n                                    helperText=\"Unique identifier (letters, numbers, underscores only)\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 'var(--spacing-4)' }}>\r\n                                <div>\r\n                                    <label style={{ display: 'block', marginBottom: 'var(--spacing-2)', fontSize: 'var(--font-size-sm)', fontWeight: 'var(--font-weight-medium)' }}>\r\n                                        Field Type\r\n                                    </label>\r\n                                    <Select\r\n                                        value={formData.type}\r\n                                        onChange={(e) => setFormData({ ...formData, type: e.target.value as CustomField['type'] })}\r\n                                        options={fieldTypeOptions}\r\n                                    />\r\n                                </div>\r\n                                <FormField\r\n                                    type=\"input\"\r\n                                    inputType=\"text\"\r\n                                    label=\"Default Value (Optional)\"\r\n                                    value={formData.defaultValue}\r\n                                    onChange={(e) => setFormData({ ...formData, defaultValue: e.target.value })}\r\n                                    placeholder=\"Default value for new incidents\"\r\n                                />\r\n                            </div>\r\n\r\n                            {formData.type === 'SELECT' && (\r\n                                <FormField\r\n                                    type=\"input\"\r\n                                    inputType=\"text\"\r\n                                    label=\"Options (comma-separated)\"\r\n                                    value={formData.options}\r\n                                    onChange={(e) => setFormData({ ...formData, options: e.target.value })}\r\n                                    required={formData.type === 'SELECT'}\r\n                                    placeholder=\"Option 1, Option 2, Option 3\"\r\n                                    helperText=\"Enter options separated by commas\"\r\n                                />\r\n                            )}\r\n\r\n                            <div style={{ display: 'flex', gap: 'var(--spacing-4)' }}>\r\n                                <Switch\r\n                                    checked={formData.required}\r\n                                    onChange={(checked) => setFormData({ ...formData, required: checked })}\r\n                                    label=\"Required Field\"\r\n                                />\r\n                                <Switch\r\n                                    checked={formData.showInList}\r\n                                    onChange={(checked) => setFormData({ ...formData, showInList: checked })}\r\n                                    label=\"Show in Incident List\"\r\n                                />\r\n                            </div>\r\n\r\n                            {error && (\r\n                                <div style={{ padding: 'var(--spacing-3)', background: 'var(--color-error-light)', borderRadius: 'var(--radius-md)', color: 'var(--color-error-dark)' }}>\r\n                                    {error}\r\n                                </div>\r\n                            )}\r\n\r\n                            <div style={{ display: 'flex', gap: 'var(--spacing-3)', justifyContent: 'flex-end' }}>\r\n                                <Button\r\n                                    type=\"button\"\r\n                                    variant=\"secondary\"\r\n                                    onClick={() => {\r\n                                        setShowAddForm(false);\r\n                                        setError(null);\r\n                                    }}\r\n                                >\r\n                                    Cancel\r\n                                </Button>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    variant=\"primary\"\r\n                                    isLoading={isPending}\r\n                                >\r\n                                    Create Field\r\n                                </Button>\r\n                            </div>\r\n                        </form>\r\n                    )}\r\n                </div>\r\n            </Card>\r\n\r\n            {/* Existing Fields */}\r\n            <Card>\r\n                <div style={{ padding: 'var(--spacing-5)' }}>\r\n                    <h2 style={{ fontSize: 'var(--font-size-lg)', fontWeight: 'var(--font-weight-semibold)', marginBottom: 'var(--spacing-4)' }}>\r\n                        Custom Fields ({customFields.length})\r\n                    </h2>\r\n\r\n                    {customFields.length === 0 ? (\r\n                        <div style={{ padding: 'var(--spacing-8)', textAlign: 'center', color: 'var(--text-muted)' }}>\r\n                            <p>No custom fields defined yet. Add your first custom field above.</p>\r\n                        </div>\r\n                    ) : (\r\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-3)' }}>\r\n                            {customFields.map((field) => (\r\n                                <div\r\n                                    key={field.id}\r\n                                    style={{\r\n                                        padding: 'var(--spacing-4)',\r\n                                        background: 'var(--color-neutral-50)',\r\n                                        borderRadius: 'var(--radius-md)',\r\n                                        border: '1px solid var(--color-neutral-200)',\r\n                                        display: 'flex',\r\n                                        justifyContent: 'space-between',\r\n                                        alignItems: 'center',\r\n                                    }}\r\n                                >\r\n                                    <div style={{ flex: 1 }}>\r\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--spacing-2)', marginBottom: 'var(--spacing-1)' }}>\r\n                                            <h3 style={{ fontSize: 'var(--font-size-base)', fontWeight: 'var(--font-weight-semibold)' }}>\r\n                                                {field.name}\r\n                                            </h3>\r\n                                            <span style={{\r\n                                                padding: '0.125rem 0.5rem',\r\n                                                background: 'var(--color-neutral-200)',\r\n                                                borderRadius: 'var(--radius-sm)',\r\n                                                fontSize: 'var(--font-size-xs)',\r\n                                                color: 'var(--text-muted)',\r\n                                            }}>\r\n                                                {field.key}\r\n                                            </span>\r\n                                            <span style={{\r\n                                                padding: '0.125rem 0.5rem',\r\n                                                background: 'var(--primary-light)',\r\n                                                borderRadius: 'var(--radius-sm)',\r\n                                                fontSize: 'var(--font-size-xs)',\r\n                                                color: 'var(--primary-dark)',\r\n                                            }}>\r\n                                                {field.type}\r\n                                            </span>\r\n                                            {field.required && (\r\n                                                <span style={{\r\n                                                    padding: '0.125rem 0.5rem',\r\n                                                    background: 'var(--color-error-light)',\r\n                                                    borderRadius: 'var(--radius-sm)',\r\n                                                    fontSize: 'var(--font-size-xs)',\r\n                                                    color: 'var(--color-error-dark)',\r\n                                                }}>\r\n                                                    Required\r\n                                                </span>\r\n                                            )}\r\n                                            {field.showInList && (\r\n                                                <span style={{\r\n                                                    padding: '0.125rem 0.5rem',\r\n                                                    background: 'var(--color-success-light)',\r\n                                                    borderRadius: 'var(--radius-sm)',\r\n                                                    fontSize: 'var(--font-size-xs)',\r\n                                                    color: 'var(--color-success-dark)',\r\n                                                }}>\r\n                                                    In List\r\n                                                </span>\r\n                                            )}\r\n                                        </div>\r\n                                        <p style={{ fontSize: 'var(--font-size-sm)', color: 'var(--text-muted)' }}>\r\n                                            Used in {field._count.values} incident{field._count.values !== 1 ? 's' : ''}\r\n                                        </p>\r\n                                    </div>\r\n                                    <Button\r\n                                        variant=\"danger\"\r\n                                        size=\"sm\"\r\n                                        onClick={() => handleDelete(field.id)}\r\n                                        disabled={isPending}\r\n                                    >\r\n                                        Delete\r\n                                    </Button>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardActionItems.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardAdvancedMetrics.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardAnomalyDetection.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardClient.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardCollapsibleWidget.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardCollapsibleWidget.tsx:23:5\n  21 |\n  22 |   useEffect(() => {\n> 23 |     setIsMounted(true); // eslint-disable-line react-hooks/set-state-in-effect\n     |     ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  24 |     // Ensure expanded state matches defaultExpanded after mount\n  25 |     setIsExpanded(defaultExpanded !== false);\n  26 |   }, [defaultExpanded]);",
        "line": 23,
        "column": 5,
        "nodeType": null,
        "endLine": 23,
        "endColumn": 17,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardExport.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 8,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 8,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [198, 201], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [198, 201], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardFilterChips.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardFilters.tsx",
    "messages": [
      {
        "ruleId": "@next/next/no-html-link-for-pages",
        "severity": 1,
        "message": "Do not use an `<a>` element to navigate to `/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages",
        "line": 76,
        "column": 17,
        "nodeType": "JSXOpeningElement",
        "endLine": 76,
        "endColumn": 135
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useRouter, usePathname, useSearchParams } from 'next/navigation';\r\n\r\ntype Props = {\r\n    initialStatus?: string;\r\n    initialService?: string;\r\n    initialAssignee?: string;\r\n    services: { id: string; name: string }[];\r\n    users: { id: string; name: string }[];\r\n};\r\n\r\nexport default function DashboardFilters({ initialStatus, initialService, initialAssignee, services, users }: Props) {\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n    const searchParams = useSearchParams();\r\n\r\n    const handleFilterChange = (key: string, value: string) => {\r\n        const params = new URLSearchParams(searchParams.toString());\r\n        if (value && value !== 'ALL') {\r\n            params.set(key, value);\r\n        } else {\r\n            params.delete(key);\r\n        }\r\n        // Reset to page 1 when filters change\r\n        params.delete('page');\r\n        router.replace(`${pathname}?${params.toString()}`);\r\n    };\r\n\r\n    return (\r\n        <form method=\"get\" className=\"filter-grid\" style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', alignItems: 'end' }}>\r\n            <div>\r\n                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '600', color: 'var(--text-secondary)' }}>Status</label>\r\n                <select\r\n                    name=\"status\"\r\n                    value={initialStatus || 'ALL'}\r\n                    onChange={(e) => handleFilterChange('status', e.target.value)}\r\n                    style={{ width: '100%', padding: '0.6rem', border: '1px solid var(--border)', borderRadius: '8px', fontSize: '0.9rem', background: 'white' }}\r\n                >\r\n                    <option value=\"ALL\">All Statuses</option>\r\n                    <option value=\"OPEN\">Open</option>\r\n                    <option value=\"ACKNOWLEDGED\">Acknowledged</option>\r\n                    <option value=\"RESOLVED\">Resolved</option>\r\n                    <option value=\"SNOOZED\">Snoozed</option>\r\n                    <option value=\"SUPPRESSED\">Suppressed</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div>\r\n                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '600', color: 'var(--text-secondary)' }}>Service</label>\r\n                <select\r\n                    name=\"service\"\r\n                    value={initialService || ''}\r\n                    onChange={(e) => handleFilterChange('service', e.target.value)}\r\n                    style={{ width: '100%', padding: '0.6rem', border: '1px solid var(--border)', borderRadius: '8px', fontSize: '0.9rem', background: 'white' }}\r\n                >\r\n                    <option value=\"\">All Services</option>\r\n                    {services.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}\r\n                </select>\r\n            </div>\r\n\r\n            <div>\r\n                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '600', color: 'var(--text-secondary)' }}>Assignee</label>\r\n                <select\r\n                    name=\"assignee\"\r\n                    value={initialAssignee || ''}\r\n                    onChange={(e) => handleFilterChange('assignee', e.target.value)}\r\n                    style={{ width: '100%', padding: '0.6rem', border: '1px solid var(--border)', borderRadius: '8px', fontSize: '0.9rem', background: 'white' }}\r\n                >\r\n                    <option value=\"\">All Assignees</option>\r\n                    {users.map(u => <option key={u.id} value={u.id}>{u.name}</option>)}\r\n                </select>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n                <a href=\"/\" className=\"glass-button\" style={{ textDecoration: 'none', whiteSpace: 'nowrap', padding: '0.6rem 1rem' }}>Clear</a>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardInteractiveChart.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 27,
        "column": 37,
        "nodeType": "MemberExpression",
        "endLine": 27,
        "endColumn": 55
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 45,
        "column": 16,
        "nodeType": "MemberExpression",
        "endLine": 45,
        "endColumn": 34
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 45,
        "column": 44,
        "nodeType": "MemberExpression",
        "endLine": 45,
        "endColumn": 62
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 45,
        "column": 79,
        "nodeType": "MemberExpression",
        "endLine": 45,
        "endColumn": 97
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState } from 'react';\r\nimport BarChart from '@/components/analytics/BarChart';\r\n\r\ntype InteractiveChartProps = {\r\n  data: Array<{ key: string; label: string; count: number }>;\r\n  maxValue: number;\r\n  title: string;\r\n  onDataPointClick?: (dataPoint: { key: string; label: string; count: number }) => void;\r\n};\r\n\r\nexport default function DashboardInteractiveChart({ \r\n  data, \r\n  maxValue, \r\n  title,\r\n  onDataPointClick \r\n}: InteractiveChartProps) {\r\n  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null);\r\n\r\n  return (\r\n    <div className=\"glass-panel\" style={{ background: 'white', padding: '1.5rem' }}>\r\n      <h3 style={{ fontSize: '1.1rem', fontWeight: '700', marginBottom: '1rem' }}>{title}</h3>\r\n      {data.some(t => t.count > 0) ? (\r\n        <div style={{ position: 'relative' }}>\r\n          <BarChart data={data} maxValue={maxValue} height={120} showValues={false} />\r\n          {hoveredIndex !== null && data[hoveredIndex] && (\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                top: '-2.5rem',\r\n                left: `${(hoveredIndex / data.length) * 100}%`,\r\n                transform: 'translateX(-50%)',\r\n                background: 'rgba(0, 0, 0, 0.85)',\r\n                color: 'white',\r\n                padding: '0.4rem 0.6rem',\r\n                borderRadius: '6px',\r\n                fontSize: '0.75rem',\r\n                fontWeight: '600',\r\n                whiteSpace: 'nowrap',\r\n                pointerEvents: 'none',\r\n                zIndex: 10\r\n              }}\r\n            >\r\n              {data[hoveredIndex].label}: {data[hoveredIndex].count} incident{data[hoveredIndex].count !== 1 ? 's' : ''}\r\n            </div>\r\n          )}\r\n          <div\r\n            style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: `repeat(${data.length}, 1fr)`,\r\n              gap: '2px',\r\n              marginTop: '0.5rem',\r\n              height: '120px',\r\n              position: 'absolute',\r\n              top: '2.5rem',\r\n              left: 0,\r\n              right: 0,\r\n              pointerEvents: 'auto'\r\n            }}\r\n          >\r\n            {data.map((item, index) => (\r\n              <div\r\n                key={item.key}\r\n                onMouseEnter={() => setHoveredIndex(index)}\r\n                onMouseLeave={() => setHoveredIndex(null)}\r\n                onClick={() => onDataPointClick && onDataPointClick(item)}\r\n                style={{\r\n                  cursor: onDataPointClick ? 'pointer' : 'default',\r\n                  transition: 'background 0.2s ease'\r\n                }}\r\n                title={`${item.label}: ${item.count} incidents`}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div style={{ padding: '2rem', textAlign: 'center', color: 'var(--text-muted)', fontSize: '0.85rem' }}>\r\n          No incidents in this period\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardInteractiveChartClient.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardKeyboardShortcuts.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardKeyboardShortcutsClient.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardNotifications.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardNotifications.tsx:23:7\n  21 |\n  22 |     if ('Notification' in window) {\n> 23 |       setPermission(Notification.permission); // eslint-disable-line react-hooks/set-state-in-effect\n     |       ^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  24 |\n  25 |       if (Notification.permission === 'default') {\n  26 |         Notification.requestPermission().then(setPermission);",
        "line": 23,
        "column": 7,
        "nodeType": null,
        "endLine": 23,
        "endColumn": 20,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardNotifications.tsx:42:7\n  40 |         requireInteraction: false\n  41 |       });\n> 42 |       setLastNotified(prev => ({ ...prev, critical: criticalCount })); // eslint-disable-line react-hooks/set-state-in-effect\n     |       ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  43 |     }\n  44 |\n  45 |     // Notify on unassigned incidents",
        "line": 42,
        "column": 7,
        "nodeType": null,
        "endLine": 42,
        "endColumn": 22,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardPerformanceMetrics.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardPeriodComparison.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardQuickFilters.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardRealTimeUpdates.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardRealTimeUpdates.tsx:19:7\n  17 |     const saved = localStorage.getItem('dashboard-auto-refresh');\n  18 |     if (saved !== null) {\n> 19 |       setIsEnabled(saved === 'true'); // eslint-disable-line react-hooks/set-state-in-effect\n     |       ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  20 |     }\n  21 |   }, []);\n  22 |",
        "line": 19,
        "column": 7,
        "nodeType": null,
        "endLine": 19,
        "endColumn": 19,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardRealtimeMetrics.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardRealtimeMetrics.tsx:30:13\n  28 |     useEffect(() => {\n  29 |         if (metrics) {\n> 30 |             setDisplayMetrics(metrics); // eslint-disable-line react-hooks/set-state-in-effect\n     |             ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  31 |             if (onMetricsUpdate) {\n  32 |                 onMetricsUpdate(metrics);\n  33 |             }",
        "line": 30,
        "column": 13,
        "nodeType": null,
        "endLine": 30,
        "endColumn": 30,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardRealtimeWrapper.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 11,
        "column": 35,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 11,
        "endColumn": 38,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [422, 425], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [422, 425], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardRefresh.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardRefresh.tsx:23:5\n  21 |   // Only set time after component mounts on client\n  22 |   useEffect(() => {\n> 23 |     setMounted(true); // eslint-disable-line react-hooks/set-state-in-effect\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  24 |     setLastUpdated(new Date());\n  25 |   }, []);\n  26 |",
        "line": 23,
        "column": 5,
        "nodeType": null,
        "endLine": 23,
        "endColumn": 15,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardRefresh.tsx:31:7\n  29 |     const saved = localStorage.getItem('dashboard-auto-refresh');\n  30 |     if (saved !== null) {\n> 31 |       setAutoRefreshEnabled(saved === 'true'); // eslint-disable-line react-hooks/set-state-in-effect\n     |       ^^^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  32 |     }\n  33 |   }, []);\n  34 |",
        "line": 31,
        "column": 7,
        "nodeType": null,
        "endLine": 31,
        "endColumn": 28,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardRefresh.tsx:38:7\n  36 |   useEffect(() => {\n  37 |     if (!autoRefreshEnabled) {\n> 38 |       setTimeUntilRefresh(autoRefreshInterval); // eslint-disable-line react-hooks/set-state-in-effect\n     |       ^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  39 |       return;\n  40 |     }\n  41 |",
        "line": 38,
        "column": 7,
        "nodeType": null,
        "endLine": 38,
        "endColumn": 26,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardSLAMetrics.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 30,
        "column": 46,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 30,
        "endColumn": 49,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [928, 931], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [928, 931], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 31,
        "column": 54,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 31,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1045, 1048], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1045, 1048], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardSavedFilters.tsx",
    "messages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 57,
        "column": 7,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 57,
        "endColumn": 41
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 133,
        "column": 21,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 133,
        "endColumn": 56
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardSavedFilters.tsx:31:9\n  29 |     if (saved) {\n  30 |       try {\n> 31 |         setSavedFilters(JSON.parse(saved)); // eslint-disable-line react-hooks/set-state-in-effect\n     |         ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  32 |       } catch (e) {\n  33 |         if (e instanceof Error) {\n  34 |           logger.error('Failed to load saved filters', { error: e.message });",
        "line": 31,
        "column": 9,
        "nodeType": null,
        "endLine": 31,
        "endColumn": 24,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { logger } from '@/lib/logger';\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter, usePathname, useSearchParams } from 'next/navigation';\r\n\r\ntype SavedFilter = {\r\n  id: string;\r\n  name: string;\r\n  filters: {\r\n    status?: string;\r\n    service?: string;\r\n    assignee?: string;\r\n    urgency?: string;\r\n    range?: string;\r\n  };\r\n};\r\n\r\nexport default function DashboardSavedFilters() {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const searchParams = useSearchParams();\r\n  const [savedFilters, setSavedFilters] = useState<SavedFilter[]>([]);\r\n  const [showSaveDialog, setShowSaveDialog] = useState(false);\r\n  const [filterName, setFilterName] = useState('');\r\n\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem('dashboard-saved-filters');\r\n    if (saved) {\r\n      try {\r\n        setSavedFilters(JSON.parse(saved)); // eslint-disable-line react-hooks/set-state-in-effect\r\n      } catch (e) {\r\n        if (e instanceof Error) {\r\n          logger.error('Failed to load saved filters', { error: e.message });\r\n        } else {\r\n          logger.error('Failed to load saved filters', { error: String(e) });\r\n        }\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const saveCurrentFilter = () => {\r\n    const currentFilters: SavedFilter['filters'] = {};\r\n    const status = searchParams.get('status');\r\n    const service = searchParams.get('service');\r\n    const assignee = searchParams.get('assignee');\r\n    const urgency = searchParams.get('urgency');\r\n    const range = searchParams.get('range');\r\n\r\n    if (status) currentFilters.status = status;\r\n    if (service) currentFilters.service = service;\r\n    if (assignee !== null) currentFilters.assignee = assignee;\r\n    if (urgency) currentFilters.urgency = urgency;\r\n    if (range) currentFilters.range = range;\r\n\r\n    if (Object.keys(currentFilters).length === 0) {\r\n      alert('No active filters to save');\r\n      return;\r\n    }\r\n\r\n    if (!filterName.trim()) {\r\n      setShowSaveDialog(true);\r\n      return;\r\n    }\r\n\r\n    const newFilter: SavedFilter = {\r\n      id: Date.now().toString(),\r\n      name: filterName.trim(),\r\n      filters: currentFilters\r\n    };\r\n\r\n    const updated = [...savedFilters, newFilter];\r\n    setSavedFilters(updated);\r\n    localStorage.setItem('dashboard-saved-filters', JSON.stringify(updated));\r\n    setFilterName('');\r\n    setShowSaveDialog(false);\r\n  };\r\n\r\n  const loadFilter = (filter: SavedFilter) => {\r\n    const params = new URLSearchParams();\r\n    if (filter.filters.status) params.set('status', filter.filters.status);\r\n    if (filter.filters.service) params.set('service', filter.filters.service);\r\n    if (filter.filters.assignee !== undefined) params.set('assignee', filter.filters.assignee);\r\n    if (filter.filters.urgency) params.set('urgency', filter.filters.urgency);\r\n    if (filter.filters.range) params.set('range', filter.filters.range);\r\n    router.push(`${pathname}?${params.toString()}`);\r\n  };\r\n\r\n  const deleteFilter = (id: string) => {\r\n    const updated = savedFilters.filter(f => f.id !== id);\r\n    setSavedFilters(updated);\r\n    localStorage.setItem('dashboard-saved-filters', JSON.stringify(updated));\r\n  };\r\n\r\n  const hasActiveFilters = searchParams.toString().length > 0;\r\n\r\n  return (\r\n    <div style={{ marginBottom: '1rem' }}>\r\n      <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center', flexWrap: 'wrap', marginBottom: '0.5rem' }}>\r\n        <span style={{ fontSize: '0.85rem', color: 'var(--text-muted)', fontWeight: '600' }}>Saved Filters:</span>\r\n        {savedFilters.map((filter) => (\r\n          <button\r\n            key={filter.id}\r\n            onClick={() => loadFilter(filter)}\r\n            style={{\r\n              padding: '0.35rem 0.75rem',\r\n              borderRadius: '6px',\r\n              fontSize: '0.8rem',\r\n              border: '1px solid var(--border)',\r\n              background: 'white',\r\n              color: 'var(--text-primary)',\r\n              cursor: 'pointer',\r\n              fontWeight: '500',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.4rem',\r\n              transition: 'all 0.2s ease'\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.background = '#f9fafb';\r\n              e.currentTarget.style.borderColor = 'var(--primary)';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.background = 'white';\r\n              e.currentTarget.style.borderColor = 'var(--border)';\r\n            }}\r\n          >\r\n            <span>≡ƒÆ╛</span>\r\n            {filter.name}\r\n            <button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                if (confirm(`Delete \"${filter.name}\"?`)) {\r\n                  deleteFilter(filter.id);\r\n                }\r\n              }}\r\n              style={{\r\n                background: 'none',\r\n                border: 'none',\r\n                cursor: 'pointer',\r\n                color: 'var(--text-muted)',\r\n                fontSize: '0.9rem',\r\n                padding: 0,\r\n                marginLeft: '0.25rem',\r\n                display: 'flex',\r\n                alignItems: 'center'\r\n              }}\r\n              title=\"Delete filter\"\r\n            >\r\n              ├ù\r\n            </button>\r\n          </button>\r\n        ))}\r\n        {hasActiveFilters && (\r\n          <button\r\n            onClick={saveCurrentFilter}\r\n            style={{\r\n              padding: '0.35rem 0.75rem',\r\n              borderRadius: '6px',\r\n              fontSize: '0.8rem',\r\n              border: '1px solid var(--primary)',\r\n              background: 'var(--primary)',\r\n              color: 'white',\r\n              cursor: 'pointer',\r\n              fontWeight: '600',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.4rem'\r\n            }}\r\n          >\r\n            <span>≡ƒÆ╛</span>\r\n            Save Current\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {showSaveDialog && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          background: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 1000\r\n        }}\r\n          onClick={() => setShowSaveDialog(false)}\r\n        >\r\n          <div\r\n            style={{\r\n              background: 'white',\r\n              padding: '1.5rem',\r\n              borderRadius: '12px',\r\n              maxWidth: '400px',\r\n              width: '90%',\r\n              boxShadow: 'var(--shadow-lg)'\r\n            }}\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <h3 style={{ fontSize: '1.1rem', fontWeight: '700', marginBottom: '1rem' }}>Save Filter Preset</h3>\r\n            <input\r\n              type=\"text\"\r\n              value={filterName}\r\n              onChange={(e) => setFilterName(e.target.value)}\r\n              placeholder=\"Filter name (e.g., My Open Incidents)\"\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.6rem',\r\n                border: '1px solid var(--border)',\r\n                borderRadius: '8px',\r\n                fontSize: '0.9rem',\r\n                marginBottom: '1rem'\r\n              }}\r\n              autoFocus\r\n              onKeyDown={(e) => {\r\n                if (e.key === 'Enter' && filterName.trim()) {\r\n                  saveCurrentFilter();\r\n                }\r\n                if (e.key === 'Escape') {\r\n                  setShowSaveDialog(false);\r\n                }\r\n              }}\r\n            />\r\n            <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'flex-end' }}>\r\n              <button\r\n                onClick={() => {\r\n                  setShowSaveDialog(false);\r\n                  setFilterName('');\r\n                }}\r\n                style={{\r\n                  padding: '0.5rem 1rem',\r\n                  border: '1px solid var(--border)',\r\n                  borderRadius: '6px',\r\n                  background: 'white',\r\n                  cursor: 'pointer',\r\n                  fontSize: '0.9rem',\r\n                  fontWeight: '600'\r\n                }}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={saveCurrentFilter}\r\n                disabled={!filterName.trim()}\r\n                style={{\r\n                  padding: '0.5rem 1rem',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  background: filterName.trim() ? 'var(--primary)' : '#ccc',\r\n                  color: 'white',\r\n                  cursor: filterName.trim() ? 'pointer' : 'not-allowed',\r\n                  fontSize: '0.9rem',\r\n                  fontWeight: '600'\r\n                }}\r\n              >\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardServiceHealth.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardSkeleton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardStatusChart.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardTimeRange.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardTimelineView.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 55,
        "column": 10,
        "nodeType": "MemberExpression",
        "endLine": 55,
        "endColumn": 18
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 56,
        "column": 7,
        "nodeType": "MemberExpression",
        "endLine": 56,
        "endColumn": 15
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 58,
        "column": 5,
        "nodeType": "MemberExpression",
        "endLine": 58,
        "endColumn": 13
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useTimezone } from '@/contexts/TimezoneContext';\r\nimport { formatDateTime } from '@/lib/timezone';\r\n\r\ntype TimelineIncident = {\r\n  id: string;\r\n  title: string;\r\n  status: string;\r\n  urgency: string;\r\n  createdAt: Date;\r\n  serviceName: string;\r\n  assigneeName?: string;\r\n};\r\n\r\ntype DashboardTimelineViewProps = {\r\n  incidents: TimelineIncident[];\r\n  services: Array<{ id: string; name: string }>;\r\n};\r\n\r\nexport default function DashboardTimelineView({ incidents, services }: DashboardTimelineViewProps) {\r\n  const { userTimeZone } = useTimezone();\r\n  const [selectedService, setSelectedService] = useState<string>('all');\r\n  const [zoomLevel, setZoomLevel] = useState<'day' | 'week' | 'month'>('week');\r\n\r\n  // Group incidents by time period\r\n  const _now = new Date();\r\n  const getTimeKey = (date: Date) => {\r\n    const d = new Date(date);\r\n    if (zoomLevel === 'day') {\r\n      d.setHours(0, 0, 0, 0);\r\n      return d.toISOString();\r\n    } else if (zoomLevel === 'week') {\r\n      const dayOfWeek = d.getDay();\r\n      d.setDate(d.getDate() - dayOfWeek);\r\n      d.setHours(0, 0, 0, 0);\r\n      return d.toISOString();\r\n    } else {\r\n      d.setDate(1);\r\n      d.setHours(0, 0, 0, 0);\r\n      return d.toISOString();\r\n    }\r\n  };\r\n\r\n  const filteredIncidents = selectedService === 'all'\r\n    ? incidents\r\n    : incidents.filter(i => {\r\n        const service = services.find(s => s.name === i.serviceName);\r\n        return service?.id === selectedService;\r\n      });\r\n\r\n  const grouped = filteredIncidents.reduce((acc, incident) => {\r\n    const key = getTimeKey(incident.createdAt);\r\n    if (!acc[key]) {\r\n      acc[key] = [];\r\n    }\r\n    acc[key].push(incident);\r\n    return acc;\r\n  }, {} as Record<string, TimelineIncident[]>);\r\n\r\n  const sortedGroups = Object.entries(grouped)\r\n    .sort((a, b) => new Date(a[0]).getTime() - new Date(b[0]).getTime())\r\n    .reverse();\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'OPEN': return '#dc2626';\r\n      case 'ACKNOWLEDGED': return '#2563eb';\r\n      case 'RESOLVED': return '#16a34a';\r\n      default: return '#6b7280';\r\n    }\r\n  };\r\n\r\n  const getUrgencyColor = (urgency: string) => {\r\n    return urgency === 'HIGH' ? '#ef5350' : '#ffa726';\r\n  };\r\n\r\n  const formatTimeLabel = (dateStr: string) => {\r\n    const date = new Date(dateStr);\r\n    if (zoomLevel === 'day') {\r\n      return formatDateTime(date, userTimeZone, { format: 'date' });\r\n    } else if (zoomLevel === 'week') {\r\n      const endDate = new Date(date);\r\n      endDate.setDate(endDate.getDate() + 6);\r\n      return `${formatDateTime(date, userTimeZone, { format: 'short' }).split(',')[0]} - ${formatDateTime(endDate, userTimeZone, { format: 'short' }).split(',')[0]}`;\r\n    } else {\r\n      const formatter = new Intl.DateTimeFormat('en-US', {\r\n        month: 'long',\r\n        year: 'numeric',\r\n        timeZone: userTimeZone\r\n      });\r\n      return formatter.format(date);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"glass-panel\" style={{ background: 'white', padding: '1.5rem' }}>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n        <h3 style={{ fontSize: '1.1rem', fontWeight: '700' }}>Incident Timeline</h3>\r\n        <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\r\n          <select\r\n            value={selectedService}\r\n            onChange={(e) => setSelectedService(e.target.value)}\r\n            style={{\r\n              padding: '0.4rem 0.8rem',\r\n              border: '1px solid var(--border)',\r\n              borderRadius: '6px',\r\n              fontSize: '0.85rem',\r\n              background: 'white'\r\n            }}\r\n          >\r\n            <option value=\"all\">All Services</option>\r\n            {services.map(service => (\r\n              <option key={service.id} value={service.id}>{service.name}</option>\r\n            ))}\r\n          </select>\r\n          <div style={{ display: 'flex', gap: '0.25rem', border: '1px solid var(--border)', borderRadius: '6px', overflow: 'hidden' }}>\r\n            {(['day', 'week', 'month'] as const).map(level => (\r\n              <button\r\n                key={level}\r\n                onClick={() => setZoomLevel(level)}\r\n                style={{\r\n                  padding: '0.4rem 0.8rem',\r\n                  border: 'none',\r\n                  background: zoomLevel === level ? 'var(--primary)' : 'white',\r\n                  color: zoomLevel === level ? 'white' : 'var(--text-primary)',\r\n                  cursor: 'pointer',\r\n                  fontSize: '0.85rem',\r\n                  fontWeight: '600',\r\n                  textTransform: 'capitalize'\r\n                }}\r\n              >\r\n                {level}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ maxHeight: '600px', overflowY: 'auto' }}>\r\n        {sortedGroups.length > 0 ? (\r\n          <div style={{ position: 'relative', paddingLeft: '2rem' }}>\r\n            {sortedGroups.map(([timeKey, groupIncidents], index) => (\r\n              <div key={timeKey} style={{ marginBottom: '2rem', position: 'relative' }}>\r\n                {/* Timeline line */}\r\n                {index < sortedGroups.length - 1 && (\r\n                  <div\r\n                    style={{\r\n                      position: 'absolute',\r\n                      left: '0.5rem',\r\n                      top: '2rem',\r\n                      bottom: '-2rem',\r\n                      width: '2px',\r\n                      background: '#e5e7eb'\r\n                    }}\r\n                  />\r\n                )}\r\n                {/* Time marker */}\r\n                <div\r\n                  style={{\r\n                    position: 'absolute',\r\n                    left: 0,\r\n                    top: 0,\r\n                    width: '1rem',\r\n                    height: '1rem',\r\n                    borderRadius: '50%',\r\n                    background: 'var(--primary)',\r\n                    border: '2px solid white',\r\n                    zIndex: 2\r\n                  }}\r\n                />\r\n                {/* Time label */}\r\n                <div style={{ marginLeft: '1.5rem', marginBottom: '0.5rem' }}>\r\n                  <div style={{ fontSize: '0.9rem', fontWeight: '700', color: 'var(--text-primary)' }}>\r\n                    {formatTimeLabel(timeKey)}\r\n                  </div>\r\n                  <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>\r\n                    {groupIncidents.length} incident{groupIncidents.length !== 1 ? 's' : ''}\r\n                  </div>\r\n                </div>\r\n                {/* Incidents */}\r\n                <div style={{ marginLeft: '1.5rem', display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                  {groupIncidents.map(incident => (\r\n                    <div\r\n                      key={incident.id}\r\n                      style={{\r\n                        padding: '0.75rem',\r\n                        background: '#f9fafb',\r\n                        borderRadius: '6px',\r\n                        border: '1px solid #e5e7eb',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '0.75rem'\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          width: '8px',\r\n                          height: '8px',\r\n                          borderRadius: '50%',\r\n                          background: getStatusColor(incident.status),\r\n                          flexShrink: 0\r\n                        }}\r\n                      />\r\n                      <div style={{ flex: 1, minWidth: 0 }}>\r\n                        <div style={{ fontSize: '0.9rem', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '0.25rem' }}>\r\n                          {incident.title}\r\n                        </div>\r\n                        <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)', display: 'flex', gap: '0.75rem', flexWrap: 'wrap' }}>\r\n                          <span>{incident.serviceName}</span>\r\n                          {incident.assigneeName && <span>ΓÇó {incident.assigneeName}</span>}\r\n                          <span>ΓÇó {incident.status}</span>\r\n                          <span\r\n                            style={{\r\n                              color: getUrgencyColor(incident.urgency),\r\n                              fontWeight: '600'\r\n                            }}\r\n                          >\r\n                            {incident.urgency} urgency\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>\r\n                        {formatDateTime(incident.createdAt, userTimeZone, { format: 'time' })}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div style={{ padding: '2rem', textAlign: 'center', color: 'var(--text-muted)', fontSize: '0.85rem' }}>\r\n            No incidents in this period\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardUrgencyDistribution.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardWidgetReorder.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 21,
        "column": 13,
        "nodeType": "MemberExpression",
        "endLine": 21,
        "endColumn": 29
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Function Call Object Injection Sink",
        "line": 22,
        "column": 20,
        "nodeType": "MemberExpression",
        "endLine": 22,
        "endColumn": 36
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 59,
        "column": 28,
        "nodeType": "MemberExpression",
        "endLine": 59,
        "endColumn": 51
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 60,
        "column": 28,
        "nodeType": "MemberExpression",
        "endLine": 60,
        "endColumn": 44
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 62,
        "column": 7,
        "nodeType": "MemberExpression",
        "endLine": 62,
        "endColumn": 30
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 63,
        "column": 7,
        "nodeType": "MemberExpression",
        "endLine": 63,
        "endColumn": 23
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardWidgetReorder.tsx:22:11\n  20 |         const orders = JSON.parse(saved);\n  21 |         if (orders[widgetId] !== undefined) {\n> 22 |           setOrder(orders[widgetId]); // eslint-disable-line react-hooks/set-state-in-effect\n     |           ^^^^^^^^ Avoid calling setState() directly within an effect\n  23 |         }\n  24 |       } catch (e) {\n  25 |         if (e instanceof Error) {",
        "line": 22,
        "column": 11,
        "nodeType": null,
        "endLine": 22,
        "endColumn": 19,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 6,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { logger } from '@/lib/logger';\r\nimport { useState, useEffect } from 'react';\r\n\r\ntype WidgetReorderProps = {\r\n  children: React.ReactNode;\r\n  widgetId: string;\r\n  defaultOrder?: number;\r\n};\r\n\r\nexport default function DashboardWidgetReorder({ children, widgetId, defaultOrder = 0 }: WidgetReorderProps) {\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [_order, setOrder] = useState(defaultOrder);\r\n\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem('dashboard-widget-order');\r\n    if (saved) {\r\n      try {\r\n        const orders = JSON.parse(saved);\r\n        if (orders[widgetId] !== undefined) {\r\n          setOrder(orders[widgetId]); // eslint-disable-line react-hooks/set-state-in-effect\r\n        }\r\n      } catch (e) {\r\n        if (e instanceof Error) {\r\n          logger.error('Failed to load widget order', { error: e.message });\r\n        } else {\r\n          logger.error('Failed to load widget order', { error: String(e) });\r\n        }\r\n      }\r\n    }\r\n  }, [widgetId]);\r\n\r\n  const handleDragStart = (e: React.DragEvent) => {\r\n    setIsDragging(true);\r\n    e.dataTransfer.effectAllowed = 'move';\r\n    e.dataTransfer.setData('text/plain', widgetId);\r\n    (e.target as HTMLElement).style.opacity = '0.5';\r\n  };\r\n\r\n  const handleDragEnd = (e: React.DragEvent) => {\r\n    setIsDragging(false);\r\n    (e.target as HTMLElement).style.opacity = '1';\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.dataTransfer.dropEffect = 'move';\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    const draggedWidgetId = e.dataTransfer.getData('text/plain');\r\n\r\n    if (draggedWidgetId !== widgetId) {\r\n      // Swap orders\r\n      const saved = localStorage.getItem('dashboard-widget-order');\r\n      const orders = saved ? JSON.parse(saved) : {};\r\n      const draggedOrder = orders[draggedWidgetId] ?? defaultOrder;\r\n      const currentOrder = orders[widgetId] ?? defaultOrder;\r\n\r\n      orders[draggedWidgetId] = currentOrder;\r\n      orders[widgetId] = draggedOrder;\r\n\r\n      localStorage.setItem('dashboard-widget-order', JSON.stringify(orders));\r\n\r\n      // Trigger re-render by updating state\r\n      setOrder(draggedOrder);\r\n\r\n      // Dispatch custom event to trigger parent re-render\r\n      window.dispatchEvent(new CustomEvent('widget-reordered'));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      draggable\r\n      onDragStart={handleDragStart}\r\n      onDragEnd={handleDragEnd}\r\n      onDragOver={handleDragOver}\r\n      onDrop={handleDrop}\r\n      style={{\r\n        cursor: isDragging ? 'grabbing' : 'grab',\r\n        opacity: isDragging ? 0.5 : 1,\r\n        position: 'relative'\r\n      }}\r\n      title=\"Drag to reorder\"\r\n    >\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: '0.5rem',\r\n          right: '0.5rem',\r\n          background: 'rgba(0, 0, 0, 0.05)',\r\n          borderRadius: '4px',\r\n          padding: '0.25rem 0.5rem',\r\n          fontSize: '0.7rem',\r\n          color: 'var(--text-muted)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: '0.25rem',\r\n          zIndex: 10,\r\n          pointerEvents: 'none'\r\n        }}\r\n      >\r\n        <span>Γï«Γï«</span>\r\n        <span>Drag</span>\r\n      </div>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardWidgetToggle.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DashboardWidgetToggle.tsx:23:7\n  21 |     const saved = localStorage.getItem(`widget-${widgetId}`);\n  22 |     if (saved !== null) {\n> 23 |       setIsVisible(saved === 'true'); // eslint-disable-line react-hooks/set-state-in-effect\n     |       ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  24 |     }\n  25 |   }, [widgetId]);\n  26 |",
        "line": 23,
        "column": 7,
        "nodeType": null,
        "endLine": 23,
        "endColumn": 19,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\DeleteUserButton.tsx",
    "messages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 30,
        "column": 14,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 30,
        "endColumn": 41
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport type { CSSProperties, FormEvent } from 'react';\r\n\r\ntype Props = {\r\n    action: (formData: FormData) => void;\r\n    label?: string;\r\n    style?: CSSProperties;\r\n    className?: string;\r\n    confirmText?: string;\r\n    disabled?: boolean;\r\n    title?: string;\r\n};\r\n\r\nexport default function DeleteUserButton({\r\n    action,\r\n    label = 'Delete',\r\n    style,\r\n    className,\r\n    confirmText = 'Delete this user? This will remove memberships, shifts, notes, notifications, watchers, and unassign incidents.',\r\n    disabled = false,\r\n    title\r\n}: Props) {\r\n    const handleSubmit = (event: FormEvent<HTMLFormElement>) => {\r\n        if (disabled) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (!window.confirm(confirmText)) {\r\n            event.preventDefault();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form action={action} onSubmit={handleSubmit}>\r\n            <button\r\n                type=\"submit\"\r\n                className={`delete-user-button ${className ?? ''}`.trim()}\r\n                style={style}\r\n                disabled={disabled}\r\n                title={title}\r\n            >\r\n                {label}\r\n            </button>\r\n        </form>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\GenerateResetLinkButton.tsx",
    "messages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 19,
        "column": 14,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 19,
        "endColumn": 114
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState } from 'react';\r\nimport _Spinner from '@/components/ui/Spinner';\r\n\r\ntype Props = {\r\n    userId: string;\r\n    userName: string;\r\n    className?: string;\r\n};\r\n\r\nexport default function GenerateResetLinkButton({ userId, userName, className }: Props) {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [resetLink, setResetLink] = useState<string | null>(null);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    const handleGenerate = async () => {\r\n        if (!confirm(`Generate a password reset link for ${userName}? This will invalidate any existing tokens.`)) {\r\n            return;\r\n        }\r\n\r\n        setIsLoading(true);\r\n        setError(null);\r\n        setResetLink(null);\r\n\r\n        try {\r\n            const res = await fetch('/api/admin/generate-reset-link', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ userId })\r\n            });\r\n            const data = await res.json();\r\n\r\n            if (res.ok && data.link) {\r\n                setResetLink(data.link);\r\n            } else {\r\n                setError(data.error || 'Failed to generate link');\r\n            }\r\n        } catch (_err) {\r\n            setError('An error occurred');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const copyToClipboard = () => {\r\n        if (resetLink) {\r\n            navigator.clipboard.writeText(resetLink);\r\n            setCopied(true);\r\n            setTimeout(() => setCopied(false), 2000);\r\n        }\r\n    };\r\n\r\n    if (resetLink) {\r\n        return (\r\n            <div style={{ position: 'relative', display: 'inline-block' }}>\r\n                <button\r\n                    onClick={copyToClipboard}\r\n                    className=\"glass-button\"\r\n                    style={{\r\n                        padding: '0.35rem 0.7rem',\r\n                        fontSize: '0.7rem',\r\n                        background: '#ecfdf5',\r\n                        color: '#065f46',\r\n                        border: '1px solid #a7f3d0',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '0.3rem'\r\n                    }}\r\n                    title=\"Click to copy reset link\"\r\n                >\r\n                    {copied ? 'Copied!' : 'Copy Link'}\r\n                    <span onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        setResetLink(null);\r\n                    }} style={{ marginLeft: '0.5rem', cursor: 'pointer', fontWeight: 'bold' }}>├ù</span>\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <button\r\n                type=\"button\"\r\n                onClick={handleGenerate}\r\n                className={`glass-button ${className || ''}`}\r\n                style={{\r\n                    padding: '0.35rem 0.7rem',\r\n                    fontSize: '0.7rem',\r\n                    background: '#f0fdf4', // Light green hint\r\n                    color: '#15803d',\r\n                    border: '1px solid #dcfce7'\r\n                }}\r\n                disabled={isLoading}\r\n                title=\"Generate Password Reset Link (Manual Fallback)\"\r\n            >\r\n                {isLoading ? '...' : 'Reset Pwd'}\r\n            </button>\r\n            {error && (\r\n                <span style={{ fontSize: '0.7rem', color: '#dc2626', marginLeft: '0.5rem' }} title={error}>!</span>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\GlobalKeyboardHandler.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\GlobalKeyboardHandlerWrapper.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\HoverButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\HoverSurface.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\IncidentCustomFields.tsx",
    "messages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 95,
        "column": 23,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 95,
        "endColumn": 61
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 17,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 17,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [444, 447], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [444, 447], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 31,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 31,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [856, 859], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [856, 859], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { logger } from '@/lib/logger';\r\nimport { Card } from '@/components/ui';\r\nimport CustomFieldInput from './CustomFieldInput';\r\n\r\ntype CustomFieldValue = {\r\n  id: string;\r\n  value: string | null;\r\n  customField: {\r\n    id: string;\r\n    name: string;\r\n    key: string;\r\n    type: 'TEXT' | 'NUMBER' | 'DATE' | 'SELECT' | 'BOOLEAN' | 'URL' | 'EMAIL';\r\n    required: boolean;\r\n    defaultValue?: string | null;\r\n    options?: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  };\r\n};\r\n\r\ntype IncidentCustomFieldsProps = {\r\n  incidentId: string;\r\n  customFieldValues: CustomFieldValue[];\r\n  allCustomFields: Array<{\r\n    id: string;\r\n    name: string;\r\n    key: string;\r\n    type: 'TEXT' | 'NUMBER' | 'DATE' | 'SELECT' | 'BOOLEAN' | 'URL' | 'EMAIL';\r\n    required: boolean;\r\n    defaultValue?: string | null;\r\n    options?: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  }>;\r\n  canManage: boolean;\r\n};\r\n\r\nexport default function IncidentCustomFields({\r\n  incidentId,\r\n  customFieldValues,\r\n  allCustomFields,\r\n  canManage,\r\n}: IncidentCustomFieldsProps) {\r\n  if (allCustomFields.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  // Create a map of existing values\r\n  const valueMap = new Map(customFieldValues.map(v => [v.customField.id, v]));\r\n\r\n  // Get all fields (including those without values)\r\n  const fieldsWithValues = allCustomFields.map(field => ({\r\n    field,\r\n    value: valueMap.get(field.id)?.value || null,\r\n    valueId: valueMap.get(field.id)?.id || null,\r\n  }));\r\n\r\n  return (\r\n    <Card>\r\n      <div style={{ padding: 'var(--spacing-5)' }}>\r\n        <h3\r\n          style={{\r\n            fontSize: 'var(--font-size-lg)',\r\n            fontWeight: 'var(--font-weight-semibold)',\r\n            marginBottom: 'var(--spacing-4)',\r\n          }}\r\n        >\r\n          Custom Fields\r\n        </h3>\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-4)' }}>\r\n          {fieldsWithValues.map(({ field, value }) => (\r\n            <div key={field.id}>\r\n              {canManage ? (\r\n                <CustomFieldInput\r\n                  field={field}\r\n                  value={value || ''}\r\n                  onChange={async newValue => {\r\n                    try {\r\n                      const response = await fetch(`/api/incidents/${incidentId}/custom-fields`, {\r\n                        method: 'POST',\r\n                        headers: { 'Content-Type': 'application/json' },\r\n                        body: JSON.stringify({\r\n                          customFieldId: field.id,\r\n                          value: newValue,\r\n                        }),\r\n                      });\r\n                      if (!response.ok) {\r\n                        throw new Error('Failed to update custom field');\r\n                      }\r\n                      window.location.reload();\r\n                    } catch (error) {\r\n                      if (error instanceof Error) {\r\n                        logger.error('Failed to update custom field', { error: error.message });\r\n                      } else {\r\n                        logger.error('Failed to update custom field', { error: String(error) });\r\n                      }\r\n                      alert('Failed to update custom field');\r\n                    }\r\n                  }}\r\n                />\r\n              ) : (\r\n                <div>\r\n                  <label\r\n                    style={{\r\n                      display: 'block',\r\n                      marginBottom: 'var(--spacing-2)',\r\n                      fontSize: 'var(--font-size-sm)',\r\n                      fontWeight: 'var(--font-weight-medium)',\r\n                      color: 'var(--text-muted)',\r\n                    }}\r\n                  >\r\n                    {field.name}\r\n                  </label>\r\n                  <div\r\n                    style={{\r\n                      padding: 'var(--spacing-3)',\r\n                      background: 'var(--color-neutral-50)',\r\n                      borderRadius: 'var(--radius-md)',\r\n                      border: '1px solid var(--color-neutral-200)',\r\n                      color: value ? 'var(--text-primary)' : 'var(--text-muted)',\r\n                      fontSize: 'var(--font-size-base)',\r\n                    }}\r\n                  >\r\n                    {value || <span style={{ fontStyle: 'italic' }}>Not set</span>}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\IncidentTable.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 90,
        "column": 9,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 90,
        "endColumn": 65,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 102,
        "column": 9,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 102,
        "endColumn": 61,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\IncidentTableMobile.tsx",
    "messages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 77,
        "column": 17,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 77,
        "endColumn": 73
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 88,
        "column": 17,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 88,
        "endColumn": 69
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useTransition } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter, useSearchParams, usePathname } from 'next/navigation';\r\nimport { bulkAcknowledge, bulkResolve } from '@/app/(app)/incidents/bulk-actions';\r\nimport { useTimezone } from '@/contexts/TimezoneContext';\r\nimport { formatDateTime } from '@/lib/timezone';\r\n\r\ntype Incident = {\r\n    id: string;\r\n    title: string;\r\n    status: string;\r\n    urgency?: string;\r\n    service: { name: string };\r\n    assignee: { name: string } | null;\r\n    createdAt: Date;\r\n};\r\n\r\ntype IncidentTableMobileProps = {\r\n    incidents: Incident[];\r\n    sortBy?: string;\r\n    sortOrder?: string;\r\n};\r\n\r\nexport default function IncidentTableMobile({ incidents, sortBy = 'createdAt', sortOrder = 'desc' }: IncidentTableMobileProps) {\r\n    const { userTimeZone } = useTimezone();\r\n    const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set());\r\n    const [isPending, startTransition] = useTransition();\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const pathname = usePathname();\r\n\r\n    const _handleSortClick = (newSortBy: string) => {\r\n        const params = new URLSearchParams(searchParams.toString());\r\n        \r\n        if (sortBy === newSortBy && sortOrder === 'asc') {\r\n            params.set('sortBy', newSortBy);\r\n            params.set('sortOrder', 'desc');\r\n        } else if (sortBy === newSortBy && sortOrder === 'desc') {\r\n            params.delete('sortBy');\r\n            params.delete('sortOrder');\r\n        } else {\r\n            params.set('sortBy', newSortBy);\r\n            params.set('sortOrder', 'asc');\r\n        }\r\n        params.delete('page');\r\n        const queryString = params.toString();\r\n        const newUrl = queryString ? `${pathname}?${queryString}` : pathname || '/';\r\n        router.push(newUrl);\r\n    };\r\n\r\n    const toggleIncident = (id: string) => {\r\n        const newSelected = new Set(selectedIds);\r\n        if (newSelected.has(id)) {\r\n            newSelected.delete(id);\r\n        } else {\r\n            newSelected.add(id);\r\n        }\r\n        setSelectedIds(newSelected);\r\n    };\r\n\r\n    const _toggleAll = () => {\r\n        if (selectedIds.size === incidents.length) {\r\n            setSelectedIds(new Set());\r\n        } else {\r\n            setSelectedIds(new Set(incidents.map(i => i.id)));\r\n        }\r\n    };\r\n\r\n    const handleBulkAcknowledge = () => {\r\n        startTransition(async () => {\r\n            const result = await bulkAcknowledge(Array.from(selectedIds));\r\n            if (result.success) {\r\n                setSelectedIds(new Set());\r\n            } else {\r\n                alert(result.error || 'Failed to acknowledge incidents');\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleBulkResolve = () => {\r\n        startTransition(async () => {\r\n            const result = await bulkResolve(Array.from(selectedIds));\r\n            if (result.success) {\r\n                setSelectedIds(new Set());\r\n            } else {\r\n                alert(result.error || 'Failed to resolve incidents');\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"glass-panel\" style={{ background: 'white', overflow: 'hidden' }}>\r\n            {/* Bulk Actions Bar */}\r\n            {selectedIds.size > 0 && (\r\n                <div style={{\r\n                    padding: '1rem',\r\n                    background: 'var(--gradient-primary)',\r\n                    color: 'white',\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    flexWrap: 'wrap',\r\n                    gap: '0.5rem'\r\n                }}>\r\n                    <span style={{ fontWeight: '600' }}>\r\n                        {selectedIds.size} incident{selectedIds.size !== 1 ? 's' : ''} selected\r\n                    </span>\r\n                    <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\r\n                        <button\r\n                            onClick={handleBulkAcknowledge}\r\n                            disabled={isPending}\r\n                            style={{\r\n                                padding: '0.5rem 1rem',\r\n                                background: 'rgba(255,255,255,0.2)',\r\n                                border: '1px solid rgba(255,255,255,0.3)',\r\n                                borderRadius: '6px',\r\n                                color: 'white',\r\n                                fontWeight: '500',\r\n                                cursor: isPending ? 'not-allowed' : 'pointer',\r\n                                opacity: isPending ? 0.6 : 1,\r\n                                fontSize: '0.85rem'\r\n                            }}\r\n                        >\r\n                            Γ£ô Acknowledge\r\n                        </button>\r\n                        <button\r\n                            onClick={handleBulkResolve}\r\n                            disabled={isPending}\r\n                            style={{\r\n                                padding: '0.5rem 1rem',\r\n                                background: 'rgba(255,255,255,0.9)',\r\n                                border: 'none',\r\n                                borderRadius: '6px',\r\n                                color: 'var(--primary)',\r\n                                fontWeight: '600',\r\n                                cursor: isPending ? 'not-allowed' : 'pointer',\r\n                                opacity: isPending ? 0.6 : 1,\r\n                                fontSize: '0.85rem'\r\n                            }}\r\n                        >\r\n                            Γ£ô Resolve\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Mobile Card View */}\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem', padding: '1rem' }}>\r\n                {incidents.map((incident) => (\r\n                    <div\r\n                        key={incident.id}\r\n                        style={{\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '8px',\r\n                            padding: '1rem',\r\n                            background: 'white',\r\n                            boxShadow: 'var(--shadow-sm)'\r\n                        }}\r\n                    >\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '0.75rem' }}>\r\n                            <div style={{ flex: 1 }}>\r\n                                <Link \r\n                                    href={`/incidents/${incident.id}`} \r\n                                    style={{ \r\n                                        fontWeight: '600', \r\n                                        color: 'var(--primary)', \r\n                                        textDecoration: 'none',\r\n                                        fontSize: '0.95rem',\r\n                                        display: 'block',\r\n                                        marginBottom: '0.25rem'\r\n                                    }}\r\n                                >\r\n                                    {incident.title}\r\n                                </Link>\r\n                                <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>#{incident.id.slice(-5).toUpperCase()}</div>\r\n                            </div>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={selectedIds.has(incident.id)}\r\n                                onChange={() => toggleIncident(incident.id)}\r\n                                style={{ cursor: 'pointer', width: '18px', height: '18px', marginLeft: '0.5rem' }}\r\n                            />\r\n                        </div>\r\n                        \r\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                            <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', alignItems: 'center' }}>\r\n                                <span style={{\r\n                                    padding: '0.25rem 0.75rem',\r\n                                    borderRadius: '4px',\r\n                                    fontSize: '0.75rem',\r\n                                    fontWeight: '600',\r\n                                    background: incident.status === 'RESOLVED' ? '#e6f4ea' : (incident.status === 'ACKNOWLEDGED' ? '#fff8e1' : '#fce8e8'),\r\n                                    color: incident.status === 'RESOLVED' ? 'var(--success)' : (incident.status === 'ACKNOWLEDGED' ? 'var(--warning)' : 'var(--danger)')\r\n                                }}>\r\n                                    {incident.status}\r\n                                </span>\r\n                                {incident.urgency && (\r\n                                    <span style={{\r\n                                        padding: '0.2rem 0.6rem',\r\n                                        borderRadius: '999px',\r\n                                        fontSize: '0.7rem',\r\n                                        fontWeight: '700',\r\n                                        textTransform: 'uppercase',\r\n                                        background: incident.urgency === 'HIGH' ? '#fee2e2' : '#fef3c7',\r\n                                        color: incident.urgency === 'HIGH' ? '#b91c1c' : '#92400e',\r\n                                        display: 'inline-block'\r\n                                    }}>\r\n                                        {incident.urgency}\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                            \r\n                            <div style={{ fontSize: '0.85rem', color: 'var(--text-secondary)' }}>\r\n                                <div style={{ marginBottom: '0.25rem' }}>\r\n                                    <strong>Service:</strong> {incident.service.name}\r\n                                </div>\r\n                                <div style={{ marginBottom: '0.25rem' }}>\r\n                                    <strong>Assignee:</strong> {incident.assignee ? incident.assignee.name : 'Unassigned'}\r\n                                </div>\r\n                                <div>\r\n                                    <strong>Created:</strong> {formatDateTime(incident.createdAt, userTimeZone, { format: 'datetime' })}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n                \r\n                {incidents.length === 0 && (\r\n                    <div style={{ padding: '3rem', textAlign: 'center' }}>\r\n                        <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>≡ƒôè</div>\r\n                        <div>\r\n                            <div style={{ fontSize: '1.1rem', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '0.5rem' }}>\r\n                                No incidents found\r\n                            </div>\r\n                            <div style={{ fontSize: '0.9rem', color: 'var(--text-muted)' }}>\r\n                                No incidents match your current filters. Try adjusting your search criteria.\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\InviteLinkButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\KeyboardShortcuts.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\LayerCard.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 313,
        "column": 39,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [14445, 14575],
              "text": "\r\n                            ΓÜá∩╕Å You don&apos;t have access to edit layers. Admin or Responder role required.\r\n                        "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [14445, 14575],
              "text": "\r\n                            ΓÜá∩╕Å You don&lsquo;t have access to edit layers. Admin or Responder role required.\r\n                        "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [14445, 14575],
              "text": "\r\n                            ΓÜá∩╕Å You don&#39;t have access to edit layers. Admin or Responder role required.\r\n                        "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [14445, 14575],
              "text": "\r\n                            ΓÜá∩╕Å You don&rsquo;t have access to edit layers. Admin or Responder role required.\r\n                        "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useTransition, useState, useMemo, useCallback } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useToast } from './ToastProvider';\r\nimport ConfirmDialog from './ConfirmDialog';\r\nimport { DateTimeInput } from '@/components/ui';\r\nimport { formatDateForInput } from '@/lib/timezone';\r\n\r\ntype LayerCardProps = {\r\n    layer: {\r\n        id: string;\r\n        name: string;\r\n        start: Date;\r\n        end: Date | null;\r\n        rotationLengthHours: number;\r\n        users: Array<{\r\n            userId: string;\r\n            position: number;\r\n            user: {\r\n                name: string;\r\n            };\r\n        }>;\r\n    };\r\n    scheduleId: string;\r\n    timeZone: string;\r\n    users: Array<{ id: string; name: string }>;\r\n    canManageSchedules: boolean;\r\n    updateLayer: (layerId: string, formData: FormData) => Promise<{ error?: string } | undefined>;\r\n    deleteLayer: (scheduleId: string, layerId: string) => Promise<{ error?: string } | undefined>;\r\n    addLayerUser: (layerId: string, formData: FormData) => Promise<{ error?: string } | undefined>;\r\n    moveLayerUser: (layerId: string, userId: string, direction: 'up' | 'down') => Promise<{ error?: string } | undefined>;\r\n    removeLayerUser: (layerId: string, userId: string) => Promise<{ error?: string } | undefined>;\r\n};\r\n\r\nfunction formatShortTime(date: Date, timeZone: string): string {\r\n    return new Intl.DateTimeFormat('en-US', {\r\n        hour: 'numeric',\r\n        minute: '2-digit',\r\n        hour12: false,\r\n        timeZone: timeZone\r\n    }).format(date);\r\n}\r\n\r\nexport default function LayerCard({\r\n    layer,\r\n    scheduleId,\r\n    timeZone,\r\n    users,\r\n    canManageSchedules,\r\n    updateLayer,\r\n    deleteLayer,\r\n    addLayerUser,\r\n    moveLayerUser,\r\n    removeLayerUser\r\n}: LayerCardProps) {\r\n    const router = useRouter();\r\n    const { showToast } = useToast();\r\n    const [isPending, startTransition] = useTransition();\r\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n    const [isUpdating, setIsUpdating] = useState(false);\r\n\r\n    // Memoize event handlers to prevent unnecessary re-renders\r\n    const handleDelete = useCallback(async () => {\r\n        setShowDeleteConfirm(false);\r\n        startTransition(async () => {\r\n            const result = await deleteLayer(scheduleId, layer.id);\r\n            if (result?.error) {\r\n                showToast(result.error, 'error');\r\n            } else {\r\n                showToast('Layer deleted successfully', 'success');\r\n                router.refresh();\r\n            }\r\n        });\r\n    }, [scheduleId, layer.id, deleteLayer, showToast, router, startTransition]);\r\n\r\n    const handleUpdate = useCallback(async (formData: FormData) => {\r\n        setIsUpdating(true);\r\n        startTransition(async () => {\r\n            const result = await updateLayer(layer.id, formData);\r\n            if (result?.error) {\r\n                showToast(result.error, 'error');\r\n            } else {\r\n                showToast('Layer updated successfully', 'success');\r\n                router.refresh();\r\n            }\r\n            setIsUpdating(false);\r\n        });\r\n    }, [layer.id, updateLayer, showToast, router, startTransition]);\r\n\r\n    const handleAddUser = useCallback(async (formData: FormData) => {\r\n        startTransition(async () => {\r\n            const result = await addLayerUser(layer.id, formData);\r\n            if (result?.error) {\r\n                showToast(result.error, 'error');\r\n            } else {\r\n                const userId = formData.get('userId') as string;\r\n                const userName = users.find(u => u.id === userId)?.name || 'User';\r\n                showToast(`${userName} added to layer`, 'success');\r\n                router.refresh();\r\n            }\r\n        });\r\n    }, [layer.id, addLayerUser, users, showToast, router, startTransition]);\r\n\r\n    const handleMoveUser = useCallback(async (userId: string, direction: 'up' | 'down') => {\r\n        startTransition(async () => {\r\n            const result = await moveLayerUser(layer.id, userId, direction);\r\n            if (result?.error) {\r\n                showToast(result.error, 'error');\r\n            } else {\r\n                showToast('User position updated', 'success');\r\n                router.refresh();\r\n            }\r\n        });\r\n    }, [layer.id, moveLayerUser, showToast, router, startTransition]);\r\n\r\n    const handleRemoveUser = useCallback(async (userId: string) => {\r\n        startTransition(async () => {\r\n            const result = await removeLayerUser(layer.id, userId);\r\n            if (result?.error) {\r\n                showToast(result.error, 'error');\r\n            } else {\r\n                const userName = layer.users.find(u => u.userId === userId)?.user.name || 'User';\r\n                showToast(`${userName} removed from layer`, 'success');\r\n                router.refresh();\r\n            }\r\n        });\r\n    }, [layer.id, layer.users, removeLayerUser, showToast, router, startTransition]);\r\n\r\n    // Memoize availableUsers calculation to avoid recalculation on every render\r\n    const availableUsers = useMemo(() => \r\n        users.filter(user => \r\n            !layer.users.some(layerUser => layerUser.userId === user.id)\r\n        ), [users, layer.users]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"glass-panel\" style={{\r\n                padding: '1.5rem',\r\n                background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n                border: '1px solid #e2e8f0',\r\n                borderRadius: '12px',\r\n                marginBottom: '1rem'\r\n            }}>\r\n                <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'flex-start',\r\n                    marginBottom: '1rem',\r\n                    paddingBottom: '1rem',\r\n                    borderBottom: '1px solid #e2e8f0'\r\n                }}>\r\n                    <div>\r\n                        <div style={{ \r\n                            display: 'flex', \r\n                            alignItems: 'center', \r\n                            gap: '0.5rem',\r\n                            marginBottom: '0.25rem'\r\n                        }}>\r\n                            <div style={{ fontSize: '1.1rem', fontWeight: '600', color: 'var(--text-primary)' }}>\r\n                                {layer.name}\r\n                            </div>\r\n                            <span \r\n                                title=\"A layer defines a rotation pattern. Multiple layers can run simultaneously to provide different coverage (e.g., day shift and night shift).\"\r\n                                style={{\r\n                                    width: '18px',\r\n                                    height: '18px',\r\n                                    borderRadius: '50%',\r\n                                    background: '#e0f2fe',\r\n                                    color: '#0c4a6e',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                    fontSize: '0.7rem',\r\n                                    fontWeight: '600',\r\n                                    cursor: 'help',\r\n                                    border: '1px solid #bae6fd'\r\n                                }}\r\n                            >\r\n                                ?\r\n                            </span>\r\n                        </div>\r\n                        <div style={{ fontSize: '0.85rem', color: 'var(--text-muted)' }}>\r\n                            {formatShortTime(new Date(layer.start), timeZone)} {timeZone} ┬╖ {layer.rotationLengthHours}h rotation\r\n                            {layer.end ? ` ┬╖ ends ${formatShortTime(new Date(layer.end), timeZone)}` : ''}\r\n                        </div>\r\n                    </div>\r\n                    {canManageSchedules ? (\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => setShowDeleteConfirm(true)}\r\n                            style={{\r\n                                padding: '0.4rem 0.75rem',\r\n                                background: 'linear-gradient(180deg, #fee2e2 0%, #fecaca 100%)',\r\n                                color: '#b91c1c',\r\n                                border: '1px solid #fecaca',\r\n                                borderRadius: '8px',\r\n                                fontSize: '0.85rem',\r\n                                fontWeight: '600',\r\n                                cursor: 'pointer'\r\n                            }}\r\n                        >\r\n                            Remove\r\n                        </button>\r\n                    ) : (\r\n                        <button\r\n                            type=\"button\"\r\n                            disabled\r\n                            style={{\r\n                                padding: '0.4rem 0.75rem',\r\n                                background: '#f3f4f6',\r\n                                color: '#9ca3af',\r\n                                border: 'none',\r\n                                borderRadius: '8px',\r\n                                fontSize: '0.85rem',\r\n                                opacity: 0.5,\r\n                                cursor: 'not-allowed'\r\n                            }}\r\n                            title=\"Admin or Responder role required\"\r\n                        >\r\n                            Remove\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                {canManageSchedules ? (\r\n                    <form action={handleUpdate} style={{ marginBottom: '1.5rem', display: 'grid', gap: '0.75rem' }}>\r\n                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.75rem' }}>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                    Name\r\n                                </label>\r\n                                <input\r\n                                    name=\"name\"\r\n                                    defaultValue={layer.name}\r\n                                    required\r\n                                    disabled={isUpdating}\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.6rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '8px',\r\n                                        fontSize: '0.9rem',\r\n                                        background: 'white'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                    Rotation (hours)\r\n                                </label>\r\n                                <input\r\n                                    name=\"rotationLengthHours\"\r\n                                    type=\"number\"\r\n                                    min=\"1\"\r\n                                    defaultValue={layer.rotationLengthHours}\r\n                                    required\r\n                                    disabled={isUpdating}\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.6rem',\r\n                                        border: '1px solid var(--border)',\r\n                                        borderRadius: '8px',\r\n                                        fontSize: '0.9rem',\r\n                                        background: 'white'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.75rem' }}>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                    Start\r\n                                </label>\r\n                                <DateTimeInput\r\n                                    name=\"start\"\r\n                                    value={formatDateForInput(new Date(layer.start), timeZone)}\r\n                                    required\r\n                                    fullWidth\r\n                                    disabled={isUpdating}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                    End (optional)\r\n                                </label>\r\n                                <DateTimeInput\r\n                                    name=\"end\"\r\n                                    value={layer.end ? formatDateForInput(new Date(layer.end), timeZone) : ''}\r\n                                    fullWidth\r\n                                    disabled={isUpdating}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={isUpdating}\r\n                            className=\"glass-button\"\r\n                            style={{ width: '100%' }}\r\n                        >\r\n                            {isUpdating ? 'Saving...' : 'Save Changes'}\r\n                        </button>\r\n                    </form>\r\n                ) : (\r\n                    <div style={{\r\n                        marginBottom: '1.5rem',\r\n                        padding: '1rem',\r\n                        background: '#f9fafb',\r\n                        borderRadius: '8px',\r\n                        opacity: 0.7\r\n                    }}>\r\n                        <p style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginBottom: '0.75rem', fontStyle: 'italic' }}>\r\n                            ΓÜá∩╕Å You don't have access to edit layers. Admin or Responder role required.\r\n                        </p>\r\n                    </div>\r\n                )}\r\n\r\n                <div style={{ marginBottom: '1rem' }}>\r\n                    <h4 style={{ fontSize: '0.95rem', fontWeight: '600', marginBottom: '0.75rem', color: 'var(--text-primary)' }}>\r\n                        Responders ({layer.users.length})\r\n                    </h4>\r\n                    {layer.users.length === 0 ? (\r\n                        <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', padding: '1rem', textAlign: 'center', background: '#f8fafc', borderRadius: '8px' }}>\r\n                            No responders in this layer.\r\n                        </p>\r\n                    ) : (\r\n                        <div style={{ display: 'grid', gap: '0.5rem' }}>\r\n                            {layer.users.map((layerUser, index) => (\r\n                                <div\r\n                                    key={layerUser.userId}\r\n                                    style={{\r\n                                        display: 'flex',\r\n                                        justifyContent: 'space-between',\r\n                                        alignItems: 'center',\r\n                                        padding: '0.75rem',\r\n                                        background: '#f8fafc',\r\n                                        borderRadius: '8px',\r\n                                        border: '1px solid #e2e8f0'\r\n                                    }}\r\n                                >\r\n                                    <span style={{ fontWeight: '500', fontSize: '0.9rem' }}>{layerUser.user.name}</span>\r\n                                    <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n                                        {canManageSchedules ? (\r\n                                            <>\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    onClick={() => handleMoveUser(layerUser.userId, 'up')}\r\n                                                    disabled={index === 0 || isPending}\r\n                                                    className=\"glass-button\"\r\n                                                    style={{\r\n                                                        padding: '0.3rem 0.6rem',\r\n                                                        fontSize: '0.75rem',\r\n                                                        opacity: index === 0 ? 0.5 : 1\r\n                                                    }}\r\n                                                >\r\n                                                    Γåæ\r\n                                                </button>\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    onClick={() => handleMoveUser(layerUser.userId, 'down')}\r\n                                                    disabled={index === layer.users.length - 1 || isPending}\r\n                                                    className=\"glass-button\"\r\n                                                    style={{\r\n                                                        padding: '0.3rem 0.6rem',\r\n                                                        fontSize: '0.75rem',\r\n                                                        opacity: index === layer.users.length - 1 ? 0.5 : 1\r\n                                                    }}\r\n                                                >\r\n                                                    Γåô\r\n                                                </button>\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    onClick={() => handleRemoveUser(layerUser.userId)}\r\n                                                    disabled={isPending}\r\n                                                    style={{\r\n                                                        padding: '0.3rem 0.6rem',\r\n                                                        background: 'linear-gradient(180deg, #fee2e2 0%, #fecaca 100%)',\r\n                                                        color: '#b91c1c',\r\n                                                        border: '1px solid #fecaca',\r\n                                                        borderRadius: '6px',\r\n                                                        fontSize: '0.75rem',\r\n                                                        fontWeight: '600',\r\n                                                        cursor: 'pointer'\r\n                                                    }}\r\n                                                >\r\n                                                    Remove\r\n                                                </button>\r\n                                            </>\r\n                                        ) : (\r\n                                            <>\r\n                                                <button type=\"button\" disabled style={{ padding: '0.3rem 0.6rem', opacity: 0.5, cursor: 'not-allowed' }}>Γåæ</button>\r\n                                                <button type=\"button\" disabled style={{ padding: '0.3rem 0.6rem', opacity: 0.5, cursor: 'not-allowed' }}>Γåô</button>\r\n                                                <button type=\"button\" disabled style={{ padding: '0.3rem 0.6rem', opacity: 0.5, cursor: 'not-allowed' }}>Remove</button>\r\n                                            </>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {canManageSchedules && availableUsers.length > 0 && (\r\n                    <form action={handleAddUser} style={{ display: 'flex', gap: '0.5rem' }}>\r\n                        <select\r\n                            name=\"userId\"\r\n                            required\r\n                            disabled={isPending}\r\n                            style={{\r\n                                flex: 1,\r\n                                padding: '0.6rem',\r\n                                border: '1px solid var(--border)',\r\n                                borderRadius: '8px',\r\n                                fontSize: '0.9rem',\r\n                                background: 'white'\r\n                            }}\r\n                        >\r\n                            <option value=\"\">Add responder</option>\r\n                            {availableUsers.map((user) => (\r\n                                <option key={user.id} value={user.id}>\r\n                                    {user.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={isPending}\r\n                            className=\"glass-button primary\"\r\n                        >\r\n                            {isPending ? 'Adding...' : 'Add'}\r\n                        </button>\r\n                    </form>\r\n                )}\r\n            </div>\r\n\r\n            <ConfirmDialog\r\n                isOpen={showDeleteConfirm}\r\n                title=\"Delete Layer\"\r\n                message={`Are you sure you want to delete the layer \"${layer.name}\"? This will remove all responders from this layer. This action cannot be undone.`}\r\n                confirmText=\"Delete Layer\"\r\n                cancelText=\"Cancel\"\r\n                variant=\"danger\"\r\n                onConfirm={handleDelete}\r\n                onCancel={() => setShowDeleteConfirm(false)}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\LayerCreateForm.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 112,
        "column": 31,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [4464, 4580],
              "text": "\r\n                    ΓÜá∩╕Å You don&apos;t have access to create layers. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [4464, 4580],
              "text": "\r\n                    ΓÜá∩╕Å You don&lsquo;t have access to create layers. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [4464, 4580],
              "text": "\r\n                    ΓÜá∩╕Å You don&#39;t have access to create layers. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [4464, 4580],
              "text": "\r\n                    ΓÜá∩╕Å You don&rsquo;t have access to create layers. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useTransition, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useToast } from './ToastProvider';\r\nimport SchedulePreview from './SchedulePreview';\r\nimport { DateTimeInput } from '@/components/ui';\r\n\r\ntype LayerCreateFormProps = {\r\n    scheduleId: string;\r\n    canManageSchedules: boolean;\r\n    createLayer: (scheduleId: string, formData: FormData) => Promise<{ error?: string } | undefined>;\r\n    defaultStartDate: string;\r\n    users?: Array<{ id: string; name: string }>;\r\n    timeZone?: string;\r\n};\r\n\r\nexport default function LayerCreateForm({\r\n    scheduleId,\r\n    canManageSchedules,\r\n    createLayer,\r\n    defaultStartDate,\r\n    users = [],\r\n    timeZone = 'UTC'\r\n}: LayerCreateFormProps) {\r\n    const router = useRouter();\r\n    const { showToast } = useToast();\r\n    const [isPending, startTransition] = useTransition();\r\n    const [showPreview, setShowPreview] = useState(false);\r\n    const [previewData, setPreviewData] = useState<{\r\n        name: string;\r\n        start: string;\r\n        end: string;\r\n        rotationLengthHours: number;\r\n        users: string[];\r\n    } | null>(null);\r\n\r\n    const handlePreview = (formData: FormData) => {\r\n        const name = formData.get('name') as string;\r\n        const start = formData.get('start') as string;\r\n        const end = formData.get('end') as string;\r\n        const rotationLengthHours = Number(formData.get('rotationLengthHours'));\r\n\r\n        if (name && start && rotationLengthHours && !isNaN(rotationLengthHours) && rotationLengthHours > 0) {\r\n            setPreviewData({\r\n                name,\r\n                start,\r\n                end: end || '',\r\n                rotationLengthHours,\r\n                users: [] // Preview doesn't need actual users, just the structure\r\n            });\r\n            setShowPreview(true);\r\n        } else {\r\n            setShowPreview(false);\r\n            setPreviewData(null);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        const formData = new FormData(e.currentTarget);\r\n        startTransition(async () => {\r\n            try {\r\n                const result = await createLayer(scheduleId, formData);\r\n                if (result?.error) {\r\n                    showToast(result.error, 'error');\r\n                } else {\r\n                    showToast('Layer created successfully', 'success');\r\n                    router.refresh();\r\n                }\r\n            } catch (error) {\r\n                const errorMessage = error instanceof Error ? error.message : String(error);\r\n                showToast(errorMessage || 'Failed to create layer', 'error');\r\n            }\r\n        });\r\n    };\r\n\r\n    if (!canManageSchedules) {\r\n        return (\r\n            <div className=\"glass-panel\" style={{\r\n                padding: '1.5rem',\r\n                background: '#f9fafb',\r\n                border: '1px solid #e5e7eb',\r\n                borderRadius: '12px',\r\n                opacity: 0.7\r\n            }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                    <h4 style={{ fontSize: '1rem', fontWeight: '600', margin: 0, color: 'var(--text-secondary)' }}>\r\n                        Add Layer\r\n                    </h4>\r\n                    <span\r\n                        title=\"Layers allow you to run multiple rotation patterns simultaneously. For example, you can have a 'day' layer (6 AM - 6 PM) and a 'night' layer (6 PM - 6 AM) to provide 24/7 coverage with different teams.\"\r\n                        style={{\r\n                            width: '18px',\r\n                            height: '18px',\r\n                            borderRadius: '50%',\r\n                            background: '#e0f2fe',\r\n                            color: '#0c4a6e',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            fontSize: '0.7rem',\r\n                            fontWeight: '600',\r\n                            cursor: 'help',\r\n                            border: '1px solid #bae6fd'\r\n                        }}\r\n                    >\r\n                        ?\r\n                    </span>\r\n                </div>\r\n                <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '1rem' }}>\r\n                    ΓÜá∩╕Å You don't have access to create layers. Admin or Responder role required.\r\n                </p>\r\n                <div style={{ opacity: 0.5, pointerEvents: 'none' }}>\r\n                    <form style={{ display: 'grid', gap: '0.75rem' }}>\r\n                        <div>\r\n                            <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                Layer name\r\n                            </label>\r\n                            <input name=\"name\" placeholder=\"Primary rotation\" disabled style={{ width: '100%', padding: '0.6rem', border: '1px solid var(--border)', borderRadius: '8px' }} />\r\n                        </div>\r\n                        <div>\r\n                            <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                Rotation length (hours)\r\n                            </label>\r\n                            <input name=\"rotationLengthHours\" type=\"number\" min=\"1\" defaultValue=\"24\" disabled style={{ width: '100%', padding: '0.6rem', border: '1px solid var(--border)', borderRadius: '8px' }} />\r\n                        </div>\r\n                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.75rem' }}>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                    Start\r\n                                </label>\r\n                                <input type=\"datetime-local\" name=\"start\" defaultValue={defaultStartDate} disabled style={{ width: '100%', padding: '0.6rem', border: '1px solid var(--border)', borderRadius: '8px' }} />\r\n                            </div>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                    End (optional)\r\n                                </label>\r\n                                <input type=\"datetime-local\" name=\"end\" disabled style={{ width: '100%', padding: '0.6rem', border: '1px solid var(--border)', borderRadius: '8px' }} />\r\n                            </div>\r\n                        </div>\r\n                        <button type=\"button\" disabled className=\"glass-button primary\" style={{ opacity: 0.5 }}>\r\n                            Create layer\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"glass-panel\" style={{\r\n            padding: '1.5rem',\r\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n            border: '1px solid #e2e8f0',\r\n            borderRadius: '12px',\r\n            marginTop: '1.5rem'\r\n        }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '1rem' }}>\r\n                <h4 style={{ fontSize: '1rem', fontWeight: '600', margin: 0, color: 'var(--text-primary)' }}>\r\n                    Add Layer\r\n                </h4>\r\n                <span\r\n                    title=\"Layers allow you to run multiple rotation patterns simultaneously. For example, you can have a 'day' layer (6 AM - 6 PM) and a 'night' layer (6 PM - 6 AM) to provide 24/7 coverage with different teams.\"\r\n                    style={{\r\n                        width: '18px',\r\n                        height: '18px',\r\n                        borderRadius: '50%',\r\n                        background: '#e0f2fe',\r\n                        color: '#0c4a6e',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        fontSize: '0.7rem',\r\n                        fontWeight: '600',\r\n                        cursor: 'help',\r\n                        border: '1px solid #bae6fd'\r\n                    }}\r\n                >\r\n                    ?\r\n                </span>\r\n            </div>\r\n            <form\r\n                onSubmit={handleSubmit}\r\n                style={{ display: 'grid', gap: '0.75rem' }}\r\n                onChange={(e) => {\r\n                    const form = e.currentTarget;\r\n                    const formData = new FormData(form);\r\n                    handlePreview(formData);\r\n                }}\r\n            >\r\n                <div>\r\n                    <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                        Layer name\r\n                    </label>\r\n                    <input\r\n                        name=\"name\"\r\n                        placeholder=\"Primary rotation\"\r\n                        required\r\n                        disabled={isPending}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '0.6rem',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '8px',\r\n                            fontSize: '0.9rem',\r\n                            background: 'white'\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                        Rotation length (hours)\r\n                    </label>\r\n                    <input\r\n                        name=\"rotationLengthHours\"\r\n                        type=\"number\"\r\n                        min=\"1\"\r\n                        defaultValue=\"24\"\r\n                        required\r\n                        disabled={isPending}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '0.6rem',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '8px',\r\n                            fontSize: '0.9rem',\r\n                            background: 'white'\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.75rem' }}>\r\n                    <div>\r\n                        <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                            Start\r\n                        </label>\r\n                        <DateTimeInput\r\n                            name=\"start\"\r\n                            value={defaultStartDate}\r\n                            required\r\n                            fullWidth\r\n                            disabled={isPending}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                            End (optional)\r\n                        </label>\r\n                        <DateTimeInput\r\n                            name=\"end\"\r\n                            fullWidth\r\n                            disabled={isPending}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={(e) => {\r\n                            e.preventDefault();\r\n                            const form = e.currentTarget.closest('form');\r\n                            if (form) {\r\n                                const formData = new FormData(form);\r\n                                handlePreview(formData);\r\n                            }\r\n                        }}\r\n                        className=\"glass-button\"\r\n                        style={{ flex: 1 }}\r\n                    >\r\n                        Preview\r\n                    </button>\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={isPending}\r\n                        className=\"glass-button primary\"\r\n                        style={{ flex: 1 }}\r\n                    >\r\n                        {isPending ? 'Creating...' : 'Create Layer'}\r\n                    </button>\r\n                </div>\r\n            </form>\r\n\r\n            {showPreview && previewData && (\r\n                <SchedulePreview\r\n                    layers={[{\r\n                        id: 'preview',\r\n                        name: previewData.name,\r\n                        start: new Date(previewData.start),\r\n                        end: previewData.end ? new Date(previewData.end) : null,\r\n                        rotationLengthHours: previewData.rotationLengthHours,\r\n                        users: previewData.users.map((userId, idx) => ({\r\n                            userId,\r\n                            position: idx + 1,\r\n                            user: { name: users.find(u => u.id === userId)?.name || 'User' }\r\n                        }))\r\n                    }]}\r\n                    timeZone={timeZone}\r\n                    startDate={previewData.start ? new Date(previewData.start) : new Date()}\r\n                    endDate={previewData.start\r\n                        ? new Date(new Date(previewData.start).getTime() + 7 * 24 * 60 * 60 * 1000)\r\n                        : new Date(new Date().getTime() + 7 * 24 * 60 * 60 * 1000)\r\n                    }\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\LayerHelpPanel.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 103,
        "column": 62,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [4197, 4250],
              "text": "Layers are independent - they don&apos;t affect each other"
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [4197, 4250],
              "text": "Layers are independent - they don&lsquo;t affect each other"
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [4197, 4250],
              "text": "Layers are independent - they don&#39;t affect each other"
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [4197, 4250],
              "text": "Layers are independent - they don&rsquo;t affect each other"
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\nexport default function LayerHelpPanel() {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    if (!isOpen) {\r\n        return (\r\n            <button\r\n                type=\"button\"\r\n                onClick={() => setIsOpen(true)}\r\n                aria-label=\"Open help panel about layers\"\r\n                aria-expanded={isOpen ? 'true' : 'false'}\r\n                style={{\r\n                    padding: '0.5rem 1rem',\r\n                    borderRadius: '8px',\r\n                    border: '1px solid #e2e8f0',\r\n                    background: 'white',\r\n                    color: 'var(--text-primary)',\r\n                    fontSize: '0.85rem',\r\n                    fontWeight: '500',\r\n                    cursor: 'pointer',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.5rem',\r\n                    marginBottom: '1rem'\r\n                }}\r\n            >\r\n                <span aria-hidden=\"true\">Γä╣∩╕Å</span>\r\n                <span>What are Layers?</span>\r\n            </button>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"glass-panel\" style={{\r\n            padding: '1.5rem',\r\n            background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\r\n            border: '1px solid #fde68a',\r\n            borderRadius: '12px',\r\n            marginBottom: '1.5rem'\r\n        }}>\r\n            <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'flex-start',\r\n                marginBottom: '1rem'\r\n            }}>\r\n                <h4 style={{\r\n                    fontSize: '1rem',\r\n                    fontWeight: '600',\r\n                    color: '#78350f',\r\n                    margin: 0\r\n                }}>\r\n                    Understanding Layers\r\n                </h4>\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => setIsOpen(false)}\r\n                        aria-label=\"Close help panel\"\r\n                        style={{\r\n                        background: 'none',\r\n                        border: 'none',\r\n                        fontSize: '1.2rem',\r\n                        cursor: 'pointer',\r\n                        color: '#78350f',\r\n                        padding: 0,\r\n                        width: '24px',\r\n                        height: '24px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center'\r\n                    }}\r\n                >\r\n                    ├ù\r\n                </button>\r\n            </div>\r\n            <div style={{ color: '#78350f', fontSize: '0.9rem', lineHeight: 1.6 }}>\r\n                <p style={{ marginBottom: '0.75rem', fontWeight: '500' }}>\r\n                    <strong>Layers</strong> allow you to run multiple rotation patterns simultaneously.\r\n                </p>\r\n                <div style={{ marginBottom: '0.75rem' }}>\r\n                    <strong>Example:</strong>\r\n                    <ul style={{ marginTop: '0.5rem', paddingLeft: '1.5rem' }}>\r\n                        <li><strong>Day Layer:</strong> 6 AM - 6 PM, rotates every 12 hours</li>\r\n                        <li><strong>Night Layer:</strong> 6 PM - 6 AM, rotates every 12 hours</li>\r\n                    </ul>\r\n                    <p style={{ marginTop: '0.5rem', fontStyle: 'italic' }}>\r\n                        Together, these provide 24/7 coverage with different teams for day and night shifts.\r\n                    </p>\r\n                </div>\r\n                <div style={{\r\n                    padding: '0.75rem',\r\n                    background: 'rgba(255, 255, 255, 0.5)',\r\n                    borderRadius: '6px',\r\n                    marginTop: '0.75rem'\r\n                }}>\r\n                    <strong>Key Points:</strong>\r\n                    <ul style={{ marginTop: '0.5rem', paddingLeft: '1.5rem' }}>\r\n                        <li>Each layer rotates through its assigned responders</li>\r\n                        <li>Multiple layers can be active at the same time</li>\r\n                        <li>Layers are independent - they don't affect each other</li>\r\n                        <li>Use layers to create complex schedules (follow-the-sun, tiered support, etc.)</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\MonitoringDashboard.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.",
        "line": 160,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 160,
        "endColumn": 20,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchData, timeWindow]",
            "fix": { "range": [4877, 4889], "text": "[fetchData, timeWindow]" }
          }
        ]
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 582,
        "column": 48,
        "nodeType": "MemberExpression",
        "endLine": 582,
        "endColumn": 60
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { logger } from '@/lib/logger';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport Card from '@/components/ui/Card';\r\nimport Spinner from '@/components/ui/Spinner';\r\nimport { useTimezone } from '@/contexts/TimezoneContext';\r\nimport { formatDateTime } from '@/lib/timezone';\r\nimport {\r\n    BarChart,\r\n    Bar,\r\n    XAxis,\r\n    YAxis,\r\n    CartesianGrid,\r\n    Tooltip,\r\n    ResponsiveContainer,\r\n    Cell\r\n} from 'recharts';\r\n\r\ninterface QueryStats {\r\n    totalQueries: number;\r\n    averageDuration: number;\r\n    slowQueries: number;\r\n    errorCount: number;\r\n    queriesByType: Record<string, number>;\r\n    distribution: Array<{ name: string; count: number }>;\r\n}\r\n\r\ninterface QueryMetric {\r\n    query: string;\r\n    duration: number;\r\n    timestamp: Date;\r\n    params?: unknown;\r\n    error?: Error;\r\n}\r\n\r\ninterface MonitoringData {\r\n    stats: QueryStats;\r\n    slowQueries: QueryMetric[];\r\n    recentErrors: QueryMetric[];\r\n}\r\n\r\ninterface WebVitalsData {\r\n    metrics: Array<{\r\n        name: string;\r\n        value: number;\r\n        rating: string;\r\n        url: string;\r\n        timestamp: number;\r\n    }>;\r\n    aggregates: Record<string, {\r\n        count: number;\r\n        avg: number;\r\n        min: number;\r\n        max: number;\r\n        ratings: { good: number; needsImprovement: number; poor: number };\r\n    }>;\r\n    total: number;\r\n}\r\n\r\ninterface ServiceHealth {\r\n    id: string;\r\n    name: string;\r\n    status: 'OPERATIONAL' | 'DEGRADED' | 'PARTIAL_OUTAGE' | 'MAJOR_OUTAGE' | 'MAINTENANCE';\r\n    updatedAt: string;\r\n    _count: {\r\n        incidents: number;\r\n    };\r\n}\r\n\r\nexport default function MonitoringDashboard() {\r\n    const [data, setData] = useState<MonitoringData | null>(null);\r\n    const [webVitals, setWebVitals] = useState<WebVitalsData | null>(null);\r\n    const [services, setServices] = useState<ServiceHealth[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [webVitalsLoading, setWebVitalsLoading] = useState(false);\r\n    const [servicesLoading, setServicesLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const { userTimeZone } = useTimezone();\r\n    const [timeWindow, setTimeWindow] = useState<number | undefined>(undefined);\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const params = new URLSearchParams();\r\n            if (timeWindow) {\r\n                params.set('timeWindow', timeWindow.toString());\r\n            }\r\n            params.set('limit', '10');\r\n\r\n            const response = await fetch(`/api/monitoring/queries?${params.toString()}`);\r\n            if (!response.ok) {\r\n                throw new Error('Failed to fetch monitoring data');\r\n            }\r\n\r\n            const result = await response.json();\r\n            if (result.success) {\r\n                setData(result.data);\r\n                setError(null);\r\n            } else {\r\n                throw new Error(result.error || 'Failed to fetch data');\r\n            }\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'An error occurred');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchWebVitals = async () => {\r\n        try {\r\n            setWebVitalsLoading(true);\r\n            const response = await fetch('/api/web-vitals?limit=50');\r\n            if (!response.ok) {\r\n                throw new Error('Failed to fetch Web Vitals');\r\n            }\r\n            const result = await response.json();\r\n            setWebVitals(result);\r\n        } catch (err) {\r\n            // Silently fail for Web Vitals - it's optional\r\n            logger.warn('Failed to fetch Web Vitals', { error: err });\r\n        } finally {\r\n            setWebVitalsLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchServices = async () => {\r\n        try {\r\n            setServicesLoading(true);\r\n            const response = await fetch('/api/monitoring/services');\r\n            if (response.ok) {\r\n                const result = await response.json();\r\n                if (result.success) {\r\n                    setServices(result.data);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            if (error instanceof Error) {\r\n                logger.error('Failed to fetch services', { error: error.message });\r\n            } else {\r\n                logger.error('Failed to fetch services', { error: String(error) });\r\n            }\r\n        } finally {\r\n            setServicesLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n        fetchWebVitals();\r\n        fetchServices();\r\n        // Refresh every 30 seconds\r\n        const interval = setInterval(() => {\r\n            fetchData();\r\n            fetchWebVitals();\r\n            fetchServices();\r\n        }, 30000);\r\n        return () => clearInterval(interval);\r\n    }, [timeWindow]);\r\n\r\n    if (loading && !data) {\r\n        return (\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '400px' }}>\r\n                <Spinner size=\"lg\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <Card>\r\n                <div style={{ padding: '2rem', textAlign: 'center' }}>\r\n                    <p style={{ color: 'var(--danger)', marginBottom: '1rem' }}>Error: {error}</p>\r\n                    <button\r\n                        onClick={fetchData}\r\n                        className=\"glass-button primary\"\r\n                    >\r\n                        Retry\r\n                    </button>\r\n                </div>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    if (!data) {\r\n        return null;\r\n    }\r\n\r\n    const { stats, slowQueries, recentErrors } = data;\r\n\r\n    return (\r\n        <div>\r\n            {/* Time Window Selector */}\r\n            <div style={{ marginBottom: '1.5rem', display: 'flex', gap: '1rem', alignItems: 'center' }}>\r\n                <label style={{ fontSize: '0.9rem', fontWeight: '500' }}>Time Window:</label>\r\n                <select\r\n                    value={timeWindow || 'all'}\r\n                    onChange={(e) => {\r\n                        const value = e.target.value;\r\n                        setTimeWindow(value === 'all' ? undefined : parseInt(value, 10));\r\n                    }}\r\n                    style={{\r\n                        padding: '0.5rem 0.75rem',\r\n                        border: '1px solid var(--border)',\r\n                        borderRadius: '6px',\r\n                        fontSize: '0.9rem'\r\n                    }}\r\n                >\r\n                    <option value=\"all\">All Time</option>\r\n                    <option value=\"3600000\">Last Hour</option>\r\n                    <option value=\"86400000\">Last 24 Hours</option>\r\n                    <option value=\"604800000\">Last 7 Days</option>\r\n                </select>\r\n                <button\r\n                    onClick={fetchData}\r\n                    disabled={loading}\r\n                    style={{\r\n                        padding: '0.5rem 1rem',\r\n                        background: 'var(--primary)',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '6px',\r\n                        cursor: loading ? 'not-allowed' : 'pointer',\r\n                        opacity: loading ? 0.6 : 1,\r\n                        fontSize: '0.9rem'\r\n                    }}\r\n                >\r\n                    {loading ? <Spinner size=\"sm\" /> : 'Refresh'}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Stats Grid */}\r\n            <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\r\n                gap: '1.5rem',\r\n                marginBottom: '2rem'\r\n            }}>\r\n                <Card>\r\n                    <div style={{ padding: '1.5rem' }}>\r\n                        <div style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '0.5rem' }}>\r\n                            Total Queries\r\n                        </div>\r\n                        <div style={{ fontSize: '2rem', fontWeight: '700', color: 'var(--text-primary)' }}>\r\n                            {stats.totalQueries.toLocaleString()}\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n\r\n                <Card>\r\n                    <div style={{ padding: '1.5rem' }}>\r\n                        <div style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '0.5rem' }}>\r\n                            Average Duration\r\n                        </div>\r\n                        <div style={{ fontSize: '2rem', fontWeight: '700', color: 'var(--text-primary)' }}>\r\n                            {stats.averageDuration.toFixed(2)}ms\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n\r\n                <Card>\r\n                    <div style={{ padding: '1.5rem' }}>\r\n                        <div style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '0.5rem' }}>\r\n                            Slow Queries\r\n                        </div>\r\n                        <div style={{\r\n                            fontSize: '2rem',\r\n                            fontWeight: '700',\r\n                            color: stats.slowQueries > 0 ? 'var(--warning)' : 'var(--text-primary)'\r\n                        }}>\r\n                            {stats.slowQueries}\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n\r\n                <Card>\r\n                    <div style={{ padding: '1.5rem' }}>\r\n                        <div style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '0.5rem' }}>\r\n                            Errors\r\n                        </div>\r\n                        <div style={{\r\n                            fontSize: '2rem',\r\n                            fontWeight: '700',\r\n                            color: stats.errorCount > 0 ? 'var(--danger)' : 'var(--text-primary)'\r\n                        }}>\r\n                            {stats.errorCount}\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n\r\n\r\n            {/* Service Health Section */}\r\n            <div style={{ marginBottom: '2rem' }}>\r\n                <h3 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem' }}>\r\n                    Service Health\r\n                </h3>\r\n                {servicesLoading && services.length === 0 ? (\r\n                    <div style={{ display: 'flex', justifyContent: 'center', padding: '2rem' }}>\r\n                        <Spinner size=\"md\" />\r\n                    </div>\r\n                ) : services.length > 0 ? (\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem' }}>\r\n                        {services.map(service => {\r\n                            const getStatusColor = (status: string) => {\r\n                                switch (status) {\r\n                                    case 'OPERATIONAL': return 'var(--success)';\r\n                                    case 'DEGRADED': return 'var(--warning)';\r\n                                    case 'MAINTENANCE': return 'var(--info)';\r\n                                    default: return 'var(--danger)';\r\n                                }\r\n                            };\r\n                            return (\r\n                                <Card key={service.id}>\r\n                                    <div style={{ padding: '1.25rem' }}>\r\n                                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '0.75rem' }}>\r\n                                            <h4 style={{ fontWeight: '600', fontSize: '1rem' }}>{service.name}</h4>\r\n                                            <span style={{\r\n                                                fontSize: '0.75rem',\r\n                                                padding: '0.25rem 0.5rem',\r\n                                                borderRadius: '999px',\r\n                                                backgroundColor: `${getStatusColor(service.status)}20`,\r\n                                                color: getStatusColor(service.status),\r\n                                                fontWeight: '600'\r\n                                            }}>\r\n                                                {service.status.replace('_', ' ')}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div style={{ fontSize: '0.85rem', color: 'var(--text-muted)' }}>\r\n                                            {service._count.incidents > 0 ? (\r\n                                                <span style={{ color: 'var(--danger)' }}>\r\n                                                    {service._count.incidents} open incident{service._count.incidents !== 1 ? 's' : ''}\r\n                                                </span>\r\n                                            ) : (\r\n                                                <span style={{ color: 'var(--success)' }}>No open incidents</span>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </Card>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                ) : (\r\n                    <Card>\r\n                        <div style={{ padding: '2rem', textAlign: 'center', color: 'var(--text-muted)' }}>\r\n                            No services monitored.\r\n                        </div>\r\n                    </Card>\r\n                )}\r\n            </div>\r\n\r\n            {/* Charts Section */}\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: '2rem', marginBottom: '2rem' }}>\r\n                {/* Duration Distribution Chart */}\r\n                <Card>\r\n                    <div style={{ padding: '1.5rem', height: '100%' }}>\r\n                        <h3 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem' }}>\r\n                            Query Latency Distribution\r\n                        </h3>\r\n                        <div style={{ width: '100%', height: 300 }}>\r\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                <BarChart data={stats.distribution}>\r\n                                    <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\r\n                                    <XAxis dataKey=\"name\" fontSize={12} tick={{ fill: 'var(--text-muted)' }} />\r\n                                    <YAxis fontSize={12} tick={{ fill: 'var(--text-muted)' }} allowDecimals={false} />\r\n                                    <Tooltip\r\n                                        cursor={{ fill: 'var(--color-neutral-100)' }}\r\n                                        contentStyle={{ borderRadius: '6px', border: '1px solid var(--border)' }}\r\n                                    />\r\n                                    <Bar dataKey=\"count\" fill=\"var(--primary)\" radius={[4, 4, 0, 0]} name=\"Queries\" />\r\n                                </BarChart>\r\n                            </ResponsiveContainer>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n\r\n                {/* Web Vitals Chart */}\r\n                {webVitals && (\r\n                    <Card>\r\n                        <div style={{ padding: '1.5rem', height: '100%' }}>\r\n                            <h3 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem' }}>\r\n                                Core Web Vitals (Average)\r\n                            </h3>\r\n                            <div style={{ width: '100%', height: 300 }}>\r\n                                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                    <BarChart\r\n                                        data={Object.entries(webVitals.aggregates).map(([name, agg]) => ({\r\n                                            name,\r\n                                            value: agg.avg,\r\n                                            rating: agg.avg < 100 ? 'good' : agg.avg < 300 ? 'needsImprovement' : 'poor' // Simplified check\r\n                                        }))}\r\n                                        layout=\"vertical\"\r\n                                        margin={{ left: 20 }}\r\n                                    >\r\n                                        <CartesianGrid strokeDasharray=\"3 3\" horizontal={false} />\r\n                                        <XAxis type=\"number\" fontSize={12} tick={{ fill: 'var(--text-muted)' }} unit=\"ms\" />\r\n                                        <YAxis dataKey=\"name\" type=\"category\" fontSize={12} tick={{ fill: 'var(--text-muted)' }} width={50} />\r\n                                        <Tooltip\r\n                                            cursor={{ fill: 'var(--color-neutral-100)' }}\r\n                                            contentStyle={{ borderRadius: '6px', border: '1px solid var(--border)' }}\r\n                                        />\r\n                                        <Bar dataKey=\"value\" radius={[0, 4, 4, 0]} name=\"Avg Duration (ms)\">\r\n                                            {\r\n                                                Object.entries(webVitals.aggregates).map((entry, index) => {\r\n                                                    const rating = entry[1].ratings.poor > entry[1].ratings.good ? 'poor' : 'good';\r\n                                                    // Simple color logic for demo\r\n                                                    return <Cell key={`cell-${index}`} fill={rating === 'good' ? '#16a34a' : '#ef4444'} />;\r\n                                                })\r\n                                            }\r\n                                        </Bar>\r\n                                    </BarChart>\r\n                                </ResponsiveContainer>\r\n                            </div>\r\n                        </div>\r\n                    </Card>\r\n                )}\r\n            </div>\r\n\r\n            {/* Queries by Type */}\r\n            <Card style={{ marginBottom: '2rem' }}>\r\n\r\n                <div style={{ padding: '1.5rem' }}>\r\n                    <h3 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem' }}>\r\n                        Queries by Type\r\n                    </h3>\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', gap: '1rem' }}>\r\n                        {Object.entries(stats.queriesByType).map(([type, count]) => (\r\n                            <div key={type} style={{\r\n                                padding: '1rem',\r\n                                background: 'var(--color-neutral-50)',\r\n                                borderRadius: '6px',\r\n                                border: '1px solid var(--border)'\r\n                            }}>\r\n                                <div style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '0.25rem' }}>\r\n                                    {type}\r\n                                </div>\r\n                                <div style={{ fontSize: '1.5rem', fontWeight: '700' }}>\r\n                                    {count.toLocaleString()}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n\r\n            {/* Slow Queries */}\r\n            {slowQueries.length > 0 && (\r\n                <Card style={{ marginBottom: '2rem' }}>\r\n                    <div style={{ padding: '1.5rem' }}>\r\n                        <h3 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem' }}>\r\n                            Slow Queries ({slowQueries.length})\r\n                        </h3>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\r\n                            {slowQueries.map((query, index) => (\r\n                                <div\r\n                                    key={index}\r\n                                    style={{\r\n                                        padding: '1rem',\r\n                                        background: 'var(--color-neutral-50)',\r\n                                        borderRadius: '6px',\r\n                                        border: '1px solid var(--border)',\r\n                                        fontFamily: 'monospace',\r\n                                        fontSize: '0.85rem'\r\n                                    }}\r\n                                >\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>\r\n                                        <span style={{ fontWeight: '600', color: 'var(--warning)' }}>\r\n                                            {query.duration}ms\r\n                                        </span>\r\n                                        <span style={{ color: 'var(--text-muted)', fontSize: '0.75rem' }}>\r\n                                            {formatDateTime(query.timestamp, userTimeZone, { format: 'datetime' })}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div style={{ color: 'var(--text-secondary)', wordBreak: 'break-all' }}>\r\n                                        {query.query}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n            )}\r\n\r\n            {/* Recent Errors */}\r\n            {recentErrors.length > 0 && (\r\n                <Card>\r\n                    <div style={{ padding: '1.5rem' }}>\r\n                        <h3 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem', color: 'var(--danger)' }}>\r\n                            Recent Errors ({recentErrors.length})\r\n                        </h3>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\r\n                            {recentErrors.map((error, index) => (\r\n                                <div\r\n                                    key={index}\r\n                                    style={{\r\n                                        padding: '1rem',\r\n                                        background: '#fee2e2',\r\n                                        borderRadius: '6px',\r\n                                        border: '1px solid #fecaca'\r\n                                    }}\r\n                                >\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>\r\n                                        <span style={{ fontWeight: '600', color: 'var(--danger)' }}>\r\n                                            {error.error?.message || 'Unknown error'}\r\n                                        </span>\r\n                                        <span style={{ color: 'var(--text-muted)', fontSize: '0.75rem' }}>\r\n                                            {formatDateTime(error.timestamp, userTimeZone, { format: 'datetime' })}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div style={{ fontFamily: 'monospace', fontSize: '0.85rem', color: 'var(--text-secondary)', wordBreak: 'break-all' }}>\r\n                                        {error.query}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n            )}\r\n\r\n            {slowQueries.length === 0 && recentErrors.length === 0 && (\r\n                <Card>\r\n                    <div style={{ padding: '2rem', textAlign: 'center', color: 'var(--text-muted)' }}>\r\n                        <p>No slow queries or errors to display</p>\r\n                    </div>\r\n                </Card>\r\n            )}\r\n\r\n            {/* Web Vitals Section */}\r\n            <Card style={{ marginTop: '2rem' }}>\r\n                <div style={{ padding: '1.5rem' }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n                        <h3 style={{ fontSize: '1.25rem', fontWeight: '600' }}>\r\n                            Web Vitals Performance\r\n                        </h3>\r\n                        <button\r\n                            onClick={fetchWebVitals}\r\n                            disabled={webVitalsLoading}\r\n                            style={{\r\n                                padding: '0.5rem 1rem',\r\n                                background: 'var(--primary)',\r\n                                color: 'white',\r\n                                border: 'none',\r\n                                borderRadius: '6px',\r\n                                cursor: webVitalsLoading ? 'not-allowed' : 'pointer',\r\n                                opacity: webVitalsLoading ? 0.6 : 1,\r\n                                fontSize: '0.9rem'\r\n                            }}\r\n                        >\r\n                            {webVitalsLoading ? <Spinner size=\"sm\" /> : 'Refresh'}\r\n                        </button>\r\n                    </div>\r\n\r\n                    {webVitalsLoading && !webVitals ? (\r\n                        <div style={{ display: 'flex', justifyContent: 'center', padding: '2rem' }}>\r\n                            <Spinner size=\"md\" />\r\n                        </div>\r\n                    ) : webVitals && Object.keys(webVitals.aggregates).length > 0 ? (\r\n                        <>\r\n                            <div style={{\r\n                                display: 'grid',\r\n                                gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n                                gap: '1rem',\r\n                                marginBottom: '1.5rem'\r\n                            }}>\r\n                                {Object.entries(webVitals.aggregates).map(([name, agg]) => {\r\n                                    const getRatingColor = (rating: string) => {\r\n                                        if (rating === 'good') return '#16a34a';\r\n                                        if (rating === 'needsImprovement') return '#f59e0b';\r\n                                        return '#dc2626';\r\n                                    };\r\n\r\n                                    const getRatingLabel = (name: string) => {\r\n                                        const labels: Record<string, string> = {\r\n                                            CLS: 'Cumulative Layout Shift',\r\n                                            FID: 'First Input Delay',\r\n                                            FCP: 'First Contentful Paint',\r\n                                            LCP: 'Largest Contentful Paint',\r\n                                            TTFB: 'Time to First Byte',\r\n                                            INP: 'Interaction to Next Paint',\r\n                                        };\r\n                                        return labels[name] || name;\r\n                                    };\r\n\r\n                                    const formatValue = (name: string, value: number) => {\r\n                                        if (name === 'CLS') return value.toFixed(3);\r\n                                        return `${Math.round(value)}ms`;\r\n                                    };\r\n\r\n                                    const goodPercentage = agg.count > 0\r\n                                        ? ((agg.ratings.good / agg.count) * 100).toFixed(1)\r\n                                        : '0';\r\n\r\n                                    return (\r\n                                        <div\r\n                                            key={name}\r\n                                            style={{\r\n                                                padding: '1rem',\r\n                                                background: 'var(--color-neutral-50)',\r\n                                                borderRadius: '6px',\r\n                                                border: '1px solid var(--border)'\r\n                                            }}\r\n                                        >\r\n                                            <div style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '0.5rem', fontWeight: '600' }}>\r\n                                                {getRatingLabel(name)}\r\n                                            </div>\r\n                                            <div style={{ fontSize: '1.5rem', fontWeight: '700', marginBottom: '0.25rem' }}>\r\n                                                {formatValue(name, agg.avg)}\r\n                                            </div>\r\n                                            <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)', marginBottom: '0.5rem' }}>\r\n                                                Avg: {formatValue(name, agg.avg)} | Min: {formatValue(name, agg.min)} | Max: {formatValue(name, agg.max)}\r\n                                            </div>\r\n                                            <div style={{ display: 'flex', gap: '0.5rem', fontSize: '0.75rem' }}>\r\n                                                <span style={{ color: getRatingColor('good') }}>\r\n                                                    Γ£ô {agg.ratings.good} good\r\n                                                </span>\r\n                                                <span style={{ color: getRatingColor('needsImprovement') }}>\r\n                                                    ΓÜá {agg.ratings.needsImprovement} needs improvement\r\n                                                </span>\r\n                                                <span style={{ color: getRatingColor('poor') }}>\r\n                                                    Γ£ù {agg.ratings.poor} poor\r\n                                                </span>\r\n                                            </div>\r\n                                            <div style={{\r\n                                                marginTop: '0.5rem',\r\n                                                fontSize: '0.75rem',\r\n                                                color: 'var(--text-muted)'\r\n                                            }}>\r\n                                                {goodPercentage}% good ({agg.count} samples)\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n\r\n                            {webVitals.total > 0 && (\r\n                                <div style={{\r\n                                    padding: '0.75rem',\r\n                                    background: 'var(--color-neutral-100)',\r\n                                    borderRadius: '6px',\r\n                                    fontSize: '0.85rem',\r\n                                    color: 'var(--text-muted)'\r\n                                }}>\r\n                                    Total metrics collected: {webVitals.total.toLocaleString()}\r\n                                </div>\r\n                            )}\r\n                        </>\r\n                    ) : (\r\n                        <div style={{ padding: '2rem', textAlign: 'center', color: 'var(--text-muted)' }}>\r\n                            <p>No Web Vitals data available yet. Metrics will appear as users interact with the application.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\OperationalStatus.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\OverrideForm.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 63,
        "column": 31,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [2660, 2779],
              "text": "\r\n                    ΓÜá∩╕Å You don&apos;t have access to create overrides. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [2660, 2779],
              "text": "\r\n                    ΓÜá∩╕Å You don&lsquo;t have access to create overrides. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [2660, 2779],
              "text": "\r\n                    ΓÜá∩╕Å You don&#39;t have access to create overrides. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [2660, 2779],
              "text": "\r\n                    ΓÜá∩╕Å You don&rsquo;t have access to create overrides. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useTransition } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useToast } from './ToastProvider';\r\nimport { DateTimeInput } from '@/components/ui';\r\n\r\ntype OverrideFormProps = {\r\n    scheduleId: string;\r\n    users: Array<{ id: string; name: string }>;\r\n    canManageSchedules: boolean;\r\n    createOverride: (scheduleId: string, formData: FormData) => Promise<{ error?: string } | undefined>;\r\n};\r\n\r\nexport default function OverrideForm({ scheduleId, users, canManageSchedules, createOverride }: OverrideFormProps) {\r\n    const router = useRouter();\r\n    const { showToast } = useToast();\r\n    const [isPending, startTransition] = useTransition();\r\n\r\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        const formData = new FormData(e.currentTarget);\r\n        startTransition(async () => {\r\n            try {\r\n                const result = await createOverride(scheduleId, formData);\r\n                if (result?.error) {\r\n                    showToast(result.error, 'error');\r\n                } else {\r\n                    const userId = formData.get('userId') as string;\r\n                    const userName = users.find(u => u.id === userId)?.name || 'User';\r\n                    showToast(`Override created for ${userName}`, 'success');\r\n                    router.refresh();\r\n                }\r\n            } catch (error) {\r\n                const errorMessage = error instanceof Error ? error.message : String(error);\r\n                showToast(errorMessage || 'Failed to create override', 'error');\r\n            }\r\n        });\r\n    };\r\n\r\n    if (!canManageSchedules) {\r\n        return (\r\n            <div className=\"glass-panel\" style={{\r\n                padding: '1.5rem',\r\n                background: 'linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)',\r\n                border: '1px solid #e5e7eb',\r\n                borderRadius: '12px',\r\n                opacity: 0.8\r\n            }}>\r\n                <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    marginBottom: '1rem',\r\n                    paddingBottom: '1rem',\r\n                    borderBottom: '1px solid #e5e7eb'\r\n                }}>\r\n                    <h3 style={{ fontSize: '1.1rem', fontWeight: '600', margin: 0, color: 'var(--text-secondary)' }}>\r\n                        Overrides\r\n                    </h3>\r\n                </div>\r\n                <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '1rem', fontStyle: 'italic' }}>\r\n                    ΓÜá∩╕Å You don't have access to create overrides. Admin or Responder role required.\r\n                </p>\r\n                <p style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginBottom: '1rem', fontStyle: 'italic' }}>\r\n                    Temporarily replace on-call coverage. Times use your browser local time.\r\n                </p>\r\n                <div style={{ opacity: 0.5, pointerEvents: 'none' }}>\r\n                    <form style={{ display: 'grid', gap: '0.75rem' }}>\r\n                        <div>\r\n                            <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                On-call user\r\n                            </label>\r\n                            <select name=\"userId\" disabled style={{ width: '100%', padding: '0.6rem', border: '1px solid var(--border)', borderRadius: '8px' }}>\r\n                                <option value=\"\">Select a responder</option>\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                Replace (optional)\r\n                            </label>\r\n                            <select name=\"replacesUserId\" disabled style={{ width: '100%', padding: '0.6rem', border: '1px solid var(--border)', borderRadius: '8px' }}>\r\n                                <option value=\"\">Any user</option>\r\n                            </select>\r\n                        </div>\r\n                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.75rem' }}>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                    Start\r\n                                </label>\r\n                                <input type=\"datetime-local\" name=\"start\" disabled style={{ width: '100%', padding: '0.6rem', border: '1px solid var(--border)', borderRadius: '8px' }} />\r\n                            </div>\r\n                            <div>\r\n                                <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                                    End\r\n                                </label>\r\n                                <input type=\"datetime-local\" name=\"end\" disabled style={{ width: '100%', padding: '0.6rem', border: '1px solid var(--border)', borderRadius: '8px' }} />\r\n                            </div>\r\n                        </div>\r\n                        <button type=\"button\" disabled className=\"glass-button primary\" style={{ opacity: 0.5 }}>\r\n                            Create override\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"glass-panel\" style={{\r\n            padding: '1.5rem',\r\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n            border: '1px solid #e2e8f0',\r\n            borderRadius: '12px',\r\n            marginBottom: '1.5rem'\r\n        }}>\r\n            <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                marginBottom: '1rem',\r\n                paddingBottom: '1rem',\r\n                borderBottom: '1px solid #e2e8f0'\r\n            }}>\r\n                <h3 style={{ fontSize: '1.1rem', fontWeight: '600', margin: 0, color: 'var(--text-primary)' }}>\r\n                    Overrides\r\n                </h3>\r\n            </div>\r\n            <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '1rem', fontStyle: 'italic', lineHeight: 1.5 }}>\r\n                Temporarily replace on-call coverage. Times use your browser local time.\r\n            </p>\r\n            <form onSubmit={handleSubmit} style={{ display: 'grid', gap: '0.75rem' }}>\r\n                <div>\r\n                    <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                        On-call user\r\n                    </label>\r\n                    <select\r\n                        name=\"userId\"\r\n                        required\r\n                        disabled={isPending}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '0.6rem',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '8px',\r\n                            fontSize: '0.9rem',\r\n                            background: 'white'\r\n                        }}\r\n                    >\r\n                        <option value=\"\">Select a responder</option>\r\n                        {users.map((user) => (\r\n                            <option key={user.id} value={user.id}>\r\n                                {user.name}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                        Replace (optional)\r\n                    </label>\r\n                    <select\r\n                        name=\"replacesUserId\"\r\n                        disabled={isPending}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '0.6rem',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '8px',\r\n                            fontSize: '0.9rem',\r\n                            background: 'white'\r\n                        }}\r\n                    >\r\n                        <option value=\"\">Any user</option>\r\n                        {users.map((user) => (\r\n                            <option key={user.id} value={user.id}>\r\n                                {user.name}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.75rem' }}>\r\n                    <div>\r\n                        <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                            Start\r\n                        </label>\r\n                        <DateTimeInput\r\n                            name=\"start\"\r\n                            required\r\n                            fullWidth\r\n                            disabled={isPending}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label style={{ display: 'block', marginBottom: '0.4rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                            End\r\n                        </label>\r\n                        <DateTimeInput\r\n                            name=\"end\"\r\n                            required\r\n                            fullWidth\r\n                            disabled={isPending}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={isPending}\r\n                    className=\"glass-button primary\"\r\n                    style={{ width: '100%' }}\r\n                >\r\n                    {isPending ? 'Creating...' : 'Create Override'}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\OverrideList.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\PolicyDeleteButton.tsx",
    "messages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 28,
        "column": 14,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 28,
        "endColumn": 99
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useTransition } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useToast } from './ToastProvider';\r\nimport { deletePolicy } from '@/app/(app)/policies/actions';\r\n\r\ntype PolicyDeleteButtonProps = {\r\n    policyId: string;\r\n    servicesUsingPolicy: Array<{ id: string; name: string }>;\r\n};\r\n\r\nexport default function PolicyDeleteButton({ policyId, servicesUsingPolicy }: PolicyDeleteButtonProps) {\r\n    const [isPending, startTransition] = useTransition();\r\n    const { showToast } = useToast();\r\n    const router = useRouter();\r\n\r\n    const handleDelete = async () => {\r\n        if (servicesUsingPolicy.length > 0) {\r\n            const serviceNames = servicesUsingPolicy.map(s => s.name).join(', ');\r\n            showToast(\r\n                `Cannot delete policy: ${servicesUsingPolicy.length} service(s) are using this policy (${serviceNames}). Please reassign or remove the policy from those services first.`,\r\n                'error'\r\n            );\r\n            return;\r\n        }\r\n\r\n        if (!confirm('Are you sure you want to delete this policy? This action cannot be undone.')) {\r\n            return;\r\n        }\r\n\r\n        startTransition(async () => {\r\n            try {\r\n                await deletePolicy(policyId);\r\n                showToast('Policy deleted successfully', 'success');\r\n                router.push('/policies');\r\n            } catch (error) {\r\n                const errorMessage = error instanceof Error ? error.message : 'Failed to delete policy';\r\n                showToast(errorMessage, 'error');\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"glass-panel\" style={{\r\n            padding: '1.5rem',\r\n            background: 'linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)',\r\n            border: '1px solid #fecaca',\r\n            borderRadius: '12px',\r\n            marginTop: '2rem'\r\n        }}>\r\n            <h3 style={{ fontSize: '1.1rem', fontWeight: '600', marginBottom: '0.5rem', color: '#991b1b' }}>\r\n                Danger Zone\r\n            </h3>\r\n            {servicesUsingPolicy.length > 0 ? (\r\n                <>\r\n                    <p style={{ fontSize: '0.85rem', color: '#7f1d1d', marginBottom: '0.75rem' }}>\r\n                        This policy cannot be deleted because it is currently assigned to {servicesUsingPolicy.length} service(s):\r\n                    </p>\r\n                    <ul style={{ \r\n                        fontSize: '0.85rem', \r\n                        color: '#7f1d1d', \r\n                        marginBottom: '1rem',\r\n                        paddingLeft: '1.5rem',\r\n                        listStyle: 'disc'\r\n                    }}>\r\n                        {servicesUsingPolicy.map(service => (\r\n                            <li key={service.id} style={{ marginBottom: '0.25rem' }}>\r\n                                <a \r\n                                    href={`/services/${service.id}`}\r\n                                    style={{ \r\n                                        color: '#991b1b', \r\n                                        textDecoration: 'underline',\r\n                                        fontWeight: '500'\r\n                                    }}\r\n                                >\r\n                                    {service.name}\r\n                                </a>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                    <p style={{ fontSize: '0.85rem', color: '#7f1d1d', marginBottom: '1rem' }}>\r\n                        Please reassign or remove the policy from these services before deleting.\r\n                    </p>\r\n                    <button\r\n                        type=\"button\"\r\n                        disabled\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '0.6rem',\r\n                            background: '#9ca3af',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '8px',\r\n                            fontSize: '0.9rem',\r\n                            fontWeight: '600',\r\n                            cursor: 'not-allowed',\r\n                            opacity: 0.6\r\n                        }}\r\n                    >\r\n                        Delete Policy (Disabled - Policy in Use)\r\n                    </button>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <p style={{ fontSize: '0.85rem', color: '#7f1d1d', marginBottom: '1rem' }}>\r\n                        Deleting this policy will remove it from all services. This action cannot be undone.\r\n                    </p>\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={handleDelete}\r\n                        disabled={isPending}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '0.6rem',\r\n                            background: isPending ? '#9ca3af' : '#dc2626',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '8px',\r\n                            fontSize: '0.9rem',\r\n                            fontWeight: '600',\r\n                            cursor: isPending ? 'not-allowed' : 'pointer',\r\n                            opacity: isPending ? 0.6 : 1\r\n                        }}\r\n                    >\r\n                        {isPending ? 'Deleting...' : 'Delete Policy'}\r\n                    </button>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\PolicyStepCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\PolicyStepCreateForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\PostmortemCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\PostmortemForm.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 54,
        "column": 36,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 54,
        "endColumn": 39,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1924, 1927], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1924, 1927], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 57,
        "column": 29,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 57,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2046, 2049], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2046, 2049], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 68,
        "column": 32,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 68,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2363, 2366], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2363, 2366], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 83,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 83,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2932, 2935], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2932, 2935], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 86,
        "column": 35,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 86,
        "endColumn": 38,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3063, 3066], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3063, 3066], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 154,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 154,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5238, 5241], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5238, 5241], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 21,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 21,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [823, 826], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [823, 826], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 22,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 22,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [900, 903], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [900, 903], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 25,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 25,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1047, 1050], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1047, 1050], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 104,
        "column": 37,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 104,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3693, 3696], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3693, 3696], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 274,
        "column": 83,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 274,
        "endColumn": 86,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9948, 9951], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9948, 9951], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 6,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useTransition } from 'react';\r\nimport { upsertPostmortem, type PostmortemData } from '@/app/(app)/postmortems/actions';\r\nimport { Button, FormField } from '@/components/ui';\r\nimport { useRouter } from 'next/navigation';\r\nimport PostmortemTimelineBuilder, {\r\n  type TimelineEvent,\r\n} from './postmortem/PostmortemTimelineBuilder';\r\nimport PostmortemImpactInput, { type ImpactMetrics } from './postmortem/PostmortemImpactInput';\r\nimport PostmortemActionItems, { type ActionItem } from './postmortem/PostmortemActionItems';\r\nimport { useTimezone } from '@/contexts/TimezoneContext';\r\nimport { formatDateTime } from '@/lib/timezone';\r\n\r\ntype PostmortemFormProps = {\r\n  incidentId: string;\r\n  initialData?: {\r\n    id: string;\r\n    title: string;\r\n    summary?: string | null;\r\n    timeline?: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    impact?: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    rootCause?: string | null;\r\n    resolution?: string | null;\r\n    actionItems?: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    lessons?: string | null;\r\n    status?: string;\r\n    isPublic?: boolean | null;\r\n  };\r\n  users?: Array<{ id: string; name: string; email: string }>;\r\n  resolvedIncidents?: Array<{\r\n    id: string;\r\n    title: string;\r\n    resolvedAt: Date | null;\r\n    service: {\r\n      name: string;\r\n    };\r\n  }>;\r\n};\r\n\r\nexport default function PostmortemForm({\r\n  incidentId,\r\n  initialData,\r\n  users = [],\r\n  resolvedIncidents = [],\r\n}: PostmortemFormProps) {\r\n  const router = useRouter();\r\n  const { userTimeZone } = useTimezone();\r\n  const [isPending, startTransition] = useTransition();\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [selectedIncidentId, setSelectedIncidentId] = useState<string>(incidentId || '');\r\n\r\n  // Parse initial data with proper types\r\n  const parseTimeline = (timeline: any): TimelineEvent[] => {\r\n     \r\n    if (!timeline || !Array.isArray(timeline)) return [];\r\n    return timeline.map((e: any) => ({\r\n       \r\n      id: e.id || `event-${Date.now()}-${Math.random()}`,\r\n      timestamp: e.timestamp || new Date().toISOString(),\r\n      type: e.type || 'DETECTION',\r\n      title: e.title || '',\r\n      description: e.description || '',\r\n      actor: e.actor,\r\n    }));\r\n  };\r\n\r\n  const parseImpact = (impact: any): ImpactMetrics => {\r\n     \r\n    if (!impact || typeof impact !== 'object') return {};\r\n    return {\r\n      usersAffected: impact.usersAffected,\r\n      downtimeMinutes: impact.downtimeMinutes,\r\n      errorRate: impact.errorRate,\r\n      servicesAffected: Array.isArray(impact.servicesAffected) ? impact.servicesAffected : [],\r\n      slaBreaches: impact.slaBreaches,\r\n      revenueImpact: impact.revenueImpact,\r\n      apiErrors: impact.apiErrors,\r\n      performanceDegradation: impact.performanceDegradation,\r\n    };\r\n  };\r\n\r\n  const parseActionItems = (actionItems: any): ActionItem[] => {\r\n     \r\n    if (!actionItems || !Array.isArray(actionItems)) return [];\r\n    return actionItems.map((item: any) => ({\r\n       \r\n      id: item.id || `action-${Date.now()}-${Math.random()}`,\r\n      title: item.title || '',\r\n      description: item.description || '',\r\n      owner: item.owner,\r\n      dueDate: item.dueDate,\r\n      status: item.status || 'OPEN',\r\n      priority: item.priority || 'MEDIUM',\r\n    }));\r\n  };\r\n\r\n  const [formData, setFormData] = useState<PostmortemData>({\r\n    title: initialData?.title || '',\r\n    summary: initialData?.summary || '',\r\n    rootCause: initialData?.rootCause || '',\r\n    resolution: initialData?.resolution || '',\r\n    lessons: initialData?.lessons || '',\r\n    status: (initialData?.status as any) || 'DRAFT', // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    isPublic: initialData?.isPublic ?? true,\r\n    timeline: initialData?.timeline || [],\r\n    impact: initialData?.impact || {},\r\n    actionItems: initialData?.actionItems || [],\r\n  });\r\n\r\n  const [timelineEvents, setTimelineEvents] = useState<TimelineEvent[]>(\r\n    parseTimeline(initialData?.timeline)\r\n  );\r\n  const [impactMetrics, setImpactMetrics] = useState<ImpactMetrics>(\r\n    parseImpact(initialData?.impact)\r\n  );\r\n  const [actionItems, setActionItems] = useState<ActionItem[]>(\r\n    parseActionItems(initialData?.actionItems)\r\n  );\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n\r\n    const targetIncidentId = selectedIncidentId || incidentId;\r\n\r\n    if (!targetIncidentId) {\r\n      setError('Please select an incident');\r\n      return;\r\n    }\r\n\r\n    if (!formData.title.trim()) {\r\n      setError('Title is required');\r\n      return;\r\n    }\r\n\r\n    // Combine all data before submitting\r\n    const submitData: PostmortemData = {\r\n      ...formData,\r\n      timeline: timelineEvents,\r\n      impact: impactMetrics,\r\n      actionItems: actionItems,\r\n    };\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const result = await upsertPostmortem(targetIncidentId, submitData);\r\n        if (result.success) {\r\n          router.push(`/postmortems/${targetIncidentId}`);\r\n          router.refresh();\r\n        } else {\r\n          setError('Failed to save postmortem');\r\n        }\r\n      } catch (err: any) {\r\n         \r\n        setError(err.message || 'Failed to save postmortem');\r\n      }\r\n    });\r\n  };\r\n\r\n  const selectedIncident = resolvedIncidents.find(inc => inc.id === selectedIncidentId);\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}>\r\n        {/* Incident Selection - Only show if no incidentId provided and we have resolved incidents */}\r\n        {!incidentId && resolvedIncidents.length > 0 && (\r\n          <div\r\n            className=\"glass-panel\"\r\n            style={{\r\n              padding: 'var(--spacing-6)',\r\n              background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n              border: '1px solid #e2e8f0',\r\n              borderRadius: 'var(--radius-lg)',\r\n              boxShadow: '0 4px 16px rgba(0,0,0,0.06)',\r\n            }}\r\n          >\r\n            <h2\r\n              style={{\r\n                fontSize: 'var(--font-size-xl)',\r\n                fontWeight: '700',\r\n                marginBottom: 'var(--spacing-4)',\r\n              }}\r\n            >\r\n              Select Incident\r\n            </h2>\r\n            <FormField\r\n              label=\"Resolved Incident\"\r\n              type=\"select\"\r\n              required\r\n              value={selectedIncidentId}\r\n              onChange={e => setSelectedIncidentId(e.target.value)}\r\n              options={resolvedIncidents.map(incident => ({\r\n                value: incident.id,\r\n                label: `${incident.title} (${incident.service.name}) - Resolved ${incident.resolvedAt ? formatDateTime(incident.resolvedAt, userTimeZone, { format: 'date' }) : 'N/A'}`,\r\n              }))}\r\n              placeholder=\"Select a resolved incident...\"\r\n              helperText=\"Choose the incident for which you want to create a postmortem\"\r\n            />\r\n            {selectedIncident && (\r\n              <div\r\n                style={{\r\n                  marginTop: 'var(--spacing-3)',\r\n                  padding: 'var(--spacing-3)',\r\n                  background: 'var(--color-info-light)20',\r\n                  border: '1px solid var(--color-info-light)40',\r\n                  borderRadius: 'var(--radius-md)',\r\n                }}\r\n              >\r\n                <div style={{ fontSize: 'var(--font-size-sm)', color: 'var(--text-secondary)' }}>\r\n                  <strong>Selected:</strong> {selectedIncident.title}\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    fontSize: 'var(--font-size-xs)',\r\n                    color: 'var(--text-muted)',\r\n                    marginTop: 'var(--spacing-1)',\r\n                  }}\r\n                >\r\n                  Service: {selectedIncident.service.name} ΓÇó Resolved:{' '}\r\n                  {selectedIncident.resolvedAt\r\n                    ? formatDateTime(selectedIncident.resolvedAt, userTimeZone, { format: 'date' })\r\n                    : 'N/A'}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Basic Information */}\r\n        <div\r\n          className=\"glass-panel\"\r\n          style={{\r\n            padding: 'var(--spacing-6)',\r\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n            border: '1px solid #e2e8f0',\r\n            borderRadius: 'var(--radius-lg)',\r\n            boxShadow: '0 4px 16px rgba(0,0,0,0.06)',\r\n          }}\r\n        >\r\n          <h2\r\n            style={{\r\n              fontSize: 'var(--font-size-xl)',\r\n              fontWeight: '700',\r\n              marginBottom: 'var(--spacing-4)',\r\n            }}\r\n          >\r\n            Basic Information\r\n          </h2>\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-4)' }}>\r\n            <FormField\r\n              type=\"input\"\r\n              label=\"Title\"\r\n              required\r\n              value={formData.title}\r\n              onChange={e => setFormData({ ...formData, title: e.target.value })}\r\n              placeholder=\"e.g., Database Connection Pool Exhaustion\"\r\n            />\r\n\r\n            <FormField\r\n              label=\"Executive Summary\"\r\n              type=\"textarea\"\r\n              rows={4}\r\n              value={formData.summary || ''}\r\n              onChange={e => setFormData({ ...formData, summary: e.target.value })}\r\n              helperText=\"Brief overview of the incident and its impact\"\r\n              placeholder=\"Provide a high-level summary for stakeholders...\"\r\n            />\r\n\r\n            <FormField\r\n              label=\"Status\"\r\n              type=\"select\"\r\n              value={formData.status || 'DRAFT'}\r\n              onChange={e => setFormData({ ...formData, status: e.target.value as any })} // eslint-disable-line @typescript-eslint/no-explicit-any\r\n              options={[\r\n                { value: 'DRAFT', label: 'Draft' },\r\n                { value: 'PUBLISHED', label: 'Published' },\r\n                { value: 'ARCHIVED', label: 'Archived' },\r\n              ]}\r\n            />\r\n            <FormField\r\n              label=\"Visibility\"\r\n              type=\"select\"\r\n              value={formData.isPublic ? 'public' : 'private'}\r\n              onChange={e => setFormData({ ...formData, isPublic: e.target.value === 'public' })}\r\n              options={[\r\n                { value: 'public', label: 'Public (shown on status page)' },\r\n                { value: 'private', label: 'Private (internal only)' },\r\n              ]}\r\n              helperText=\"Private postmortems are not shown on the public status page.\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Timeline */}\r\n        <div\r\n          className=\"glass-panel\"\r\n          style={{\r\n            padding: 'var(--spacing-6)',\r\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n            border: '1px solid #e2e8f0',\r\n            borderRadius: 'var(--radius-lg)',\r\n            boxShadow: '0 4px 16px rgba(0,0,0,0.06)',\r\n          }}\r\n        >\r\n          <h2\r\n            style={{\r\n              fontSize: 'var(--font-size-xl)',\r\n              fontWeight: '700',\r\n              marginBottom: 'var(--spacing-4)',\r\n            }}\r\n          >\r\n            Incident Timeline\r\n          </h2>\r\n          <PostmortemTimelineBuilder events={timelineEvents} onChange={setTimelineEvents} />\r\n        </div>\r\n\r\n        {/* Impact Metrics */}\r\n        <div\r\n          className=\"glass-panel\"\r\n          style={{\r\n            padding: 'var(--spacing-6)',\r\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n            border: '1px solid #e2e8f0',\r\n            borderRadius: 'var(--radius-lg)',\r\n            boxShadow: '0 4px 16px rgba(0,0,0,0.06)',\r\n          }}\r\n        >\r\n          <PostmortemImpactInput metrics={impactMetrics} onChange={setImpactMetrics} />\r\n        </div>\r\n\r\n        {/* Root Cause & Resolution */}\r\n        <div\r\n          className=\"glass-panel\"\r\n          style={{\r\n            padding: 'var(--spacing-6)',\r\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n            border: '1px solid #e2e8f0',\r\n            borderRadius: 'var(--radius-lg)',\r\n            boxShadow: '0 4px 16px rgba(0,0,0,0.06)',\r\n          }}\r\n        >\r\n          <h2\r\n            style={{\r\n              fontSize: 'var(--font-size-xl)',\r\n              fontWeight: '700',\r\n              marginBottom: 'var(--spacing-4)',\r\n            }}\r\n          >\r\n            Analysis\r\n          </h2>\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-4)' }}>\r\n            <FormField\r\n              label=\"Root Cause Analysis\"\r\n              type=\"textarea\"\r\n              rows={6}\r\n              value={formData.rootCause || ''}\r\n              onChange={e => setFormData({ ...formData, rootCause: e.target.value })}\r\n              helperText=\"What was the underlying cause of this incident?\"\r\n              placeholder=\"Describe the root cause in detail...\"\r\n            />\r\n\r\n            <FormField\r\n              label=\"Resolution\"\r\n              type=\"textarea\"\r\n              rows={4}\r\n              value={formData.resolution || ''}\r\n              onChange={e => setFormData({ ...formData, resolution: e.target.value })}\r\n              helperText=\"How was the incident resolved?\"\r\n              placeholder=\"Describe the steps taken to resolve the incident...\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Items */}\r\n        <div\r\n          className=\"glass-panel\"\r\n          style={{\r\n            padding: 'var(--spacing-6)',\r\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n            border: '1px solid #e2e8f0',\r\n            borderRadius: 'var(--radius-lg)',\r\n            boxShadow: '0 4px 16px rgba(0,0,0,0.06)',\r\n          }}\r\n        >\r\n          <PostmortemActionItems\r\n            actionItems={actionItems}\r\n            onChange={setActionItems}\r\n            users={users}\r\n          />\r\n        </div>\r\n\r\n        {/* Lessons Learned */}\r\n        <div\r\n          className=\"glass-panel\"\r\n          style={{\r\n            padding: 'var(--spacing-6)',\r\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n            border: '1px solid #e2e8f0',\r\n            borderRadius: 'var(--radius-lg)',\r\n            boxShadow: '0 4px 16px rgba(0,0,0,0.06)',\r\n          }}\r\n        >\r\n          <h2\r\n            style={{\r\n              fontSize: 'var(--font-size-xl)',\r\n              fontWeight: '700',\r\n              marginBottom: 'var(--spacing-4)',\r\n            }}\r\n          >\r\n            Lessons Learned\r\n          </h2>\r\n          <FormField\r\n            label=\"Lessons Learned\"\r\n            type=\"textarea\"\r\n            rows={6}\r\n            value={formData.lessons || ''}\r\n            onChange={e => setFormData({ ...formData, lessons: e.target.value })}\r\n            helperText=\"What did we learn? How can we prevent this in the future?\"\r\n            placeholder=\"Document key learnings and preventive measures...\"\r\n          />\r\n        </div>\r\n\r\n        {error && (\r\n          <div\r\n            style={{\r\n              padding: 'var(--spacing-3)',\r\n              background: 'var(--color-error-light)',\r\n              borderRadius: 'var(--radius-md)',\r\n              color: 'var(--color-error-dark)',\r\n            }}\r\n          >\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        <div style={{ display: 'flex', gap: 'var(--spacing-3)', justifyContent: 'flex-end' }}>\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"secondary\"\r\n            onClick={() => router.back()}\r\n            disabled={isPending}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\" variant=\"primary\" isLoading={isPending}>\r\n            {initialData ? 'Update' : 'Create'} Postmortem\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\PresetSelector.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\PresetSelector.tsx:66:13\n  64 |                 );\n  65 |             });\n> 66 |             setSelectedPresetId(matchingPreset?.id || null); // eslint-disable-line react-hooks/set-state-in-effect\n     |             ^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  67 |         }\n  68 |     }, [currentCriteria, presets]);\n  69 |",
        "line": 66,
        "column": 13,
        "nodeType": null,
        "endLine": 66,
        "endColumn": 32,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\QuickActions.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'setIsOpen'. Either include it or remove the dependency array.",
        "line": 111,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 111,
        "endColumn": 16,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [isOpen, setIsOpen]",
            "fix": { "range": [4008, 4016], "text": "[isOpen, setIsOpen]" }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useRef, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useModalState } from '@/hooks/useModalState';\r\n\r\ntype QuickAction = {\r\n    label: string;\r\n    href: string;\r\n    icon: React.ReactNode;\r\n    description?: string;\r\n};\r\n\r\ntype QuickActionsProps = {\r\n    canCreate?: boolean;\r\n};\r\n\r\nconst quickActions: QuickAction[] = [\r\n    {\r\n        label: 'New Incident',\r\n        href: '/incidents/create',\r\n        description: 'Create a new incident',\r\n        icon: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <path d=\"M12 3 2.5 20h19L12 3Zm0 6 4.5 9h-9L12 9Zm0 3v4\" strokeLinecap=\"round\" />\r\n            </svg>\r\n        )\r\n    },\r\n    {\r\n        label: 'New Postmortem',\r\n        href: '/postmortems/create',\r\n        description: 'Create postmortem for resolved incident',\r\n        icon: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                <path d=\"M14 2v6h6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                <path d=\"M16 13H8\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                <path d=\"M16 17H8\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                <path d=\"M10 9H8\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n            </svg>\r\n        )\r\n    },\r\n    {\r\n        label: 'New Service',\r\n        href: '/services',\r\n        description: 'Add a new service',\r\n        icon: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\r\n                <path d=\"M4 6h16v5H4V6Zm0 7h16v5H4v-5Z\" />\r\n            </svg>\r\n        )\r\n    },\r\n    {\r\n        label: 'New Team',\r\n        href: '/teams',\r\n        description: 'Create a new team',\r\n        icon: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\r\n                <path d=\"M7 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6Zm10 0a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM3 19a4 4 0 0 1 8 0v1H3v-1Zm10 1v-1a4 4 0 0 1 8 0v1h-8Z\" />\r\n            </svg>\r\n        )\r\n    },\r\n    {\r\n        label: 'New Schedule',\r\n        href: '/schedules',\r\n        description: 'Set up on-call schedule',\r\n        icon: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <path d=\"M7 3v3m10-3v3M4 9h16v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9Z\" strokeLinecap=\"round\" />\r\n            </svg>\r\n        )\r\n    },\r\n    {\r\n        label: 'New Policy',\r\n        href: '/policies',\r\n        description: 'Create escalation policy',\r\n        icon: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\r\n                <path d=\"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5Z\" />\r\n            </svg>\r\n        )\r\n    }\r\n];\r\n\r\nexport default function QuickActions({ canCreate = true }: QuickActionsProps) {\r\n    const [isOpen, setIsOpen] = useModalState('quickActions');\r\n    const router = useRouter();\r\n    const menuRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (e: MouseEvent) => {\r\n            if (menuRef.current && !menuRef.current.contains(e.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n\r\n        const handleEscape = (e: KeyboardEvent) => {\r\n            if (e.key === 'Escape' && isOpen) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n\r\n        if (isOpen) {\r\n            document.addEventListener('mousedown', handleClickOutside);\r\n            document.addEventListener('keydown', handleEscape);\r\n            return () => {\r\n                document.removeEventListener('mousedown', handleClickOutside);\r\n                document.removeEventListener('keydown', handleEscape);\r\n            };\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleActionClick = (href: string) => {\r\n        router.push(href);\r\n        setIsOpen(false);\r\n    };\r\n\r\n    // Don't render if user doesn't have create permissions\r\n    if (!canCreate) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div ref={menuRef} className=\"quick-actions-container\">\r\n            <button\r\n                type=\"button\"\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className={`quick-actions-trigger ${isOpen ? 'active' : ''}`}\r\n                aria-label=\"Quick actions menu - Create new resources\"\r\n                aria-expanded={isOpen}\r\n                aria-haspopup=\"true\"\r\n            >\r\n                <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\">\r\n                    <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" />\r\n                    <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\r\n                </svg>\r\n                <span className=\"quick-actions-label\">Create</span>\r\n                <svg\r\n                    className=\"quick-actions-chevron\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    width=\"14\"\r\n                    height=\"14\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                >\r\n                    <polyline points=\"6 9 12 15 18 9\" />\r\n                </svg>\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <>\r\n                    <div\r\n                        className=\"quick-actions-overlay\"\r\n                        onClick={() => setIsOpen(false)}\r\n                    />\r\n                    <div className=\"quick-actions-menu\">\r\n                        <div className=\"quick-actions-header\">\r\n                            <h3>Quick Actions</h3>\r\n                            <p>Create new resources quickly</p>\r\n                        </div>\r\n                        <div className=\"quick-actions-list\">\r\n                            {quickActions.map((action) => (\r\n                                <button\r\n                                    key={action.href}\r\n                                    type=\"button\"\r\n                                    onClick={() => handleActionClick(action.href)}\r\n                                    className=\"quick-actions-item\"\r\n                                    aria-label={`${action.label} - ${action.description || 'Create new resource'}`}\r\n                                >\r\n                                    <div className=\"quick-actions-item-icon\">\r\n                                        {action.icon}\r\n                                    </div>\r\n                                    <div className=\"quick-actions-item-content\">\r\n                                        <span className=\"quick-actions-item-label\">{action.label}</span>\r\n                                        {action.description && (\r\n                                            <span className=\"quick-actions-item-desc\">{action.description}</span>\r\n                                        )}\r\n                                    </div>\r\n                                    <svg\r\n                                        className=\"quick-actions-item-arrow\"\r\n                                        width=\"16\"\r\n                                        height=\"16\"\r\n                                        viewBox=\"0 0 16 16\"\r\n                                        fill=\"none\"\r\n                                    >\r\n                                        <path d=\"M6 12L10 8L6 4\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                    </svg>\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\RoleSelector.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ScheduleCalendar.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ScheduleCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ScheduleCreateForm.tsx",
    "messages": [
      {
        "ruleId": "no-duplicate-imports",
        "severity": 1,
        "message": "'react' import is duplicated.",
        "line": 4,
        "column": 1,
        "nodeType": "ImportDeclaration",
        "messageId": "import",
        "endLine": 4,
        "endColumn": 43
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 47,
        "column": 31,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [1762, 1881],
              "text": "\r\n                    ΓÜá∩╕Å You don&apos;t have access to create schedules. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [1762, 1881],
              "text": "\r\n                    ΓÜá∩╕Å You don&lsquo;t have access to create schedules. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [1762, 1881],
              "text": "\r\n                    ΓÜá∩╕Å You don&#39;t have access to create schedules. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [1762, 1881],
              "text": "\r\n                    ΓÜá∩╕Å You don&rsquo;t have access to create schedules. Admin or Responder role required.\r\n                "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 10,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 10,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [301, 304], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [301, 304], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useActionState } from 'react';\r\nimport { useRef, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useToast } from './ToastProvider';\r\nimport TimeZoneSelect from './TimeZoneSelect';\r\n\r\ntype ScheduleCreateFormProps = {\r\n    action: (prevState: any, formData: FormData) => Promise<{ error?: string } | { success?: boolean }>; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    canCreate: boolean;\r\n};\r\n\r\ntype FormState = {\r\n    error?: string | null;\r\n    success?: boolean;\r\n};\r\n\r\nexport default function ScheduleCreateForm({ action, canCreate }: ScheduleCreateFormProps) {\r\n    const [state, formAction] = useActionState<FormState, FormData>(action, { error: null, success: false });\r\n    const formRef = useRef<HTMLFormElement | null>(null);\r\n    const router = useRouter();\r\n    const { showToast } = useToast();\r\n\r\n    useEffect(() => {\r\n        if (state.success) {\r\n            showToast('Schedule created successfully', 'success');\r\n            formRef.current?.reset();\r\n            router.refresh();\r\n        } else if (state.error) {\r\n            showToast(state.error, 'error');\r\n        }\r\n    }, [state, router, showToast]);\r\n\r\n    if (!canCreate) {\r\n        return (\r\n            <div className=\"glass-panel\" style={{ \r\n                padding: '1.5rem', \r\n                background: '#f9fafb', \r\n                border: '1px solid #e5e7eb', \r\n                opacity: 0.7 \r\n            }}>\r\n                <h3 style={{ fontSize: '1.1rem', fontWeight: '600', marginBottom: '0.5rem', color: 'var(--text-secondary)' }}>\r\n                    New Schedule\r\n                </h3>\r\n                <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '1rem' }}>\r\n                    ΓÜá∩╕Å You don't have access to create schedules. Admin or Responder role required.\r\n                </p>\r\n                <div style={{ opacity: 0.5, pointerEvents: 'none' }}>\r\n                    <form className=\"schedule-form\">\r\n                        <label className=\"schedule-field\">\r\n                            Name\r\n                            <input name=\"name\" placeholder=\"Primary on-call\" disabled />\r\n                        </label>\r\n                        <label className=\"schedule-field\">\r\n                            Time zone\r\n                            <TimeZoneSelect name=\"timeZone\" defaultValue=\"UTC\" disabled />\r\n                        </label>\r\n                        <button className=\"glass-button primary schedule-submit\" disabled>\r\n                            Create schedule\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div id=\"new-schedule\" className=\"glass-panel\" style={{ \r\n            padding: '1.5rem', \r\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n            border: '1px solid #e2e8f0',\r\n            borderRadius: '12px'\r\n        }}>\r\n            <h3 style={{ fontSize: '1.1rem', fontWeight: '600', marginBottom: '1rem', color: 'var(--text-primary)' }}>\r\n                New Schedule\r\n            </h3>\r\n            <form ref={formRef} action={formAction} style={{ display: 'grid', gap: '1rem' }}>\r\n                <div>\r\n                    <label style={{ \r\n                        display: 'block', \r\n                        marginBottom: '0.4rem', \r\n                        fontSize: '0.85rem', \r\n                        fontWeight: '500',\r\n                        color: 'var(--text-primary)'\r\n                    }}>\r\n                        Name\r\n                    </label>\r\n                    <input \r\n                        name=\"name\" \r\n                        placeholder=\"Primary on-call\" \r\n                        required\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '0.6rem 0.75rem',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '8px',\r\n                            fontSize: '0.9rem',\r\n                            background: 'white'\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label style={{ \r\n                        display: 'block', \r\n                        marginBottom: '0.4rem', \r\n                        fontSize: '0.85rem', \r\n                        fontWeight: '500',\r\n                        color: 'var(--text-primary)'\r\n                    }}>\r\n                        Time Zone\r\n                    </label>\r\n                    <TimeZoneSelect name=\"timeZone\" defaultValue=\"UTC\" />\r\n                </div>\r\n                <button \r\n                    type=\"submit\" \r\n                    className=\"glass-button primary\"\r\n                    style={{ width: '100%' }}\r\n                >\r\n                    Create Schedule\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ScheduleEditForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\SchedulePreview.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ScheduleStats.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ScheduleTimeline.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\SearchPresetManager.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 172,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 172,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5007, 5010], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5007, 5010], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 193,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 193,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5562, 5565], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5562, 5565], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 213,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 213,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6113, 6116], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6113, 6116], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 3,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useTransition, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Card, Button, FormField, Switch, Select, Modal, Badge } from '@/components/ui';\r\nimport { type FilterCriteria } from '@/lib/search-presets';\r\n\r\ntype SearchPreset = {\r\n  id: string;\r\n  name: string;\r\n  description: string | null;\r\n  createdById: string;\r\n  isShared: boolean;\r\n  isDefault: boolean;\r\n  isPublic: boolean;\r\n  filterCriteria: FilterCriteria;\r\n  icon: string | null;\r\n  color: string | null;\r\n  order: number;\r\n  usageCount: number;\r\n  lastUsedAt: Date | null;\r\n  sharedWithTeams: string[];\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n  createdBy: {\r\n    id: string;\r\n    name: string;\r\n    email: string;\r\n  };\r\n};\r\n\r\ntype SearchPresetManagerProps = {\r\n  presets: SearchPreset[];\r\n  services: Array<{ id: string; name: string }>;\r\n  users: Array<{ id: string; name: string; email: string }>;\r\n  teams: Array<{ id: string; name: string }>;\r\n  currentUserId: string;\r\n  isAdmin: boolean;\r\n};\r\n\r\nconst PRESET_ICONS = [\r\n  { value: '', label: 'None' },\r\n  { value: 'filter', label: '≡ƒöì Filter' },\r\n  { value: 'star', label: 'Γ¡É Star' },\r\n  { value: 'fire', label: '≡ƒöÑ Fire' },\r\n  { value: 'clock', label: 'ΓÅ░ Clock' },\r\n  { value: 'check', label: 'Γ£ô Check' },\r\n  { value: 'alert', label: 'ΓÜá∩╕Å Alert' },\r\n  { value: 'tag', label: '≡ƒÅ╖∩╕Å Tag' },\r\n  { value: 'user', label: '≡ƒæñ User' },\r\n  { value: 'team', label: '≡ƒæÑ Team' },\r\n];\r\n\r\nconst PRESET_COLORS = [\r\n  { value: '', label: 'Default' },\r\n  { value: '#d32f2f', label: 'Red' },\r\n  { value: '#1976d2', label: 'Blue' },\r\n  { value: '#388e3c', label: 'Green' },\r\n  { value: '#f57c00', label: 'Orange' },\r\n  { value: '#7b1fa2', label: 'Purple' },\r\n  { value: '#0288d1', label: 'Cyan' },\r\n  { value: '#c2185b', label: 'Pink' },\r\n];\r\n\r\nexport default function SearchPresetManager({\r\n  presets: initialPresets,\r\n  services: _services,\r\n  users: _users,\r\n  teams: _teams,\r\n  currentUserId,\r\n  isAdmin,\r\n}: SearchPresetManagerProps) {\r\n  const router = useRouter();\r\n  const [isPending, startTransition] = useTransition();\r\n  const [presets, _setPresets] = useState(initialPresets);\r\n  const [editingPreset, setEditingPreset] = useState<SearchPreset | null>(null);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState<string | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    filterCriteria: {\r\n      filter: 'all_open',\r\n      search: '',\r\n      priority: 'all',\r\n      urgency: 'all',\r\n      sort: 'newest',\r\n      serviceIds: [] as string[],\r\n      assigneeIds: [] as string[],\r\n      statuses: [] as string[],\r\n    } as FilterCriteria,\r\n    isShared: false,\r\n    isPublic: false,\r\n    icon: '',\r\n    color: '',\r\n    sharedWithTeams: [] as string[],\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (editingPreset) {\r\n      setFormData({\r\n        name: editingPreset.name,\r\n        description: editingPreset.description || '',\r\n        filterCriteria: editingPreset.filterCriteria,\r\n        isShared: editingPreset.isShared,\r\n        isPublic: editingPreset.isPublic,\r\n        icon: editingPreset.icon || '',\r\n        color: editingPreset.color || '',\r\n        sharedWithTeams: editingPreset.sharedWithTeams,\r\n      });\r\n      setShowCreateModal(true);\r\n    }\r\n  }, [editingPreset]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n\r\n    if (!formData.name.trim()) {\r\n      setError('Preset name is required');\r\n      return;\r\n    }\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const url = editingPreset\r\n          ? `/api/search-presets/${editingPreset.id}`\r\n          : '/api/search-presets';\r\n\r\n        const method = editingPreset ? 'PATCH' : 'POST';\r\n\r\n        const response = await fetch(url, {\r\n          method,\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            ...formData,\r\n            description: formData.description || null,\r\n            icon: formData.icon || null,\r\n            color: formData.color || null,\r\n          }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const data = await response.json();\r\n          throw new Error(data.error || 'Failed to save preset');\r\n        }\r\n\r\n        router.refresh();\r\n        setShowCreateModal(false);\r\n        setEditingPreset(null);\r\n        setFormData({\r\n          name: '',\r\n          description: '',\r\n          filterCriteria: {\r\n            filter: 'all_open',\r\n            search: '',\r\n            priority: 'all',\r\n            urgency: 'all',\r\n            sort: 'newest',\r\n            serviceIds: [],\r\n            assigneeIds: [],\r\n            statuses: [],\r\n          },\r\n          isShared: false,\r\n          isPublic: false,\r\n          icon: '',\r\n          color: '',\r\n          sharedWithTeams: [],\r\n        });\r\n      } catch (err: any) {\r\n         \r\n        setError(err.message || 'Failed to save preset');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch(`/api/search-presets/${id}`, {\r\n          method: 'DELETE',\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const data = await response.json();\r\n          throw new Error(data.error || 'Failed to delete preset');\r\n        }\r\n\r\n        router.refresh();\r\n        setShowDeleteConfirm(null);\r\n      } catch (err: any) {\r\n         \r\n        setError(err.message || 'Failed to delete preset');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDuplicate = async (preset: SearchPreset) => {\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch(`/api/search-presets/${preset.id}/duplicate`, {\r\n          method: 'POST',\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const data = await response.json();\r\n          throw new Error(data.error || 'Failed to duplicate preset');\r\n        }\r\n\r\n        router.refresh();\r\n      } catch (err: any) {\r\n         \r\n        setError(err.message || 'Failed to duplicate preset');\r\n      }\r\n    });\r\n  };\r\n\r\n  const myPresets = presets.filter(p => p.createdById === currentUserId);\r\n  const sharedPresets = presets.filter(p => p.isShared && p.createdById !== currentUserId);\r\n  const publicPresets = presets.filter(p => p.isPublic && !p.isShared);\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}>\r\n      {/* Header */}\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <div>\r\n          <h2\r\n            style={{\r\n              fontSize: 'var(--font-size-xl)',\r\n              fontWeight: 'var(--font-weight-bold)',\r\n              marginBottom: 'var(--spacing-2)',\r\n            }}\r\n          >\r\n            Saved Searches\r\n          </h2>\r\n          <p style={{ color: 'var(--text-muted)', fontSize: 'var(--font-size-sm)' }}>\r\n            Save and reuse common filter combinations for quick access\r\n          </p>\r\n        </div>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={() => {\r\n            setEditingPreset(null);\r\n            setFormData({\r\n              name: '',\r\n              description: '',\r\n              filterCriteria: {\r\n                filter: 'all_open',\r\n                search: '',\r\n                priority: 'all',\r\n                urgency: 'all',\r\n                sort: 'newest',\r\n                serviceIds: [],\r\n                assigneeIds: [],\r\n                statuses: [],\r\n              },\r\n              isShared: false,\r\n              isPublic: false,\r\n              icon: '',\r\n              color: '',\r\n              sharedWithTeams: [],\r\n            });\r\n            setShowCreateModal(true);\r\n          }}\r\n        >\r\n          + Create Preset\r\n        </Button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div\r\n          style={{\r\n            padding: 'var(--spacing-3)',\r\n            background: 'var(--color-error-light)',\r\n            borderRadius: 'var(--radius-md)',\r\n            color: 'var(--color-error-dark)',\r\n            fontSize: 'var(--font-size-sm)',\r\n          }}\r\n        >\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* My Presets */}\r\n      <Card>\r\n        <div style={{ padding: 'var(--spacing-5)' }}>\r\n          <h3\r\n            style={{\r\n              fontSize: 'var(--font-size-lg)',\r\n              fontWeight: 'var(--font-weight-semibold)',\r\n              marginBottom: 'var(--spacing-4)',\r\n            }}\r\n          >\r\n            My Presets ({myPresets.length})\r\n          </h3>\r\n          {myPresets.length === 0 ? (\r\n            <p\r\n              style={{\r\n                color: 'var(--text-muted)',\r\n                fontSize: 'var(--font-size-sm)',\r\n                padding: 'var(--spacing-4)',\r\n              }}\r\n            >\r\n              No saved presets. Create one to get started.\r\n            </p>\r\n          ) : (\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-3)' }}>\r\n              {myPresets.map(preset => (\r\n                <PresetCard\r\n                  key={preset.id}\r\n                  preset={preset}\r\n                  onEdit={() => setEditingPreset(preset)}\r\n                  onDelete={() => setShowDeleteConfirm(preset.id)}\r\n                  onDuplicate={() => handleDuplicate(preset)}\r\n                  canEdit={preset.createdById === currentUserId || isAdmin}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Shared Presets */}\r\n      {sharedPresets.length > 0 && (\r\n        <Card>\r\n          <div style={{ padding: 'var(--spacing-5)' }}>\r\n            <h3\r\n              style={{\r\n                fontSize: 'var(--font-size-lg)',\r\n                fontWeight: 'var(--font-weight-semibold)',\r\n                marginBottom: 'var(--spacing-4)',\r\n              }}\r\n            >\r\n              Shared Presets ({sharedPresets.length})\r\n            </h3>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-3)' }}>\r\n              {sharedPresets.map(preset => (\r\n                <PresetCard\r\n                  key={preset.id}\r\n                  preset={preset}\r\n                  onEdit={() => setEditingPreset(preset)}\r\n                  onDelete={() => setShowDeleteConfirm(preset.id)}\r\n                  onDuplicate={() => handleDuplicate(preset)}\r\n                  canEdit={false}\r\n                  showCreator\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Public Presets */}\r\n      {publicPresets.length > 0 && (\r\n        <Card>\r\n          <div style={{ padding: 'var(--spacing-5)' }}>\r\n            <h3\r\n              style={{\r\n                fontSize: 'var(--font-size-lg)',\r\n                fontWeight: 'var(--font-weight-semibold)',\r\n                marginBottom: 'var(--spacing-4)',\r\n              }}\r\n            >\r\n              Public Presets ({publicPresets.length})\r\n            </h3>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-3)' }}>\r\n              {publicPresets.map(preset => (\r\n                <PresetCard\r\n                  key={preset.id}\r\n                  preset={preset}\r\n                  onEdit={() => setEditingPreset(preset)}\r\n                  onDelete={() => setShowDeleteConfirm(preset.id)}\r\n                  onDuplicate={() => handleDuplicate(preset)}\r\n                  canEdit={isAdmin}\r\n                  showCreator\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Create/Edit Modal */}\r\n      {showCreateModal && (\r\n        <Modal\r\n          isOpen={showCreateModal}\r\n          onClose={() => {\r\n            setShowCreateModal(false);\r\n            setEditingPreset(null);\r\n            setError(null);\r\n          }}\r\n          title={editingPreset ? 'Edit Preset' : 'Create Preset'}\r\n          size=\"lg\"\r\n        >\r\n          <form\r\n            onSubmit={handleSubmit}\r\n            style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-4)' }}\r\n          >\r\n            <FormField\r\n              type=\"input\"\r\n              label=\"Preset Name *\"\r\n              value={formData.name}\r\n              onChange={e => setFormData({ ...formData, name: e.target.value })}\r\n              required\r\n              placeholder=\"e.g., My Open Incidents\"\r\n            />\r\n\r\n            <FormField\r\n              type=\"textarea\"\r\n              label=\"Description\"\r\n              value={formData.description}\r\n              onChange={e => setFormData({ ...formData, description: e.target.value })}\r\n              placeholder=\"Optional description\"\r\n              rows={2}\r\n            />\r\n\r\n            {/* Filter Criteria */}\r\n            <div\r\n              style={{\r\n                border: '1px solid var(--border)',\r\n                borderRadius: 'var(--radius-md)',\r\n                padding: 'var(--spacing-4)',\r\n              }}\r\n            >\r\n              <h4\r\n                style={{\r\n                  fontSize: 'var(--font-size-base)',\r\n                  fontWeight: 'var(--font-weight-semibold)',\r\n                  marginBottom: 'var(--spacing-3)',\r\n                }}\r\n              >\r\n                Filter Criteria\r\n              </h4>\r\n              <div\r\n                style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 'var(--spacing-3)' }}\r\n              >\r\n                <div>\r\n                  <label\r\n                    style={{\r\n                      display: 'block',\r\n                      marginBottom: 'var(--spacing-2)',\r\n                      fontSize: 'var(--font-size-sm)',\r\n                      fontWeight: 'var(--font-weight-medium)',\r\n                    }}\r\n                  >\r\n                    Status Filter\r\n                  </label>\r\n                  <Select\r\n                    value={formData.filterCriteria.filter || 'all_open'}\r\n                    onChange={e =>\r\n                      setFormData({\r\n                        ...formData,\r\n                        filterCriteria: { ...formData.filterCriteria, filter: e.target.value },\r\n                      })\r\n                    }\r\n                    options={[\r\n                      { value: 'all_open', label: 'All Open' },\r\n                      { value: 'mine', label: 'My Incidents' },\r\n                      { value: 'resolved', label: 'Resolved' },\r\n                      { value: 'snoozed', label: 'Snoozed' },\r\n                      { value: 'suppressed', label: 'Suppressed' },\r\n                    ]}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label\r\n                    style={{\r\n                      display: 'block',\r\n                      marginBottom: 'var(--spacing-2)',\r\n                      fontSize: 'var(--font-size-sm)',\r\n                      fontWeight: 'var(--font-weight-medium)',\r\n                    }}\r\n                  >\r\n                    Priority\r\n                  </label>\r\n                  <Select\r\n                    value={formData.filterCriteria.priority || 'all'}\r\n                    onChange={e =>\r\n                      setFormData({\r\n                        ...formData,\r\n                        filterCriteria: { ...formData.filterCriteria, priority: e.target.value },\r\n                      })\r\n                    }\r\n                    options={[\r\n                      { value: 'all', label: 'All Priorities' },\r\n                      { value: 'P1', label: 'P1 - Critical' },\r\n                      { value: 'P2', label: 'P2 - High' },\r\n                      { value: 'P3', label: 'P3 - Medium' },\r\n                      { value: 'P4', label: 'P4 - Low' },\r\n                      { value: 'P5', label: 'P5 - Info' },\r\n                    ]}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label\r\n                    style={{\r\n                      display: 'block',\r\n                      marginBottom: 'var(--spacing-2)',\r\n                      fontSize: 'var(--font-size-sm)',\r\n                      fontWeight: 'var(--font-weight-medium)',\r\n                    }}\r\n                  >\r\n                    Urgency\r\n                  </label>\r\n                  <Select\r\n                    value={formData.filterCriteria.urgency || 'all'}\r\n                    onChange={e =>\r\n                      setFormData({\r\n                        ...formData,\r\n                        filterCriteria: { ...formData.filterCriteria, urgency: e.target.value },\r\n                      })\r\n                    }\r\n                    options={[\r\n                      { value: 'all', label: 'All Urgencies' },\r\n                      { value: 'HIGH', label: 'High' },\r\n                      { value: 'LOW', label: 'Low' },\r\n                    ]}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label\r\n                    style={{\r\n                      display: 'block',\r\n                      marginBottom: 'var(--spacing-2)',\r\n                      fontSize: 'var(--font-size-sm)',\r\n                      fontWeight: 'var(--font-weight-medium)',\r\n                    }}\r\n                  >\r\n                    Sort By\r\n                  </label>\r\n                  <Select\r\n                    value={formData.filterCriteria.sort || 'newest'}\r\n                    onChange={e =>\r\n                      setFormData({\r\n                        ...formData,\r\n                        filterCriteria: { ...formData.filterCriteria, sort: e.target.value },\r\n                      })\r\n                    }\r\n                    options={[\r\n                      { value: 'newest', label: 'Newest First' },\r\n                      { value: 'oldest', label: 'Oldest First' },\r\n                      { value: 'priority', label: 'Priority' },\r\n                      { value: 'status', label: 'Status' },\r\n                      { value: 'updated', label: 'Recently Updated' },\r\n                    ]}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div style={{ marginTop: 'var(--spacing-3)' }}>\r\n                <FormField\r\n                  type=\"input\"\r\n                  label=\"Search Query\"\r\n                  value={formData.filterCriteria.search || ''}\r\n                  onChange={e =>\r\n                    setFormData({\r\n                      ...formData,\r\n                      filterCriteria: { ...formData.filterCriteria, search: e.target.value },\r\n                    })\r\n                  }\r\n                  placeholder=\"Optional search term\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Visual Settings */}\r\n            <div\r\n              style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 'var(--spacing-3)' }}\r\n            >\r\n              <div>\r\n                <label\r\n                  style={{\r\n                    display: 'block',\r\n                    marginBottom: 'var(--spacing-2)',\r\n                    fontSize: 'var(--font-size-sm)',\r\n                    fontWeight: 'var(--font-weight-medium)',\r\n                  }}\r\n                >\r\n                  Icon\r\n                </label>\r\n                <Select\r\n                  value={formData.icon}\r\n                  onChange={e => setFormData({ ...formData, icon: e.target.value })}\r\n                  options={PRESET_ICONS}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  style={{\r\n                    display: 'block',\r\n                    marginBottom: 'var(--spacing-2)',\r\n                    fontSize: 'var(--font-size-sm)',\r\n                    fontWeight: 'var(--font-weight-medium)',\r\n                  }}\r\n                >\r\n                  Color\r\n                </label>\r\n                <Select\r\n                  value={formData.color}\r\n                  onChange={e => setFormData({ ...formData, color: e.target.value })}\r\n                  options={PRESET_COLORS}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Sharing Options */}\r\n            <div\r\n              style={{\r\n                border: '1px solid var(--border)',\r\n                borderRadius: 'var(--radius-md)',\r\n                padding: 'var(--spacing-4)',\r\n              }}\r\n            >\r\n              <h4\r\n                style={{\r\n                  fontSize: 'var(--font-size-base)',\r\n                  fontWeight: 'var(--font-weight-semibold)',\r\n                  marginBottom: 'var(--spacing-3)',\r\n                }}\r\n              >\r\n                Sharing Options\r\n              </h4>\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-3)' }}>\r\n                <Switch\r\n                  checked={formData.isShared}\r\n                  onChange={checked => setFormData({ ...formData, isShared: checked })}\r\n                  label=\"Share with my teams\"\r\n                />\r\n                {isAdmin && (\r\n                  <Switch\r\n                    checked={formData.isPublic}\r\n                    onChange={checked => setFormData({ ...formData, isPublic: checked })}\r\n                    label=\"Make public (visible to all users)\"\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                gap: 'var(--spacing-3)',\r\n                justifyContent: 'flex-end',\r\n                marginTop: 'var(--spacing-2)',\r\n              }}\r\n            >\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"secondary\"\r\n                onClick={() => {\r\n                  setShowCreateModal(false);\r\n                  setEditingPreset(null);\r\n                  setError(null);\r\n                }}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button type=\"submit\" variant=\"primary\" isLoading={isPending}>\r\n                {editingPreset ? 'Update Preset' : 'Create Preset'}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </Modal>\r\n      )}\r\n\r\n      {/* Delete Confirmation */}\r\n      {showDeleteConfirm && (\r\n        <Modal\r\n          isOpen={!!showDeleteConfirm}\r\n          onClose={() => setShowDeleteConfirm(null)}\r\n          title=\"Delete Preset\"\r\n          size=\"sm\"\r\n        >\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-4)' }}>\r\n            <p style={{ color: 'var(--text-secondary)' }}>\r\n              Are you sure you want to delete this preset? This action cannot be undone.\r\n            </p>\r\n            <div style={{ display: 'flex', gap: 'var(--spacing-3)', justifyContent: 'flex-end' }}>\r\n              <Button variant=\"secondary\" onClick={() => setShowDeleteConfirm(null)}>\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                variant=\"danger\"\r\n                onClick={() => handleDelete(showDeleteConfirm)}\r\n                isLoading={isPending}\r\n              >\r\n                Delete\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PresetCard({\r\n  preset,\r\n  onEdit,\r\n  onDelete,\r\n  onDuplicate,\r\n  canEdit,\r\n  showCreator = false,\r\n}: {\r\n  preset: SearchPreset;\r\n  onEdit: () => void;\r\n  onDelete: () => void;\r\n  onDuplicate: () => void;\r\n  canEdit: boolean;\r\n  showCreator?: boolean;\r\n}) {\r\n  const criteria = preset.filterCriteria;\r\n  const criteriaText = [\r\n    criteria.filter && criteria.filter !== 'all_open' && `Filter: ${criteria.filter}`,\r\n    criteria.priority && criteria.priority !== 'all' && `Priority: ${criteria.priority}`,\r\n    criteria.urgency && criteria.urgency !== 'all' && `Urgency: ${criteria.urgency}`,\r\n    criteria.sort && criteria.sort !== 'newest' && `Sort: ${criteria.sort}`,\r\n    criteria.search && `Search: \"${criteria.search}\"`,\r\n  ]\r\n    .filter(Boolean)\r\n    .join(' ΓÇó ');\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: 'var(--spacing-4)',\r\n        background: 'var(--color-neutral-50)',\r\n        borderRadius: 'var(--radius-md)',\r\n        border: '1px solid var(--color-neutral-200)',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'flex-start',\r\n        gap: 'var(--spacing-4)',\r\n      }}\r\n    >\r\n      <div style={{ flex: 1 }}>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: 'var(--spacing-2)',\r\n            marginBottom: 'var(--spacing-1)',\r\n          }}\r\n        >\r\n          {preset.icon && <span style={{ fontSize: '1.2rem' }}>{preset.icon}</span>}\r\n          <h4\r\n            style={{\r\n              fontSize: 'var(--font-size-base)',\r\n              fontWeight: 'var(--font-weight-semibold)',\r\n              color: preset.color || 'var(--text-primary)',\r\n            }}\r\n          >\r\n            {preset.name}\r\n          </h4>\r\n          {preset.isPublic && (\r\n            <Badge variant=\"info\" size=\"sm\">\r\n              Public\r\n            </Badge>\r\n          )}\r\n          {preset.isShared && !preset.isPublic && (\r\n            <Badge variant=\"default\" size=\"sm\">\r\n              Shared\r\n            </Badge>\r\n          )}\r\n          {preset.usageCount > 0 && (\r\n            <Badge variant=\"default\" size=\"sm\">\r\n              Used {preset.usageCount} time{preset.usageCount !== 1 ? 's' : ''}\r\n            </Badge>\r\n          )}\r\n        </div>\r\n        {preset.description && (\r\n          <p\r\n            style={{\r\n              fontSize: 'var(--font-size-sm)',\r\n              color: 'var(--text-muted)',\r\n              marginBottom: 'var(--spacing-2)',\r\n            }}\r\n          >\r\n            {preset.description}\r\n          </p>\r\n        )}\r\n        <p style={{ fontSize: 'var(--font-size-xs)', color: 'var(--text-muted)' }}>\r\n          {criteriaText || 'Default filters'}\r\n        </p>\r\n        {showCreator && (\r\n          <p\r\n            style={{\r\n              fontSize: 'var(--font-size-xs)',\r\n              color: 'var(--text-muted)',\r\n              marginTop: 'var(--spacing-1)',\r\n            }}\r\n          >\r\n            By {preset.createdBy.name}\r\n          </p>\r\n        )}\r\n      </div>\r\n      <div style={{ display: 'flex', gap: 'var(--spacing-2)' }}>\r\n        <Button variant=\"ghost\" size=\"sm\" onClick={onDuplicate} title=\"Duplicate\">\r\n          ≡ƒôï\r\n        </Button>\r\n        {canEdit && (\r\n          <>\r\n            <Button variant=\"ghost\" size=\"sm\" onClick={onEdit} title=\"Edit\">\r\n              Γ£Å∩╕Å\r\n            </Button>\r\n            <Button variant=\"ghost\" size=\"sm\" onClick={onDelete} title=\"Delete\">\r\n              ≡ƒùæ∩╕Å\r\n            </Button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\SettingsNav.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 62,
        "column": 45,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 62,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2222, 2225], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2222, 2225], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\Sidebar.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'isMobileMenuOpen' and 'setIsMobileMenuOpen'. Either include them or remove the dependency array.",
        "line": 250,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 250,
        "endColumn": 16,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [isMobileMenuOpen, pathname, setIsMobileMenuOpen]",
            "fix": {
              "range": [7803, 7813],
              "text": "[isMobileMenuOpen, pathname, setIsMobileMenuOpen]"
            }
          }
        ]
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 269,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 269,
        "endColumn": 24
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 270,
        "column": 9,
        "nodeType": "MemberExpression",
        "endLine": 270,
        "endColumn": 21
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 272,
        "column": 7,
        "nodeType": "MemberExpression",
        "endLine": 272,
        "endColumn": 19
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 379,
        "column": 20,
        "nodeType": "MemberExpression",
        "endLine": 379,
        "endColumn": 46
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 530,
        "column": 15,
        "nodeType": "JSXOpeningElement",
        "endLine": 541,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 6,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { useState, useEffect } from 'react';\r\nimport _KeyboardShortcuts from './KeyboardShortcuts';\r\nimport { useModalState } from '@/hooks/useModalState';\r\n\r\ntype NavItem = {\r\n  href: string;\r\n  label: string;\r\n  icon: React.ReactNode;\r\n  section?: string; // For grouping items\r\n  requiresRole?: string[]; // Optional role requirements\r\n};\r\n\r\nconst navigationItems: NavItem[] = [\r\n  // Main Navigation\r\n  {\r\n    href: '/',\r\n    label: 'Dashboard',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n        <path d=\"M3 11.5L12 4l9 7.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1v-8.5Z\" />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    href: '/incidents',\r\n    label: 'Incidents',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n        <path d=\"M12 3 2.5 20h19L12 3Zm0 6 4.5 9h-9L12 9Zm0 3v4\" strokeLinecap=\"round\" />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    href: '/services',\r\n    label: 'Services',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"currentColor\">\r\n        <path d=\"M4 6h16v5H4V6Zm0 7h16v5H4v-5Z\" />\r\n      </svg>\r\n    ),\r\n  },\r\n  // Operations Section\r\n  {\r\n    href: '/teams',\r\n    label: 'Teams',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"currentColor\">\r\n        <path d=\"M7 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6Zm10 0a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM3 19a4 4 0 0 1 8 0v1H3v-1Zm10 1v-1a4 4 0 0 1 8 0v1h-8Z\" />\r\n      </svg>\r\n    ),\r\n    section: 'OPERATIONS',\r\n  },\r\n  {\r\n    href: '/users',\r\n    label: 'Users',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"currentColor\">\r\n        <path d=\"M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0ZM4 20a6 6 0 0 1 16 0v1H4v-1Z\" />\r\n      </svg>\r\n    ),\r\n    section: 'OPERATIONS',\r\n  },\r\n  {\r\n    href: '/schedules',\r\n    label: 'Schedules',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n        <path d=\"M7 3v3m10-3v3M4 9h16v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9Z\" strokeLinecap=\"round\" />\r\n      </svg>\r\n    ),\r\n    section: 'OPERATIONS',\r\n  },\r\n  {\r\n    href: '/policies',\r\n    label: 'Escalation Policies',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"currentColor\">\r\n        <path d=\"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5Z\" />\r\n      </svg>\r\n    ),\r\n    section: 'OPERATIONS',\r\n  },\r\n  // Insights Section\r\n  {\r\n    href: '/analytics',\r\n    label: 'Analytics',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n        <path d=\"M5 20V10m7 10V4m7 16v-7\" strokeLinecap=\"round\" />\r\n      </svg>\r\n    ),\r\n    section: 'INSIGHTS',\r\n  },\r\n  {\r\n    href: '/postmortems',\r\n    label: 'Postmortems',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n        <path\r\n          d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n      </svg>\r\n    ),\r\n    section: 'INSIGHTS',\r\n  },\r\n  {\r\n    href: '/status',\r\n    label: 'Status Page',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n        <path\r\n          d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n      </svg>\r\n    ),\r\n    section: 'INSIGHTS',\r\n  },\r\n  {\r\n    href: '/action-items',\r\n    label: 'Action Items',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n        <path\r\n          d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n      </svg>\r\n    ),\r\n    section: 'INSIGHTS',\r\n  },\r\n  {\r\n    href: '/events',\r\n    label: 'Event Logs',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"currentColor\">\r\n        <path d=\"M5 4h14v4H5V4Zm0 6h14v4H5v-4Zm0 6h14v4H5v-4Z\" />\r\n      </svg>\r\n    ),\r\n    section: 'INSIGHTS',\r\n  },\r\n  {\r\n    href: '/audit',\r\n    label: 'Audit Log',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"currentColor\">\r\n        <path d=\"M6 4h9l3 3v13a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1Zm8 1.5V8h2.5L14 5.5ZM8 11h8v2H8v-2Zm0 4h8v2H8v-2Z\" />\r\n      </svg>\r\n    ),\r\n    section: 'INSIGHTS',\r\n  },\r\n\r\n\r\n  {\r\n    href: '/reports/executive',\r\n    label: 'Executive Report',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n        <path d=\"M9 19v-6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2zm0 0V9a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10m-6 0a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2m0 0V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2z\" />\r\n      </svg>\r\n    ),\r\n    section: 'INSIGHTS',\r\n    requiresRole: ['ADMIN'],\r\n  },\r\n  {\r\n    href: '/monitoring-new',\r\n    label: 'Monitoring',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n        <path d=\"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z\" />\r\n        <path d=\"M12 6v6l4 2\" />\r\n      </svg>\r\n    ),\r\n    section: 'INSIGHTS',\r\n    requiresRole: ['ADMIN'],\r\n  },\r\n  {\r\n    href: '/analytics-new',\r\n    label: 'Analytics V2',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n        <path d=\"M5 20V10m7 10V4m7 16v-7\" strokeLinecap=\"round\" />\r\n      </svg>\r\n    ),\r\n    section: 'INSIGHTS',\r\n    requiresRole: ['ADMIN'],\r\n  },\r\n  {\r\n    href: '/reports/executive',\r\n    label: 'Executive Report',\r\n    icon: (\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n        <path d=\"M9 19v-6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2zm0 0V9a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10m-6 0a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2m0 0V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2z\" />\r\n      </svg>\r\n    ),\r\n    section: 'INSIGHTS',\r\n    requiresRole: ['ADMIN'],\r\n  },\r\n];\r\n\r\ntype SidebarProps = {\r\n  userName?: string | null;\r\n  userEmail?: string | null;\r\n  userRole?: string | null;\r\n};\r\n\r\nexport default function Sidebar(\r\n  { userName, userEmail, userRole }: SidebarProps = {\r\n    userName: null,\r\n    userEmail: null,\r\n    userRole: null,\r\n  }\r\n) {\r\n  const pathname = usePathname();\r\n  const [activeIncidentsCount, setActiveIncidentsCount] = useState<number | null>(null);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useModalState('sidebarMobileMenu');\r\n\r\n  useEffect(() => {\r\n    // Fetch active incidents count\r\n    fetch('/api/sidebar-stats')\r\n      .then(res => res.json())\r\n      .then(data => setActiveIncidentsCount(data.activeIncidentsCount || 0))\r\n      .catch(() => setActiveIncidentsCount(0));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Check if mobile\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth < 768);\r\n    };\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Close mobile menu on route change\r\n    if (isMobileMenuOpen) {\r\n      setIsMobileMenuOpen(false);\r\n    }\r\n  }, [pathname]);\r\n\r\n  const isActive = (path: string) => {\r\n    if (path === '/' && pathname === '/') return true;\r\n    if (path !== '/' && pathname.startsWith(path)) return true;\r\n    return false;\r\n  };\r\n\r\n  // Group items by section and filter by role\r\n  const groupedItems = navigationItems.reduce(\r\n    (acc, item) => {\r\n      // Filter by role requirements\r\n      if (item.requiresRole && userRole) {\r\n        if (!item.requiresRole.includes(userRole)) {\r\n          return acc; // Skip this item\r\n        }\r\n      }\r\n\r\n      const section = item.section || 'MAIN';\r\n      if (!acc[section]) {\r\n        acc[section] = [];\r\n      }\r\n      acc[section].push(item);\r\n      return acc;\r\n    },\r\n    {} as Record<string, NavItem[]>\r\n  );\r\n\r\n  const renderNavItem = (item: NavItem) => {\r\n    const active = isActive(item.href);\r\n    const showBadge =\r\n      item.href === '/incidents' && activeIncidentsCount !== null && activeIncidentsCount > 0;\r\n\r\n    return (\r\n      <Link\r\n        key={item.href}\r\n        href={item.href}\r\n        className={`nav-item ${active ? 'active' : ''}`}\r\n        style={{\r\n          padding: 'clamp(0.5rem, 1vw, 0.625rem) clamp(0.6rem, 1.2vw, 0.75rem)',\r\n          textDecoration: 'none',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: '0.75rem',\r\n          borderRadius: '7px',\r\n          transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\r\n          background: active ? 'rgba(255,255,255,0.18)' : 'transparent',\r\n          color: active ? 'white' : 'rgba(255,255,255,0.75)',\r\n          fontWeight: active ? '700' : '500',\r\n          fontSize: 'clamp(0.82rem, 1.05vw, 0.9rem)',\r\n          border: active ? '1px solid rgba(255,255,255,0.1)' : '1px solid transparent',\r\n        }}\r\n        onMouseEnter={e => {\r\n          if (!active) {\r\n            e.currentTarget.style.background = 'rgba(255,255,255,0.1)';\r\n            e.currentTarget.style.color = 'white';\r\n            e.currentTarget.style.transform = 'translateX(4px)';\r\n          }\r\n        }}\r\n        onMouseLeave={e => {\r\n          if (!active) {\r\n            e.currentTarget.style.background = 'transparent';\r\n            e.currentTarget.style.color = 'rgba(255,255,255,0.75)';\r\n            e.currentTarget.style.transform = 'translateX(0)';\r\n          }\r\n        }}\r\n      >\r\n        <span\r\n          className=\"nav-icon\"\r\n          style={{\r\n            width: 'clamp(16px, 1.8vw, 18px)',\r\n            height: 'clamp(16px, 1.8vw, 18px)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            flexShrink: 0,\r\n            opacity: active ? 1 : 0.8,\r\n          }}\r\n        >\r\n          {item.icon}\r\n        </span>\r\n        <span style={{ whiteSpace: 'nowrap', flex: 1 }}>{item.label}</span>\r\n        {showBadge && (\r\n          <span\r\n            aria-label={`${activeIncidentsCount} active incidents`}\r\n            style={{\r\n              minWidth: '18px',\r\n              height: '18px',\r\n              padding: '0 5px',\r\n              background: '#ef4444',\r\n              color: 'white',\r\n              fontSize: 'clamp(0.6rem, 0.85vw, 0.7rem)',\r\n              fontWeight: '700',\r\n              borderRadius: '9px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n            }}\r\n          >\r\n            {activeIncidentsCount > 99 ? '99+' : activeIncidentsCount}\r\n          </span>\r\n        )}\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  const renderSection = (sectionName: string, items: NavItem[]) => {\r\n    if (sectionName === 'MAIN') {\r\n      return (\r\n        <div key={sectionName} style={{ marginBottom: '1.25rem' }}>\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.375rem' }}>\r\n            {items.map(renderNavItem)}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Minimal badge-style section header for OPERATIONS and INSIGHTS\r\n    const sectionColors: Record<string, { dot: string; text: string }> = {\r\n      OPERATIONS: {\r\n        dot: 'rgba(59, 130, 246, 0.8)', // Blue\r\n        text: 'rgba(255,255,255,0.75)',\r\n      },\r\n      INSIGHTS: {\r\n        dot: 'rgba(168, 85, 247, 0.8)', // Purple\r\n        text: 'rgba(255,255,255,0.75)',\r\n      },\r\n    };\r\n\r\n    const colors = sectionColors[sectionName] || {\r\n      dot: 'rgba(255,255,255,0.5)',\r\n      text: 'rgba(255,255,255,0.75)',\r\n    };\r\n\r\n    return (\r\n      <div key={sectionName} style={{ marginBottom: '1.25rem' }}>\r\n        {/* Minimal section header */}\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '0.5rem',\r\n            marginBottom: '0.625rem',\r\n            paddingLeft: '0.25rem',\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              width: '4px',\r\n              height: '4px',\r\n              borderRadius: '50%',\r\n              background: colors.dot,\r\n              flexShrink: 0,\r\n            }}\r\n          />\r\n          <span\r\n            style={{\r\n              fontSize: 'clamp(0.6rem, 0.85vw, 0.7rem)',\r\n              fontWeight: '600',\r\n              color: colors.text,\r\n              letterSpacing: '0.5px',\r\n              textTransform: 'uppercase',\r\n            }}\r\n          >\r\n            {sectionName}\r\n          </span>\r\n        </div>\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.375rem' }}>\r\n          {items.map(renderNavItem)}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <MobileMenuButton\r\n        isMobile={isMobile}\r\n        isMobileMenuOpen={isMobileMenuOpen}\r\n        setIsMobileMenuOpen={setIsMobileMenuOpen}\r\n      />\r\n      <MobileBackdrop\r\n        isMobile={isMobile}\r\n        isMobileMenuOpen={isMobileMenuOpen}\r\n        setIsMobileMenuOpen={setIsMobileMenuOpen}\r\n      />\r\n      <aside\r\n        className={`sidebar ${isMobile ? 'sidebar-mobile' : ''} ${isMobileMenuOpen ? 'sidebar-mobile-open' : ''}`}\r\n        style={{\r\n          width: isMobile ? '280px' : 'var(--sidebar-width)',\r\n          background: 'var(--gradient-primary)',\r\n          borderRight: '1px solid rgba(0,0,0,0.1)',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          height: '100vh',\r\n          position: isMobile ? 'fixed' : 'sticky',\r\n          top: 0,\r\n          left: 0,\r\n          color: 'white',\r\n          boxShadow: '2px 0 20px rgba(0, 0, 0, 0.08), inset -1px 0 0 rgba(255, 255, 255, 0.1)',\r\n          overflow: 'hidden',\r\n          zIndex: 1000,\r\n          transition: isMobile ? 'transform var(--transition-slow) var(--ease-out)' : 'none',\r\n          transform: isMobile && !isMobileMenuOpen ? 'translateX(-100%)' : 'translateX(0)',\r\n          visibility: isMobile && !isMobileMenuOpen ? 'hidden' : 'visible',\r\n        }}\r\n        aria-label=\"Main navigation\"\r\n      >\r\n        {' '}\r\n        {/* Branding Header - Enhanced */}\r\n        <div\r\n          style={{\r\n            padding:\r\n              'clamp(1rem, 2vw, 1.5rem) clamp(1rem, 2vw, 1.25rem) clamp(0.9rem, 1.8vw, 1.25rem)',\r\n            flexShrink: 0,\r\n            borderBottom: '1px solid rgba(255,255,255,0.1)',\r\n            background:\r\n              'linear-gradient(180deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0) 100%)',\r\n            position: 'relative',\r\n            overflow: 'hidden',\r\n          }}\r\n        >\r\n          {/* Subtle background pattern */}\r\n          <div\r\n            style={{\r\n              position: 'absolute',\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              background:\r\n                'radial-gradient(circle at 20% 30%, rgba(255,255,255,0.05) 0%, transparent 50%)',\r\n              pointerEvents: 'none',\r\n            }}\r\n          />\r\n\r\n          <Link\r\n            href=\"/\"\r\n            style={{\r\n              textDecoration: 'none',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.875rem',\r\n              position: 'relative',\r\n              zIndex: 1,\r\n              transition: 'transform 0.2s ease',\r\n            }}\r\n            onMouseEnter={e => {\r\n              e.currentTarget.style.transform = 'translateX(2px)';\r\n            }}\r\n            onMouseLeave={e => {\r\n              e.currentTarget.style.transform = 'translateX(0)';\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                width: 'clamp(34px, 3.6vw, 42px)',\r\n                height: 'clamp(34px, 3.6vw, 42px)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                background: 'rgba(255,255,255,0.05)',\r\n                borderRadius: 'clamp(9px, 1vw, 11px)',\r\n                flexShrink: 0,\r\n                border: '1px solid rgba(255,255,255,0.1)',\r\n                boxShadow: '0 2px 8px rgba(0,0,0,0.15)',\r\n                position: 'relative',\r\n                overflow: 'hidden',\r\n              }}\r\n            >\r\n              {/* Logo glow effect */}\r\n              <div\r\n                style={{\r\n                  position: 'absolute',\r\n                  inset: 0,\r\n                  background:\r\n                    'radial-gradient(circle at center, rgba(255,255,255,0.2) 0%, transparent 70%)',\r\n                  pointerEvents: 'none',\r\n                }}\r\n              />\r\n              <img\r\n                src=\"/logo.svg\"\r\n                alt=\"OpsSentinal\"\r\n                style={{\r\n                  width: 'clamp(22px, 2.6vw, 28px)',\r\n                  height: 'clamp(22px, 2.6vw, 28px)',\r\n                  objectFit: 'contain',\r\n                  filter: 'drop-shadow(0 1px 3px rgba(0,0,0,0.2))',\r\n                  position: 'relative',\r\n                  zIndex: 1,\r\n                }}\r\n              />\r\n            </div>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.125rem' }}>\r\n              <h1\r\n                style={{\r\n                  fontSize: 'clamp(1.1rem, 2vw, 1.35rem)',\r\n                  fontWeight: '800',\r\n                  color: 'white',\r\n                  margin: 0,\r\n                  lineHeight: '1.2',\r\n                  letterSpacing: '-0.4px',\r\n                  textShadow: '0 2px 8px rgba(0,0,0,0.2)',\r\n                }}\r\n              >\r\n                OpsSentinal\r\n              </h1>\r\n              <div\r\n                style={{\r\n                  fontSize: 'clamp(0.6rem, 0.85vw, 0.7rem)',\r\n                  color: 'rgba(255,255,255,0.7)',\r\n                  fontWeight: '600',\r\n                  letterSpacing: '0.5px',\r\n                  textTransform: 'uppercase',\r\n                }}\r\n              >\r\n                Enterprise\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        {/* Scrollable Navigation Area */}\r\n        <nav\r\n          className=\"sidebar-nav\"\r\n          style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            flex: 1,\r\n            overflowY: 'auto',\r\n            overflowX: 'hidden',\r\n            padding: 'clamp(0.75rem, 1.6vw, 1rem) clamp(0.6rem, 1.4vw, 0.75rem)',\r\n            gap: '0.5rem',\r\n          }}\r\n        >\r\n          {Object.entries(groupedItems).map(([section, items]) => renderSection(section, items))}\r\n        </nav>\r\n        {/* Close button for mobile */}\r\n        {isMobile && isMobileMenuOpen && (\r\n          <button\r\n            onClick={() => setIsMobileMenuOpen(false)}\r\n            aria-label=\"Close navigation menu\"\r\n            style={{\r\n              position: 'absolute',\r\n              top: '1rem',\r\n              right: '1rem',\r\n              width: '32px',\r\n              height: '32px',\r\n              borderRadius: 'var(--radius-md)',\r\n              background: 'rgba(255,255,255,0.1)',\r\n              border: '1px solid rgba(255,255,255,0.2)',\r\n              color: 'white',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              cursor: 'pointer',\r\n              transition: 'all var(--transition-base)',\r\n            }}\r\n          >\r\n            <svg\r\n              width=\"20\"\r\n              height=\"20\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n            >\r\n              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n            </svg>\r\n          </button>\r\n        )}\r\n        {/* User Profile and Footer - Refined */}\r\n        <div\r\n          style={{\r\n            padding: '1rem 0.75rem',\r\n            borderTop: '1px solid rgba(255,255,255,0.1)',\r\n            flexShrink: 0,\r\n            marginTop: 'auto',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: '0.75rem',\r\n          }}\r\n        >\r\n          {/* User Profile - Compact */}\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.75rem',\r\n              padding: '0.75rem',\r\n              background: 'rgba(255,255,255,0.08)',\r\n              borderRadius: '8px',\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                width: '36px',\r\n                height: '36px',\r\n                borderRadius: '8px',\r\n                background: 'rgba(255,255,255,0.15)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                fontWeight: '600',\r\n                fontSize: 'clamp(0.72rem, 1vw, 0.85rem)',\r\n                color: 'white',\r\n                flexShrink: 0,\r\n                textTransform: 'uppercase',\r\n              }}\r\n            >\r\n              {userName\r\n                ? userName\r\n                  .split(' ')\r\n                  .map(n => n[0])\r\n                  .join('')\r\n                  .slice(0, 2)\r\n                  .toUpperCase()\r\n                : userEmail\r\n                  ? userEmail[0].toUpperCase()\r\n                  : 'U'}\r\n            </div>\r\n            <div style={{ flex: 1, minWidth: 0 }}>\r\n              <div\r\n                style={{\r\n                  fontSize: 'clamp(0.82rem, 1.05vw, 0.9rem)',\r\n                  fontWeight: '600',\r\n                  color: 'white',\r\n                  overflow: 'hidden',\r\n                  textOverflow: 'ellipsis',\r\n                  whiteSpace: 'nowrap',\r\n                  marginBottom: '0.125rem',\r\n                }}\r\n              >\r\n                {userName || userEmail || 'User'}\r\n              </div>\r\n              <div\r\n                style={{\r\n                  fontSize: 'clamp(0.62rem, 0.9vw, 0.72rem)',\r\n                  color: 'rgba(255,255,255,0.65)',\r\n                  textTransform: 'capitalize',\r\n                }}\r\n              >\r\n                {userRole ? userRole.toLowerCase() : 'User'}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Buttons Row */}\r\n          <div\r\n            style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(3, 1fr)',\r\n              gap: '0.5rem',\r\n            }}\r\n          >\r\n            {/* Documentation Link */}\r\n            <Link\r\n              href=\"/help\"\r\n              onClick={() => isMobile && setIsMobileMenuOpen(false)}\r\n              aria-label=\"Documentation\"\r\n              style={{\r\n                padding: '0.5rem',\r\n                background: 'rgba(255,255,255,0.05)',\r\n                border: '1px solid rgba(255,255,255,0.1)',\r\n                borderRadius: '6px',\r\n                color: 'rgba(255,255,255,0.85)',\r\n                fontSize: 'clamp(0.62rem, 0.9vw, 0.75rem)',\r\n                fontWeight: '500',\r\n                textDecoration: 'none',\r\n                transition: 'all 0.15s ease',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: '0.25rem',\r\n                textAlign: 'center',\r\n              }}\r\n              onMouseEnter={e => {\r\n                e.currentTarget.style.background = 'rgba(255,255,255,0.12)';\r\n                e.currentTarget.style.color = 'white';\r\n              }}\r\n              onMouseLeave={e => {\r\n                e.currentTarget.style.background = 'rgba(255,255,255,0.08)';\r\n                e.currentTarget.style.color = 'rgba(255,255,255,0.9)';\r\n              }}\r\n            >\r\n              <svg\r\n                viewBox=\"0 0 24 24\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n              >\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                <path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3m0 4h.01\" />\r\n              </svg>\r\n              <span style={{ fontSize: 'clamp(0.58rem, 0.85vw, 0.7rem)', lineHeight: '1' }}>\r\n                Docs\r\n              </span>\r\n            </Link>\r\n\r\n            {/* Shortcuts Button */}\r\n            <button\r\n              onClick={() => {\r\n                window.dispatchEvent(new CustomEvent('toggleKeyboardShortcuts'));\r\n                if (isMobile) setIsMobileMenuOpen(false);\r\n              }}\r\n              aria-label=\"Show keyboard shortcuts\"\r\n              style={{\r\n                padding: '0.5rem',\r\n                background: 'rgba(255,255,255,0.05)',\r\n                border: '1px solid rgba(255,255,255,0.1)',\r\n                borderRadius: '6px',\r\n                color: 'rgba(255,255,255,0.85)',\r\n                fontSize: 'clamp(0.62rem, 0.9vw, 0.75rem)',\r\n                fontWeight: '500',\r\n                cursor: 'pointer',\r\n                transition: 'all 0.15s ease',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: '0.25rem',\r\n                textAlign: 'center',\r\n              }}\r\n              onMouseEnter={e => {\r\n                e.currentTarget.style.background = 'rgba(255,255,255,0.12)';\r\n                e.currentTarget.style.color = 'white';\r\n              }}\r\n              onMouseLeave={e => {\r\n                e.currentTarget.style.background = 'rgba(255,255,255,0.08)';\r\n                e.currentTarget.style.color = 'rgba(255,255,255,0.9)';\r\n              }}\r\n            >\r\n              <svg\r\n                viewBox=\"0 0 24 24\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n              >\r\n                <rect x=\"4\" y=\"2\" width=\"16\" height=\"20\" rx=\"2\" />\r\n                <path d=\"M9 6h6m-6 4h6m-2 4h2\" />\r\n              </svg>\r\n              <span style={{ fontSize: 'clamp(0.58rem, 0.85vw, 0.7rem)', lineHeight: '1' }}>\r\n                Keys\r\n              </span>\r\n            </button>\r\n\r\n            {/* Settings Link */}\r\n            <Link\r\n              href=\"/settings\"\r\n              onClick={() => isMobile && setIsMobileMenuOpen(false)}\r\n              aria-label=\"Settings\"\r\n              style={{\r\n                padding: '0.5rem',\r\n                background: 'rgba(255,255,255,0.05)',\r\n                border: '1px solid rgba(255,255,255,0.1)',\r\n                borderRadius: '6px',\r\n                color: 'rgba(255,255,255,0.85)',\r\n                fontSize: 'clamp(0.62rem, 0.9vw, 0.75rem)',\r\n                fontWeight: '500',\r\n                textDecoration: 'none',\r\n                transition: 'all 0.15s ease',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: '0.25rem',\r\n                textAlign: 'center',\r\n              }}\r\n              onMouseEnter={e => {\r\n                e.currentTarget.style.background = 'rgba(255,255,255,0.12)';\r\n                e.currentTarget.style.color = 'white';\r\n              }}\r\n              onMouseLeave={e => {\r\n                e.currentTarget.style.background = 'rgba(255,255,255,0.08)';\r\n                e.currentTarget.style.color = 'rgba(255,255,255,0.9)';\r\n              }}\r\n            >\r\n              <svg\r\n                viewBox=\"0 0 24 24\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n              >\r\n                <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                <path d=\"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24\" />\r\n              </svg>\r\n              <span style={{ fontSize: 'clamp(0.58rem, 0.85vw, 0.7rem)', lineHeight: '1' }}>\r\n                Settings\r\n              </span>\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Logout Button */}\r\n          <button\r\n            onClick={() => (window.location.href = '/api/auth/signout')}\r\n            style={{\r\n              width: '100%',\r\n              padding: '0.625rem',\r\n              background: 'rgba(255,255,255,0.1)',\r\n              border: '1px solid rgba(255,255,255,0.15)',\r\n              borderRadius: '6px',\r\n              color: 'white',\r\n              fontSize: 'clamp(0.72rem, 1vw, 0.85rem)',\r\n              fontWeight: '500',\r\n              cursor: 'pointer',\r\n              transition: 'background 0.15s ease',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              gap: '0.5rem',\r\n            }}\r\n            onMouseEnter={e => {\r\n              e.currentTarget.style.background = 'rgba(255,255,255,0.15)';\r\n            }}\r\n            onMouseLeave={e => {\r\n              e.currentTarget.style.background = 'rgba(255,255,255,0.1)';\r\n            }}\r\n          >\r\n            <svg\r\n              width=\"14\"\r\n              height=\"14\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n            >\r\n              <path\r\n                d=\"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n              />\r\n            </svg>\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n      </aside>\r\n    </>\r\n  );\r\n}\r\n\r\ninterface MobileMenuProps {\r\n  isMobile: boolean;\r\n  isMobileMenuOpen: boolean;\r\n  setIsMobileMenuOpen: (open: boolean) => void;\r\n}\r\n\r\nconst MobileMenuButton = ({ isMobile, isMobileMenuOpen, setIsMobileMenuOpen }: MobileMenuProps) => (\r\n  <button\r\n    onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\r\n    className=\"mobile-menu-button\"\r\n    aria-label=\"Toggle navigation menu\"\r\n    aria-expanded={isMobileMenuOpen}\r\n    style={{\r\n      display: isMobile ? 'flex' : 'none',\r\n      position: 'fixed',\r\n      top: '1rem',\r\n      left: '1rem',\r\n      zIndex: 1001,\r\n      width: '44px',\r\n      height: '44px',\r\n      borderRadius: 'var(--radius-md)',\r\n      background: 'var(--primary)',\r\n      border: 'none',\r\n      color: 'white',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      cursor: 'pointer',\r\n      boxShadow: 'var(--shadow-lg)',\r\n      transition: 'all var(--transition-base)',\r\n    }}\r\n  >\r\n    {isMobileMenuOpen ? (\r\n      <svg\r\n        width=\"24\"\r\n        height=\"24\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n        <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n      </svg>\r\n    ) : (\r\n      <svg\r\n        width=\"24\"\r\n        height=\"24\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\" />\r\n        <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\" />\r\n        <line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\" />\r\n      </svg>\r\n    )}\r\n  </button>\r\n);\r\n\r\nconst MobileBackdrop = ({ isMobile, isMobileMenuOpen, setIsMobileMenuOpen }: MobileMenuProps) =>\r\n  isMobile && isMobileMenuOpen ? (\r\n    <div\r\n      className=\"mobile-sidebar-backdrop\"\r\n      onClick={() => setIsMobileMenuOpen(false)}\r\n      style={{\r\n        position: 'fixed',\r\n        inset: 0,\r\n        background: 'rgba(0, 0, 0, 0.5)',\r\n        backdropFilter: 'blur(4px)',\r\n        zIndex: 999,\r\n        animation: 'fadeIn var(--transition-base)',\r\n      }}\r\n      aria-hidden=\"true\"\r\n    />\r\n  ) : null;\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\SidebarSearch.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'useTransition' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 4,
        "column": 39,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 52
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'handleEnterKey' and 'scrollToSelected'. Either include them or remove the dependency array.",
        "line": 275,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 275,
        "endColumn": 133,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [isOpen, query, selectedIndex, totalItems, groupedResults, recentSearches, navigateResult, results.length, router, setIsOpen, scrollToSelected, handleEnterKey]",
            "fix": {
              "range": [9661, 9786],
              "text": "[isOpen, query, selectedIndex, totalItems, groupedResults, recentSearches, navigateResult, results.length, router, setIsOpen, scrollToSelected, handleEnterKey]"
            }
          }
        ]
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 295,
        "column": 37,
        "nodeType": "MemberExpression",
        "endLine": 295,
        "endColumn": 66
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 301,
        "column": 36,
        "nodeType": "MemberExpression",
        "endLine": 301,
        "endColumn": 62
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 321,
        "column": 36,
        "nodeType": "MemberExpression",
        "endLine": 321,
        "endColumn": 62
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useCallback has an unnecessary dependency: 'totalItems'. Either exclude it or remove the dependency array.",
        "line": 330,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 330,
        "endColumn": 125,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [query, selectedIndex, groupedResults, recentSearches, navigateResult, router, setIsOpen, results.length]",
            "fix": {
              "range": [11897, 12014],
              "text": "[query, selectedIndex, groupedResults, recentSearches, navigateResult, router, setIsOpen, results.length]"
            }
          }
        ]
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 811,
        "column": 58,
        "nodeType": "MemberExpression",
        "endLine": 811,
        "endColumn": 75
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 825,
        "column": 81,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 825,
        "endColumn": 84,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [37406, 37409], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [37406, 37409], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 888,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 888,
        "endColumn": 24
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 924,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 924,
        "endColumn": 23
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 939,
        "column": 22,
        "nodeType": "MemberExpression",
        "endLine": 939,
        "endColumn": 37
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 16,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 16,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [558, 561], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [558, 561], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 404,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 404,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [14509, 14512], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [14509, 14512], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'saveRecentSearch'. Either include it or remove the dependency array.",
        "line": 427,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 427,
        "endColumn": 15,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [query, saveRecentSearch]",
            "fix": { "range": [15500, 15507], "text": "[query, saveRecentSearch]" }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 10,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { logger } from '@/lib/logger';\r\nimport { useEffect, useRef, useState, useTransition, useMemo, useCallback } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useModalState } from '@/hooks/useModalState';\r\nimport { formatDateTime, getBrowserTimeZone } from '@/lib/timezone';\r\n\r\ntype SearchResult = {\r\n    type: 'incident' | 'service' | 'team' | 'user' | 'policy' | 'postmortem';\r\n    id: string;\r\n    title: string;\r\n    subtitle?: string;\r\n    href: string;\r\n    priority?: number;\r\n    metadata?: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n};\r\n\r\ntype SearchSection = {\r\n    type: SearchResult['type'] | 'recent' | 'suggestions';\r\n    title: string;\r\n    results: SearchResult[];\r\n};\r\n\r\ntype RecentSearch = {\r\n    query: string;\r\n    timestamp: number;\r\n    resultCount?: number;\r\n};\r\n\r\nconst RECENT_SEARCHES_KEY = 'OpsSentinal-recent-searches-v2';\r\nconst MAX_RECENT_SEARCHES = 8;\r\n\r\n// Enhanced quick action suggestions with better categorization\r\nconst QUICK_ACTIONS = [\r\n    {\r\n        label: 'View all incidents',\r\n        query: 'incident',\r\n        icon: 'ΓÜí',\r\n        category: 'Navigation',\r\n        description: 'Browse all incidents'\r\n    },\r\n    {\r\n        label: 'View all services',\r\n        query: 'service',\r\n        icon: '≡ƒöº',\r\n        category: 'Navigation',\r\n        description: 'Manage services'\r\n    },\r\n    {\r\n        label: 'View all teams',\r\n        query: 'team',\r\n        icon: '≡ƒæÑ',\r\n        category: 'Navigation',\r\n        description: 'Team management'\r\n    },\r\n    {\r\n        label: 'Create new incident',\r\n        query: 'create incident',\r\n        icon: 'Γ₧ò',\r\n        category: 'Quick Create',\r\n        description: 'Start new incident',\r\n        href: '/incidents/create'\r\n    },\r\n];\r\n\r\nexport default function SidebarSearch() {\r\n    const [isOpen, setIsOpen] = useModalState('search');\r\n    const [query, setQuery] = useState('');\r\n    const [results, setResults] = useState<SearchResult[]>([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [selectedIndex, setSelectedIndex] = useState(0);\r\n    const [recentSearches, setRecentSearches] = useState<RecentSearch[]>([]);\r\n    const [searchFilters, setSearchFilters] = useState<Set<string>>(new Set());\r\n\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const abortControllerRef = useRef<AbortController | null>(null);\r\n    const router = useRouter();\r\n\r\n    // Load recent searches on mount\r\n    useEffect(() => {\r\n        try {\r\n            const stored = localStorage.getItem(RECENT_SEARCHES_KEY);\r\n            if (stored) {\r\n                const parsed = JSON.parse(stored);\r\n                // Handle both old format (string[]) and new format (RecentSearch[])\r\n                if (Array.isArray(parsed) && parsed.length > 0) {\r\n                    if (typeof parsed[0] === 'string') {\r\n                        // Migrate old format\r\n                        const migrated: RecentSearch[] = parsed.map((q: string, i: number) => ({\r\n                            query: q,\r\n                            timestamp: Date.now() - (parsed.length - i) * 60000\r\n                        }));\r\n                        setRecentSearches(migrated);\r\n                        localStorage.setItem(RECENT_SEARCHES_KEY, JSON.stringify(migrated));\r\n                    } else {\r\n                        setRecentSearches(parsed);\r\n                    }\r\n                }\r\n            }\r\n        } catch (_e) {\r\n            // Ignore localStorage errors\r\n        }\r\n    }, []);\r\n\r\n    // Handle global keyboard shortcut (Cmd/Ctrl + K)\r\n    useEffect(() => {\r\n        const handleKeyDown = (e: KeyboardEvent) => {\r\n            if ((e.metaKey || e.ctrlKey) && e.key === 'k') {\r\n                const target = e.target as HTMLElement;\r\n                if (target instanceof HTMLInputElement ||\r\n                    target instanceof HTMLTextAreaElement ||\r\n                    target.isContentEditable) {\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n                if (isOpen) {\r\n                    setIsOpen(false);\r\n                    setQuery('');\r\n                    setResults([]);\r\n                } else {\r\n                    setIsOpen(true);\r\n                    setTimeout(() => inputRef.current?.focus(), 50);\r\n                }\r\n            }\r\n        };\r\n\r\n        document.addEventListener('keydown', handleKeyDown);\r\n        return () => document.removeEventListener('keydown', handleKeyDown);\r\n    }, [isOpen, setIsOpen]);\r\n\r\n    // Group results by type with better organization\r\n    const groupedResults = useMemo(() => {\r\n        const groups: SearchSection[] = [];\r\n\r\n        if (query.length === 0) {\r\n            // Show suggestions when empty\r\n            if (recentSearches.length > 0) {\r\n                groups.push({\r\n                    type: 'recent',\r\n                    title: 'Recent Searches',\r\n                    results: []\r\n                });\r\n            }\r\n            groups.push({\r\n                type: 'suggestions',\r\n                title: 'Quick Actions',\r\n                results: []\r\n            });\r\n            return groups;\r\n        }\r\n\r\n        // Apply filters if any\r\n        let filteredResults = results;\r\n        if (searchFilters.size > 0) {\r\n            filteredResults = results.filter(result =>\r\n                searchFilters.has(result.type)\r\n            );\r\n        }\r\n\r\n        // Group search results by type with priority ordering\r\n        const typeMap = new Map<SearchResult['type'], SearchResult[]>();\r\n        filteredResults.forEach(result => {\r\n            if (!typeMap.has(result.type)) {\r\n                typeMap.set(result.type, []);\r\n            }\r\n            typeMap.get(result.type)!.push(result);\r\n        });\r\n\r\n        // Order: incidents first (most important), then services, teams, etc.\r\n        const typeOrder: SearchResult['type'][] = [\r\n            'incident',\r\n            'service',\r\n            'team',\r\n            'user',\r\n            'policy',\r\n            'postmortem'\r\n        ];\r\n\r\n        typeOrder.forEach(type => {\r\n            const typeResults = typeMap.get(type);\r\n            if (typeResults && typeResults.length > 0) {\r\n                groups.push({\r\n                    type,\r\n                    title: getTypeLabel(type),\r\n                    results: typeResults.slice(0, 8) // Limit per group for performance\r\n                });\r\n            }\r\n        });\r\n\r\n        return groups;\r\n    }, [query, results, recentSearches, searchFilters]);\r\n\r\n    // Calculate total items for navigation\r\n    const totalItems = useMemo(() => {\r\n        if (query.length === 0) {\r\n            return recentSearches.length + QUICK_ACTIONS.length;\r\n        }\r\n        return groupedResults.reduce((sum, group) => sum + group.results.length, 0);\r\n    }, [query, groupedResults, recentSearches.length]);\r\n\r\n    // Save recent search with metadata\r\n    const saveRecentSearch = useCallback((searchQuery: string, resultCount?: number) => {\r\n        if (searchQuery.length < 2) return;\r\n\r\n        try {\r\n            const newSearch: RecentSearch = {\r\n                query: searchQuery,\r\n                timestamp: Date.now(),\r\n                resultCount\r\n            };\r\n\r\n            setRecentSearches(prev => {\r\n                const updated = [\r\n                    newSearch,\r\n                    ...prev.filter(s =>\r\n                        s.query.toLowerCase() !== searchQuery.toLowerCase()\r\n                    )\r\n                ].slice(0, MAX_RECENT_SEARCHES);\r\n\r\n                localStorage.setItem(RECENT_SEARCHES_KEY, JSON.stringify(updated));\r\n                return updated;\r\n            });\r\n        } catch (_e) {\r\n            // Ignore localStorage errors\r\n        }\r\n    }, []);\r\n\r\n    // Handle result navigation\r\n    const navigateResult = useCallback((href: string, title?: string) => {\r\n        if (title && query.length >= 2) {\r\n            saveRecentSearch(query, results.length);\r\n        }\r\n        router.push(href);\r\n        setIsOpen(false);\r\n        setQuery('');\r\n        setResults([]);\r\n        setSelectedIndex(0);\r\n        setSearchFilters(new Set());\r\n    }, [query, saveRecentSearch, router, setIsOpen, results.length]);\r\n\r\n    // Handle keyboard navigation with improved UX\r\n    useEffect(() => {\r\n        if (!isOpen) return;\r\n\r\n        const handleKeyDown = (e: KeyboardEvent) => {\r\n            if (e.key === 'Escape') {\r\n                e.preventDefault();\r\n                setIsOpen(false);\r\n                setQuery('');\r\n                setResults([]);\r\n                setSelectedIndex(0);\r\n                setSearchFilters(new Set());\r\n            } else if (e.key === 'ArrowDown') {\r\n                e.preventDefault();\r\n                setSelectedIndex(prev => (prev < totalItems - 1 ? prev + 1 : 0));\r\n                scrollToSelected();\r\n            } else if (e.key === 'ArrowUp') {\r\n                e.preventDefault();\r\n                setSelectedIndex(prev => (prev > 0 ? prev - 1 : totalItems - 1));\r\n                scrollToSelected();\r\n            } else if (e.key === 'Enter') {\r\n                e.preventDefault();\r\n                handleEnterKey();\r\n            } else if ((e.metaKey || e.ctrlKey) && e.key === 'f') {\r\n                // Allow Ctrl+F in search input\r\n                return;\r\n            }\r\n        };\r\n\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, [isOpen, query, selectedIndex, totalItems, groupedResults, recentSearches, navigateResult, results.length, router, setIsOpen]);\r\n\r\n    // Scroll to selected item\r\n    const scrollToSelected = useCallback(() => {\r\n        const selectedElement = containerRef.current?.querySelector(\r\n            '[data-search-result-index=\"true\"]'\r\n        ) as HTMLElement;\r\n        if (selectedElement) {\r\n            selectedElement.scrollIntoView({\r\n                block: 'nearest',\r\n                behavior: 'smooth'\r\n            });\r\n        }\r\n    }, []);\r\n\r\n    // Handle Enter key press\r\n    const handleEnterKey = useCallback(() => {\r\n        if (query.length === 0) {\r\n            // Handle empty state selection\r\n            if (selectedIndex < recentSearches.length) {\r\n                const recentQuery = recentSearches[selectedIndex].query;\r\n                setQuery(recentQuery);\r\n                inputRef.current?.focus();\r\n            } else {\r\n                const actionIndex = selectedIndex - recentSearches.length;\r\n                if (actionIndex < QUICK_ACTIONS.length) {\r\n                    const action = QUICK_ACTIONS[actionIndex];\r\n                    if (action.href) {\r\n                        router.push(action.href);\r\n                        setIsOpen(false);\r\n                        setQuery('');\r\n                    } else {\r\n                        setQuery(action.query);\r\n                        inputRef.current?.focus();\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            // Navigate to selected result\r\n            if (results.length === 0) return;\r\n\r\n            let currentIndex = 0;\r\n            for (const group of groupedResults) {\r\n                if (selectedIndex >= currentIndex &&\r\n                    selectedIndex < currentIndex + group.results.length) {\r\n                    const resultIndex = selectedIndex - currentIndex;\r\n                    const result = group.results[resultIndex];\r\n                    if (result) {\r\n                        navigateResult(result.href, result.title);\r\n                        return;\r\n                    }\r\n                }\r\n                currentIndex += group.results.length;\r\n            }\r\n        }\r\n    }, [query, selectedIndex, totalItems, groupedResults, recentSearches, navigateResult, router, setIsOpen, results.length]);\r\n\r\n    // Handle click outside\r\n    useEffect(() => {\r\n        if (!isOpen) return;\r\n\r\n        const handleClickOutside = (e: MouseEvent) => {\r\n            const target = e.target as Node;\r\n            if (containerRef.current && !containerRef.current.contains(target)) {\r\n                const triggerButton = document.querySelector('.search-trigger-btn');\r\n                if (triggerButton && triggerButton.contains(target)) {\r\n                    return;\r\n                }\r\n                setIsOpen(false);\r\n                setQuery('');\r\n                setResults([]);\r\n                setSelectedIndex(0);\r\n                setSearchFilters(new Set());\r\n            }\r\n        };\r\n\r\n        const timeoutId = setTimeout(() => {\r\n            document.addEventListener('mousedown', handleClickOutside);\r\n        }, 100);\r\n\r\n        return () => {\r\n            clearTimeout(timeoutId);\r\n            document.removeEventListener('mousedown', handleClickOutside);\r\n        };\r\n    }, [isOpen, setIsOpen]);\r\n\r\n    // Search API call with debouncing\r\n    useEffect(() => {\r\n        if (abortControllerRef.current) {\r\n            abortControllerRef.current.abort();\r\n        }\r\n\r\n        if (query.length < 2) {\r\n            setResults([]);\r\n            setSelectedIndex(0);\r\n            setIsLoading(false);\r\n            setError(null);\r\n            return;\r\n        }\r\n\r\n        setIsLoading(true);\r\n        setError(null);\r\n        setSelectedIndex(0);\r\n\r\n        const timeoutId = setTimeout(async () => {\r\n            const abortController = new AbortController();\r\n            abortControllerRef.current = abortController;\r\n\r\n            try {\r\n                const response = await fetch(\r\n                    `/api/search?q=${encodeURIComponent(query)}`,\r\n                    { signal: abortController.signal }\r\n                );\r\n\r\n                if (abortController.signal.aborted) {\r\n                    return;\r\n                }\r\n\r\n                if (!response.ok) {\r\n                    const errorData = await response.json().catch(() => ({}));\r\n                    throw new Error(errorData.error || `Search failed with status ${response.status}`);\r\n                }\r\n\r\n                const data = await response.json();\r\n                if (data.error) {\r\n                    throw new Error(data.error);\r\n                }\r\n                setResults(data.results || []);\r\n                saveRecentSearch(query, data.results?.length || 0);\r\n            } catch (err: any) { // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                if (err.name === 'AbortError') {\r\n                    return;\r\n                }\r\n                if (err instanceof Error) {\r\n                    logger.error('Search error', { error: err.message });\r\n                } else {\r\n                    logger.error('Search error', { error: String(err) });\r\n                }\r\n                const { getUserFriendlyError } = await import('@/lib/user-friendly-errors');\r\n                setError(getUserFriendlyError(err) || 'Failed to search. Please try again.');\r\n                setResults([]);\r\n            } finally {\r\n                if (!abortController.signal.aborted) {\r\n                    setIsLoading(false);\r\n                }\r\n            }\r\n        }, 250); // Slightly longer debounce for better UX\r\n\r\n        return () => {\r\n            clearTimeout(timeoutId);\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [query]);\r\n\r\n    const handleClearRecent = () => {\r\n        setRecentSearches([]);\r\n        localStorage.removeItem(RECENT_SEARCHES_KEY);\r\n    };\r\n\r\n    // Get available filter types from results\r\n    const availableFilters = useMemo(() => {\r\n        const types = new Set<SearchResult['type']>();\r\n        results.forEach(result => types.add(result.type));\r\n        return Array.from(types);\r\n    }, [results]);\r\n\r\n    const toggleFilter = (type: SearchResult['type']) => {\r\n        setSearchFilters(prev => {\r\n            const next = new Set(prev);\r\n            if (next.has(type)) {\r\n                next.delete(type);\r\n            } else {\r\n                next.add(type);\r\n            }\r\n            return next;\r\n        });\r\n        setSelectedIndex(0);\r\n    };\r\n\r\n    // Determine if dropdown should be visible\r\n    const hasDropdownContent = query.length >= 2\r\n        ? (results.length > 0 || isLoading || error)\r\n        : query.length === 0\r\n            ? (recentSearches.length > 0 || QUICK_ACTIONS.length > 0)\r\n            : false;\r\n\r\n    // Format recent search time\r\n    const formatRecentTime = (timestamp: number) => {\r\n        const now = Date.now();\r\n        const diff = now - timestamp;\r\n        const minutes = Math.floor(diff / 60000);\r\n        const hours = Math.floor(minutes / 60);\r\n        const days = Math.floor(hours / 24);\r\n\r\n        if (minutes < 1) return 'Just now';\r\n        if (minutes < 60) return `${minutes}m ago`;\r\n        if (hours < 24) return `${hours}h ago`;\r\n        if (days < 7) return `${days}d ago`;\r\n        return formatDateTime(new Date(timestamp), getBrowserTimeZone(), { format: 'date' });\r\n    };\r\n\r\n    if (!isOpen) {\r\n        return (\r\n            <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                    setIsOpen(true);\r\n                    setTimeout(() => inputRef.current?.focus(), 50);\r\n                }}\r\n                className=\"search-trigger-btn\"\r\n                aria-label=\"Search\"\r\n            >\r\n                <div className=\"search-trigger-content\">\r\n                    <svg\r\n                        className=\"search-trigger-icon\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        width=\"18\"\r\n                        height=\"18\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth=\"2\"\r\n                    >\r\n                        <circle cx=\"11\" cy=\"11\" r=\"8\" />\r\n                        <path d=\"m21 21-4.35-4.35\" />\r\n                    </svg>\r\n                    <span className=\"search-trigger-placeholder\">\r\n                        Search incidents, services, teams...\r\n                    </span>\r\n                    <div className=\"search-trigger-shortcut\">\r\n                        <kbd className=\"search-shortcut-key\">\r\n                            {typeof window !== 'undefined' && window.navigator && window.navigator.platform && window.navigator.platform.includes('Mac') ? 'Γîÿ' : 'Ctrl'}\r\n                        </kbd>\r\n                        <kbd className=\"search-shortcut-key\">K</kbd>\r\n                    </div>\r\n                </div>\r\n            </button>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/* Overlay with blur effect */}\r\n            {isOpen && (\r\n                <div\r\n                    className=\"search-overlay\"\r\n                    onClick={() => {\r\n                        setIsOpen(false);\r\n                        setQuery('');\r\n                        setResults([]);\r\n                        setSelectedIndex(0);\r\n                        setSearchFilters(new Set());\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            {/* Main Search Container */}\r\n            <div ref={containerRef} className=\"search-container\">\r\n                {/* Search Input Bar */}\r\n                <div className=\"search-input-bar\">\r\n                    <div className=\"search-input-wrapper\">\r\n                        <svg\r\n                            className=\"search-input-icon\"\r\n                            viewBox=\"0 0 24 24\"\r\n                            width=\"20\"\r\n                            height=\"20\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            strokeWidth=\"2\"\r\n                        >\r\n                            <circle cx=\"11\" cy=\"11\" r=\"8\" />\r\n                            <path d=\"m21 21-4.35-4.35\" />\r\n                        </svg>\r\n                        <input\r\n                            ref={inputRef}\r\n                            type=\"text\"\r\n                            value={query}\r\n                            onChange={(e) => {\r\n                                setQuery(e.target.value);\r\n                                setSelectedIndex(0);\r\n                            }}\r\n                            placeholder=\"Search incidents, services, teams, users...\"\r\n                            className=\"search-input\"\r\n                            autoFocus\r\n                            autoComplete=\"off\"\r\n                            spellCheck=\"false\"\r\n                        />\r\n                        {isLoading && (\r\n                            <div className=\"search-loading-indicator\">\r\n                                <div className=\"search-spinner\" />\r\n                            </div>\r\n                        )}\r\n                        {query.length > 0 && !isLoading && (\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => {\r\n                                    setQuery('');\r\n                                    inputRef.current?.focus();\r\n                                    setSelectedIndex(0);\r\n                                }}\r\n                                className=\"search-clear-btn\"\r\n                                aria-label=\"Clear search\"\r\n                            >\r\n                                <svg\r\n                                    viewBox=\"0 0 24 24\"\r\n                                    width=\"16\"\r\n                                    height=\"16\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    strokeWidth=\"2\"\r\n                                >\r\n                                    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                                    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                                </svg>\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Search Filters */}\r\n                    {query.length >= 2 && availableFilters.length > 0 && (\r\n                        <div className=\"search-filters\">\r\n                            {availableFilters.map(type => (\r\n                                <button\r\n                                    key={type}\r\n                                    type=\"button\"\r\n                                    onClick={() => toggleFilter(type)}\r\n                                    className={`search-filter-chip ${searchFilters.has(type) ? 'active' : ''\r\n                                        }`}\r\n                                >\r\n                                    <span className=\"search-filter-icon\">\r\n                                        {getTypeIconSmall(type)}\r\n                                    </span>\r\n                                    <span>{getTypeLabel(type)}</span>\r\n                                    {searchFilters.has(type) && (\r\n                                        <svg\r\n                                            width=\"12\"\r\n                                            height=\"12\"\r\n                                            viewBox=\"0 0 24 24\"\r\n                                            fill=\"none\"\r\n                                            stroke=\"currentColor\"\r\n                                            strokeWidth=\"3\"\r\n                                        >\r\n                                            <polyline points=\"20 6 9 17 4 12\" />\r\n                                        </svg>\r\n                                    )}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Search Results Panel */}\r\n                {hasDropdownContent && (\r\n                    <div className=\"search-results-panel\">\r\n                        {error && (\r\n                            <div className=\"search-error-state\">\r\n                                <svg\r\n                                    width=\"20\"\r\n                                    height=\"20\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    strokeWidth=\"2\"\r\n                                >\r\n                                    <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                                    <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\" />\r\n                                    <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\" />\r\n                                </svg>\r\n                                <div>\r\n                                    <div className=\"search-error-title\">{error}</div>\r\n                                    <div className=\"search-error-hint\">Please try again</div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Empty State (no query) */}\r\n                        {query.length === 0 && !error && (\r\n                            <>\r\n                                {recentSearches.length > 0 && (\r\n                                    <div className=\"search-section\">\r\n                                        <div className=\"search-section-header\">\r\n                                            <span className=\"search-section-title\">Recent Searches</span>\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                onClick={handleClearRecent}\r\n                                                className=\"search-section-action\"\r\n                                            >\r\n                                                Clear all\r\n                                            </button>\r\n                                        </div>\r\n                                        <div className=\"search-section-content\">\r\n                                            {recentSearches.map((recent, index) => (\r\n                                                <button\r\n                                                    key={`${recent.query}-${recent.timestamp}`}\r\n                                                    type=\"button\"\r\n                                                    onClick={() => {\r\n                                                        setQuery(recent.query);\r\n                                                        inputRef.current?.focus();\r\n                                                    }}\r\n                                                    className={`search-result-item ${selectedIndex === index ? 'selected' : ''\r\n                                                        }`}\r\n                                                    data-search-result-index={selectedIndex === index}\r\n                                                    onMouseEnter={() => setSelectedIndex(index)}\r\n                                                >\r\n                                                    <div className=\"search-result-icon recent\">\r\n                                                        <svg\r\n                                                            width=\"16\"\r\n                                                            height=\"16\"\r\n                                                            viewBox=\"0 0 24 24\"\r\n                                                            fill=\"none\"\r\n                                                            stroke=\"currentColor\"\r\n                                                            strokeWidth=\"2\"\r\n                                                        >\r\n                                                            <path d=\"M12 19l7-7 3 3-7 7-3-3zM18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5zM2 2l7.586 7.586\" />\r\n                                                        </svg>\r\n                                                    </div>\r\n                                                    <div className=\"search-result-content\">\r\n                                                        <div className=\"search-result-title\">\r\n                                                            {recent.query}\r\n                                                        </div>\r\n                                                        <div className=\"search-result-meta\">\r\n                                                            {recent.resultCount !== undefined && (\r\n                                                                <span className=\"search-result-count\">\r\n                                                                    {recent.resultCount} result{recent.resultCount !== 1 ? 's' : ''}\r\n                                                                </span>\r\n                                                            )}\r\n                                                            <span className=\"search-result-time\">\r\n                                                                {formatRecentTime(recent.timestamp)}\r\n                                                            </span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </button>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Quick Actions */}\r\n                                <div className=\"search-section\">\r\n                                    <div className=\"search-section-header\">\r\n                                        <span className=\"search-section-title\">Quick Actions</span>\r\n                                    </div>\r\n                                    <div className=\"search-section-content\">\r\n                                        {QUICK_ACTIONS.map((action, index) => {\r\n                                            const itemIndex = recentSearches.length + index;\r\n                                            return (\r\n                                                <button\r\n                                                    key={action.query}\r\n                                                    type=\"button\"\r\n                                                    onClick={() => {\r\n                                                        if (action.href) {\r\n                                                            router.push(action.href);\r\n                                                            setIsOpen(false);\r\n                                                            setQuery('');\r\n                                                        } else {\r\n                                                            setQuery(action.query);\r\n                                                            inputRef.current?.focus();\r\n                                                        }\r\n                                                    }}\r\n                                                    className={`search-result-item ${selectedIndex === itemIndex ? 'selected' : ''\r\n                                                        }`}\r\n                                                    data-search-result-index={selectedIndex === itemIndex}\r\n                                                    onMouseEnter={() => setSelectedIndex(itemIndex)}\r\n                                                >\r\n                                                    <div className=\"search-result-icon action\">\r\n                                                        <span className=\"search-result-icon-emoji\">{action.icon}</span>\r\n                                                    </div>\r\n                                                    <div className=\"search-result-content\">\r\n                                                        <div className=\"search-result-title\">\r\n                                                            {action.label}\r\n                                                        </div>\r\n                                                        <div className=\"search-result-subtitle\">\r\n                                                            {action.description}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </button>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n\r\n                        {/* Search Results */}\r\n                        {query.length >= 2 && !isLoading && !error && (\r\n                            <>\r\n                                {results.length === 0 ? (\r\n                                    <div className=\"search-empty-state\">\r\n                                        <div className=\"search-empty-icon\">\r\n                                            <svg\r\n                                                viewBox=\"0 0 24 24\"\r\n                                                width=\"48\"\r\n                                                height=\"48\"\r\n                                                fill=\"none\"\r\n                                                stroke=\"currentColor\"\r\n                                                strokeWidth=\"1.5\"\r\n                                            >\r\n                                                <circle cx=\"11\" cy=\"11\" r=\"8\" />\r\n                                                <path d=\"m21 21-4.35-4.35\" />\r\n                                            </svg>\r\n                                        </div>\r\n                                        <div className=\"search-empty-title\">\r\n                                            No results found\r\n                                        </div>\r\n                                        <div className=\"search-empty-hint\">\r\n                                            Try searching for &quot;{query}&quot; with different terms\r\n                                        </div>\r\n                                        <div className=\"search-empty-suggestions\">\r\n                                            <span>Try:</span>\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                onClick={() => setQuery('incident')}\r\n                                                className=\"search-empty-link\"\r\n                                            >\r\n                                                incident\r\n                                            </button>\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                onClick={() => setQuery('service')}\r\n                                                className=\"search-empty-link\"\r\n                                            >\r\n                                                service\r\n                                            </button>\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                onClick={() => setQuery('team')}\r\n                                                className=\"search-empty-link\"\r\n                                            >\r\n                                                team\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (\r\n                                    groupedResults.map((group, groupIndex) => {\r\n                                        let itemIndex = 0;\r\n                                        // Calculate starting index for this group\r\n                                        for (let i = 0; i < groupIndex; i++) {\r\n                                            itemIndex += groupedResults[i].results.length;\r\n                                        }\r\n\r\n                                        return (\r\n                                            <div key={group.type} className=\"search-section\">\r\n                                                <div className=\"search-section-header\">\r\n                                                    <span className=\"search-section-title\">\r\n                                                        {group.title}\r\n                                                    </span>\r\n                                                    <span className=\"search-section-count\">\r\n                                                        {group.results.length}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div className=\"search-section-content\">\r\n                                                    {group.results.map((result: any, resultIndex: number) => {\r\n                                                        const absoluteIndex = itemIndex + resultIndex;\r\n                                                        return (\r\n                                                            <button\r\n                                                                key={`${result.type}-${result.id}`}\r\n                                                                type=\"button\"\r\n                                                                onClick={() => navigateResult(result.href, result.title)}\r\n                                                                className={`search-result-item ${selectedIndex === absoluteIndex ? 'selected' : ''\r\n                                                                    }`}\r\n                                                                data-search-result-index={selectedIndex === absoluteIndex}\r\n                                                                onMouseEnter={() => setSelectedIndex(absoluteIndex)}\r\n                                                            >\r\n                                                                <div className={`search-result-icon ${result.type}`}>\r\n                                                                    {getTypeIcon(result.type)}\r\n                                                                </div>\r\n                                                                <div className=\"search-result-content\">\r\n                                                                    <div className=\"search-result-title\">\r\n                                                                        {highlightMatch(result.title, query)}\r\n                                                                    </div>\r\n                                                                    {result.subtitle && (\r\n                                                                        <div className=\"search-result-subtitle\">\r\n                                                                            {result.subtitle}\r\n                                                                        </div>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                                <div className=\"search-result-badge\">\r\n                                                                    {result.type}\r\n                                                                </div>\r\n                                                            </button>\r\n                                                        );\r\n                                                    })}\r\n                                                </div>\r\n                                            </div>\r\n                                        );\r\n                                    })\r\n                                )}\r\n                            </>\r\n                        )}\r\n\r\n                        {/* Loading State */}\r\n                        {isLoading && (\r\n                            <div className=\"search-loading-state\">\r\n                                <div className=\"search-spinner-large\" />\r\n                                <div className=\"search-loading-text\">Searching...</div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\n// Helper functions\r\nfunction getTypeLabel(type: SearchResult['type']): string {\r\n    const labels: Record<SearchResult['type'], string> = {\r\n        incident: 'Incidents',\r\n        service: 'Services',\r\n        team: 'Teams',\r\n        user: 'Users',\r\n        policy: 'Escalation Policies',\r\n        postmortem: 'Postmortems'\r\n    };\r\n    return labels[type] || type;\r\n}\r\n\r\nfunction getTypeIcon(type: SearchResult['type']): React.ReactNode {\r\n    const icons: Record<SearchResult['type'], React.ReactNode> = {\r\n        incident: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <path d=\"M12 3 2.5 20h19L12 3Zm0 6 4.5 9h-9L12 9Zm0 3v4\" strokeLinecap=\"round\" />\r\n            </svg>\r\n        ),\r\n        service: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" fill=\"currentColor\">\r\n                <path d=\"M4 6h16v5H4V6Zm0 7h16v5H4v-5Z\" />\r\n            </svg>\r\n        ),\r\n        team: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" fill=\"currentColor\">\r\n                <path d=\"M7 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6Zm10 0a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM3 19a4 4 0 0 1 8 0v1H3v-1Zm10 1v-1a4 4 0 0 1 8 0v1h-8Z\" />\r\n            </svg>\r\n        ),\r\n        user: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" fill=\"currentColor\">\r\n                <path d=\"M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0ZM4 20a6 6 0 0 1 16 0v1H4v-1Z\" />\r\n            </svg>\r\n        ),\r\n        policy: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" fill=\"currentColor\">\r\n                <path d=\"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5Z\" />\r\n            </svg>\r\n        ),\r\n        postmortem: (\r\n            <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <path d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n            </svg>\r\n        )\r\n    };\r\n    return icons[type] || icons.incident;\r\n}\r\n\r\nfunction getTypeIconSmall(type: SearchResult['type']): React.ReactNode {\r\n    const iconPaths: Record<SearchResult['type'], string> = {\r\n        incident: \"M12 3 2.5 20h19L12 3Zm0 6 4.5 9h-9L12 9Zm0 3v4\",\r\n        service: \"M4 6h16v5H4V6Zm0 7h16v5H4v-5Z\",\r\n        team: \"M7 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6Zm10 0a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM3 19a4 4 0 0 1 8 0v1H3v-1Zm10 1v-1a4 4 0 0 1 8 0v1h-8Z\",\r\n        user: \"M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0ZM4 20a6 6 0 0 1 16 0v1H4v-1Z\",\r\n        policy: \"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5Z\",\r\n        postmortem: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n    };\r\n\r\n    return (\r\n        <svg viewBox=\"0 0 24 24\" width=\"12\" height=\"12\" fill=\"currentColor\">\r\n            <path d={iconPaths[type] || iconPaths.incident} />\r\n        </svg>\r\n    );\r\n}\r\n\r\n// Highlight search matches in text with better styling\r\nfunction highlightMatch(text: string, query: string): React.ReactNode {\r\n    if (!query || query.length < 2) {\r\n        return text;\r\n    }\r\n\r\n    const lowerText = text.toLowerCase();\r\n    const lowerQuery = query.toLowerCase();\r\n    const index = lowerText.indexOf(lowerQuery);\r\n\r\n    if (index === -1) {\r\n        return text;\r\n    }\r\n\r\n    const before = text.substring(0, index);\r\n    const match = text.substring(index, index + query.length);\r\n    const after = text.substring(index + query.length);\r\n\r\n    return (\r\n        <>\r\n            {before}\r\n            <mark className=\"search-highlight\">{match}</mark>\r\n            {after}\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\SkipLinks.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\StatusPageConfig.test.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'TimezoneProvider' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 5,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 26
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 25,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 25,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [822, 825], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [822, 825], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 45,
        "column": 28,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 45,
        "endColumn": 31,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1316, 1319], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1316, 1319], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 51,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 51,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1493, 1496], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1493, 1496], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 56,
        "column": 61,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 56,
        "endColumn": 64,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1660, 1663], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1660, 1663], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\r\nimport { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\r\nimport StatusPageConfig from './StatusPageConfig';\r\nimport { TimezoneProvider } from '@/contexts/TimezoneContext';\r\n\r\n// Mock dependencies\r\nvi.mock('next/navigation', () => ({\r\n    useRouter: () => ({\r\n        refresh: vi.fn(),\r\n        push: vi.fn(),\r\n    }),\r\n}));\r\n\r\nvi.mock('@/components/status-page/StatusPageLivePreview', () => ({\r\n    default: () => <div>Live Preview Mock</div>\r\n}));\r\n\r\n// Mock TimezoneContext if needed, or use the real provider if it has no complex dependencies\r\n// But we can just mock the hook\r\nvi.mock('@/contexts/TimezoneContext', () => ({\r\n    useTimezone: () => ({\r\n        browserTimeZone: 'UTC',\r\n    }),\r\n    TimezoneProvider: ({ children }: any) => <div>{children}</div>,\r\n}));\r\n\r\n\r\ndescribe('StatusPageConfig', () => {\r\n    const mockStatusPage = {\r\n        id: 'sp-123',\r\n        name: 'My Status Page',\r\n        enabled: true,\r\n        showServices: true,\r\n        showIncidents: true,\r\n        showMetrics: true,\r\n        services: [],\r\n        announcements: [],\r\n        apiTokens: [],\r\n        // Privacy settings default\r\n        privacyMode: 'PUBLIC',\r\n        showIncidentDetails: true,\r\n    };\r\n\r\n    const mockAllServices: any[] = [];\r\n\r\n    beforeEach(() => {\r\n        global.fetch = vi.fn(() => Promise.resolve({\r\n            ok: true,\r\n            json: () => Promise.resolve({}),\r\n        })) as any;\r\n    });\r\n\r\n    it('updates privacy settings when changed and saved', async () => {\r\n        render(\r\n            <StatusPageConfig statusPage={mockStatusPage as any} allServices={mockAllServices} />\r\n        );\r\n\r\n        // Click on Privacy & Data tab\r\n        const privacyTab = screen.getByText('Privacy & Data');\r\n        fireEvent.click(privacyTab);\r\n\r\n        // Find \"Show Incident Details\" switch\r\n        // Navigate from label text to the switch control (sibling)\r\n        const labelText = screen.getByText('Show Incident Details');\r\n        // labelText is the span, parent is the label element, which contains the switch div\r\n        const switchControl = labelText.closest('label')?.querySelector('[role=\"switch\"]');\r\n        if (!switchControl) throw new Error('Switch control not found');\r\n\r\n        console.log('Found switch control', switchControl.getAttribute('aria-checked'));\r\n        fireEvent.click(switchControl);\r\n        console.log('Clicked switch control');\r\n\r\n        // Wait for the state update to reflect in the UI\r\n        await waitFor(() => {\r\n            expect(switchControl).toHaveAttribute('aria-checked', 'false');\r\n        });\r\n\r\n        // Click Save Settings\r\n        const saveButton = screen.getByText(/Save Settings/i);\r\n        fireEvent.click(saveButton);\r\n\r\n        // Verify API was called with updated settings\r\n        await waitFor(() => {\r\n            expect(global.fetch).toHaveBeenCalledWith(\r\n                '/api/settings/status-page',\r\n                expect.objectContaining({\r\n                    method: 'POST',\r\n                    body: expect.stringContaining('\"showIncidentDetails\":false')\r\n                })\r\n            );\r\n        });\r\n    });\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\StatusPageConfig.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 877,
        "column": 26,
        "nodeType": "MemberExpression",
        "endLine": 877,
        "endColumn": 51
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 1025,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 1025,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [33508, 33511], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [33508, 33511], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 1040,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 1040,
        "endColumn": 27
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 1130,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 1130,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [36785, 36788], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [36785, 36788], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 1155,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 1155,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [37655, 37658], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [37655, 37658], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 1219,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 1219,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [39599, 39602], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [39599, 39602], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 1250,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 1250,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [40615, 40618], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [40615, 40618], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 1431,
        "column": 49,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 1431,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [48589, 48592], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [48589, 48592], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 1810,
        "column": 35,
        "nodeType": "JSXOpeningElement",
        "endLine": 1826,
        "endColumn": 37
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 1872,
        "column": 35,
        "nodeType": "JSXOpeningElement",
        "endLine": 1888,
        "endColumn": 37
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.",
        "line": 2099,
        "column": 45,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&quot;" },
            "fix": { "range": [80394, 80408], "text": "&quot;Show Preview\"" },
            "desc": "Replace with `&quot;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&ldquo;" },
            "fix": { "range": [80394, 80408], "text": "&ldquo;Show Preview\"" },
            "desc": "Replace with `&ldquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#34;" },
            "fix": { "range": [80394, 80408], "text": "&#34;Show Preview\"" },
            "desc": "Replace with `&#34;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rdquo;" },
            "fix": { "range": [80394, 80408], "text": "&rdquo;Show Preview\"" },
            "desc": "Replace with `&rdquo;`."
          }
        ]
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.",
        "line": 2099,
        "column": 58,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&quot;" },
            "fix": { "range": [80394, 80408], "text": "\"Show Preview&quot;" },
            "desc": "Replace with `&quot;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&ldquo;" },
            "fix": { "range": [80394, 80408], "text": "\"Show Preview&ldquo;" },
            "desc": "Replace with `&ldquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#34;" },
            "fix": { "range": [80394, 80408], "text": "\"Show Preview&#34;" },
            "desc": "Replace with `&#34;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rdquo;" },
            "fix": { "range": [80394, 80408], "text": "\"Show Preview&rdquo;" },
            "desc": "Replace with `&rdquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 47,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 47,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2008, 2011], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2008, 2011], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 8,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useEffect, useRef, useState, useTransition } from 'react';\r\nimport { Card, Button, FormField, Switch, Checkbox } from '@/components/ui';\r\nimport StatusPageLivePreview from '@/components/status-page/StatusPageLivePreview';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useTimezone } from '@/contexts/TimezoneContext';\r\nimport { formatDateTime } from '@/lib/timezone';\r\nimport _StatusPageHeader from '@/components/status-page/StatusPageHeader';\r\nimport _StatusPageServices from '@/components/status-page/StatusPageServices';\r\nimport _StatusPageIncidents from '@/components/status-page/StatusPageIncidents';\r\nimport _StatusPageAnnouncements from '@/components/status-page/StatusPageAnnouncements';\r\nimport StatusPagePrivacySettings, {\r\n  type PrivacySettings,\r\n} from '@/components/status-page/StatusPagePrivacySettings';\r\nimport StatusPageWebhooksSettings from '@/components/status-page/StatusPageWebhooksSettings';\r\nimport StatusPageSubscribers from '@/components/status-page/StatusPageSubscribers';\r\nimport StatusPageEmailConfig from '@/components/status-page/StatusPageEmailConfig';\r\n\r\ntype StatusPageConfigProps = {\r\n  statusPage: {\r\n    id: string;\r\n    name: string;\r\n    organizationName?: string | null;\r\n    subdomain?: string | null;\r\n    customDomain?: string | null;\r\n    enabled: boolean;\r\n    showServices: boolean;\r\n    showIncidents: boolean;\r\n    showMetrics: boolean;\r\n    showSubscribe?: boolean;\r\n    showServicesByRegion?: boolean;\r\n    showServiceOwners?: boolean;\r\n    showServiceSlaTier?: boolean;\r\n    showChangelog?: boolean;\r\n    showRegionHeatmap?: boolean;\r\n    showPostIncidentReview?: boolean;\r\n    enableUptimeExports?: boolean;\r\n    statusApiRequireToken?: boolean;\r\n    statusApiRateLimitEnabled?: boolean;\r\n    statusApiRateLimitMax?: number;\r\n    statusApiRateLimitWindowSec?: number;\r\n    footerText?: string | null;\r\n    contactEmail?: string | null;\r\n    contactUrl?: string | null;\r\n    emailProvider?: string | null;\r\n    branding?: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    requireAuth?: boolean;\r\n    privacyMode?: string;\r\n    showIncidentDetails?: boolean;\r\n    showIncidentTitles?: boolean;\r\n    showIncidentDescriptions?: boolean;\r\n    showAffectedServices?: boolean;\r\n    showIncidentTimestamps?: boolean;\r\n    showServiceMetrics?: boolean;\r\n    showServiceDescriptions?: boolean;\r\n    showServiceRegions?: boolean;\r\n    showTeamInformation?: boolean;\r\n    showCustomFields?: boolean;\r\n    showIncidentAssignees?: boolean;\r\n    showIncidentUrgency?: boolean;\r\n    showUptimeHistory?: boolean;\r\n    showRecentIncidents?: boolean;\r\n    maxIncidentsToShow?: number;\r\n    incidentHistoryDays?: number;\r\n    allowedCustomFields?: string[];\r\n    dataRetentionDays?: number | null;\r\n    authProvider?: string | null;\r\n    uptimeExcellentThreshold?: number;\r\n    uptimeGoodThreshold?: number;\r\n    services: Array<{\r\n      id: string;\r\n      serviceId: string;\r\n      displayName?: string | null;\r\n      showOnPage: boolean;\r\n      order: number;\r\n      service: {\r\n        id: string;\r\n        name: string;\r\n        region?: string | null;\r\n      };\r\n    }>;\r\n    announcements: Array<{\r\n      id: string;\r\n      title: string;\r\n      message: string;\r\n      type: string;\r\n      startDate: string;\r\n      endDate?: string | null;\r\n      isActive: boolean;\r\n      affectedServiceIds?: string[] | null;\r\n    }>;\r\n    apiTokens: Array<{\r\n      id: string;\r\n      name: string;\r\n      prefix: string;\r\n      createdAt: string;\r\n      lastUsedAt?: string | null;\r\n      revokedAt?: string | null;\r\n    }>;\r\n  };\r\n  allServices: Array<{\r\n    id: string;\r\n    name: string;\r\n    region?: string | null;\r\n  }>;\r\n};\r\n\r\nconst ANNOUNCEMENT_TYPES = [\r\n  { value: 'INCIDENT', label: 'Incident', color: '#ef4444', background: '#fee2e2' },\r\n  { value: 'MAINTENANCE', label: 'Maintenance', color: '#2563eb', background: '#dbeafe' },\r\n  { value: 'UPDATE', label: 'Update', color: '#10b981', background: '#dcfce7' },\r\n  { value: 'WARNING', label: 'Warning', color: '#f59e0b', background: '#fef3c7' },\r\n  { value: 'INFO', label: 'Information', color: '#64748b', background: '#f1f5f9' },\r\n];\r\n\r\ntype TemplateCategory = 'professional' | 'colorful' | 'dark' | 'pastel' | 'minimal';\r\n\r\ntype StatusPageTemplate = {\r\n  id: string;\r\n  name: string;\r\n  file: string;\r\n  colors: string[];\r\n  category: TemplateCategory;\r\n};\r\n\r\nconst TEMPLATE_FILTERS: Array<{ id: 'all' | TemplateCategory; label: string }> = [\r\n  { id: 'all', label: 'All' },\r\n  { id: 'professional', label: 'Professional' },\r\n  { id: 'colorful', label: 'Colorful' },\r\n  { id: 'dark', label: 'Dark' },\r\n  { id: 'pastel', label: 'Pastel' },\r\n  { id: 'minimal', label: 'Minimal' },\r\n];\r\n\r\nconst STATUS_PAGE_TEMPLATES: StatusPageTemplate[] = [\r\n  {\r\n    id: 'aurora-bright',\r\n    name: 'Aurora Bright',\r\n    file: 'aurora-bright.css',\r\n    colors: ['#ff6a00', '#00c2ff', '#7c3aed'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'redline',\r\n    name: 'Redline',\r\n    file: 'redline.css',\r\n    colors: ['#ef4444', '#b91c1c', '#fee2e2'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'ocean-glass',\r\n    name: 'Ocean Glass',\r\n    file: 'ocean-glass.css',\r\n    colors: ['#0ea5e9', '#22d3ee', '#e0f2fe'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'sunset-bloom',\r\n    name: 'Sunset Bloom',\r\n    file: 'sunset-bloom.css',\r\n    colors: ['#fb7185', '#f59e0b', '#ec4899'],\r\n    category: 'pastel',\r\n  },\r\n  {\r\n    id: 'midnight-neon',\r\n    name: 'Midnight Neon',\r\n    file: 'midnight-neon.css',\r\n    colors: ['#22d3ee', '#a855f7', '#f472b6'],\r\n    category: 'dark',\r\n  },\r\n  {\r\n    id: 'minimal-warm',\r\n    name: 'Minimal Warm',\r\n    file: 'minimal-warm.css',\r\n    colors: ['#f97316', '#fb923c', '#fff7ed'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'emerald-dawn',\r\n    name: 'Emerald Dawn',\r\n    file: 'emerald-dawn.css',\r\n    colors: ['#10b981', '#84cc16', '#ecfdf5'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'royal-blueprint',\r\n    name: 'Royal Blueprint',\r\n    file: 'royal-blueprint.css',\r\n    colors: ['#2563eb', '#4338ca', '#eef2ff'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'citrus-pop',\r\n    name: 'Citrus Pop',\r\n    file: 'citrus-pop.css',\r\n    colors: ['#f97316', '#eab308', '#fef9c3'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'lavender-mist',\r\n    name: 'Lavender Mist',\r\n    file: 'lavender-mist.css',\r\n    colors: ['#a855f7', '#7c3aed', '#faf5ff'],\r\n    category: 'pastel',\r\n  },\r\n  {\r\n    id: 'graphite-gold',\r\n    name: 'Graphite Gold',\r\n    file: 'graphite-gold.css',\r\n    colors: ['#111827', '#f59e0b', '#f9fafb'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'forest-glow',\r\n    name: 'Forest Glow',\r\n    file: 'forest-glow.css',\r\n    colors: ['#166534', '#22c55e', '#dcfce7'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'coral-reef',\r\n    name: 'Coral Reef',\r\n    file: 'coral-reef.css',\r\n    colors: ['#f43f5e', '#14b8a6', '#f0fdfa'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'slate-mint',\r\n    name: 'Slate Mint',\r\n    file: 'slate-mint.css',\r\n    colors: ['#334155', '#2dd4bf', '#f8fafc'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'sunlit-sky',\r\n    name: 'Sunlit Sky',\r\n    file: 'sunlit-sky.css',\r\n    colors: ['#facc15', '#38bdf8', '#fefce8'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'magma-pulse',\r\n    name: 'Magma Pulse',\r\n    file: 'magma-pulse.css',\r\n    colors: ['#ef4444', '#f59e0b', '#ffedd5'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'denim-rose',\r\n    name: 'Denim Rose',\r\n    file: 'denim-rose.css',\r\n    colors: ['#1d4ed8', '#fb7185', '#eff6ff'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'glacier',\r\n    name: 'Glacier',\r\n    file: 'glacier.css',\r\n    colors: ['#38bdf8', '#22d3ee', '#ecfeff'],\r\n    category: 'pastel',\r\n  },\r\n  {\r\n    id: 'copper-patina',\r\n    name: 'Copper Patina',\r\n    file: 'copper-patina.css',\r\n    colors: ['#c2410c', '#0f766e', '#f0fdfa'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'sandstorm',\r\n    name: 'Sandstorm',\r\n    file: 'sandstorm.css',\r\n    colors: ['#d97706', '#a3e635', '#fef3c7'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'berry-soda',\r\n    name: 'Berry Soda',\r\n    file: 'berry-soda.css',\r\n    colors: ['#a21caf', '#ec4899', '#fdf4ff'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'monochrome-ink',\r\n    name: 'Monochrome Ink',\r\n    file: 'monochrome-ink.css',\r\n    colors: ['#0f172a', '#334155', '#f3f4f6'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'pastel-garden',\r\n    name: 'Pastel Garden',\r\n    file: 'pastel-garden.css',\r\n    colors: ['#fda4af', '#86efac', '#ecfccb'],\r\n    category: 'pastel',\r\n  },\r\n  {\r\n    id: 'steel-sunset',\r\n    name: 'Steel Sunset',\r\n    file: 'steel-sunset.css',\r\n    colors: ['#475569', '#fb7185', '#f8fafc'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'teal-amber',\r\n    name: 'Teal Amber',\r\n    file: 'teal-amber.css',\r\n    colors: ['#14b8a6', '#f59e0b', '#ecfeff'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'violet-cyan',\r\n    name: 'Violet Cyan',\r\n    file: 'violet-cyan.css',\r\n    colors: ['#8b5cf6', '#22d3ee', '#f5f3ff'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'ruby-navy',\r\n    name: 'Ruby Navy',\r\n    file: 'ruby-navy.css',\r\n    colors: ['#e11d48', '#1e3a8a', '#eff6ff'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'charcoal-lime',\r\n    name: 'Charcoal Lime',\r\n    file: 'charcoal-lime.css',\r\n    colors: ['#111827', '#84cc16', '#f7fee7'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'blush-cream',\r\n    name: 'Blush Cream',\r\n    file: 'blush-cream.css',\r\n    colors: ['#f472b6', '#fde68a', '#fdf2f8'],\r\n    category: 'pastel',\r\n  },\r\n  {\r\n    id: 'neon-lime',\r\n    name: 'Neon Lime',\r\n    file: 'neon-lime.css',\r\n    colors: ['#a3e635', '#22d3ee', '#ecfeff'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'coffee-cream',\r\n    name: 'Coffee Cream',\r\n    file: 'coffee-cream.css',\r\n    colors: ['#7c2d12', '#f59e0b', '#fef9c3'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'arctic-night',\r\n    name: 'Arctic Night',\r\n    file: 'arctic-night.css',\r\n    colors: ['#38bdf8', '#0f172a', '#111827'],\r\n    category: 'dark',\r\n  },\r\n  {\r\n    id: 'retro-pop',\r\n    name: 'Retro Pop',\r\n    file: 'retro-pop.css',\r\n    colors: ['#f97316', '#14b8a6', '#fff7ed'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'mint-lilac',\r\n    name: 'Mint Lilac',\r\n    file: 'mint-lilac.css',\r\n    colors: ['#34d399', '#c084fc', '#faf5ff'],\r\n    category: 'pastel',\r\n  },\r\n  {\r\n    id: 'ocean-sunset',\r\n    name: 'Ocean Sunset',\r\n    file: 'ocean-sunset.css',\r\n    colors: ['#0ea5e9', '#f97316', '#fff7ed'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'amber-slate',\r\n    name: 'Amber Slate',\r\n    file: 'amber-slate.css',\r\n    colors: ['#f59e0b', '#475569', '#fef3c7'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'pastel-sky',\r\n    name: 'Pastel Sky',\r\n    file: 'pastel-sky.css',\r\n    colors: ['#93c5fd', '#fbcfe8', '#eff6ff'],\r\n    category: 'pastel',\r\n  },\r\n  {\r\n    id: 'jade-ink',\r\n    name: 'Jade Ink',\r\n    file: 'jade-ink.css',\r\n    colors: ['#22c55e', '#15803d', '#f0fdf4'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'electric-blue',\r\n    name: 'Electric Blue',\r\n    file: 'electric-blue.css',\r\n    colors: ['#3b82f6', '#06b6d4', '#ecfeff'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'graphite-teal',\r\n    name: 'Graphite Teal',\r\n    file: 'graphite-teal.css',\r\n    colors: ['#1f2937', '#14b8a6', '#f1f5f9'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'desert-night',\r\n    name: 'Desert Night',\r\n    file: 'desert-night.css',\r\n    colors: ['#f59e0b', '#0f172a', '#1e293b'],\r\n    category: 'dark',\r\n  },\r\n  {\r\n    id: 'tangerine-aqua',\r\n    name: 'Tangerine Aqua',\r\n    file: 'tangerine-aqua.css',\r\n    colors: ['#f97316', '#22d3ee', '#ecfeff'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'corporate-blue',\r\n    name: 'Corporate Blue',\r\n    file: 'corporate-blue.css',\r\n    colors: ['#1d4ed8', '#0f172a', '#f8fafc'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'enterprise-gray',\r\n    name: 'Enterprise Gray',\r\n    file: 'enterprise-gray.css',\r\n    colors: ['#111827', '#374151', '#f3f4f6'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'slate-executive',\r\n    name: 'Slate Executive',\r\n    file: 'slate-executive.css',\r\n    colors: ['#334155', '#3b82f6', '#f1f5f9'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'clean-white',\r\n    name: 'Clean White',\r\n    file: 'clean-white.css',\r\n    colors: ['#2563eb', '#111827', '#ffffff'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'navy-silver',\r\n    name: 'Navy Silver',\r\n    file: 'navy-silver.css',\r\n    colors: ['#1e3a8a', '#1d4ed8', '#f1f5f9'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'indigo-mint-pro',\r\n    name: 'Indigo Mint',\r\n    file: 'indigo-mint-pro.css',\r\n    colors: ['#4f46e5', '#10b981', '#f8fafc'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'boardroom-slate',\r\n    name: 'Boardroom Slate',\r\n    file: 'boardroom-slate.css',\r\n    colors: ['#0f172a', '#334155', '#e2e8f0'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'capital-ivory',\r\n    name: 'Capital Ivory',\r\n    file: 'capital-ivory.css',\r\n    colors: ['#111827', '#6b7280', '#f9fafb'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'steel-harbor',\r\n    name: 'Steel Harbor',\r\n    file: 'steel-harbor.css',\r\n    colors: ['#1f2937', '#475569', '#e5e7eb'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'summit-teal',\r\n    name: 'Summit Teal',\r\n    file: 'summit-teal.css',\r\n    colors: ['#0f766e', '#14b8a6', '#e6f7f5'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'harbor-navy',\r\n    name: 'Harbor Navy',\r\n    file: 'harbor-navy.css',\r\n    colors: ['#0b1f3a', '#1d4ed8', '#e2e8f0'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'ironwood',\r\n    name: 'Ironwood',\r\n    file: 'ironwood.css',\r\n    colors: ['#3f2d20', '#6b4f3b', '#efe7df'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'deep-aurora',\r\n    name: 'Deep Aurora',\r\n    file: 'deep-aurora.css',\r\n    colors: ['#0f172a', '#0ea5e9', '#e0f2fe'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'midnight-cobalt',\r\n    name: 'Midnight Cobalt',\r\n    file: 'midnight-cobalt.css',\r\n    colors: ['#0b1020', '#1e3a8a', '#0ea5e9'],\r\n    category: 'dark',\r\n  },\r\n  {\r\n    id: 'obsidian-ember',\r\n    name: 'Obsidian Ember',\r\n    file: 'obsidian-ember.css',\r\n    colors: ['#111827', '#b45309', '#f97316'],\r\n    category: 'dark',\r\n  },\r\n  {\r\n    id: 'evergreen-night',\r\n    name: 'Evergreen Night',\r\n    file: 'evergreen-night.css',\r\n    colors: ['#0b1f1a', '#065f46', '#10b981'],\r\n    category: 'dark',\r\n  },\r\n  {\r\n    id: 'storm-plum',\r\n    name: 'Storm Plum',\r\n    file: 'storm-plum.css',\r\n    colors: ['#1b1025', '#6d28d9', '#c4b5fd'],\r\n    category: 'dark',\r\n  },\r\n  {\r\n    id: 'smoked-olive',\r\n    name: 'Smoked Olive',\r\n    file: 'smoked-olive.css',\r\n    colors: ['#1b1f16', '#4d5c2d', '#e7ecd8'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'quiet-charcoal',\r\n    name: 'Quiet Charcoal',\r\n    file: 'quiet-charcoal.css',\r\n    colors: ['#111827', '#334155', '#f1f5f9'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'clear-contrast',\r\n    name: 'Clear Contrast',\r\n    file: 'clear-contrast.css',\r\n    colors: ['#0b1f3a', '#f59e0b', '#f8fafc'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'gov-heritage',\r\n    name: 'Gov Heritage',\r\n    file: 'gov-heritage.css',\r\n    colors: ['#12344d', '#2f855a', '#e2e8f0'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'health-azure',\r\n    name: 'Health Azure',\r\n    file: 'health-azure.css',\r\n    colors: ['#0ea5e9', '#0f766e', '#e0f2fe'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'finance-graphite',\r\n    name: 'Finance Graphite',\r\n    file: 'finance-graphite.css',\r\n    colors: ['#1f2937', '#0f172a', '#f3f4f6'],\r\n    category: 'professional',\r\n  },\r\n  {\r\n    id: 'minimal-sandstone',\r\n    name: 'Minimal Sandstone',\r\n    file: 'minimal-sandstone.css',\r\n    colors: ['#7c5c42', '#a67c52', '#f7efe6'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'minimal-steel',\r\n    name: 'Minimal Steel',\r\n    file: 'minimal-steel.css',\r\n    colors: ['#334155', '#64748b', '#e2e8f0'],\r\n    category: 'minimal',\r\n  },\r\n  {\r\n    id: 'dark-flat-onyx',\r\n    name: 'Dark Flat Onyx',\r\n    file: 'dark-flat-onyx.css',\r\n    colors: ['#0f172a', '#475569', '#94a3b8'],\r\n    category: 'dark',\r\n  },\r\n  {\r\n    id: 'dark-nordic',\r\n    name: 'Dark Nordic',\r\n    file: 'dark-nordic.css',\r\n    colors: ['#0b1321', '#2563eb', '#e0e7ff'],\r\n    category: 'dark',\r\n  },\r\n  {\r\n    id: 'colorful-saffron',\r\n    name: 'Colorful Saffron',\r\n    file: 'colorful-saffron.css',\r\n    colors: ['#f59e0b', '#ef4444', '#fef3c7'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'colorful-pacific',\r\n    name: 'Colorful Pacific',\r\n    file: 'colorful-pacific.css',\r\n    colors: ['#0ea5e9', '#14b8a6', '#ecfeff'],\r\n    category: 'colorful',\r\n  },\r\n  {\r\n    id: 'pastel-lilac',\r\n    name: 'Pastel Lilac',\r\n    file: 'pastel-lilac.css',\r\n    colors: ['#c4b5fd', '#f5d0fe', '#f5f3ff'],\r\n    category: 'pastel',\r\n  },\r\n  {\r\n    id: 'pastel-seafoam',\r\n    name: 'Pastel Seafoam',\r\n    file: 'pastel-seafoam.css',\r\n    colors: ['#99f6e4', '#bae6fd', '#ecfeff'],\r\n    category: 'pastel',\r\n  },\r\n  {\r\n    id: 'dark-crimson',\r\n    name: 'Dark Crimson',\r\n    file: 'dark-crimson.css',\r\n    colors: ['#7f1d1d', '#b91c1c', '#fecaca'],\r\n    category: 'dark',\r\n  },\r\n  {\r\n    id: 'ember-rose',\r\n    name: 'Ember Rose',\r\n    file: 'ember-rose.css',\r\n    colors: ['#9f2a2a', '#d14343', '#f6d2d2'],\r\n    category: 'minimal',\r\n  },\r\n];\r\n\r\nexport default function StatusPageConfig({ statusPage, allServices }: StatusPageConfigProps) {\r\n  const { browserTimeZone } = useTimezone();\r\n  const router = useRouter();\r\n  const [isPending, startTransition] = useTransition();\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\r\n  const [activeSection, setActiveSection] = useState('general');\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [announcementError, setAnnouncementError] = useState<string | null>(null);\r\n  const [isAnnouncementPending, startAnnouncementTransition] = useTransition();\r\n  const [logoUploadError, setLogoUploadError] = useState<string | null>(null);\r\n  const [templateLoadingId, setTemplateLoadingId] = useState<string | null>(null);\r\n  const [templateError, setTemplateError] = useState<string | null>(null);\r\n  const [templateFilter, setTemplateFilter] = useState<'all' | TemplateCategory>('all');\r\n  const [templateCssMap, setTemplateCssMap] = useState<Record<string, string>>({});\r\n  const templateFetchRef = useRef<Set<string>>(new Set());\r\n  const [selectedTemplateId, setSelectedTemplateId] = useState<string | null>(null);\r\n\r\n  // Parse branding JSON\r\n  const branding =\r\n    statusPage.branding && typeof statusPage.branding === 'object' ? statusPage.branding : {};\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: statusPage.name,\r\n    organizationName: statusPage.organizationName || '',\r\n    subdomain: statusPage.subdomain || '',\r\n    customDomain: statusPage.customDomain || '',\r\n    enabled: statusPage.enabled,\r\n    requireAuth: statusPage.requireAuth ?? false,\r\n    showServices: statusPage.showServices,\r\n    showIncidents: statusPage.showIncidents,\r\n    showMetrics: statusPage.showMetrics,\r\n    showSubscribe: statusPage.showSubscribe !== false,\r\n    showServicesByRegion: statusPage.showServicesByRegion ?? false,\r\n    uptimeExcellentThreshold: statusPage.uptimeExcellentThreshold ?? 99.9,\r\n    uptimeGoodThreshold: statusPage.uptimeGoodThreshold ?? 99.0,\r\n    footerText: statusPage.footerText || '',\r\n    contactEmail: statusPage.contactEmail || '',\r\n    contactUrl: statusPage.contactUrl || '',\r\n    // Branding\r\n    logoUrl: branding.logoUrl || '/logo.svg',\r\n    faviconUrl: branding.faviconUrl || '',\r\n    primaryColor: branding.primaryColor || '#667eea',\r\n    backgroundColor: branding.backgroundColor || '#ffffff',\r\n    textColor: branding.textColor || '#111827',\r\n    // Custom CSS\r\n    customCss: branding.customCss || '',\r\n    // Layout\r\n    layout: branding.layout || 'default', // default, compact, wide\r\n    showHeader: branding.showHeader !== false,\r\n    showFooter: branding.showFooter !== false,\r\n    // SEO\r\n    metaTitle: branding.metaTitle || statusPage.name,\r\n    metaDescription: branding.metaDescription || `Status page for ${statusPage.name}`,\r\n    // Advanced\r\n    autoRefresh: branding.autoRefresh !== false,\r\n    refreshInterval: branding.refreshInterval || 60,\r\n    showRssLink: branding.showRssLink !== false,\r\n    showApiLink: branding.showApiLink !== false,\r\n    showServiceOwners: statusPage.showServiceOwners ?? false,\r\n    showServiceSlaTier: statusPage.showServiceSlaTier ?? false,\r\n    showChangelog: statusPage.showChangelog ?? true,\r\n    showRegionHeatmap: statusPage.showRegionHeatmap ?? true,\r\n    showPostIncidentReview: statusPage.showPostIncidentReview ?? true,\r\n    enableUptimeExports: statusPage.enableUptimeExports ?? false,\r\n    statusApiRequireToken: statusPage.statusApiRequireToken ?? false,\r\n    statusApiRateLimitEnabled: statusPage.statusApiRateLimitEnabled ?? false,\r\n    statusApiRateLimitMax: statusPage.statusApiRateLimitMax ?? 120,\r\n    statusApiRateLimitWindowSec: statusPage.statusApiRateLimitWindowSec ?? 60,\r\n  });\r\n\r\n  const [announcementForm, setAnnouncementForm] = useState({\r\n    title: '',\r\n    message: '',\r\n    type: 'INFO',\r\n    startDate: new Date().toISOString().slice(0, 10),\r\n    endDate: '',\r\n    isActive: true,\r\n    notifySubscribers: true,\r\n    affectedServiceIds: [] as string[],\r\n  });\r\n  const [announcements, setAnnouncements] = useState(statusPage.announcements);\r\n  const [apiTokens, setApiTokens] = useState(statusPage.apiTokens ?? []);\r\n  const [apiTokenName, setApiTokenName] = useState('');\r\n  const [apiTokenValue, setApiTokenValue] = useState<string | null>(null);\r\n  const [apiTokenError, setApiTokenError] = useState<string | null>(null);\r\n  const [apiTokenPending, startApiTokenTransition] = useTransition();\r\n\r\n  type SidebarItem = {\r\n    id: string;\r\n    label: string;\r\n    icon?: string;\r\n    badge?: number;\r\n    link?: string;\r\n  };\r\n\r\n  // Sidebar items - defined after announcements state\r\n  const sidebarItems: SidebarItem[] = [\r\n    { id: 'general', label: 'General', icon: 'ΓÜÖ∩╕Å' },\r\n    { id: 'appearance', label: 'Appearance', icon: '≡ƒÄ¿' },\r\n    { id: 'services', label: 'Services', icon: '≡ƒöº' },\r\n    { id: 'privacy', label: 'Privacy & Data', icon: '≡ƒöÆ' },\r\n    { id: 'content', label: 'Content', icon: '≡ƒô¥' },\r\n    { id: 'announcements', label: 'Announcements', icon: '≡ƒôó', badge: announcements.length },\r\n    { id: 'integrations', label: 'Integrations', icon: '≡ƒöî' },\r\n    { id: 'subscribers', label: 'Subscribers', icon: '≡ƒæÑ' },\r\n    { id: 'customization', label: 'Custom CSS', icon: '≡ƒûî∩╕Å' },\r\n    { id: 'advanced', label: 'Advanced', icon: 'ΓÜí' },\r\n  ];\r\n\r\n  const [selectedServices, setSelectedServices] = useState<Set<string>>(\r\n    new Set(statusPage.services.map(s => s.serviceId))\r\n  );\r\n\r\n  const [serviceConfigs, setServiceConfigs] = useState<\r\n    Record<string, { displayName: string; order: number; showOnPage: boolean }>\r\n  >(\r\n    statusPage.services.reduce(\r\n      (acc, sp) => {\r\n        acc[sp.serviceId] = {\r\n          displayName: sp.displayName || '',\r\n          order: sp.order,\r\n          showOnPage: sp.showOnPage,\r\n        };\r\n        return acc;\r\n      },\r\n      {} as Record<string, { displayName: string; order: number; showOnPage: boolean }>\r\n    )\r\n  );\r\n\r\n  const serviceLookup = new Map(allServices.map(service => [service.id, service] as const));\r\n\r\n  const normalizeAnnouncementServiceIds = (value?: string[] | null) => {\r\n    if (!Array.isArray(value)) {\r\n      return [];\r\n    }\r\n    return value.map(id => id.trim()).filter(Boolean);\r\n  };\r\n\r\n  const buildAnnouncementAffectedServices = (value?: string[] | null) => {\r\n    const ids = normalizeAnnouncementServiceIds(value);\r\n    return ids\r\n      .map(id => serviceLookup.get(id))\r\n      .filter(Boolean)\r\n      .map(service => ({\r\n        id: service!.id,\r\n        name: service!.name,\r\n        region: service!.region ?? null,\r\n      }));\r\n  };\r\n\r\n  const getAnnouncementRegions = (services: Array<{ region?: string | null }>) => {\r\n    const regionSet = new Set<string>();\r\n    services.forEach(service => {\r\n      if (!service.region) return;\r\n      service.region\r\n        .split(',')\r\n        .map(entry => entry.trim())\r\n        .filter(Boolean)\r\n        .forEach(region => regionSet.add(region));\r\n    });\r\n    return Array.from(regionSet.values());\r\n  };\r\n\r\n  // Privacy settings - with defaults if not in statusPage\r\n  const [privacySettings, setPrivacySettings] = useState<PrivacySettings>({\r\n    privacyMode: (statusPage.privacyMode as PrivacySettings['privacyMode']) || 'PUBLIC',\r\n    showIncidentDetails: statusPage.showIncidentDetails !== false,\r\n    showIncidentTitles: statusPage.showIncidentTitles !== false,\r\n    showIncidentDescriptions: statusPage.showIncidentDescriptions !== false,\r\n    showAffectedServices: statusPage.showAffectedServices !== false,\r\n    showIncidentTimestamps: statusPage.showIncidentTimestamps !== false,\r\n    showServiceMetrics: statusPage.showServiceMetrics !== false,\r\n    showServiceDescriptions: statusPage.showServiceDescriptions !== false,\r\n    showServiceRegions: statusPage.showServiceRegions !== false,\r\n    showTeamInformation: statusPage.showTeamInformation || false,\r\n    showCustomFields: statusPage.showCustomFields || false,\r\n    showIncidentAssignees: statusPage.showIncidentAssignees || false,\r\n    showIncidentUrgency: statusPage.showIncidentUrgency !== false,\r\n    showUptimeHistory: statusPage.showUptimeHistory !== false,\r\n    showRecentIncidents: statusPage.showRecentIncidents !== false,\r\n    maxIncidentsToShow: statusPage.maxIncidentsToShow || 50,\r\n    incidentHistoryDays: statusPage.incidentHistoryDays || 90,\r\n    allowedCustomFields: statusPage.allowedCustomFields || [],\r\n    dataRetentionDays: statusPage.dataRetentionDays || null,\r\n    requireAuth: statusPage.requireAuth || false,\r\n    authProvider: statusPage.authProvider || null,\r\n  });\r\n\r\n  const selectedServiceIds = Array.from(selectedServices);\r\n  const announcementServiceOptions = allServices.filter(service =>\r\n    selectedServices.has(service.id)\r\n  );\r\n  const hasSelectedRegions = allServices.some(\r\n    service =>\r\n      selectedServices.has(service.id) &&\r\n      Boolean(service.region && service.region.trim().length > 0)\r\n  );\r\n  const previewServiceIds =\r\n    selectedServiceIds.length > 0 ? selectedServiceIds : allServices.map(service => service.id);\r\n  const previewServices = allServices\r\n    .filter(service => previewServiceIds.includes(service.id))\r\n    .map(service => ({\r\n      id: service.id,\r\n      name: service.name,\r\n      status: 'OPERATIONAL',\r\n      _count: { incidents: 0 },\r\n    }));\r\n\r\n  const previewStatusPageServices =\r\n    selectedServiceIds.length > 0\r\n      ? selectedServiceIds\r\n        .map((serviceId, index) => {\r\n          const config = serviceConfigs[serviceId] || {\r\n            displayName: '',\r\n            order: index,\r\n            showOnPage: true,\r\n          };\r\n          return {\r\n            id: `preview-${serviceId}`,\r\n            serviceId,\r\n            displayName: config.displayName || null,\r\n            showOnPage: config.showOnPage !== false,\r\n            order: config.order ?? index,\r\n          };\r\n        })\r\n        .sort((a, b) => (a.order ?? 0) - (b.order ?? 0))\r\n      : [];\r\n\r\n  const previewUptime90 = previewServices.reduce<Record<string, number>>((acc, service) => {\r\n    acc[service.id] = 100;\r\n    return acc;\r\n  }, {});\r\n\r\n  const today = new Date();\r\n  const previewAnnouncements = announcements\r\n    .map(announcement => ({\r\n      ...announcement,\r\n      startDate: new Date(announcement.startDate),\r\n      endDate: announcement.endDate ? new Date(announcement.endDate) : null,\r\n      affectedServiceIds: normalizeAnnouncementServiceIds(announcement.affectedServiceIds),\r\n    }))\r\n    .filter(announcement => {\r\n      if (!announcement.isActive) {\r\n        return false;\r\n      }\r\n      if (!announcement.endDate) {\r\n        return true;\r\n      }\r\n      return announcement.endDate >= today;\r\n    });\r\n\r\n  const previewBranding = {\r\n    logoUrl: formData.logoUrl,\r\n    faviconUrl: formData.faviconUrl,\r\n    primaryColor: formData.primaryColor,\r\n    backgroundColor: formData.backgroundColor,\r\n    textColor: formData.textColor,\r\n    customCss: formData.customCss,\r\n    layout: formData.layout,\r\n    showHeader: formData.showHeader,\r\n    showFooter: formData.showFooter,\r\n    showRssLink: formData.showRssLink,\r\n    showApiLink: formData.showApiLink,\r\n    uptimeExcellentThreshold: formData.uptimeExcellentThreshold,\r\n    uptimeGoodThreshold: formData.uptimeGoodThreshold,\r\n  };\r\n  const previewMaxWidth =\r\n    formData.layout === 'wide' ? '1600px' : formData.layout === 'compact' ? '900px' : '1280px';\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setSuccessMessage(null);\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const brandingData = {\r\n          logoUrl: formData.logoUrl,\r\n          faviconUrl: formData.faviconUrl,\r\n          primaryColor: formData.primaryColor,\r\n          backgroundColor: formData.backgroundColor,\r\n          textColor: formData.textColor,\r\n          customCss: formData.customCss,\r\n          layout: formData.layout,\r\n          showHeader: formData.showHeader,\r\n          showFooter: formData.showFooter,\r\n          metaTitle: formData.metaTitle,\r\n          metaDescription: formData.metaDescription,\r\n          autoRefresh: formData.autoRefresh,\r\n          refreshInterval: formData.refreshInterval,\r\n          showRssLink: formData.showRssLink,\r\n          showApiLink: formData.showApiLink,\r\n        };\r\n\r\n        const response = await fetch('/api/settings/status-page', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            name: formData.name,\r\n            organizationName: formData.organizationName || null,\r\n            subdomain: formData.subdomain || null,\r\n            customDomain: formData.customDomain || null,\r\n            enabled: formData.enabled,\r\n            showServices: formData.showServices,\r\n            showIncidents: formData.showIncidents,\r\n            showMetrics: formData.showMetrics,\r\n            showSubscribe: formData.showSubscribe,\r\n            showServicesByRegion: formData.showServicesByRegion,\r\n            uptimeExcellentThreshold: formData.uptimeExcellentThreshold,\r\n            uptimeGoodThreshold: formData.uptimeGoodThreshold,\r\n            footerText: formData.footerText || null,\r\n            contactEmail: formData.contactEmail || null,\r\n            contactUrl: formData.contactUrl || null,\r\n            branding: brandingData,\r\n            serviceIds: Array.from(selectedServices),\r\n            serviceConfigs: serviceConfigs,\r\n            // Privacy settings\r\n            privacyMode: privacySettings.privacyMode,\r\n            showIncidentDetails: privacySettings.showIncidentDetails,\r\n            showIncidentTitles: privacySettings.showIncidentTitles,\r\n            showIncidentDescriptions: privacySettings.showIncidentDescriptions,\r\n            showAffectedServices: privacySettings.showAffectedServices,\r\n            showIncidentTimestamps: privacySettings.showIncidentTimestamps,\r\n            showServiceMetrics: privacySettings.showServiceMetrics,\r\n            showServiceDescriptions: privacySettings.showServiceDescriptions,\r\n            showServiceRegions: privacySettings.showServiceRegions,\r\n            showTeamInformation: privacySettings.showTeamInformation,\r\n            showCustomFields: privacySettings.showCustomFields,\r\n            showIncidentAssignees: privacySettings.showIncidentAssignees,\r\n            showIncidentUrgency: privacySettings.showIncidentUrgency,\r\n            showUptimeHistory: privacySettings.showUptimeHistory,\r\n            showRecentIncidents: privacySettings.showRecentIncidents,\r\n            maxIncidentsToShow: privacySettings.maxIncidentsToShow,\r\n            incidentHistoryDays: privacySettings.incidentHistoryDays,\r\n            allowedCustomFields: privacySettings.allowedCustomFields,\r\n            dataRetentionDays: privacySettings.dataRetentionDays,\r\n            requireAuth: privacySettings.requireAuth,\r\n            authProvider: privacySettings.authProvider,\r\n            showServiceOwners: formData.showServiceOwners,\r\n            showServiceSlaTier: formData.showServiceSlaTier,\r\n            showChangelog: formData.showChangelog,\r\n            showRegionHeatmap: formData.showRegionHeatmap,\r\n            showPostIncidentReview: formData.showPostIncidentReview,\r\n            enableUptimeExports: formData.enableUptimeExports,\r\n            statusApiRequireToken: formData.statusApiRequireToken,\r\n            statusApiRateLimitEnabled: formData.statusApiRateLimitEnabled,\r\n            statusApiRateLimitMax: formData.statusApiRateLimitMax,\r\n            statusApiRateLimitWindowSec: formData.statusApiRateLimitWindowSec,\r\n          }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const data = await response.json();\r\n          throw new Error(data.error || 'Failed to save status page settings');\r\n        }\r\n\r\n        setSuccessMessage('Settings saved successfully!');\r\n        // Clear success message after 3 seconds\r\n        setTimeout(() => setSuccessMessage(null), 3000);\r\n        router.refresh();\r\n      } catch (err: any) {\r\n\r\n        const { getUserFriendlyError } = await import('@/lib/user-friendly-errors');\r\n        setError(getUserFriendlyError(err) || 'Failed to save settings');\r\n      }\r\n    });\r\n  };\r\n\r\n  const updateServiceConfig = (\r\n    serviceId: string,\r\n    updates: Partial<{ displayName: string; order: number; showOnPage: boolean }>\r\n  ) => {\r\n    setServiceConfigs(prev => ({\r\n      ...prev,\r\n      [serviceId]: {\r\n        ...prev[serviceId],\r\n        ...updates,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleLogoUpload = (file: File | null) => {\r\n    if (!file) {\r\n      return;\r\n    }\r\n    setLogoUploadError(null);\r\n\r\n    const maxSizeBytes = 2 * 1024 * 1024;\r\n    if (file.size > maxSizeBytes) {\r\n      setLogoUploadError('Logo file must be under 2MB.');\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      const result = typeof reader.result === 'string' ? reader.result : '';\r\n      if (!result.startsWith('data:image/')) {\r\n        setLogoUploadError('Unsupported image type.');\r\n        return;\r\n      }\r\n      setFormData({ ...formData, logoUrl: result });\r\n    };\r\n    reader.onerror = () => {\r\n      setLogoUploadError('Failed to read logo file.');\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const handleAnnouncementCreate = async (e: React.FormEvent | React.MouseEvent) => {\r\n    e.preventDefault();\r\n    setAnnouncementError(null);\r\n\r\n    const title = announcementForm.title.trim();\r\n    const message = announcementForm.message.trim();\r\n    if (!title || !message) {\r\n      setAnnouncementError('Title and message are required.');\r\n      return;\r\n    }\r\n\r\n    startAnnouncementTransition(async () => {\r\n      try {\r\n        const response = await fetch('/api/settings/status-page/announcements', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            statusPageId: statusPage.id,\r\n            title,\r\n            message,\r\n            type: announcementForm.type,\r\n            startDate: announcementForm.startDate,\r\n            endDate: announcementForm.endDate || null,\r\n            isActive: announcementForm.isActive,\r\n            notifySubscribers: announcementForm.notifySubscribers,\r\n            affectedServiceIds:\r\n              announcementForm.affectedServiceIds.length > 0\r\n                ? announcementForm.affectedServiceIds\r\n                : null,\r\n          }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const data = await response.json();\r\n          throw new Error(data.error || 'Failed to create announcement');\r\n        }\r\n\r\n        const data = await response.json();\r\n        if (data?.announcement) {\r\n          setAnnouncements(current => {\r\n            const next = [data.announcement, ...current];\r\n            return next.sort(\r\n              (a, b) => new Date(b.startDate).getTime() - new Date(a.startDate).getTime()\r\n            );\r\n          });\r\n        }\r\n\r\n        setAnnouncementForm({\r\n          title: '',\r\n          message: '',\r\n          type: 'INFO',\r\n          startDate: new Date().toISOString().slice(0, 10),\r\n          endDate: '',\r\n          isActive: true,\r\n          notifySubscribers: true,\r\n          affectedServiceIds: [],\r\n        });\r\n      } catch (err: any) {\r\n\r\n        const { getUserFriendlyError } = await import('@/lib/user-friendly-errors');\r\n        setAnnouncementError(getUserFriendlyError(err) || 'Failed to create announcement');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleAnnouncementDelete = (id: string) => {\r\n    setAnnouncementError(null);\r\n\r\n    startAnnouncementTransition(async () => {\r\n      try {\r\n        const response = await fetch('/api/settings/status-page/announcements', {\r\n          method: 'DELETE',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ id }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const data = await response.json();\r\n          throw new Error(data.error || 'Failed to delete announcement');\r\n        }\r\n\r\n        setAnnouncements(current => current.filter(announcement => announcement.id !== id));\r\n      } catch (err: any) {\r\n\r\n        const { getUserFriendlyError } = await import('@/lib/user-friendly-errors');\r\n        setAnnouncementError(getUserFriendlyError(err) || 'Failed to delete announcement');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleAnnouncementServiceToggle = (serviceId: string) => {\r\n    setAnnouncementForm(prev => {\r\n      const next = new Set(prev.affectedServiceIds);\r\n      if (next.has(serviceId)) {\r\n        next.delete(serviceId);\r\n      } else {\r\n        next.add(serviceId);\r\n      }\r\n      return { ...prev, affectedServiceIds: Array.from(next) };\r\n    });\r\n  };\r\n\r\n  const handleAnnouncementServiceSelectAll = () => {\r\n    setAnnouncementForm(prev => ({\r\n      ...prev,\r\n      affectedServiceIds: announcementServiceOptions.map(service => service.id),\r\n    }));\r\n  };\r\n\r\n  const handleAnnouncementServiceClear = () => {\r\n    setAnnouncementForm(prev => ({ ...prev, affectedServiceIds: [] }));\r\n  };\r\n\r\n  const handleCreateApiToken = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setApiTokenError(null);\r\n    setApiTokenValue(null);\r\n\r\n    const name = apiTokenName.trim();\r\n    if (!name) {\r\n      setApiTokenError('Token name is required.');\r\n      return;\r\n    }\r\n\r\n    startApiTokenTransition(async () => {\r\n      try {\r\n        const response = await fetch('/api/settings/status-page/api-tokens', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            statusPageId: statusPage.id,\r\n            name,\r\n          }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const data = await response.json();\r\n          throw new Error(data.error || 'Failed to create token');\r\n        }\r\n\r\n        const data = await response.json();\r\n        if (data?.apiToken) {\r\n          setApiTokens(current => [data.apiToken, ...current]);\r\n        }\r\n        setApiTokenValue(data?.token || null);\r\n        setApiTokenName('');\r\n      } catch (err: any) {\r\n\r\n        const { getUserFriendlyError } = await import('@/lib/user-friendly-errors');\r\n        setApiTokenError(getUserFriendlyError(err) || 'Failed to create token');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleRevokeApiToken = (id: string) => {\r\n    setApiTokenError(null);\r\n    startApiTokenTransition(async () => {\r\n      try {\r\n        const response = await fetch('/api/settings/status-page/api-tokens', {\r\n          method: 'DELETE',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ id }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const data = await response.json();\r\n          throw new Error(data.error || 'Failed to revoke token');\r\n        }\r\n\r\n        const data = await response.json();\r\n        if (data?.apiToken) {\r\n          setApiTokens(current =>\r\n            current.map(token =>\r\n              token.id === id ? { ...token, revokedAt: data.apiToken.revokedAt } : token\r\n            )\r\n          );\r\n        }\r\n      } catch (err: any) {\r\n\r\n        const { getUserFriendlyError } = await import('@/lib/user-friendly-errors');\r\n        setApiTokenError(getUserFriendlyError(err) || 'Failed to revoke token');\r\n      }\r\n    });\r\n  };\r\n\r\n  const getTemplateGradient = (colors: string[]) => {\r\n    const primary = colors[0] || '#ffffff';\r\n    const secondary = colors[1] || primary;\r\n    const tertiary = colors[2] || secondary;\r\n    return `linear-gradient(135deg, ${primary} 0%, ${secondary} 55%, ${tertiary} 100%)`;\r\n  };\r\n\r\n  const visibleTemplates =\r\n    templateFilter === 'all'\r\n      ? STATUS_PAGE_TEMPLATES\r\n      : STATUS_PAGE_TEMPLATES.filter(template => template.category === templateFilter);\r\n  const selectedTemplate = selectedTemplateId\r\n    ? STATUS_PAGE_TEMPLATES.find(template => template.id === selectedTemplateId)\r\n    : null;\r\n\r\n  const buildTemplatePreviewHtml = (css: string, name: string) => `\r\n<!doctype html>\r\n<html>\r\n  <head>\r\n    <meta charset=\"utf-8\" />\r\n    <style>\r\n      * { box-sizing: border-box; }\r\n      html, body { margin: 0; padding: 0; }\r\n      body { font-family: Arial, Helvetica, sans-serif; }\r\n      .preview-root { min-height: 100%; }\r\n      .status-page-container { min-height: 100%; padding: 10px; }\r\n      .status-page-header { padding: 10px; display: flex; justify-content: space-between; align-items: center; gap: 8px; }\r\n      .status-page-header h1 { font-size: 13px; margin: 0; }\r\n      .status-page-header p { margin: 4px 0 0 0; font-size: 9px; }\r\n      .status-page-header a { font-size: 9px; text-decoration: none; padding: 4px 8px; border-radius: 999px; }\r\n      main { padding: 8px; display: flex; flex-direction: column; gap: 6px; }\r\n      h2 { font-size: 10px; margin: 0; text-transform: uppercase; letter-spacing: 0.06em; }\r\n      .status-service-card, .status-incident-card { padding: 8px; border-radius: 10px; }\r\n      .status-service-card div, .status-incident-card div { font-size: 10px; font-weight: 600; }\r\n      .status-announce-card { padding: 8px; border-radius: 10px; border: 1px solid rgba(15, 23, 42, 0.08); }\r\n      .status-announce-card div { font-size: 10px; font-weight: 600; }\r\n      .status-metric-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; }\r\n      .status-metric { padding: 6px; border-radius: 8px; border: 1px solid rgba(15, 23, 42, 0.08); font-size: 9px; text-align: center; }\r\n      .status-legend { display: flex; gap: 6px; font-size: 9px; }\r\n      .status-dot { width: 6px; height: 6px; border-radius: 999px; display: inline-block; margin-right: 4px; }\r\n      footer { margin-top: 6px; font-size: 9px; text-align: center; }\r\n      form { margin-top: 4px; }\r\n      form button { width: 100%; padding: 6px; font-size: 9px; border-radius: 10px; }\r\n    </style>\r\n    <style>${css}</style>\r\n  </head>\r\n  <body>\r\n    <div class=\"preview-root\">\r\n      <div class=\"status-page-container\">\r\n        <header class=\"status-page-header\">\r\n          <div>\r\n            <h1>${name}</h1>\r\n            <p>All systems operational</p>\r\n          </div>\r\n          <a href=\"#\">Contact</a>\r\n        </header>\r\n        <main>\r\n          <h2>Announcements</h2>\r\n          <div class=\"status-announce-card\"><div>Planned maintenance</div></div>\r\n          <h2>Services</h2>\r\n          <div class=\"status-service-card\"><div>API Gateway</div></div>\r\n          <div class=\"status-legend\">\r\n            <span><span class=\"status-dot\" style=\"background:#22c55e;\"></span>Operational</span>\r\n            <span><span class=\"status-dot\" style=\"background:#f59e0b;\"></span>Degraded</span>\r\n            <span><span class=\"status-dot\" style=\"background:#ef4444;\"></span>Outage</span>\r\n          </div>\r\n          <h2>Metrics</h2>\r\n          <div class=\"status-metric-row\">\r\n            <div class=\"status-metric\">Latency 120ms</div>\r\n            <div class=\"status-metric\">Uptime 99.99%</div>\r\n            <div class=\"status-metric\">Incidents 0</div>\r\n          </div>\r\n          <h2>Incidents</h2>\r\n          <div class=\"status-incident-card\"><div>Minor latency</div></div>\r\n          <form><button type=\"submit\">Subscribe</button></form>\r\n          <footer>status.example.com</footer>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  </body>\r\n</html>\r\n`;\r\n\r\n  const handleApplyTemplate = async (template: StatusPageTemplate) => {\r\n    setTemplateError(null);\r\n    setTemplateLoadingId(template.id);\r\n    try {\r\n      const response = await fetch(`/status-page-templates/${template.file}`, {\r\n        cache: 'no-store',\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to load template');\r\n      }\r\n      const css = await response.text();\r\n      setFormData(prev => ({ ...prev, customCss: css }));\r\n      setSelectedTemplateId(template.id);\r\n      setSuccessMessage(`Template loaded: ${template.name}. Remember to save settings.`);\r\n      setTimeout(() => setSuccessMessage(null), 3000);\r\n    } catch {\r\n      setTemplateError('Failed to load template. Please try again.');\r\n    } finally {\r\n      setTemplateLoadingId(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n\r\n    const loadTemplates = async () => {\r\n      for (const template of visibleTemplates) {\r\n        if (templateCssMap[template.id] || templateFetchRef.current.has(template.id)) {\r\n          continue;\r\n        }\r\n        templateFetchRef.current.add(template.id);\r\n        try {\r\n          const response = await fetch(`/status-page-templates/${template.file}`, {\r\n            cache: 'force-cache',\r\n          });\r\n          if (!response.ok) {\r\n            throw new Error('Template preview fetch failed');\r\n          }\r\n          const css = await response.text();\r\n          if (!cancelled) {\r\n            setTemplateCssMap(prev => ({ ...prev, [template.id]: css }));\r\n          }\r\n        } catch {\r\n          // Ignore preview failures; button still loads full CSS on demand.\r\n        } finally {\r\n          templateFetchRef.current.delete(template.id);\r\n        }\r\n      }\r\n    };\r\n\r\n    loadTemplates();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [visibleTemplates, templateCssMap]);\r\n\r\n  // Prepare privacy settings for preview\r\n  const previewPrivacySettings = {\r\n    privacyMode: privacySettings.privacyMode || 'PUBLIC',\r\n    showIncidentDetails: privacySettings.showIncidentDetails !== false,\r\n    showIncidentTitles: privacySettings.showIncidentTitles !== false,\r\n    showIncidentDescriptions: privacySettings.showIncidentDescriptions !== false,\r\n    showAffectedServices: privacySettings.showAffectedServices !== false,\r\n    showIncidentTimestamps: privacySettings.showIncidentTimestamps !== false,\r\n    showServiceMetrics: privacySettings.showServiceMetrics !== false,\r\n    showServiceDescriptions: privacySettings.showServiceDescriptions !== false,\r\n    showServiceRegions: privacySettings.showServiceRegions !== false,\r\n    showTeamInformation: privacySettings.showTeamInformation || false,\r\n    showCustomFields: privacySettings.showCustomFields || false,\r\n    showIncidentAssignees: privacySettings.showIncidentAssignees || false,\r\n    showIncidentUrgency: privacySettings.showIncidentUrgency !== false,\r\n    showUptimeHistory: privacySettings.showUptimeHistory !== false,\r\n    showRecentIncidents: privacySettings.showRecentIncidents !== false,\r\n    maxIncidentsToShow: privacySettings.maxIncidentsToShow || 50,\r\n    incidentHistoryDays: privacySettings.incidentHistoryDays || 90,\r\n    allowedCustomFields: privacySettings.allowedCustomFields || [],\r\n    dataRetentionDays: privacySettings.dataRetentionDays || null,\r\n    requireAuth: privacySettings.requireAuth !== false,\r\n    authProvider: privacySettings.authProvider || null,\r\n  };\r\n\r\n  const previewData = {\r\n    statusPage: {\r\n      name: formData.name,\r\n      contactEmail: formData.contactEmail || null,\r\n      contactUrl: formData.contactUrl || null,\r\n    },\r\n    branding: previewBranding,\r\n    services: previewServices,\r\n    statusPageServices: previewStatusPageServices,\r\n    announcements: previewAnnouncements.map((a: any) => ({\r\n\r\n      ...a,\r\n      startDate: a.startDate.toISOString(),\r\n      endDate: a.endDate ? a.endDate.toISOString() : null,\r\n      affectedServices: buildAnnouncementAffectedServices(a.affectedServiceIds),\r\n    })),\r\n    uptime90: previewUptime90,\r\n    incidents: [],\r\n    showServices: formData.showServices,\r\n    showIncidents: formData.showIncidents,\r\n    showSubscribe: formData.showSubscribe,\r\n    showServicesByRegion: formData.showServicesByRegion,\r\n    showServiceOwners: formData.showServiceOwners,\r\n    showServiceSlaTier: formData.showServiceSlaTier,\r\n    showChangelog: formData.showChangelog,\r\n    showRegionHeatmap: formData.showRegionHeatmap,\r\n    showPostIncidentReview: formData.showPostIncidentReview,\r\n    showHeader: formData.showHeader,\r\n    showFooter: formData.showFooter,\r\n    footerText: formData.footerText || null,\r\n    showRssLink: formData.showRssLink,\r\n    showApiLink: formData.showApiLink,\r\n    layout: formData.layout,\r\n    privacySettings: previewPrivacySettings,\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div\r\n        className=\"status-page-config\"\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          height: 'calc(100vh - 100px)',\r\n          gap: 0,\r\n          overflow: 'hidden',\r\n        }}\r\n      >\r\n        {/* Top Navigation */}\r\n        <div className=\"status-page-config-tabs\">\r\n          <div className=\"status-page-config-tabs-list\">\r\n            {sidebarItems.map(item => {\r\n              const ItemComponent = item.link ? 'a' : 'button';\r\n              const isActive = activeSection === item.id;\r\n              return (\r\n                <ItemComponent\r\n                  key={item.id}\r\n                  type={!item.link ? 'button' : undefined}\r\n                  href={item.link}\r\n                  onClick={() => !item.link && setActiveSection(item.id)}\r\n                  className={`status-page-config-tab ${isActive ? 'is-active' : ''}`}\r\n                >\r\n                  {item.icon && <span className=\"status-page-config-tab-icon\">{item.icon}</span>}\r\n                  {item.label}\r\n                  {item.badge ? (\r\n                    <span className={`status-page-config-tab-badge ${isActive ? 'is-active' : ''}`}>\r\n                      {item.badge}\r\n                    </span>\r\n                  ) : null}\r\n                </ItemComponent>\r\n              );\r\n            })}\r\n          </div>\r\n          <div className=\"status-page-config-tabs-actions\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"secondary\"\r\n              onClick={() => setShowPreview(!showPreview)}\r\n              className=\"status-page-config-preview-toggle\"\r\n            >\r\n              {showPreview ? 'Hide Preview' : 'Show Preview'}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content Area with Optional Preview */}\r\n        <div\r\n          className=\"status-page-config-body\"\r\n          style={{ flex: 1, display: 'flex', overflow: 'hidden' }}\r\n        >\r\n          {/* Settings Content */}\r\n          <div\r\n            className=\"status-page-config-settings\"\r\n            style={{\r\n              flex: showPreview ? '0 0 58%' : '1',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              overflow: 'hidden',\r\n              background: '#f9fafb',\r\n              transition: 'flex 0.3s ease',\r\n            }}\r\n          >\r\n            {/* Scrollable Content */}\r\n            <div\r\n              className=\"status-page-config-settings-scroll\"\r\n              style={{\r\n                flex: 1,\r\n                overflowY: 'auto',\r\n                padding: 'var(--spacing-6)',\r\n              }}\r\n            >\r\n              <div\r\n                className=\"status-page-config-settings-inner\"\r\n                style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}\r\n              >\r\n                {/* General Settings */}\r\n                {activeSection === 'general' && (\r\n                  <div\r\n                    style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}\r\n                  >\r\n                    <Card hover className=\"status-page-config-card\">\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2 className=\"status-page-config-card-title\">Basic Settings</h2>\r\n                        <p className=\"status-page-config-card-desc\">\r\n                          Define the identity and presentation name displayed on your public status\r\n                          page.\r\n                        </p>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          <FormField\r\n                            type=\"input\"\r\n                            label=\"Status Page Name\"\r\n                            value={formData.name}\r\n                            onChange={e => setFormData({ ...formData, name: e.target.value })}\r\n                            required\r\n                            helperText=\"The name displayed at the top of your status page\"\r\n                          />\r\n\r\n                          <FormField\r\n                            type=\"input\"\r\n                            label=\"Organization Name\"\r\n                            value={formData.organizationName}\r\n                            onChange={e =>\r\n                              setFormData({ ...formData, organizationName: e.target.value })\r\n                            }\r\n                            helperText=\"Used in email headers (e.g., 'OpsSentinal'). Overrides Status Page Name if set.\"\r\n                            placeholder=\"e.g. OpsSentinal\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card hover className=\"status-page-config-card\">\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2 className=\"status-page-config-card-title\">Access & Visibility</h2>\r\n                        <p className=\"status-page-config-card-desc\">\r\n                          Control who can access the status page and when it is publicly visible.\r\n                        </p>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          <Switch\r\n                            checked={formData.enabled}\r\n                            onChange={checked =>\r\n                              setFormData(prev => ({ ...prev, enabled: checked }))\r\n                            }\r\n                            label=\"Enable Status Page\"\r\n                            helperText=\"Make the status page accessible to users.\"\r\n                          />\r\n\r\n                          {formData.enabled && (\r\n                            <Switch\r\n                              checked={!formData.requireAuth}\r\n                              onChange={checked =>\r\n                                setFormData(prev => ({ ...prev, requireAuth: !checked }))\r\n                              }\r\n                              label=\"Public Access\"\r\n                              helperText=\"When enabled, anyone can view the status page without logging in. When disabled, users must log in to view the status page.\"\r\n                            />\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card hover className=\"status-page-config-card\">\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2 className=\"status-page-config-card-title\">Domain Configuration</h2>\r\n                        <p className=\"status-page-config-card-desc\">\r\n                          Configure subdomains and custom domains to host your status page.\r\n                        </p>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          <FormField\r\n                            type=\"input\"\r\n                            label=\"Subdomain\"\r\n                            value={formData.subdomain}\r\n                            onChange={e => setFormData({ ...formData, subdomain: e.target.value })}\r\n                            placeholder=\"status\"\r\n                            helperText=\"e.g., status (for status.yourcompany.com). Requires DNS configuration.\"\r\n                          />\r\n\r\n                          <FormField\r\n                            type=\"input\"\r\n                            label=\"Custom Domain\"\r\n                            value={formData.customDomain}\r\n                            onChange={e =>\r\n                              setFormData({ ...formData, customDomain: e.target.value })\r\n                            }\r\n                            placeholder=\"status.yourcompany.com\"\r\n                            helperText=\"Full custom domain. Requires DNS CNAME record pointing to your status page.\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Contact Information\r\n                        </h2>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          <FormField\r\n                            type=\"input\"\r\n                            inputType=\"email\"\r\n                            label=\"Contact Email\"\r\n                            value={formData.contactEmail}\r\n                            onChange={e =>\r\n                              setFormData({ ...formData, contactEmail: e.target.value })\r\n                            }\r\n                            placeholder=\"support@yourcompany.com\"\r\n                            helperText=\"Email address for users to contact you\"\r\n                          />\r\n\r\n                          <FormField\r\n                            type=\"input\"\r\n                            inputType=\"url\"\r\n                            label=\"Contact URL\"\r\n                            value={formData.contactUrl}\r\n                            onChange={e => setFormData({ ...formData, contactUrl: e.target.value })}\r\n                            placeholder=\"https://yourcompany.com/contact\"\r\n                            helperText=\"URL for contact page or support portal\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Appearance Settings */}\r\n                {activeSection === 'appearance' && (\r\n                  <div\r\n                    style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}\r\n                  >\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Branding & Logo\r\n                        </h2>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-6)',\r\n                          }}\r\n                        >\r\n                          <div>\r\n                            <FormField\r\n                              type=\"input\"\r\n                              inputType=\"text\"\r\n                              label=\"Logo URL\"\r\n                              value={formData.logoUrl}\r\n                              onChange={e => setFormData({ ...formData, logoUrl: e.target.value })}\r\n                              placeholder=\"https://yourcompany.com/logo.png\"\r\n                              helperText=\"Full URL or relative path (e.g., /logo.svg). Recommended: 200x50px, PNG or SVG format. The logo will appear in the status page header.\"\r\n                              required={false}\r\n                            />\r\n                            <div style={{ marginTop: 'var(--spacing-2)' }}>\r\n                              <button\r\n                                type=\"button\"\r\n                                onClick={() => setFormData({ ...formData, logoUrl: '/logo.svg' })}\r\n                                className=\"status-page-button\"\r\n                              >\r\n                                Use default app logo\r\n                              </button>\r\n                            </div>\r\n                            <div style={{ marginTop: 'var(--spacing-3)' }}>\r\n                              <label\r\n                                style={{\r\n                                  display: 'block',\r\n                                  fontSize: 'var(--font-size-sm)',\r\n                                  fontWeight: '600',\r\n                                  marginBottom: 'var(--spacing-2)',\r\n                                }}\r\n                              >\r\n                                Upload Logo\r\n                              </label>\r\n                              <input\r\n                                type=\"file\"\r\n                                accept=\"image/png,image/jpeg,image/svg+xml,image/webp\"\r\n                                onChange={e => handleLogoUpload(e.target.files?.[0] || null)}\r\n                                style={{\r\n                                  width: '100%',\r\n                                  padding: '0.4rem 0',\r\n                                  fontSize: 'var(--font-size-sm)',\r\n                                }}\r\n                              />\r\n                              <div\r\n                                style={{\r\n                                  fontSize: 'var(--font-size-xs)',\r\n                                  color: 'var(--text-muted)',\r\n                                  marginTop: 'var(--spacing-1)',\r\n                                }}\r\n                              >\r\n                                Uploads are stored as data URLs. Max size 2MB.\r\n                              </div>\r\n                              {logoUploadError && (\r\n                                <div\r\n                                  style={{\r\n                                    color: 'var(--color-error-dark)',\r\n                                    fontSize: 'var(--font-size-xs)',\r\n                                    marginTop: 'var(--spacing-1)',\r\n                                  }}\r\n                                >\r\n                                  {logoUploadError}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                            {formData.logoUrl && (\r\n                              <div\r\n                                style={{\r\n                                  marginTop: 'var(--spacing-3)',\r\n                                  padding: 'var(--spacing-4)',\r\n                                  background: '#f9fafb',\r\n                                  border: '1px solid #e5e7eb',\r\n                                  borderRadius: 'var(--radius-md)',\r\n                                }}\r\n                              >\r\n                                <div\r\n                                  style={{\r\n                                    fontSize: 'var(--font-size-sm)',\r\n                                    fontWeight: '600',\r\n                                    marginBottom: 'var(--spacing-2)',\r\n                                    color: '#374151',\r\n                                  }}\r\n                                >\r\n                                  Logo Preview:\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    padding: 'var(--spacing-3)',\r\n                                    background: 'white',\r\n                                    border: '1px solid #e5e7eb',\r\n                                    borderRadius: 'var(--radius-md)',\r\n                                    display: 'inline-block',\r\n                                  }}\r\n                                >\r\n                                  <img\r\n                                    src={formData.logoUrl}\r\n                                    alt=\"Logo preview\"\r\n                                    style={{\r\n                                      height: '50px',\r\n                                      maxWidth: '200px',\r\n                                      objectFit: 'contain',\r\n                                    }}\r\n                                    onError={e => {\r\n                                      (e.target as HTMLImageElement).style.display = 'none';\r\n                                      const parent = (e.target as HTMLImageElement).parentElement;\r\n                                      if (parent) {\r\n                                        parent.innerHTML =\r\n                                          '<div style=\"padding: 1rem; color: #ef4444; font-size: 0.875rem;\">Failed to load image. Please check the URL.</div>';\r\n                                      }\r\n                                    }}\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div>\r\n                            <FormField\r\n                              type=\"input\"\r\n                              inputType=\"url\"\r\n                              label=\"Favicon URL\"\r\n                              value={formData.faviconUrl}\r\n                              onChange={e =>\r\n                                setFormData({ ...formData, faviconUrl: e.target.value })\r\n                              }\r\n                              placeholder=\"https://yourcompany.com/favicon.ico\"\r\n                              helperText=\"Full URL to your favicon. Recommended: 16x16 or 32x32px, ICO or PNG format. This appears in browser tabs.\"\r\n                            />\r\n                            {formData.faviconUrl && (\r\n                              <div\r\n                                style={{\r\n                                  marginTop: 'var(--spacing-3)',\r\n                                  padding: 'var(--spacing-4)',\r\n                                  background: '#f9fafb',\r\n                                  border: '1px solid #e5e7eb',\r\n                                  borderRadius: 'var(--radius-md)',\r\n                                }}\r\n                              >\r\n                                <div\r\n                                  style={{\r\n                                    fontSize: 'var(--font-size-sm)',\r\n                                    fontWeight: '600',\r\n                                    marginBottom: 'var(--spacing-2)',\r\n                                    color: '#374151',\r\n                                  }}\r\n                                >\r\n                                  Favicon Preview:\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    padding: 'var(--spacing-3)',\r\n                                    background: 'white',\r\n                                    border: '1px solid #e5e7eb',\r\n                                    borderRadius: 'var(--radius-md)',\r\n                                    display: 'inline-block',\r\n                                  }}\r\n                                >\r\n                                  <img\r\n                                    src={formData.faviconUrl}\r\n                                    alt=\"Favicon preview\"\r\n                                    style={{\r\n                                      width: '32px',\r\n                                      height: '32px',\r\n                                      objectFit: 'contain',\r\n                                    }}\r\n                                    onError={e => {\r\n                                      (e.target as HTMLImageElement).style.display = 'none';\r\n                                      const parent = (e.target as HTMLImageElement).parentElement;\r\n                                      if (parent) {\r\n                                        parent.innerHTML =\r\n                                          '<div style=\"padding: 0.5rem; color: #ef4444; font-size: 0.875rem;\">Failed to load favicon. Please check the URL.</div>';\r\n                                      }\r\n                                    }}\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Color Scheme\r\n                        </h2>\r\n                        <div\r\n                          style={{\r\n                            display: 'grid',\r\n                            gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\r\n                            gap: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          <div>\r\n                            <label\r\n                              style={{\r\n                                display: 'block',\r\n                                marginBottom: 'var(--spacing-2)',\r\n                                fontSize: 'var(--font-size-sm)',\r\n                                fontWeight: '500',\r\n                              }}\r\n                            >\r\n                              Primary Color\r\n                            </label>\r\n                            <div style={{ display: 'flex', gap: 'var(--spacing-2)' }}>\r\n                              <input\r\n                                type=\"color\"\r\n                                value={formData.primaryColor}\r\n                                onChange={e =>\r\n                                  setFormData({ ...formData, primaryColor: e.target.value })\r\n                                }\r\n                                style={{\r\n                                  width: '60px',\r\n                                  height: '40px',\r\n                                  border: '1px solid #e5e7eb',\r\n                                  borderRadius: 'var(--radius-md)',\r\n                                  cursor: 'pointer',\r\n                                }}\r\n                              />\r\n                              <FormField\r\n                                type=\"input\"\r\n                                inputType=\"text\"\r\n                                label=\"Primary Color\"\r\n                                value={formData.primaryColor}\r\n                                onChange={e =>\r\n                                  setFormData({ ...formData, primaryColor: e.target.value })\r\n                                }\r\n                                placeholder=\"#667eea\"\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                          <div>\r\n                            <label\r\n                              style={{\r\n                                display: 'block',\r\n                                marginBottom: 'var(--spacing-2)',\r\n                                fontSize: 'var(--font-size-sm)',\r\n                                fontWeight: '500',\r\n                              }}\r\n                            >\r\n                              Background Color\r\n                            </label>\r\n                            <div style={{ display: 'flex', gap: 'var(--spacing-2)' }}>\r\n                              <input\r\n                                type=\"color\"\r\n                                value={formData.backgroundColor}\r\n                                onChange={e =>\r\n                                  setFormData({ ...formData, backgroundColor: e.target.value })\r\n                                }\r\n                                style={{\r\n                                  width: '60px',\r\n                                  height: '40px',\r\n                                  border: '1px solid #e5e7eb',\r\n                                  borderRadius: 'var(--radius-md)',\r\n                                  cursor: 'pointer',\r\n                                }}\r\n                              />\r\n                              <FormField\r\n                                type=\"input\"\r\n                                inputType=\"text\"\r\n                                label=\"Background Color\"\r\n                                value={formData.backgroundColor}\r\n                                onChange={e =>\r\n                                  setFormData({ ...formData, backgroundColor: e.target.value })\r\n                                }\r\n                                placeholder=\"#ffffff\"\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                          <div>\r\n                            <label\r\n                              style={{\r\n                                display: 'block',\r\n                                marginBottom: 'var(--spacing-2)',\r\n                                fontSize: 'var(--font-size-sm)',\r\n                                fontWeight: '500',\r\n                              }}\r\n                            >\r\n                              Text Color\r\n                            </label>\r\n                            <div style={{ display: 'flex', gap: 'var(--spacing-2)' }}>\r\n                              <input\r\n                                type=\"color\"\r\n                                value={formData.textColor}\r\n                                onChange={e =>\r\n                                  setFormData({ ...formData, textColor: e.target.value })\r\n                                }\r\n                                style={{\r\n                                  width: '60px',\r\n                                  height: '40px',\r\n                                  border: '1px solid #e5e7eb',\r\n                                  borderRadius: 'var(--radius-md)',\r\n                                  cursor: 'pointer',\r\n                                }}\r\n                              />\r\n                              <FormField\r\n                                type=\"input\"\r\n                                inputType=\"text\"\r\n                                label=\"Text Color\"\r\n                                value={formData.textColor}\r\n                                onChange={e =>\r\n                                  setFormData({ ...formData, textColor: e.target.value })\r\n                                }\r\n                                placeholder=\"#111827\"\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Layout Options\r\n                        </h2>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-3)',\r\n                          }}\r\n                        >\r\n                          <FormField\r\n                            type=\"select\"\r\n                            label=\"Layout Style\"\r\n                            value={formData.layout}\r\n                            onChange={e => setFormData({ ...formData, layout: e.target.value })}\r\n                            options={[\r\n                              { value: 'default', label: 'Default' },\r\n                              { value: 'compact', label: 'Compact' },\r\n                              { value: 'wide', label: 'Wide' },\r\n                            ]}\r\n                          />\r\n                          <Switch\r\n                            checked={formData.showHeader}\r\n                            onChange={checked => setFormData({ ...formData, showHeader: checked })}\r\n                            label=\"Show Header\"\r\n                          />\r\n                          <Switch\r\n                            checked={formData.showFooter}\r\n                            onChange={checked => setFormData({ ...formData, showFooter: checked })}\r\n                            label=\"Show Footer\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Preview\r\n                        </h2>\r\n                        <div\r\n                          style={{\r\n                            padding: 'var(--spacing-6)',\r\n                            background: '#f0f9ff',\r\n                            border: '1px solid #bae6fd',\r\n                            borderRadius: 'var(--radius-md)',\r\n                            textAlign: 'center',\r\n                          }}\r\n                        >\r\n                          <p\r\n                            style={{ fontSize: 'var(--font-size-sm)', color: '#0369a1', margin: 0 }}\r\n                          >\r\n                            Use the <strong>\"Show Preview\"</strong> button in the top right to see a\r\n                            live preview of your status page. The preview updates in real-time as\r\n                            you make changes.\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Services Configuration */}\r\n                {activeSection === 'services' && (\r\n                  <div\r\n                    style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}\r\n                  >\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Services to Display\r\n                        </h2>\r\n                        <p\r\n                          style={{\r\n                            fontSize: 'var(--font-size-sm)',\r\n                            color: 'var(--text-muted)',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Select which services to show on your status page and configure their\r\n                          display settings.\r\n                        </p>\r\n                        <div style={{ marginBottom: 'var(--spacing-4)' }}>\r\n                          <Switch\r\n                            checked={formData.showServicesByRegion}\r\n                            onChange={checked =>\r\n                              setFormData({ ...formData, showServicesByRegion: checked })\r\n                            }\r\n                            label=\"Group services by region (public page)\"\r\n                            helperText={\r\n                              privacySettings.showServiceRegions === false\r\n                                ? 'Enable ΓÇ£Show Service RegionsΓÇ¥ in Privacy settings to use region grouping.'\r\n                                : hasSelectedRegions\r\n                                  ? 'Show region headers and group services on the public status page.'\r\n                                  : 'Add regions to selected services to enable grouping.'\r\n                            }\r\n                            disabled={\r\n                              privacySettings.showServiceRegions === false || !hasSelectedRegions\r\n                            }\r\n                          />\r\n                          <Switch\r\n                            checked={formData.showServiceOwners}\r\n                            onChange={checked =>\r\n                              setFormData({ ...formData, showServiceOwners: checked })\r\n                            }\r\n                            label=\"Show service owners (public page)\"\r\n                            helperText={\r\n                              privacySettings.showTeamInformation === false\r\n                                ? 'Enable ΓÇ£Show Team InformationΓÇ¥ in Privacy settings to display owner badges.'\r\n                                : 'Display ΓÇ£Owned by <team>ΓÇ¥ badges on service cards.'\r\n                            }\r\n                            disabled={privacySettings.showTeamInformation === false}\r\n                          />\r\n                          <Switch\r\n                            checked={formData.showServiceSlaTier}\r\n                            onChange={checked =>\r\n                              setFormData({ ...formData, showServiceSlaTier: checked })\r\n                            }\r\n                            label=\"Show SLA tier (public page)\"\r\n                            helperText=\"Display SLA tier badges (e.g., Gold, Silver) on service cards.\"\r\n                          />\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-3)',\r\n                          }}\r\n                        >\r\n                          {allServices.map(service => {\r\n                            const isSelected = selectedServices.has(service.id);\r\n                            const config = serviceConfigs[service.id] || {\r\n                              displayName: '',\r\n                              order: 0,\r\n                              showOnPage: true,\r\n                            };\r\n\r\n                            return (\r\n                              <div\r\n                                key={service.id}\r\n                                style={{\r\n                                  padding: 'var(--spacing-4)',\r\n                                  border: '1px solid #e5e7eb',\r\n                                  borderRadius: 'var(--radius-md)',\r\n                                  background: isSelected ? '#f9fafb' : 'white',\r\n                                }}\r\n                              >\r\n                                <div\r\n                                  style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: 'var(--spacing-3)',\r\n                                    marginBottom: isSelected ? 'var(--spacing-3)' : '0',\r\n                                  }}\r\n                                >\r\n                                  <Checkbox\r\n                                    checked={isSelected}\r\n                                    onChange={e => {\r\n                                      const newSet = new Set(selectedServices);\r\n                                      if (e.target.checked) {\r\n                                        newSet.add(service.id);\r\n                                        if (!serviceConfigs[service.id]) {\r\n                                          updateServiceConfig(service.id, {\r\n                                            displayName: '',\r\n                                            order: 0,\r\n                                            showOnPage: true,\r\n                                          });\r\n                                        }\r\n                                      } else {\r\n                                        newSet.delete(service.id);\r\n                                      }\r\n                                      setSelectedServices(newSet);\r\n                                    }}\r\n                                  />\r\n                                  <span style={{ fontWeight: '600', flex: 1 }}>{service.name}</span>\r\n                                </div>\r\n                                {isSelected && (\r\n                                  <div\r\n                                    style={{\r\n                                      display: 'grid',\r\n                                      gridTemplateColumns: '2fr 1fr 1fr',\r\n                                      gap: 'var(--spacing-3)',\r\n                                      marginTop: 'var(--spacing-3)',\r\n                                      paddingTop: 'var(--spacing-3)',\r\n                                      borderTop: '1px solid #e5e7eb',\r\n                                    }}\r\n                                  >\r\n                                    <FormField\r\n                                      type=\"input\"\r\n                                      label=\"Display Name\"\r\n                                      value={config.displayName}\r\n                                      onChange={e =>\r\n                                        updateServiceConfig(service.id, {\r\n                                          displayName: e.target.value,\r\n                                        })\r\n                                      }\r\n                                      placeholder={service.name}\r\n                                      helperText=\"Override service name on status page\"\r\n                                    />\r\n                                    <FormField\r\n                                      type=\"input\"\r\n                                      label=\"Order\"\r\n                                      value={config.order.toString()}\r\n                                      onChange={e =>\r\n                                        updateServiceConfig(service.id, {\r\n                                          order: parseInt(e.target.value) || 0,\r\n                                        })\r\n                                      }\r\n                                      placeholder=\"0\"\r\n                                      helperText=\"Display order (lower = first)\"\r\n                                    />\r\n                                    <div style={{ display: 'flex', alignItems: 'flex-end' }}>\r\n                                      <Switch\r\n                                        checked={config.showOnPage}\r\n                                        onChange={checked =>\r\n                                          updateServiceConfig(service.id, { showOnPage: checked })\r\n                                        }\r\n                                        label=\"Show on Page\"\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Privacy Settings */}\r\n                {activeSection === 'privacy' && (\r\n                  <StatusPagePrivacySettings\r\n                    settings={privacySettings}\r\n                    onChange={settings => setPrivacySettings(settings)}\r\n                  />\r\n                )}\r\n\r\n                {/* Content Settings */}\r\n                {activeSection === 'content' && (\r\n                  <div\r\n                    style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}\r\n                  >\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Display Options\r\n                        </h2>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-3)',\r\n                          }}\r\n                        >\r\n                          <Switch\r\n                            checked={formData.showServices}\r\n                            onChange={checked =>\r\n                              setFormData({ ...formData, showServices: checked })\r\n                            }\r\n                            label=\"Show Services\"\r\n                            helperText=\"Display service status list\"\r\n                          />\r\n                          <Switch\r\n                            checked={formData.showIncidents}\r\n                            onChange={checked =>\r\n                              setFormData({ ...formData, showIncidents: checked })\r\n                            }\r\n                            label=\"Show Recent Incidents\"\r\n                            helperText=\"Display recent incidents and their timeline\"\r\n                          />\r\n                          <Switch\r\n                            checked={formData.showMetrics}\r\n                            onChange={checked => setFormData({ ...formData, showMetrics: checked })}\r\n                            label=\"Show Metrics\"\r\n                            helperText=\"Display uptime and performance metrics\"\r\n                          />\r\n                          <Switch\r\n                            checked={formData.showSubscribe}\r\n                            onChange={checked =>\r\n                              setFormData({ ...formData, showSubscribe: checked })\r\n                            }\r\n                            label=\"Show Subscribe to Updates\"\r\n                            helperText=\"Display the email subscription section\"\r\n                          />\r\n                          <Switch\r\n                            checked={formData.showChangelog}\r\n                            onChange={checked =>\r\n                              setFormData({ ...formData, showChangelog: checked })\r\n                            }\r\n                            label=\"Show Changelog\"\r\n                            helperText=\"Display recent update announcements as a changelog feed\"\r\n                          />\r\n                          <Switch\r\n                            checked={formData.showRegionHeatmap}\r\n                            onChange={checked =>\r\n                              setFormData({ ...formData, showRegionHeatmap: checked })\r\n                            }\r\n                            label=\"Show Region Heatmap\"\r\n                            helperText=\"Display a compact region impact grid\"\r\n                          />\r\n                          <Switch\r\n                            checked={formData.showPostIncidentReview}\r\n                            onChange={checked =>\r\n                              setFormData({ ...formData, showPostIncidentReview: checked })\r\n                            }\r\n                            label=\"Show Post-Incident Reviews\"\r\n                            helperText=\"Show links to published postmortems on resolved incidents\"\r\n                          />\r\n\r\n                          {formData.showMetrics && (\r\n                            <div\r\n                              style={{\r\n                                marginTop: 'var(--spacing-4)',\r\n                                padding: 'var(--spacing-4)',\r\n                                background: '#f9fafb',\r\n                                borderRadius: 'var(--radius-md)',\r\n                                border: '1px solid #e5e7eb',\r\n                              }}\r\n                            >\r\n                              <h4\r\n                                style={{\r\n                                  fontSize: 'var(--font-size-sm)',\r\n                                  fontWeight: '600',\r\n                                  marginBottom: 'var(--spacing-3)',\r\n                                  color: '#374151',\r\n                                }}\r\n                              >\r\n                                Uptime Thresholds\r\n                              </h4>\r\n                              <p\r\n                                style={{\r\n                                  fontSize: 'var(--font-size-xs)',\r\n                                  color: '#6b7280',\r\n                                  marginBottom: 'var(--spacing-3)',\r\n                                }}\r\n                              >\r\n                                Configure SLA thresholds for color-coding uptime metrics\r\n                              </p>\r\n                              <div\r\n                                style={{\r\n                                  display: 'grid',\r\n                                  gap: 'var(--spacing-3)',\r\n                                  gridTemplateColumns: '1fr 1fr',\r\n                                }}\r\n                              >\r\n                                <FormField\r\n                                  type=\"input\"\r\n                                  label=\"Excellent Threshold (%)\"\r\n                                  value={String(formData.uptimeExcellentThreshold)}\r\n                                  onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                    const val = parseFloat(e.target.value);\r\n                                    if (!isNaN(val) && val >= 0 && val <= 100) {\r\n                                      setFormData({ ...formData, uptimeExcellentThreshold: val });\r\n                                    }\r\n                                  }}\r\n                                  helperText=\"Green: uptime ΓëÑ this value (default: 99.9%)\"\r\n                                />\r\n                                <FormField\r\n                                  type=\"input\"\r\n                                  label=\"Good Threshold (%)\"\r\n                                  value={String(formData.uptimeGoodThreshold)}\r\n                                  onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                    const val = parseFloat(e.target.value);\r\n                                    if (!isNaN(val) && val >= 0 && val <= 100) {\r\n                                      setFormData({ ...formData, uptimeGoodThreshold: val });\r\n                                    }\r\n                                  }}\r\n                                  helperText=\"Yellow: uptime ΓëÑ this value (default: 99.0%)\"\r\n                                />\r\n                              </div>\r\n                              {formData.uptimeGoodThreshold > formData.uptimeExcellentThreshold && (\r\n                                <div\r\n                                  style={{\r\n                                    marginTop: 'var(--spacing-3)',\r\n                                    padding: 'var(--spacing-2) var(--spacing-3)',\r\n                                    background: '#fef2f2',\r\n                                    border: '1px solid #fecaca',\r\n                                    borderRadius: 'var(--radius-sm)',\r\n                                    fontSize: 'var(--font-size-xs)',\r\n                                    color: '#dc2626',\r\n                                  }}\r\n                                >\r\n                                  ΓÜá∩╕Å Good threshold must be less than or equal to Excellent\r\n                                  threshold\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Footer\r\n                        </h2>\r\n                        <FormField\r\n                          type=\"textarea\"\r\n                          label=\"Footer Text\"\r\n                          rows={3}\r\n                          value={formData.footerText}\r\n                          onChange={e => setFormData({ ...formData, footerText: e.target.value })}\r\n                          placeholder=\"(c) 2024 Your Company. All rights reserved.\"\r\n                          helperText=\"Text to display at the bottom of the status page\"\r\n                        />\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          SEO Settings\r\n                        </h2>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          <FormField\r\n                            type=\"input\"\r\n                            label=\"Meta Title\"\r\n                            value={formData.metaTitle}\r\n                            onChange={e => setFormData({ ...formData, metaTitle: e.target.value })}\r\n                            placeholder={statusPage.name}\r\n                            helperText=\"Page title for search engines (50-60 characters recommended)\"\r\n                          />\r\n                          <FormField\r\n                            type=\"textarea\"\r\n                            label=\"Meta Description\"\r\n                            rows={2}\r\n                            value={formData.metaDescription}\r\n                            onChange={e =>\r\n                              setFormData({ ...formData, metaDescription: e.target.value })\r\n                            }\r\n                            placeholder={`Status page for ${statusPage.name}`}\r\n                            helperText=\"Page description for search engines (150-160 characters recommended)\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Announcements */}\r\n                {activeSection === 'announcements' && (\r\n                  <div\r\n                    style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}\r\n                  >\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'space-between',\r\n                            gap: 'var(--spacing-3)',\r\n                            flexWrap: 'wrap',\r\n                          }}\r\n                        >\r\n                          <div>\r\n                            <h2\r\n                              style={{\r\n                                fontSize: 'var(--font-size-xl)',\r\n                                fontWeight: '700',\r\n                                marginBottom: 'var(--spacing-2)',\r\n                              }}\r\n                            >\r\n                              Announcements\r\n                            </h2>\r\n                            <p\r\n                              style={{\r\n                                fontSize: 'var(--font-size-sm)',\r\n                                color: 'var(--text-muted)',\r\n                              }}\r\n                            >\r\n                              Publish maintenance, incident, and update notices on the status page.\r\n                            </p>\r\n                          </div>\r\n                          <a\r\n                            href=\"/status\"\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            style={{\r\n                              fontSize: 'var(--font-size-sm)',\r\n                              color: 'var(--primary)',\r\n                              textDecoration: 'none',\r\n                              fontWeight: '600',\r\n                            }}\r\n                          >\r\n                            View status page\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <div\r\n                      style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\r\n                        gap: 'var(--spacing-6)',\r\n                      }}\r\n                    >\r\n                      <Card>\r\n                        <div style={{ padding: 'var(--spacing-6)' }}>\r\n                          <h3\r\n                            style={{\r\n                              fontSize: 'var(--font-size-lg)',\r\n                              fontWeight: '600',\r\n                              marginBottom: 'var(--spacing-4)',\r\n                            }}\r\n                          >\r\n                            Create announcement\r\n                          </h3>\r\n                          <div\r\n                            style={{\r\n                              display: 'flex',\r\n                              flexDirection: 'column',\r\n                              gap: 'var(--spacing-4)',\r\n                            }}\r\n                          >\r\n                            <FormField\r\n                              type=\"input\"\r\n                              label=\"Title\"\r\n                              value={announcementForm.title}\r\n                              onChange={e =>\r\n                                setAnnouncementForm({ ...announcementForm, title: e.target.value })\r\n                              }\r\n                              required\r\n                            />\r\n                            <FormField\r\n                              type=\"textarea\"\r\n                              label=\"Message\"\r\n                              rows={4}\r\n                              value={announcementForm.message}\r\n                              onChange={e =>\r\n                                setAnnouncementForm({\r\n                                  ...announcementForm,\r\n                                  message: e.target.value,\r\n                                })\r\n                              }\r\n                              required\r\n                            />\r\n\r\n                            <div\r\n                              style={{\r\n                                display: 'grid',\r\n                                gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n                                gap: 'var(--spacing-4)',\r\n                              }}\r\n                            >\r\n                              <div>\r\n                                <label\r\n                                  style={{\r\n                                    display: 'block',\r\n                                    marginBottom: 'var(--spacing-2)',\r\n                                    fontSize: 'var(--font-size-sm)',\r\n                                    fontWeight: '500',\r\n                                  }}\r\n                                >\r\n                                  Type\r\n                                </label>\r\n                                <select\r\n                                  value={announcementForm.type}\r\n                                  onChange={e =>\r\n                                    setAnnouncementForm({\r\n                                      ...announcementForm,\r\n                                      type: e.target.value,\r\n                                    })\r\n                                  }\r\n                                  style={{\r\n                                    width: '100%',\r\n                                    padding: 'var(--spacing-3)',\r\n                                    border: '1px solid #e5e7eb',\r\n                                    borderRadius: 'var(--radius-md)',\r\n                                    fontSize: 'var(--font-size-sm)',\r\n                                    background: 'white',\r\n                                  }}\r\n                                >\r\n                                  {ANNOUNCEMENT_TYPES.map(type => (\r\n                                    <option key={type.value} value={type.value}>\r\n                                      {type.label}\r\n                                    </option>\r\n                                  ))}\r\n                                </select>\r\n                              </div>\r\n                              <div>\r\n                                <label\r\n                                  style={{\r\n                                    display: 'block',\r\n                                    marginBottom: 'var(--spacing-2)',\r\n                                    fontSize: 'var(--font-size-sm)',\r\n                                    fontWeight: '500',\r\n                                  }}\r\n                                >\r\n                                  Start Date\r\n                                </label>\r\n                                <input\r\n                                  type=\"date\"\r\n                                  value={announcementForm.startDate}\r\n                                  onChange={e =>\r\n                                    setAnnouncementForm({\r\n                                      ...announcementForm,\r\n                                      startDate: e.target.value,\r\n                                    })\r\n                                  }\r\n                                  style={{\r\n                                    width: '100%',\r\n                                    padding: 'var(--spacing-3)',\r\n                                    border: '1px solid #e5e7eb',\r\n                                    borderRadius: 'var(--radius-md)',\r\n                                    fontSize: 'var(--font-size-sm)',\r\n                                  }}\r\n                                />\r\n                              </div>\r\n                              <div>\r\n                                <label\r\n                                  style={{\r\n                                    display: 'block',\r\n                                    marginBottom: 'var(--spacing-2)',\r\n                                    fontSize: 'var(--font-size-sm)',\r\n                                    fontWeight: '500',\r\n                                  }}\r\n                                >\r\n                                  End Date (optional)\r\n                                </label>\r\n                                <input\r\n                                  type=\"date\"\r\n                                  value={announcementForm.endDate}\r\n                                  onChange={e =>\r\n                                    setAnnouncementForm({\r\n                                      ...announcementForm,\r\n                                      endDate: e.target.value,\r\n                                    })\r\n                                  }\r\n                                  style={{\r\n                                    width: '100%',\r\n                                    padding: 'var(--spacing-3)',\r\n                                    border: '1px solid #e5e7eb',\r\n                                    borderRadius: 'var(--radius-md)',\r\n                                    fontSize: 'var(--font-size-sm)',\r\n                                  }}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                              <div\r\n                                style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'space-between',\r\n                                  gap: 'var(--spacing-2)',\r\n                                  flexWrap: 'wrap',\r\n                                }}\r\n                              >\r\n                                <label\r\n                                  style={{\r\n                                    display: 'block',\r\n                                    fontSize: 'var(--font-size-sm)',\r\n                                    fontWeight: '500',\r\n                                  }}\r\n                                >\r\n                                  Affected Services (optional)\r\n                                </label>\r\n                                {announcementServiceOptions.length > 0 && (\r\n                                  <div style={{ display: 'flex', gap: 'var(--spacing-2)' }}>\r\n                                    <button\r\n                                      type=\"button\"\r\n                                      onClick={handleAnnouncementServiceSelectAll}\r\n                                      style={{\r\n                                        padding: '4px 10px',\r\n                                        borderRadius: '999px',\r\n                                        border: '1px solid #e5e7eb',\r\n                                        background: 'white',\r\n                                        fontSize: 'var(--font-size-xs)',\r\n                                        fontWeight: '600',\r\n                                        color: 'var(--text-muted)',\r\n                                        cursor: 'pointer',\r\n                                      }}\r\n                                    >\r\n                                      Select all\r\n                                    </button>\r\n                                    <button\r\n                                      type=\"button\"\r\n                                      onClick={handleAnnouncementServiceClear}\r\n                                      style={{\r\n                                        padding: '4px 10px',\r\n                                        borderRadius: '999px',\r\n                                        border: '1px solid #e5e7eb',\r\n                                        background: 'white',\r\n                                        fontSize: 'var(--font-size-xs)',\r\n                                        fontWeight: '600',\r\n                                        color: 'var(--text-muted)',\r\n                                        cursor: 'pointer',\r\n                                      }}\r\n                                    >\r\n                                      Clear\r\n                                    </button>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                              {announcementServiceOptions.length === 0 ? (\r\n                                <div\r\n                                  style={{\r\n                                    marginTop: 'var(--spacing-2)',\r\n                                    padding: 'var(--spacing-3)',\r\n                                    border: '1px dashed #e5e7eb',\r\n                                    borderRadius: 'var(--radius-md)',\r\n                                    fontSize: 'var(--font-size-sm)',\r\n                                    color: 'var(--text-muted)',\r\n                                  }}\r\n                                >\r\n                                  Select services in the Services section to link them to\r\n                                  announcements.\r\n                                </div>\r\n                              ) : (\r\n                                <div\r\n                                  style={{\r\n                                    marginTop: 'var(--spacing-2)',\r\n                                    border: '1px solid #e5e7eb',\r\n                                    borderRadius: 'var(--radius-md)',\r\n                                    padding: 'var(--spacing-3)',\r\n                                    display: 'flex',\r\n                                    flexDirection: 'column',\r\n                                    gap: 'var(--spacing-2)',\r\n                                    maxHeight: '220px',\r\n                                    overflowY: 'auto',\r\n                                  }}\r\n                                >\r\n                                  {announcementServiceOptions.map(service => {\r\n                                    const isChecked = announcementForm.affectedServiceIds.includes(\r\n                                      service.id\r\n                                    );\r\n                                    const regions = service.region\r\n                                      ? service.region\r\n                                        .split(',')\r\n                                        .map(entry => entry.trim())\r\n                                        .filter(Boolean)\r\n                                      : [];\r\n                                    return (\r\n                                      <label\r\n                                        key={service.id}\r\n                                        style={{\r\n                                          display: 'flex',\r\n                                          alignItems: 'center',\r\n                                          gap: 'var(--spacing-2)',\r\n                                          fontSize: 'var(--font-size-sm)',\r\n                                          color: 'var(--text-primary)',\r\n                                        }}\r\n                                      >\r\n                                        <input\r\n                                          type=\"checkbox\"\r\n                                          checked={isChecked}\r\n                                          onChange={() =>\r\n                                            handleAnnouncementServiceToggle(service.id)\r\n                                          }\r\n                                        />\r\n                                        <span style={{ fontWeight: '600' }}>{service.name}</span>\r\n                                        {regions.length > 0 && (\r\n                                          <span\r\n                                            style={{\r\n                                              display: 'inline-flex',\r\n                                              gap: '4px',\r\n                                              flexWrap: 'wrap',\r\n                                            }}\r\n                                          >\r\n                                            {regions.map(region => (\r\n                                              <span\r\n                                                key={`${service.id}-${region}`}\r\n                                                style={{\r\n                                                  padding: '2px 6px',\r\n                                                  borderRadius: '999px',\r\n                                                  fontSize: '10px',\r\n                                                  fontWeight: '600',\r\n                                                  background: '#f8fafc',\r\n                                                  border: '1px solid #e2e8f0',\r\n                                                  color: '#475569',\r\n                                                }}\r\n                                              >\r\n                                                {region}\r\n                                              </span>\r\n                                            ))}\r\n                                          </span>\r\n                                        )}\r\n                                      </label>\r\n                                    );\r\n                                  })}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n\r\n                            <div\r\n                              style={{\r\n                                display: 'flex',\r\n                                gap: 'var(--spacing-4)',\r\n                                marginTop: 'var(--spacing-2)',\r\n                              }}\r\n                            >\r\n                              <label\r\n                                style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  gap: 'var(--spacing-2)',\r\n                                  fontSize: 'var(--font-size-sm)',\r\n                                  fontWeight: '500',\r\n                                }}\r\n                              >\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  checked={announcementForm.isActive}\r\n                                  onChange={e =>\r\n                                    setAnnouncementForm({\r\n                                      ...announcementForm,\r\n                                      isActive: e.target.checked,\r\n                                    })\r\n                                  }\r\n                                />\r\n                                Active\r\n                              </label>\r\n\r\n                              <label\r\n                                style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  gap: 'var(--spacing-2)',\r\n                                  fontSize: 'var(--font-size-sm)',\r\n                                  fontWeight: '500',\r\n                                }}\r\n                              >\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  checked={announcementForm.notifySubscribers}\r\n                                  onChange={e =>\r\n                                    setAnnouncementForm({\r\n                                      ...announcementForm,\r\n                                      notifySubscribers: e.target.checked,\r\n                                    })\r\n                                  }\r\n                                />\r\n                                Email Subscribers\r\n                              </label>\r\n                            </div>\r\n\r\n                            {announcementError && (\r\n                              <div\r\n                                style={{\r\n                                  color: 'var(--color-error-dark)',\r\n                                  fontSize: 'var(--font-size-sm)',\r\n                                }}\r\n                              >\r\n                                {announcementError}\r\n                              </div>\r\n                            )}\r\n\r\n                            <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                              <Button\r\n                                type=\"button\"\r\n                                variant=\"primary\"\r\n                                isLoading={isAnnouncementPending}\r\n                                onClick={handleAnnouncementCreate}\r\n                              >\r\n                                Add Announcement\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </Card>\r\n\r\n                      <Card>\r\n                        <div style={{ padding: 'var(--spacing-6)' }}>\r\n                          <h3\r\n                            style={{\r\n                              fontSize: 'var(--font-size-lg)',\r\n                              fontWeight: '600',\r\n                              marginBottom: 'var(--spacing-4)',\r\n                            }}\r\n                          >\r\n                            Recent announcements\r\n                          </h3>\r\n                          {announcements.length === 0 ? (\r\n                            <p\r\n                              style={{\r\n                                fontSize: 'var(--font-size-sm)',\r\n                                color: 'var(--text-muted)',\r\n                              }}\r\n                            >\r\n                              No announcements yet.\r\n                            </p>\r\n                          ) : (\r\n                            <div\r\n                              style={{\r\n                                display: 'flex',\r\n                                flexDirection: 'column',\r\n                                gap: 'var(--spacing-3)',\r\n                              }}\r\n                            >\r\n                              {announcements.map(announcement => {\r\n                                const typeConfig =\r\n                                  ANNOUNCEMENT_TYPES.find(\r\n                                    type => type.value === announcement.type\r\n                                  ) || ANNOUNCEMENT_TYPES[4];\r\n                                const affectedServices = buildAnnouncementAffectedServices(\r\n                                  announcement.affectedServiceIds\r\n                                );\r\n                                const affectedRegions = getAnnouncementRegions(affectedServices);\r\n                                return (\r\n                                  <div\r\n                                    key={announcement.id}\r\n                                    style={{\r\n                                      padding: 'var(--spacing-4)',\r\n                                      border: '1px solid #e5e7eb',\r\n                                      borderRadius: 'var(--radius-md)',\r\n                                      display: 'flex',\r\n                                      flexDirection: 'column',\r\n                                      gap: 'var(--spacing-2)',\r\n                                    }}\r\n                                  >\r\n                                    <div\r\n                                      style={{\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        gap: 'var(--spacing-2)',\r\n                                      }}\r\n                                    >\r\n                                      <span\r\n                                        style={{\r\n                                          padding: '0.2rem 0.6rem',\r\n                                          borderRadius: '999px',\r\n                                          fontSize: 'var(--font-size-xs)',\r\n                                          fontWeight: '600',\r\n                                          background: typeConfig.background,\r\n                                          color: typeConfig.color,\r\n                                        }}\r\n                                      >\r\n                                        {typeConfig.label}\r\n                                      </span>\r\n                                      {!announcement.isActive && (\r\n                                        <span\r\n                                          style={{\r\n                                            fontSize: 'var(--font-size-xs)',\r\n                                            color: 'var(--text-muted)',\r\n                                          }}\r\n                                        >\r\n                                          Inactive\r\n                                        </span>\r\n                                      )}\r\n                                    </div>\r\n                                    <div style={{ fontWeight: '600' }}>{announcement.title}</div>\r\n                                    <div\r\n                                      style={{\r\n                                        fontSize: 'var(--font-size-sm)',\r\n                                        color: 'var(--text-muted)',\r\n                                        whiteSpace: 'pre-wrap',\r\n                                      }}\r\n                                    >\r\n                                      {announcement.message}\r\n                                    </div>\r\n                                    {affectedServices.length > 0 && (\r\n                                      <div\r\n                                        style={{\r\n                                          display: 'flex',\r\n                                          flexDirection: 'column',\r\n                                          gap: 'var(--spacing-2)',\r\n                                        }}\r\n                                      >\r\n                                        <div\r\n                                          style={{\r\n                                            fontSize: 'var(--font-size-xs)',\r\n                                            color: 'var(--text-muted)',\r\n                                            fontWeight: '600',\r\n                                            textTransform: 'uppercase',\r\n                                            letterSpacing: '0.08em',\r\n                                          }}\r\n                                        >\r\n                                          Affected services\r\n                                        </div>\r\n                                        <div\r\n                                          style={{ display: 'flex', flexWrap: 'wrap', gap: '6px' }}\r\n                                        >\r\n                                          {affectedServices.map(service => (\r\n                                            <span\r\n                                              key={service.id}\r\n                                              style={{\r\n                                                padding: '4px 8px',\r\n                                                borderRadius: '999px',\r\n                                                background: '#f8fafc',\r\n                                                border: '1px solid #e2e8f0',\r\n                                                fontSize: 'var(--font-size-xs)',\r\n                                                fontWeight: '600',\r\n                                                color: 'var(--text-primary)',\r\n                                              }}\r\n                                            >\r\n                                              {service.name}\r\n                                            </span>\r\n                                          ))}\r\n                                        </div>\r\n                                      </div>\r\n                                    )}\r\n                                    {affectedRegions.length > 0 && (\r\n                                      <div\r\n                                        style={{\r\n                                          display: 'flex',\r\n                                          flexDirection: 'column',\r\n                                          gap: 'var(--spacing-2)',\r\n                                        }}\r\n                                      >\r\n                                        <div\r\n                                          style={{\r\n                                            fontSize: 'var(--font-size-xs)',\r\n                                            color: 'var(--text-muted)',\r\n                                            fontWeight: '600',\r\n                                            textTransform: 'uppercase',\r\n                                            letterSpacing: '0.08em',\r\n                                          }}\r\n                                        >\r\n                                          Regions\r\n                                        </div>\r\n                                        <div\r\n                                          style={{ display: 'flex', flexWrap: 'wrap', gap: '6px' }}\r\n                                        >\r\n                                          {affectedRegions.map(region => (\r\n                                            <span\r\n                                              key={`${announcement.id}-${region}`}\r\n                                              style={{\r\n                                                padding: '2px 8px',\r\n                                                borderRadius: '999px',\r\n                                                border: '1px solid #e2e8f0',\r\n                                                fontSize: 'var(--font-size-xs)',\r\n                                                fontWeight: '600',\r\n                                                color: 'var(--text-muted)',\r\n                                                background: '#ffffff',\r\n                                              }}\r\n                                            >\r\n                                              {region}\r\n                                            </span>\r\n                                          ))}\r\n                                        </div>\r\n                                      </div>\r\n                                    )}\r\n                                    <div\r\n                                      style={{\r\n                                        fontSize: 'var(--font-size-xs)',\r\n                                        color: 'var(--text-muted)',\r\n                                        display: 'flex',\r\n                                        justifyContent: 'space-between',\r\n                                        alignItems: 'center',\r\n                                        flexWrap: 'wrap',\r\n                                        gap: 'var(--spacing-2)',\r\n                                      }}\r\n                                    >\r\n                                      <span>\r\n                                        {formatDateTime(announcement.startDate, browserTimeZone, {\r\n                                          format: 'date',\r\n                                        })}{' '}\r\n                                        {announcement.endDate\r\n                                          ? `- ${formatDateTime(announcement.endDate, browserTimeZone, { format: 'date' })}`\r\n                                          : ''}\r\n                                      </span>\r\n                                      <Button\r\n                                        type=\"button\"\r\n                                        variant=\"secondary\"\r\n                                        onClick={() => handleAnnouncementDelete(announcement.id)}\r\n                                        isLoading={isAnnouncementPending}\r\n                                      >\r\n                                        Delete\r\n                                      </Button>\r\n                                    </div>\r\n                                  </div>\r\n                                );\r\n                              })}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </Card>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Custom CSS */}\r\n                {activeSection === 'customization' && (\r\n                  <div\r\n                    style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}\r\n                  >\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Custom CSS\r\n                        </h2>\r\n                        <p\r\n                          style={{\r\n                            fontSize: 'var(--font-size-sm)',\r\n                            color: 'var(--text-muted)',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Add custom CSS to fully customize your status page appearance. This CSS\r\n                          will be injected into the status page.\r\n                        </p>\r\n                        <div style={{ marginBottom: 'var(--spacing-5)' }}>\r\n                          <div\r\n                            style={{\r\n                              display: 'flex',\r\n                              alignItems: 'center',\r\n                              justifyContent: 'space-between',\r\n                              marginBottom: 'var(--spacing-3)',\r\n                              flexWrap: 'wrap',\r\n                              gap: 'var(--spacing-3)',\r\n                            }}\r\n                          >\r\n                            <div>\r\n                              <h3\r\n                                style={{\r\n                                  fontSize: 'var(--font-size-lg)',\r\n                                  fontWeight: '700',\r\n                                  margin: 0,\r\n                                }}\r\n                              >\r\n                                Templates\r\n                              </h3>\r\n                              <div\r\n                                style={{\r\n                                  fontSize: 'var(--font-size-xs)',\r\n                                  color: 'var(--text-muted)',\r\n                                  marginTop: '4px',\r\n                                }}\r\n                              >\r\n                                <span\r\n                                  style={{\r\n                                    fontSize: 'var(--font-size-xs)',\r\n                                    color: 'var(--text-muted)',\r\n                                  }}\r\n                                >\r\n                                  {visibleTemplates.length} of {STATUS_PAGE_TEMPLATES.length}{' '}\r\n                                  templates\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                            {selectedTemplate && (\r\n                              <div\r\n                                style={{\r\n                                  display: 'inline-flex',\r\n                                  alignItems: 'center',\r\n                                  gap: '0.5rem',\r\n                                  padding: '0.35rem 0.75rem',\r\n                                  borderRadius: '999px',\r\n                                  background: '#eef2ff',\r\n                                  color: '#4338ca',\r\n                                  border: '1px solid #c7d2fe',\r\n                                  fontSize: 'var(--font-size-xs)',\r\n                                  fontWeight: '600',\r\n                                }}\r\n                                className=\"status-page-template-active\"\r\n                              >\r\n                                Selected: {selectedTemplate.name}\r\n                              </div>\r\n                            )}\r\n                            <div\r\n                              style={{ display: 'flex', gap: 'var(--spacing-2)', flexWrap: 'wrap' }}\r\n                            >\r\n                              {TEMPLATE_FILTERS.map(filter => (\r\n                                <button\r\n                                  key={filter.id}\r\n                                  type=\"button\"\r\n                                  onClick={() => setTemplateFilter(filter.id)}\r\n                                  style={{\r\n                                    padding: '6px 12px',\r\n                                    borderRadius: '999px',\r\n                                    border: `1px solid ${templateFilter === filter.id ? 'var(--primary)' : '#e5e7eb'}`,\r\n                                    background:\r\n                                      templateFilter === filter.id ? 'var(--primary)' : 'white',\r\n                                    color:\r\n                                      templateFilter === filter.id ? 'white' : 'var(--text-muted)',\r\n                                    fontSize: 'var(--font-size-xs)',\r\n                                    fontWeight: templateFilter === filter.id ? '600' : '500',\r\n                                    cursor: 'pointer',\r\n                                    transition: 'all 0.2s ease',\r\n                                  }}\r\n                                >\r\n                                  {filter.label}\r\n                                </button>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                          {templateError && (\r\n                            <div\r\n                              style={{\r\n                                padding: 'var(--spacing-2) var(--spacing-3)',\r\n                                borderRadius: 'var(--radius-md)',\r\n                                background: '#fee2e2',\r\n                                border: '1px solid #fecaca',\r\n                                color: '#991b1b',\r\n                                fontSize: 'var(--font-size-sm)',\r\n                                marginBottom: 'var(--spacing-3)',\r\n                              }}\r\n                            >\r\n                              {templateError}\r\n                            </div>\r\n                          )}\r\n                          <div\r\n                            style={{\r\n                              display: 'grid',\r\n                              gridTemplateColumns: 'repeat(auto-fit, minmax(240px, 1fr))',\r\n                              gap: 'var(--spacing-4)',\r\n                            }}\r\n                          >\r\n                            {visibleTemplates.map(template => {\r\n                              const isSelected = selectedTemplateId === template.id;\r\n                              const isA11y = template.id === 'clear-contrast';\r\n                              return (\r\n                                <div\r\n                                  key={template.id}\r\n                                  style={{\r\n                                    borderRadius: 'var(--radius-lg)',\r\n                                    overflow: 'hidden',\r\n                                    border: isSelected\r\n                                      ? '2px solid var(--primary)'\r\n                                      : '1px solid #e2e8f0',\r\n                                    background: 'white',\r\n                                    boxShadow: '0 10px 24px rgba(15, 23, 42, 0.08)',\r\n                                    display: 'flex',\r\n                                    flexDirection: 'column',\r\n                                    minHeight: '270px',\r\n                                    position: 'relative',\r\n                                  }}\r\n                                >\r\n                                  {isSelected && (\r\n                                    <div\r\n                                      style={{\r\n                                        position: 'absolute',\r\n                                        top: '12px',\r\n                                        right: '12px',\r\n                                        padding: '4px 10px',\r\n                                        borderRadius: '999px',\r\n                                        background: 'var(--primary)',\r\n                                        color: 'white',\r\n                                        fontSize: '10px',\r\n                                        fontWeight: '700',\r\n                                        textTransform: 'uppercase',\r\n                                        letterSpacing: '0.08em',\r\n                                        zIndex: 1,\r\n                                      }}\r\n                                    >\r\n                                      Selected\r\n                                    </div>\r\n                                  )}\r\n                                  <div\r\n                                    style={{\r\n                                      height: '170px',\r\n                                      background: getTemplateGradient(template.colors),\r\n                                      position: 'relative',\r\n                                      overflow: 'hidden',\r\n                                    }}\r\n                                  >\r\n                                    {templateCssMap[template.id] ? (\r\n                                      <iframe\r\n                                        title={`${template.name} preview`}\r\n                                        style={{\r\n                                          border: 'none',\r\n                                          width: '100%',\r\n                                          height: '100%',\r\n                                          display: 'block',\r\n                                          background: 'transparent',\r\n                                        }}\r\n                                        sandbox=\"\"\r\n                                        srcDoc={buildTemplatePreviewHtml(\r\n                                          templateCssMap[template.id],\r\n                                          template.name\r\n                                        )}\r\n                                      />\r\n                                    ) : (\r\n                                      <div\r\n                                        style={{\r\n                                          position: 'absolute',\r\n                                          inset: 0,\r\n                                          display: 'flex',\r\n                                          alignItems: 'center',\r\n                                          justifyContent: 'center',\r\n                                          fontSize: 'var(--font-size-xs)',\r\n                                          color: 'rgba(15, 23, 42, 0.6)',\r\n                                          fontWeight: '600',\r\n                                        }}\r\n                                      >\r\n                                        Loading preview...\r\n                                      </div>\r\n                                    )}\r\n                                  </div>\r\n                                  <div\r\n                                    className=\"status-page-template-meta\"\r\n                                    style={{\r\n                                      padding: 'var(--spacing-3)',\r\n                                      display: 'flex',\r\n                                      flexDirection: 'column',\r\n                                      gap: 'var(--spacing-3)',\r\n                                      flex: 1,\r\n                                    }}\r\n                                  >\r\n                                    <div\r\n                                      style={{\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'space-between',\r\n                                        gap: 'var(--spacing-2)',\r\n                                      }}\r\n                                    >\r\n                                      <div\r\n                                        style={{\r\n                                          fontWeight: '700',\r\n                                          fontSize: 'var(--font-size-sm)',\r\n                                        }}\r\n                                      >\r\n                                        {template.name}\r\n                                      </div>\r\n                                      <div style={{ display: 'flex', gap: '6px' }}>\r\n                                        {template.colors.slice(0, 3).map(color => (\r\n                                          <span\r\n                                            key={`${template.id}-${color}`}\r\n                                            style={{\r\n                                              width: '12px',\r\n                                              height: '12px',\r\n                                              borderRadius: '999px',\r\n                                              background: color,\r\n                                              border: '1px solid rgba(15, 23, 42, 0.15)',\r\n                                            }}\r\n                                          />\r\n                                        ))}\r\n                                      </div>\r\n                                    </div>\r\n                                    <div\r\n                                      style={{\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        gap: '8px',\r\n                                        flexWrap: 'wrap',\r\n                                      }}\r\n                                    >\r\n                                      <span\r\n                                        style={{\r\n                                          fontSize: '10px',\r\n                                          textTransform: 'uppercase',\r\n                                          letterSpacing: '0.08em',\r\n                                          color: 'var(--text-muted)',\r\n                                        }}\r\n                                      >\r\n                                        {template.category}\r\n                                      </span>\r\n                                      {isA11y && (\r\n                                        <span\r\n                                          style={{\r\n                                            fontSize: '10px',\r\n                                            textTransform: 'uppercase',\r\n                                            letterSpacing: '0.08em',\r\n                                            padding: '2px 8px',\r\n                                            borderRadius: '999px',\r\n                                            background: '#d1fae5',\r\n                                            color: '#065f46',\r\n                                            border: '1px solid #6ee7b7',\r\n                                            fontWeight: '700',\r\n                                          }}\r\n                                        >\r\n                                          A11y\r\n                                        </span>\r\n                                      )}\r\n                                    </div>\r\n                                    <Button\r\n                                      type=\"button\"\r\n                                      variant={isSelected ? 'primary' : 'secondary'}\r\n                                      onClick={() => handleApplyTemplate(template)}\r\n                                      isLoading={templateLoadingId === template.id}\r\n                                    >\r\n                                      {isSelected ? 'Selected' : 'Use Template'}\r\n                                    </Button>\r\n                                  </div>\r\n                                </div>\r\n                              );\r\n                            })}\r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            height: '1px',\r\n                            background: '#e5e7eb',\r\n                            margin: 'var(--spacing-5) 0',\r\n                          }}\r\n                        />\r\n                        <div style={{ marginBottom: 'var(--spacing-4)' }}>\r\n                          <label\r\n                            style={{\r\n                              display: 'block',\r\n                              marginBottom: 'var(--spacing-2)',\r\n                              fontSize: 'var(--font-size-sm)',\r\n                              fontWeight: '500',\r\n                            }}\r\n                          >\r\n                            Custom CSS Code\r\n                          </label>\r\n                          <textarea\r\n                            value={formData.customCss}\r\n                            onChange={e => {\r\n                              setFormData({ ...formData, customCss: e.target.value });\r\n                              setSelectedTemplateId(null);\r\n                            }}\r\n                            placeholder=\"/* Your custom CSS here */&#10;.status-page-header {&#10;  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);&#10;}\"\r\n                            rows={15}\r\n                            style={{\r\n                              width: '100%',\r\n                              padding: 'var(--spacing-3)',\r\n                              border: '1px solid #e5e7eb',\r\n                              borderRadius: 'var(--radius-md)',\r\n                              fontFamily: 'monospace',\r\n                              fontSize: '0.875rem',\r\n                              lineHeight: '1.6',\r\n                              resize: 'vertical',\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            padding: 'var(--spacing-3)',\r\n                            background: '#f8fafc',\r\n                            border: '1px solid #e5e7eb',\r\n                            borderRadius: 'var(--radius-md)',\r\n                            fontSize: 'var(--font-size-sm)',\r\n                            color: 'var(--text-muted)',\r\n                          }}\r\n                        >\r\n                          Use <code>.status-page-header</code>, <code>.status-service-card</code>,\r\n                          and <code>.status-incident-card</code> to target key UI blocks.\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Preview\r\n                        </h2>\r\n                        <a\r\n                          href=\"/status\"\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          style={{\r\n                            display: 'inline-block',\r\n                            padding: 'var(--spacing-3) var(--spacing-5)',\r\n                            background: 'var(--primary)',\r\n                            color: 'white',\r\n                            textDecoration: 'none',\r\n                            borderRadius: 'var(--radius-md)',\r\n                            fontSize: 'var(--font-size-sm)',\r\n                            fontWeight: '600',\r\n                            transition: 'all 0.2s ease',\r\n                          }}\r\n                          onMouseEnter={e => {\r\n                            e.currentTarget.style.background = 'var(--primary-hover)';\r\n                            e.currentTarget.style.transform = 'translateY(-1px)';\r\n                          }}\r\n                          onMouseLeave={e => {\r\n                            e.currentTarget.style.background = 'var(--primary)';\r\n                            e.currentTarget.style.transform = 'translateY(0)';\r\n                          }}\r\n                        >\r\n                          View Status Page\r\n                        </a>\r\n                        <p\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xs)',\r\n                            color: 'var(--text-muted)',\r\n                            marginTop: 'var(--spacing-2)',\r\n                          }}\r\n                        >\r\n                          Open in a new tab to preview your changes\r\n                        </p>\r\n                      </div>\r\n                    </Card>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Integrations */}\r\n                {activeSection === 'integrations' && (\r\n                  <StatusPageWebhooksSettings statusPageId={statusPage.id} />\r\n                )}\r\n\r\n                {/* Subscribers */}\r\n                {activeSection === 'subscribers' && (\r\n                  <div\r\n                    style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}\r\n                  >\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-2)',\r\n                          }}\r\n                        >\r\n                          Email Delivery\r\n                        </h2>\r\n                        <p\r\n                          style={{\r\n                            fontSize: 'var(--font-size-sm)',\r\n                            color: 'var(--text-muted)',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Choose the email provider used for subscription updates.\r\n                        </p>\r\n                        <StatusPageEmailConfig\r\n                          statusPageId={statusPage.id}\r\n                          currentProvider={statusPage.emailProvider}\r\n                        />\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-2)',\r\n                          }}\r\n                        >\r\n                          Subscribers\r\n                        </h2>\r\n                        <p\r\n                          style={{\r\n                            fontSize: 'var(--font-size-sm)',\r\n                            color: 'var(--text-muted)',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Manage subscriber list and verification status.\r\n                        </p>\r\n                        <StatusPageSubscribers statusPageId={statusPage.id} />\r\n                      </div>\r\n                    </Card>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Advanced Settings */}\r\n                {activeSection === 'advanced' && (\r\n                  <div\r\n                    style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}\r\n                  >\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Auto-Refresh\r\n                        </h2>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          <Switch\r\n                            checked={formData.autoRefresh}\r\n                            onChange={checked => setFormData({ ...formData, autoRefresh: checked })}\r\n                            label=\"Enable Auto-Refresh\"\r\n                            helperText=\"Automatically refresh the status page at regular intervals\"\r\n                          />\r\n                          {formData.autoRefresh && (\r\n                            <FormField\r\n                              type=\"input\"\r\n                              label=\"Refresh Interval (seconds)\"\r\n                              value={formData.refreshInterval.toString()}\r\n                              onChange={e =>\r\n                                setFormData({\r\n                                  ...formData,\r\n                                  refreshInterval: parseInt(e.target.value) || 60,\r\n                                })\r\n                              }\r\n                              placeholder=\"60\"\r\n                              helperText=\"How often to refresh the page (minimum: 30 seconds)\"\r\n                            />\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          API & Feeds\r\n                        </h2>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-3)',\r\n                          }}\r\n                        >\r\n                          <Switch\r\n                            checked={formData.showRssLink}\r\n                            onChange={checked => setFormData({ ...formData, showRssLink: checked })}\r\n                            label=\"Show RSS Feed Link\"\r\n                            helperText=\"Display link to RSS feed in footer\"\r\n                          />\r\n                          <Switch\r\n                            checked={formData.showApiLink}\r\n                            onChange={checked => setFormData({ ...formData, showApiLink: checked })}\r\n                            label=\"Show JSON API Link\"\r\n                            helperText=\"Display link to JSON API in footer\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Status API Access\r\n                        </h2>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          <Switch\r\n                            checked={formData.statusApiRequireToken}\r\n                            onChange={checked =>\r\n                              setFormData({ ...formData, statusApiRequireToken: checked })\r\n                            }\r\n                            label=\"Require API token\"\r\n                            helperText=\"Require a token for JSON and RSS endpoints.\"\r\n                          />\r\n                          <Switch\r\n                            checked={formData.statusApiRateLimitEnabled}\r\n                            onChange={checked =>\r\n                              setFormData({ ...formData, statusApiRateLimitEnabled: checked })\r\n                            }\r\n                            label=\"Enable rate limiting\"\r\n                            helperText=\"Throttle API access to protect the status page.\"\r\n                          />\r\n                          {formData.statusApiRateLimitEnabled && (\r\n                            <div\r\n                              style={{\r\n                                display: 'grid',\r\n                                gap: 'var(--spacing-3)',\r\n                                gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))',\r\n                              }}\r\n                            >\r\n                              <FormField\r\n                                type=\"input\"\r\n                                label=\"Max requests\"\r\n                                value={String(formData.statusApiRateLimitMax)}\r\n                                onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                  const val = parseInt(e.target.value, 10);\r\n                                  if (!Number.isNaN(val)) {\r\n                                    setFormData({ ...formData, statusApiRateLimitMax: val });\r\n                                  }\r\n                                }}\r\n                                helperText=\"Requests per window\"\r\n                              />\r\n                              <FormField\r\n                                type=\"input\"\r\n                                label=\"Window (seconds)\"\r\n                                value={String(formData.statusApiRateLimitWindowSec)}\r\n                                onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                  const val = parseInt(e.target.value, 10);\r\n                                  if (!Number.isNaN(val)) {\r\n                                    setFormData({ ...formData, statusApiRateLimitWindowSec: val });\r\n                                  }\r\n                                }}\r\n                                helperText=\"Minimum 10 seconds\"\r\n                              />\r\n                            </div>\r\n                          )}\r\n                          <div\r\n                            style={{\r\n                              borderTop: '1px solid #e5e7eb',\r\n                              paddingTop: 'var(--spacing-4)',\r\n                            }}\r\n                          >\r\n                            <h3\r\n                              style={{\r\n                                fontSize: 'var(--font-size-base)',\r\n                                fontWeight: '600',\r\n                                marginBottom: 'var(--spacing-3)',\r\n                              }}\r\n                            >\r\n                              API tokens\r\n                            </h3>\r\n                            <form\r\n                              onSubmit={handleCreateApiToken}\r\n                              style={{\r\n                                display: 'flex',\r\n                                flexWrap: 'wrap',\r\n                                gap: 'var(--spacing-3)',\r\n                                alignItems: 'flex-end',\r\n                              }}\r\n                            >\r\n                              <FormField\r\n                                type=\"input\"\r\n                                label=\"Token name\"\r\n                                value={apiTokenName}\r\n                                onChange={e => setApiTokenName(e.target.value)}\r\n                                placeholder=\"e.g. External status monitor\"\r\n                                required\r\n                              />\r\n                              <Button type=\"submit\" variant=\"primary\" isLoading={apiTokenPending}>\r\n                                Create token\r\n                              </Button>\r\n                            </form>\r\n                            {apiTokenError && (\r\n                              <div\r\n                                style={{\r\n                                  marginTop: 'var(--spacing-2)',\r\n                                  fontSize: 'var(--font-size-sm)',\r\n                                  color: 'var(--color-error-dark)',\r\n                                }}\r\n                              >\r\n                                {apiTokenError}\r\n                              </div>\r\n                            )}\r\n                            {apiTokenValue && (\r\n                              <div\r\n                                style={{\r\n                                  marginTop: 'var(--spacing-3)',\r\n                                  padding: 'var(--spacing-3)',\r\n                                  borderRadius: 'var(--radius-md)',\r\n                                  background: '#ecfdf5',\r\n                                  border: '1px solid #a7f3d0',\r\n                                  color: '#065f46',\r\n                                  fontSize: 'var(--font-size-sm)',\r\n                                }}\r\n                              >\r\n                                Copy this token now. You will not be able to view it again.\r\n                                <div\r\n                                  style={{\r\n                                    marginTop: 'var(--spacing-2)',\r\n                                    fontFamily: 'monospace',\r\n                                    wordBreak: 'break-all',\r\n                                  }}\r\n                                >\r\n                                  {apiTokenValue}\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                            <div\r\n                              style={{\r\n                                display: 'flex',\r\n                                flexDirection: 'column',\r\n                                gap: 'var(--spacing-2)',\r\n                                marginTop: 'var(--spacing-4)',\r\n                              }}\r\n                            >\r\n                              {apiTokens.length === 0 ? (\r\n                                <p\r\n                                  style={{\r\n                                    fontSize: 'var(--font-size-sm)',\r\n                                    color: 'var(--text-muted)',\r\n                                  }}\r\n                                >\r\n                                  No API tokens created yet.\r\n                                </p>\r\n                              ) : (\r\n                                apiTokens.map(token => (\r\n                                  <div\r\n                                    key={token.id}\r\n                                    style={{\r\n                                      padding: 'var(--spacing-3)',\r\n                                      borderRadius: 'var(--radius-md)',\r\n                                      border: '1px solid #e5e7eb',\r\n                                      display: 'flex',\r\n                                      alignItems: 'center',\r\n                                      justifyContent: 'space-between',\r\n                                      gap: 'var(--spacing-3)',\r\n                                      flexWrap: 'wrap',\r\n                                    }}\r\n                                  >\r\n                                    <div>\r\n                                      <div style={{ fontWeight: '600' }}>{token.name}</div>\r\n                                      <div\r\n                                        style={{\r\n                                          fontSize: 'var(--font-size-xs)',\r\n                                          color: 'var(--text-muted)',\r\n                                        }}\r\n                                      >\r\n                                        Prefix: {token.prefix} ┬╖ Created{' '}\r\n                                        {formatDateTime(token.createdAt, browserTimeZone, {\r\n                                          format: 'date',\r\n                                        })}\r\n                                      </div>\r\n                                      {token.lastUsedAt && (\r\n                                        <div\r\n                                          style={{\r\n                                            fontSize: 'var(--font-size-xs)',\r\n                                            color: 'var(--text-muted)',\r\n                                          }}\r\n                                        >\r\n                                          Last used{' '}\r\n                                          {formatDateTime(token.lastUsedAt, browserTimeZone, {\r\n                                            format: 'date',\r\n                                          })}\r\n                                        </div>\r\n                                      )}\r\n                                    </div>\r\n                                    <Button\r\n                                      type=\"button\"\r\n                                      variant=\"secondary\"\r\n                                      onClick={() => handleRevokeApiToken(token.id)}\r\n                                      isLoading={apiTokenPending}\r\n                                      disabled={Boolean(token.revokedAt)}\r\n                                    >\r\n                                      {token.revokedAt ? 'Revoked' : 'Revoke'}\r\n                                    </Button>\r\n                                  </div>\r\n                                ))\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          Uptime Reports\r\n                        </h2>\r\n                        <Switch\r\n                          checked={formData.enableUptimeExports}\r\n                          onChange={checked =>\r\n                            setFormData({ ...formData, enableUptimeExports: checked })\r\n                          }\r\n                          label=\"Enable uptime exports\"\r\n                          helperText=\"Allow admins to download monthly uptime reports.\"\r\n                        />\r\n                        {formData.enableUptimeExports && (\r\n                          <div\r\n                            style={{\r\n                              marginTop: 'var(--spacing-4)',\r\n                              padding: 'var(--spacing-3)',\r\n                              borderRadius: 'var(--radius-md)',\r\n                              border: '1px solid #e5e7eb',\r\n                              background: '#f9fafb',\r\n                              display: 'flex',\r\n                              flexDirection: 'column',\r\n                              gap: 'var(--spacing-3)',\r\n                            }}\r\n                          >\r\n                            <div\r\n                              style={{\r\n                                fontSize: 'var(--font-size-sm)',\r\n                                color: 'var(--text-muted)',\r\n                              }}\r\n                            >\r\n                              Download the latest uptime export directly from the status API.\r\n                            </div>\r\n                            <div\r\n                              style={{ display: 'flex', gap: 'var(--spacing-2)', flexWrap: 'wrap' }}\r\n                            >\r\n                              <a\r\n                                href=\"/api/status/uptime-export?format=csv\"\r\n                                className=\"glass-button\"\r\n                                style={{ padding: '0.5rem 1rem', textDecoration: 'none' }}\r\n                              >\r\n                                Download CSV\r\n                              </a>\r\n                              <a\r\n                                href=\"/api/status/uptime-export?format=pdf\"\r\n                                className=\"glass-button\"\r\n                                style={{ padding: '0.5rem 1rem', textDecoration: 'none' }}\r\n                              >\r\n                                Download PDF\r\n                              </a>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                      <div style={{ padding: 'var(--spacing-6)' }}>\r\n                        <h2\r\n                          style={{\r\n                            fontSize: 'var(--font-size-xl)',\r\n                            fontWeight: '700',\r\n                            marginBottom: 'var(--spacing-4)',\r\n                          }}\r\n                        >\r\n                          API Endpoints\r\n                        </h2>\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            gap: 'var(--spacing-3)',\r\n                          }}\r\n                        >\r\n                          <div\r\n                            style={{\r\n                              padding: 'var(--spacing-3)',\r\n                              background: '#f9fafb',\r\n                              border: '1px solid #e5e7eb',\r\n                              borderRadius: 'var(--radius-md)',\r\n                            }}\r\n                          >\r\n                            <div\r\n                              style={{\r\n                                fontSize: 'var(--font-size-xs)',\r\n                                color: 'var(--text-muted)',\r\n                                marginBottom: 'var(--spacing-1)',\r\n                              }}\r\n                            >\r\n                              JSON API\r\n                            </div>\r\n                            <code\r\n                              style={{\r\n                                fontSize: 'var(--font-size-sm)',\r\n                                color: 'var(--text-primary)',\r\n                              }}\r\n                            >\r\n                              {typeof window !== 'undefined' ? window.location.origin : ''}\r\n                              /api/status\r\n                            </code>\r\n                          </div>\r\n                          <div\r\n                            style={{\r\n                              padding: 'var(--spacing-3)',\r\n                              background: '#f9fafb',\r\n                              border: '1px solid #e5e7eb',\r\n                              borderRadius: 'var(--radius-md)',\r\n                            }}\r\n                          >\r\n                            <div\r\n                              style={{\r\n                                fontSize: 'var(--font-size-xs)',\r\n                                color: 'var(--text-muted)',\r\n                                marginBottom: 'var(--spacing-1)',\r\n                              }}\r\n                            >\r\n                              RSS Feed\r\n                            </div>\r\n                            <code\r\n                              style={{\r\n                                fontSize: 'var(--font-size-sm)',\r\n                                color: 'var(--text-primary)',\r\n                              }}\r\n                            >\r\n                              {typeof window !== 'undefined' ? window.location.origin : ''}\r\n                              /api/status/rss\r\n                            </code>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Error and Success Messages */}\r\n                {(error || successMessage) && (\r\n                  <div\r\n                    style={{\r\n                      marginBottom: 'var(--spacing-4)',\r\n                      padding: 'var(--spacing-3)',\r\n                      borderRadius: 'var(--radius-md)',\r\n                      background: error ? '#fee2e2' : '#d1fae5',\r\n                      border: `1px solid ${error ? '#fecaca' : '#a7f3d0'}`,\r\n                      color: error ? '#991b1b' : '#065f46',\r\n                    }}\r\n                  >\r\n                    {error ? (\r\n                      <div\r\n                        style={{ display: 'flex', alignItems: 'center', gap: 'var(--spacing-2)' }}\r\n                      >\r\n                        <span style={{ fontSize: '1.2rem' }}>ΓÜá∩╕Å</span>\r\n                        <span>{error}</span>\r\n                      </div>\r\n                    ) : (\r\n                      <div\r\n                        style={{ display: 'flex', alignItems: 'center', gap: 'var(--spacing-2)' }}\r\n                      >\r\n                        <span style={{ fontSize: '1.2rem' }}>Γ£ô</span>\r\n                        <span>{successMessage}</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {/* Sticky Save Bar */}\r\n            <div\r\n              className=\"status-page-config-sticky-bar\"\r\n              style={{\r\n                display: 'flex',\r\n                gap: 'var(--spacing-3)',\r\n                justifyContent: 'flex-end',\r\n                alignItems: 'center',\r\n                padding: 'var(--spacing-4) var(--spacing-6)',\r\n                borderTop: '1px solid #e5e7eb',\r\n                background: 'linear-gradient(to right, #ffffff, #fafafa)',\r\n                boxShadow: '0 -2px 10px rgba(0, 0, 0, 0.05)',\r\n              }}\r\n            >\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"secondary\"\r\n                onClick={() => router.refresh()}\r\n                disabled={isPending}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button type=\"submit\" variant=\"primary\" isLoading={isPending}>\r\n                ≡ƒÆ╛ Save Settings\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Preview Panel */}\r\n          {showPreview && (\r\n            <div\r\n              className=\"status-page-config-preview\"\r\n              style={{\r\n                flex: '0 0 42%',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                overflow: 'hidden',\r\n                minWidth: 0, // Allow flex item to shrink below content size\r\n              }}\r\n            >\r\n              <div className=\"status-page-preview-body\">\r\n                <div className=\"status-page-preview-header\">\r\n                  <span>Live Preview</span>\r\n                  <span className=\"status-page-preview-chip\">Live</span>\r\n                </div>\r\n                <div className=\"status-page-preview-frame\">\r\n                  <StatusPageLivePreview previewData={previewData} maxWidth={previewMaxWidth} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TeamActivityLog.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 17,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 17,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [382, 385], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [382, 385], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TeamCard.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'useMemo' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 3,
        "column": 20,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 27
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 328,
        "column": 27,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [10974, 11085],
              "text": "\r\n                ΓÜá∩╕Å You don&apos;t have access to edit this team. Admin or Responder role required.\r\n              "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [10974, 11085],
              "text": "\r\n                ΓÜá∩╕Å You don&lsquo;t have access to edit this team. Admin or Responder role required.\r\n              "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [10974, 11085],
              "text": "\r\n                ΓÜá∩╕Å You don&#39;t have access to edit this team. Admin or Responder role required.\r\n              "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [10974, 11085],
              "text": "\r\n                ΓÜá∩╕Å You don&rsquo;t have access to edit this team. Admin or Responder role required.\r\n              "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 443,
        "column": 49,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 443,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [15118, 15121], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [15118, 15121], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": null,
        "message": "Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').",
        "line": 444,
        "column": 21,
        "severity": 1,
        "nodeType": null,
        "fix": { "range": [15149, 15206], "text": " " }
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 16,
        "column": 9,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 16,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [561, 564], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [561, 564], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 21,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 21,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [732, 735], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [732, 735], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 22,
        "column": 17,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 22,
        "endColumn": 20,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [814, 817], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [814, 817], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 29,
        "column": 63,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 29,
        "endColumn": 66,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1121, 1124], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1121, 1124], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 294,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 294,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9629, 9632], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9629, 9632], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 524,
        "column": 32,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 524,
        "endColumn": 35,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [18300, 18303], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [18300, 18303], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 1,
    "source": "'use client';\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport ConfirmDialog from './ConfirmDialog';\r\nimport TeamMemberCard from './TeamMemberCard';\r\nimport TeamMemberSearch from './TeamMemberSearch';\r\nimport TeamActivityLog from './TeamActivityLog';\r\nimport BulkTeamMemberActions from './BulkTeamMemberActions';\r\nimport TeamStats from './TeamStats';\r\nimport TeamMemberForm from './TeamMemberForm';\r\nimport { useToast } from './ToastProvider';\r\n\r\ntype TeamCardProps = {\r\n  team: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  teamId: string;\r\n  ownerCount: number;\r\n  adminCount: number;\r\n  memberCount: number;\r\n  availableUsers: any[]; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  activityLogs: any[]; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  activityTotal: number;\r\n  canUpdateTeam: boolean;\r\n  canDeleteTeam: boolean;\r\n  canManageMembers: boolean;\r\n  canManageNotifications: boolean;\r\n  canAssignOwnerAdmin: boolean;\r\n  updateTeam: (teamId: string, formData: FormData) => Promise<any>; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  deleteTeam: (teamId: string) => Promise<{ error?: string } | undefined>;\r\n  addTeamMember: (teamId: string, formData: FormData) => Promise<{ error?: string } | undefined>;\r\n  updateTeamMemberRole: (\r\n    memberId: string,\r\n    formData: FormData\r\n  ) => Promise<{ error?: string } | undefined>;\r\n  updateTeamMemberNotifications: (\r\n    memberId: string,\r\n    receiveNotifications: boolean\r\n  ) => Promise<{ error?: string } | undefined>;\r\n  removeTeamMember: (memberId: string) => Promise<{ error?: string } | undefined>;\r\n};\r\n\r\nexport default function TeamCard({\r\n  team,\r\n  teamId,\r\n  ownerCount,\r\n  adminCount,\r\n  memberCount,\r\n  availableUsers,\r\n  activityLogs,\r\n  activityTotal,\r\n  canUpdateTeam,\r\n  canDeleteTeam,\r\n  canManageMembers,\r\n  canManageNotifications,\r\n  canAssignOwnerAdmin,\r\n  updateTeam,\r\n  deleteTeam,\r\n  addTeamMember,\r\n  updateTeamMemberRole,\r\n  updateTeamMemberNotifications,\r\n  removeTeamMember,\r\n}: TeamCardProps) {\r\n  const router = useRouter();\r\n  const { showToast } = useToast();\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [filteredMembers, setFilteredMembers] = useState(team.members);\r\n  const [activityPage, setActivityPage] = useState(1);\r\n\r\n  // Create bound functions for this team\r\n  const handleDelete = async () => {\r\n    setShowDeleteConfirm(false);\r\n    const result = await deleteTeam(teamId);\r\n    if (result?.error) {\r\n      showToast(result.error, 'error');\r\n    } else {\r\n      showToast('Team deleted successfully', 'success');\r\n      router.refresh();\r\n    }\r\n  };\r\n\r\n  const handleUpdateTeam = async (formData: FormData) => {\r\n    const result = await updateTeam(teamId, formData);\r\n    if (result?.error) {\r\n      showToast(result.error, 'error');\r\n    } else {\r\n      showToast('Team updated successfully', 'success');\r\n      router.refresh();\r\n    }\r\n  };\r\n\r\n  const handleAddMember = async (formData: FormData) => {\r\n    return await addTeamMember(teamId, formData);\r\n  };\r\n\r\n  const activityTotalPages = Math.ceil(activityTotal / 5);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"glass-panel\"\r\n        style={{\r\n          padding: '2rem',\r\n          background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n          border: '1px solid #e2e8f0',\r\n          borderRadius: '16px',\r\n          boxShadow: '0 4px 16px rgba(0,0,0,0.06)',\r\n        }}\r\n      >\r\n        {/* Team Header */}\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'flex-start',\r\n            gap: '1rem',\r\n            marginBottom: '1.5rem',\r\n            paddingBottom: '1.5rem',\r\n            borderBottom: '2px solid #e2e8f0',\r\n          }}\r\n        >\r\n          <div style={{ flex: 1 }}>\r\n            <h3\r\n              style={{\r\n                fontSize: '1.5rem',\r\n                fontWeight: '700',\r\n                marginBottom: '0.5rem',\r\n                color: 'var(--text-primary)',\r\n              }}\r\n            >\r\n              {team.name}\r\n            </h3>\r\n            <p\r\n              style={{\r\n                color: 'var(--text-secondary)',\r\n                fontSize: '0.95rem',\r\n                lineHeight: 1.6,\r\n                marginBottom: '1rem',\r\n              }}\r\n            >\r\n              {team.description || 'No description provided.'}\r\n            </p>\r\n            <TeamStats\r\n              memberCount={memberCount}\r\n              serviceCount={team._count.services}\r\n              ownerCount={ownerCount}\r\n              adminCount={adminCount}\r\n            />\r\n          </div>\r\n          {canDeleteTeam ? (\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowDeleteConfirm(true)}\r\n              className=\"delete-team-button\"\r\n              style={{\r\n                background: 'white',\r\n                color: '#ef4444',\r\n                border: '1px solid #fee2e2',\r\n                padding: '0.6rem 1.25rem',\r\n                borderRadius: '10px',\r\n                cursor: 'pointer',\r\n                fontWeight: '600',\r\n                fontSize: '0.85rem',\r\n                boxShadow: '0 2px 4px rgba(0, 0, 0, 0.02)',\r\n                transition: 'all 0.2s',\r\n              }}\r\n            >\r\n              Delete Team\r\n            </button>\r\n          ) : (\r\n            <button\r\n              type=\"button\"\r\n              disabled\r\n              style={{\r\n                background: '#f3f4f6',\r\n                color: '#9ca3af',\r\n                border: 'none',\r\n                padding: '0.6rem 1.25rem',\r\n                borderRadius: '10px',\r\n                cursor: 'not-allowed',\r\n                fontWeight: '600',\r\n                fontSize: '0.85rem',\r\n                opacity: 0.6,\r\n              }}\r\n              title=\"Admin access required to delete teams\"\r\n            >\r\n              Delete Team\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Update Team Form */}\r\n        <div style={{ marginBottom: '2rem' }}>\r\n          {canUpdateTeam ? (\r\n            <form\r\n              key={`team-form-${team.id}-${team.teamLeadId || 'none'}-${team.updatedAt || 'new'}`}\r\n              action={handleUpdateTeam}\r\n              style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: '1fr 1fr 1fr auto',\r\n                gap: '1rem',\r\n                alignItems: 'end',\r\n                padding: '1rem',\r\n                background: '#f8fafc',\r\n                borderRadius: '12px',\r\n                border: '1px solid #e2e8f0',\r\n              }}\r\n            >\r\n              <div>\r\n                <label\r\n                  style={{\r\n                    display: 'block',\r\n                    marginBottom: '0.4rem',\r\n                    fontSize: '0.85rem',\r\n                    fontWeight: '500',\r\n                  }}\r\n                >\r\n                  Team Name\r\n                </label>\r\n                <input\r\n                  name=\"name\"\r\n                  defaultValue={team.name}\r\n                  required\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.6rem',\r\n                    border: '1px solid var(--border)',\r\n                    borderRadius: '8px',\r\n                    background: 'white',\r\n                  }}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label\r\n                  style={{\r\n                    display: 'block',\r\n                    marginBottom: '0.4rem',\r\n                    fontSize: '0.85rem',\r\n                    fontWeight: '500',\r\n                  }}\r\n                >\r\n                  Description\r\n                </label>\r\n                <input\r\n                  name=\"description\"\r\n                  defaultValue={team.description || ''}\r\n                  placeholder=\"Team mission\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.6rem',\r\n                    border: '1px solid var(--border)',\r\n                    borderRadius: '8px',\r\n                    background: 'white',\r\n                  }}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label\r\n                  style={{\r\n                    display: 'block',\r\n                    marginBottom: '0.4rem',\r\n                    fontSize: '0.85rem',\r\n                    fontWeight: '500',\r\n                  }}\r\n                >\r\n                  Team Lead\r\n                  <span\r\n                    style={{\r\n                      fontSize: '0.75rem',\r\n                      color: 'var(--text-muted)',\r\n                      fontWeight: '400',\r\n                      marginLeft: '0.25rem',\r\n                    }}\r\n                  >\r\n                    (Optional)\r\n                  </span>\r\n                </label>\r\n                <select\r\n                  name=\"teamLeadId\"\r\n                  defaultValue={team.teamLeadId || ''}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.6rem',\r\n                    border: '1px solid var(--border)',\r\n                    borderRadius: '8px',\r\n                    background: 'white',\r\n                    fontSize: '0.9rem',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                >\r\n                  <option value=\"\">No team lead</option>\r\n                  {team.members.map(\r\n                    (\r\n                      member: any // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    ) => (\r\n                      <option key={member.userId} value={member.userId}>\r\n                        {member.user.name}{' '}\r\n                        {member.role === 'OWNER'\r\n                          ? '(Owner)'\r\n                          : member.role === 'ADMIN'\r\n                            ? '(Admin)'\r\n                            : ''}\r\n                      </option>\r\n                    )\r\n                  )}\r\n                </select>\r\n                <p style={{ fontSize: '0.7rem', color: 'var(--text-muted)', marginTop: '0.25rem' }}>\r\n                  Team lead can be notified separately in escalation policies\r\n                </p>\r\n              </div>\r\n              <button type=\"submit\" className=\"glass-button\" style={{ height: 'fit-content' }}>\r\n                Update\r\n              </button>\r\n            </form>\r\n          ) : (\r\n            <div\r\n              style={{\r\n                padding: '1rem',\r\n                background: '#f9fafb',\r\n                border: '1px solid #e5e7eb',\r\n                borderRadius: '12px',\r\n                opacity: 0.7,\r\n              }}\r\n            >\r\n              <p\r\n                style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginBottom: '0.75rem' }}\r\n              >\r\n                ΓÜá∩╕Å You don't have access to edit this team. Admin or Responder role required.\r\n              </p>\r\n              <div\r\n                style={{\r\n                  display: 'grid',\r\n                  gridTemplateColumns: '1fr 1fr auto',\r\n                  gap: '1rem',\r\n                  alignItems: 'end',\r\n                  opacity: 0.5,\r\n                  pointerEvents: 'none',\r\n                }}\r\n              >\r\n                <div>\r\n                  <label\r\n                    style={{\r\n                      display: 'block',\r\n                      marginBottom: '0.4rem',\r\n                      fontSize: '0.85rem',\r\n                      fontWeight: '500',\r\n                      color: 'var(--text-secondary)',\r\n                    }}\r\n                  >\r\n                    Team Name\r\n                  </label>\r\n                  <input\r\n                    name=\"name\"\r\n                    defaultValue={team.name}\r\n                    disabled\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.6rem',\r\n                      border: '1px solid var(--border)',\r\n                      borderRadius: '8px',\r\n                      background: '#f3f4f6',\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label\r\n                    style={{\r\n                      display: 'block',\r\n                      marginBottom: '0.4rem',\r\n                      fontSize: '0.85rem',\r\n                      fontWeight: '500',\r\n                      color: 'var(--text-secondary)',\r\n                    }}\r\n                  >\r\n                    Description\r\n                  </label>\r\n                  <input\r\n                    name=\"description\"\r\n                    defaultValue={team.description || ''}\r\n                    disabled\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '0.6rem',\r\n                      border: '1px solid var(--border)',\r\n                      borderRadius: '8px',\r\n                      background: '#f3f4f6',\r\n                    }}\r\n                  />\r\n                </div>\r\n                <button type=\"button\" disabled className=\"glass-button\" style={{ opacity: 0.5 }}>\r\n                  Update\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Main Content Grid */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '2rem' }}>\r\n          {/* Members Section */}\r\n          <div>\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                marginBottom: '1rem',\r\n              }}\r\n            >\r\n              <h4 style={{ fontSize: '1.1rem', fontWeight: '600', color: 'var(--text-primary)' }}>\r\n                Members ({filteredMembers.length})\r\n              </h4>\r\n              <Link\r\n                href={`/users?teamId=${team.id}`}\r\n                style={{\r\n                  fontSize: '0.85rem',\r\n                  color: 'var(--primary)',\r\n                  textDecoration: 'none',\r\n                  fontWeight: '500',\r\n                }}\r\n              >\r\n                View in Users ΓåÆ\r\n              </Link>\r\n            </div>\r\n            {team.members.length === 0 ? (\r\n              <div\r\n                style={{\r\n                  padding: '2rem',\r\n                  textAlign: 'center',\r\n                  background: '#f8fafc',\r\n                  borderRadius: '12px',\r\n                  border: '1px dashed #e2e8f0',\r\n                }}\r\n              >\r\n                <p style={{ color: 'var(--text-muted)', fontSize: '0.9rem' }}>\r\n                  No members assigned.\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <TeamMemberSearch members={team.members} onFilterChange={setFilteredMembers} />\r\n                <div style={{ display: 'grid', gap: '0.75rem' }}>\r\n                  {filteredMembers.map((member: any) => {\r\n                    // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    const handleUpdateRole = async (formData: FormData) => {\r\n                      return await updateTeamMemberRole(member.id, formData);\r\n                    };\r\n                    const handleUpdateNotifications = async (receiveNotifications: boolean) => {\r\n                      return await updateTeamMemberNotifications(member.id, receiveNotifications);\r\n                    };\r\n                    const handleRemove = async () => {\r\n                      return await removeTeamMember(member.id);\r\n                    };\r\n                    const isSoleOwner = member.role === 'OWNER' && ownerCount === 1;\r\n\r\n                    return (\r\n                      <TeamMemberCard\r\n                        key={member.id}\r\n                        member={member}\r\n                        isSoleOwner={isSoleOwner}\r\n                        canManageMembers={canManageMembers}\r\n                        canManageNotifications={canManageNotifications}\r\n                        canAssignOwnerAdmin={canAssignOwnerAdmin}\r\n                        updateMemberRole={handleUpdateRole}\r\n                        updateMemberNotifications={handleUpdateNotifications}\r\n                        removeMember={handleRemove}\r\n                      />\r\n                    );\r\n                  })}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div>\r\n            <h4\r\n              style={{\r\n                fontSize: '1.1rem',\r\n                fontWeight: '600',\r\n                marginBottom: '1rem',\r\n                color: 'var(--text-primary)',\r\n              }}\r\n            >\r\n              Add Member\r\n            </h4>\r\n            <TeamMemberForm\r\n              availableUsers={availableUsers}\r\n              canManageMembers={canManageMembers}\r\n              canAssignOwnerAdmin={canAssignOwnerAdmin}\r\n              addMember={handleAddMember}\r\n              teamId={team.id}\r\n            />\r\n\r\n            {availableUsers.length > 1 && (\r\n              <BulkTeamMemberActions\r\n                availableUsers={availableUsers}\r\n                canManageMembers={canManageMembers}\r\n                canAssignOwnerAdmin={canAssignOwnerAdmin}\r\n                addMember={handleAddMember}\r\n                teamId={team.id}\r\n              />\r\n            )}\r\n\r\n            <div style={{ marginTop: '2rem' }}>\r\n              <h4\r\n                style={{\r\n                  fontSize: '1.1rem',\r\n                  fontWeight: '600',\r\n                  marginBottom: '0.75rem',\r\n                  color: 'var(--text-primary)',\r\n                }}\r\n              >\r\n                Owned Services ({team.services.length})\r\n              </h4>\r\n              {team.services.length === 0 ? (\r\n                <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)' }}>\r\n                  No services assigned.\r\n                </p>\r\n              ) : (\r\n                <div style={{ display: 'grid', gap: '0.5rem' }}>\r\n                  {team.services.map(\r\n                    (\r\n                      service: any // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    ) => (\r\n                      <Link\r\n                        key={service.id}\r\n                        href={`/services/${service.id}`}\r\n                        className=\"service-link\"\r\n                        style={{\r\n                          padding: '0.5rem 0.75rem',\r\n                          borderRadius: '8px',\r\n                          background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\r\n                          color: 'var(--primary)',\r\n                          textDecoration: 'none',\r\n                          fontWeight: '500',\r\n                          fontSize: '0.9rem',\r\n                          border: '1px solid var(--border)',\r\n                          transition: 'all 0.2s',\r\n                          display: 'inline-block',\r\n                        }}\r\n                      >\r\n                        {service.name} ΓåÆ\r\n                      </Link>\r\n                    )\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Team Activity Log */}\r\n        {activityLogs.length > 0 && (\r\n          <div style={{ marginTop: '2rem', paddingTop: '2rem', borderTop: '2px solid #e2e8f0' }}>\r\n            <TeamActivityLog\r\n              teamId={team.id}\r\n              logs={activityLogs}\r\n              totalLogs={activityTotal}\r\n              currentPage={activityPage}\r\n              totalPages={activityTotalPages}\r\n              onPageChange={page => {\r\n                setActivityPage(page);\r\n                // Could implement URL-based pagination here\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <ConfirmDialog\r\n        isOpen={showDeleteConfirm}\r\n        title=\"Delete Team\"\r\n        message={`Are you sure you want to delete \"${team.name}\"? This will remove all team members and unassign all services. This action cannot be undone.`}\r\n        confirmText=\"Delete Team\"\r\n        cancelText=\"Cancel\"\r\n        variant=\"danger\"\r\n        onConfirm={handleDelete}\r\n        onCancel={() => setShowDeleteConfirm(false)}\r\n      />\r\n    </>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TeamCreateForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TeamMemberCard.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TeamMemberCard.tsx:71:5\n  69 |\n  70 |   useEffect(() => {\n> 71 |     setTeamNotifyEnabled(member.receiveTeamNotifications); // eslint-disable-line react-hooks/set-state-in-effect\n     |     ^^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  72 |   }, [member.receiveTeamNotifications]);\n  73 |\n  74 |   const handleRoleChange = (e: React.ChangeEvent<HTMLSelectElement>) => {",
        "line": 71,
        "column": 5,
        "nodeType": null,
        "endLine": 71,
        "endColumn": 25,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TeamMemberForm.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 63,
        "column": 21,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [1766, 1867],
              "text": "\r\n          ΓÜá∩╕Å You don&apos;t have access to add team members. Admin or Responder role required.\r\n        "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [1766, 1867],
              "text": "\r\n          ΓÜá∩╕Å You don&lsquo;t have access to add team members. Admin or Responder role required.\r\n        "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [1766, 1867],
              "text": "\r\n          ΓÜá∩╕Å You don&#39;t have access to add team members. Admin or Responder role required.\r\n        "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [1766, 1867],
              "text": "\r\n          ΓÜá∩╕Å You don&rsquo;t have access to add team members. Admin or Responder role required.\r\n        "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useTransition } from 'react';\r\nimport { useToast } from './ToastProvider';\r\n\r\ntype User = {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  status?: string;\r\n};\r\n\r\ntype TeamMemberFormProps = {\r\n  availableUsers: User[];\r\n  canManageMembers: boolean;\r\n  canAssignOwnerAdmin: boolean;\r\n  addMember: (formData: FormData) => Promise<{ error?: string } | undefined>;\r\n  teamId: string;\r\n};\r\n\r\nexport default function TeamMemberForm({\r\n  availableUsers,\r\n  canManageMembers,\r\n  canAssignOwnerAdmin,\r\n  addMember,\r\n  teamId: _teamId,\r\n}: TeamMemberFormProps) {\r\n  const [isPending, startTransition] = useTransition();\r\n  const { showToast } = useToast();\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    // Capture the form element before the async transition so we don't rely on the event later\r\n    const form = e.currentTarget;\r\n    const formData = new FormData(form);\r\n    const userId = formData.get('userId') as string;\r\n    const role = formData.get('role') as string;\r\n    const userName = availableUsers.find(u => u.id === userId)?.name || 'User';\r\n\r\n    startTransition(async () => {\r\n      const result = await addMember(formData);\r\n      if (result?.error) {\r\n        showToast(result.error, 'error');\r\n      } else {\r\n        showToast(`${userName} added as ${role}`, 'success');\r\n        form.reset();\r\n      }\r\n    });\r\n  };\r\n\r\n  if (!canManageMembers) {\r\n    return (\r\n      <div\r\n        style={{\r\n          padding: '1rem',\r\n          background: '#f9fafb',\r\n          border: '1px solid #e5e7eb',\r\n          borderRadius: '12px',\r\n          opacity: 0.7,\r\n        }}\r\n      >\r\n        <p style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginBottom: '0.75rem' }}>\r\n          ΓÜá∩╕Å You don't have access to add team members. Admin or Responder role required.\r\n        </p>\r\n        <div style={{ display: 'grid', gap: '0.75rem', opacity: 0.5, pointerEvents: 'none' }}>\r\n          <select\r\n            disabled\r\n            style={{\r\n              padding: '0.6rem',\r\n              border: '1px solid var(--border)',\r\n              borderRadius: '8px',\r\n              background: '#f3f4f6',\r\n            }}\r\n          >\r\n            <option value=\"\">Select user</option>\r\n          </select>\r\n          <select\r\n            disabled\r\n            defaultValue=\"MEMBER\"\r\n            style={{\r\n              padding: '0.6rem',\r\n              border: '1px solid var(--border)',\r\n              borderRadius: '8px',\r\n              background: '#f3f4f6',\r\n            }}\r\n          >\r\n            <option value=\"MEMBER\">Member</option>\r\n          </select>\r\n          <button type=\"button\" disabled className=\"glass-button primary\" style={{ opacity: 0.5 }}>\r\n            Add to Team\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} style={{ display: 'grid', gap: '0.75rem' }}>\r\n      <div>\r\n        <label\r\n          style={{\r\n            display: 'block',\r\n            marginBottom: '0.4rem',\r\n            fontSize: '0.85rem',\r\n            fontWeight: '500',\r\n          }}\r\n        >\r\n          Select User\r\n        </label>\r\n        <select\r\n          name=\"userId\"\r\n          required\r\n          disabled={isPending || availableUsers.length === 0}\r\n          style={{\r\n            width: '100%',\r\n            padding: '0.6rem',\r\n            border: '1px solid var(--border)',\r\n            borderRadius: '8px',\r\n            background: availableUsers.length === 0 ? '#f3f4f6' : 'white',\r\n            cursor: availableUsers.length === 0 ? 'not-allowed' : 'pointer',\r\n            opacity: isPending || availableUsers.length === 0 ? 0.6 : 1,\r\n          }}\r\n        >\r\n          <option value=\"\">\r\n            {availableUsers.length === 0 ? 'All users are members' : 'Choose a user...'}\r\n          </option>\r\n          {availableUsers.map(user => (\r\n            <option key={user.id} value={user.id}>\r\n              {user.name} {user.status === 'DISABLED' ? '(Disabled)' : ''} - {user.email}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        <label\r\n          style={{\r\n            display: 'block',\r\n            marginBottom: '0.4rem',\r\n            fontSize: '0.85rem',\r\n            fontWeight: '500',\r\n          }}\r\n        >\r\n          Role\r\n        </label>\r\n        <select\r\n          name=\"role\"\r\n          defaultValue=\"MEMBER\"\r\n          disabled={!canAssignOwnerAdmin || isPending}\r\n          style={{\r\n            width: '100%',\r\n            padding: '0.6rem',\r\n            border: '1px solid var(--border)',\r\n            borderRadius: '8px',\r\n            background: !canAssignOwnerAdmin ? '#f3f4f6' : 'white',\r\n            opacity: !canAssignOwnerAdmin ? 0.7 : 1,\r\n            cursor: !canAssignOwnerAdmin ? 'not-allowed' : 'pointer',\r\n          }}\r\n          title={\r\n            !canAssignOwnerAdmin\r\n              ? 'Admin or Team Owner access required to assign OWNER or ADMIN roles'\r\n              : undefined\r\n          }\r\n        >\r\n          <option value=\"OWNER\" disabled={!canAssignOwnerAdmin}>\r\n            Owner{!canAssignOwnerAdmin ? ' (Admin/Owner only)' : ''}\r\n          </option>\r\n          <option value=\"ADMIN\" disabled={!canAssignOwnerAdmin}>\r\n            Admin{!canAssignOwnerAdmin ? ' (Admin/Owner only)' : ''}\r\n          </option>\r\n          <option value=\"MEMBER\">Member</option>\r\n        </select>\r\n        {!canAssignOwnerAdmin && (\r\n          <p\r\n            style={{\r\n              fontSize: '0.75rem',\r\n              color: '#dc2626',\r\n              fontStyle: 'italic',\r\n              marginTop: '0.25rem',\r\n            }}\r\n          >\r\n            ΓÜá∩╕Å Admin or Team Owner access required to assign OWNER or ADMIN roles\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        className=\"glass-button primary\"\r\n        disabled={availableUsers.length === 0 || isPending}\r\n        style={{\r\n          opacity: availableUsers.length === 0 || isPending ? 0.6 : 1,\r\n          cursor: availableUsers.length === 0 || isPending ? 'not-allowed' : 'pointer',\r\n        }}\r\n      >\r\n        {isPending ? 'Adding...' : 'Add to Team'}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TeamMemberSearch.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TeamStats.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TestNotificationButton.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 20,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 20,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [737, 740], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [737, 740], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TimeZoneSelect.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\Toast.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 49,
        "column": 20,
        "nodeType": "MemberExpression",
        "endLine": 49,
        "endColumn": 36
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useEffect } from 'react';\r\n\r\ntype ToastProps = {\r\n    message: string;\r\n    type: 'success' | 'error' | 'info' | 'warning';\r\n    onClose: () => void;\r\n    duration?: number;\r\n    icon?: React.ReactNode;\r\n};\r\n\r\nexport default function Toast({ message, type, onClose, duration = 3000, icon }: ToastProps) {\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            onClose();\r\n        }, duration);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [duration, onClose]);\r\n\r\n    const typeStyles = {\r\n        success: {\r\n            bg: 'var(--color-success-light)',\r\n            text: 'var(--color-success-dark)',\r\n            border: 'var(--color-success)',\r\n            iconBg: 'var(--color-success)',\r\n        },\r\n        error: {\r\n            bg: 'var(--color-error-light)',\r\n            text: 'var(--color-error-dark)',\r\n            border: 'var(--color-error)',\r\n            iconBg: 'var(--color-error)',\r\n        },\r\n        warning: {\r\n            bg: 'var(--color-warning-light)',\r\n            text: 'var(--color-warning-dark)',\r\n            border: 'var(--color-warning)',\r\n            iconBg: 'var(--color-warning)',\r\n        },\r\n        info: {\r\n            bg: 'var(--color-info-light)',\r\n            text: 'var(--color-info-dark)',\r\n            border: 'var(--color-info)',\r\n            iconBg: 'var(--color-info)',\r\n        },\r\n    };\r\n\r\n    const styles = typeStyles[type];\r\n\r\n    const defaultIcon = icon || (\r\n        type === 'success' ? (\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <path d=\"M20 6L9 17l-5-5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n            </svg>\r\n        ) : type === 'error' ? (\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\" />\r\n                <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\" />\r\n            </svg>\r\n        ) : type === 'warning' ? (\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\" />\r\n                <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\" />\r\n                <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\" />\r\n            </svg>\r\n        ) : (\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\" />\r\n                <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\" />\r\n            </svg>\r\n        )\r\n    );\r\n\r\n    return (\r\n        <div\r\n            className={`toast toast-${type}`}\r\n            style={{\r\n                padding: 'var(--spacing-3) var(--spacing-5)',\r\n                background: styles.bg,\r\n                color: styles.text,\r\n                border: `1px solid ${styles.border}`,\r\n                borderRadius: 'var(--radius-md)',\r\n                boxShadow: 'var(--shadow-lg)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: 'var(--spacing-3)',\r\n                minWidth: '300px',\r\n                maxWidth: '500px',\r\n                pointerEvents: 'auto',\r\n                animation: 'slideIn 0.3s ease-out',\r\n            }}\r\n            role=\"alert\"\r\n            aria-live=\"polite\"\r\n        >\r\n            <div\r\n                style={{\r\n                    width: '32px',\r\n                    height: '32px',\r\n                    borderRadius: 'var(--radius-full)',\r\n                    background: styles.iconBg,\r\n                    color: 'white',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    flexShrink: 0,\r\n                }}\r\n            >\r\n                {defaultIcon}\r\n            </div>\r\n            <span style={{ \r\n                fontWeight: 'var(--font-weight-semibold)', \r\n                fontSize: 'var(--font-size-sm)',\r\n                flex: 1,\r\n            }}>\r\n                {message}\r\n            </span>\r\n            <button\r\n                onClick={onClose}\r\n                style={{\r\n                    marginLeft: 'auto',\r\n                    background: 'transparent',\r\n                    border: 'none',\r\n                    color: styles.text,\r\n                    cursor: 'pointer',\r\n                    fontSize: '1.2rem',\r\n                    lineHeight: 1,\r\n                    padding: 'var(--spacing-1)',\r\n                    width: '24px',\r\n                    height: '24px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    borderRadius: 'var(--radius-sm)',\r\n                    transition: 'all var(--transition-base)',\r\n                }}\r\n                aria-label=\"Close\"\r\n                onMouseEnter={(e) => {\r\n                    e.currentTarget.style.background = 'rgba(0, 0, 0, 0.1)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                    e.currentTarget.style.background = 'transparent';\r\n                }}\r\n            >\r\n                ├ù\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ToastProvider.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TopbarBreadcrumbs.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TopbarClock.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'formatDateTime' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 5,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 24
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TopbarClock.tsx:14:9\n  12 |     useEffect(() => {\n  13 |         // Mark as mounted to prevent hydration mismatch\n> 14 |         setMounted(true); // eslint-disable-line react-hooks/set-state-in-effect\n     |         ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  15 |\n  16 |         const timer = setInterval(() => {\n  17 |             setTime(new Date());",
        "line": 14,
        "column": 9,
        "nodeType": null,
        "endLine": 14,
        "endColumn": 19,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useTimezone } from '@/contexts/TimezoneContext';\r\nimport { formatDateTime } from '@/lib/timezone';\r\n\r\nexport default function TopbarClock() {\r\n    const { userTimeZone } = useTimezone();\r\n    const [time, setTime] = useState(new Date());\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Mark as mounted to prevent hydration mismatch\r\n        setMounted(true); // eslint-disable-line react-hooks/set-state-in-effect\r\n\r\n        const timer = setInterval(() => {\r\n            setTime(new Date());\r\n        }, 1000);\r\n\r\n        return () => clearInterval(timer);\r\n    }, []);\r\n\r\n    // Don't render time until mounted to avoid hydration mismatch\r\n    if (!mounted) {\r\n        return (\r\n            <div className=\"topbar-clock\" title=\"\">\r\n                <div className=\"topbar-clock-time\">\r\n                    <span className=\"topbar-clock-hours\">--</span>\r\n                    <span className=\"topbar-clock-separator\">:</span>\r\n                    <span className=\"topbar-clock-minutes\">--</span>\r\n                    <span className=\"topbar-clock-seconds\">--</span>\r\n                </div>\r\n                <div className=\"topbar-clock-date\">--</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Format time in user's timezone - extract hours, minutes, seconds\r\n    const timeFormatter = new Intl.DateTimeFormat('en-US', {\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        second: '2-digit',\r\n        hour12: false,\r\n        timeZone: userTimeZone\r\n    });\r\n    const timeParts = timeFormatter.formatToParts(time);\r\n    const hours = timeParts.find(p => p.type === 'hour')?.value.padStart(2, '0') || '00';\r\n    const minutes = timeParts.find(p => p.type === 'minute')?.value.padStart(2, '0') || '00';\r\n    const seconds = timeParts.find(p => p.type === 'second')?.value.padStart(2, '0') || '00';\r\n\r\n    // Format date in user's timezone\r\n    const dateFormatter = new Intl.DateTimeFormat('en-US', {\r\n        weekday: 'short',\r\n        month: 'short',\r\n        day: 'numeric',\r\n        timeZone: userTimeZone\r\n    });\r\n    const dateStr = dateFormatter.format(time).toUpperCase();\r\n\r\n    return (\r\n        <div className=\"topbar-clock\" title={`${dateStr} - ${hours}:${minutes}:${seconds}`}>\r\n            <div className=\"topbar-clock-time\">\r\n                <span className=\"topbar-clock-hours\">{hours}</span>\r\n                <span className=\"topbar-clock-separator\">:</span>\r\n                <span className=\"topbar-clock-minutes\">{minutes}</span>\r\n                <span className=\"topbar-clock-seconds\">{seconds}</span>\r\n            </div>\r\n            <div className=\"topbar-clock-date\">{dateStr}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TopbarNotifications.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\TopbarUserMenu.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\UserCreateForm.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\UserCreateForm.tsx:43:13\n  41 |         if (state?.success) {\n  42 |             formRef.current?.reset();\n> 43 |             setEmail(''); // eslint-disable-line react-hooks/set-state-in-effect\n     |             ^^^^^^^^ Avoid calling setState() directly within an effect\n  44 |             setEmailError(null);\n  45 |         }\n  46 |     }, [state?.success]);",
        "line": 43,
        "column": 13,
        "nodeType": null,
        "endLine": 43,
        "endColumn": 21,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\UserTable.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 40,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 40,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1444, 1447], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1444, 1447], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 40,
        "column": 83,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 40,
        "endColumn": 86,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1480, 1483], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1480, 1483], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\VersionCheck.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\WebVitalsReporter.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 31,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 31,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [934, 937], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [934, 937], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\WeekSummary.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 97,
        "column": 34,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [3127, 3195],
              "text": "\r\n                        This Week&apos;s Schedule\r\n                    "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [3127, 3195],
              "text": "\r\n                        This Week&lsquo;s Schedule\r\n                    "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [3127, 3195],
              "text": "\r\n                        This Week&#39;s Schedule\r\n                    "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [3127, 3195],
              "text": "\r\n                        This Week&rsquo;s Schedule\r\n                    "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useMemo } from 'react';\r\nimport { formatDateTime } from '@/lib/timezone';\r\n\r\ntype Shift = {\r\n    id: string;\r\n    start: string;\r\n    end: string;\r\n    label: string;\r\n    layerName: string;\r\n    userName: string;\r\n};\r\n\r\ntype ShiftWithDates = Shift & {\r\n    startDate: Date;\r\n    endDate: Date;\r\n};\r\n\r\ntype WeekSummaryProps = {\r\n    shifts: Shift[];\r\n    timeZone: string;\r\n};\r\n\r\nexport default function WeekSummary({ shifts, timeZone }: WeekSummaryProps) {\r\n    const weekShifts = useMemo<ShiftWithDates[]>(() => {\r\n        const now = new Date();\r\n        const weekStart = new Date(now);\r\n        weekStart.setDate(now.getDate() - now.getDay()); // Start of week (Sunday)\r\n        weekStart.setHours(0, 0, 0, 0);\r\n        \r\n        const weekEnd = new Date(weekStart);\r\n        weekEnd.setDate(weekStart.getDate() + 7);\r\n        \r\n        return shifts\r\n            .map(shift => ({\r\n                ...shift,\r\n                startDate: new Date(shift.start),\r\n                endDate: new Date(shift.end)\r\n            }))\r\n            .filter(shift => {\r\n                return shift.startDate < weekEnd && shift.endDate > weekStart;\r\n            })\r\n            .sort((a, b) => a.startDate.getTime() - b.startDate.getTime());\r\n    }, [shifts]);\r\n\r\n    const groupedByDay = useMemo(() => {\r\n        const groups = new Map<string, ShiftWithDates[]>();\r\n        \r\n        weekShifts.forEach(shift => {\r\n            // Use formatDateTime for consistent timezone formatting\r\n            const dayKey = formatDateTime(shift.startDate, timeZone, {\r\n                format: 'date',\r\n                hour12: false\r\n            }).split(',')[0] || formatDateTime(shift.startDate, timeZone, { format: 'date' });\r\n            \r\n            if (!groups.has(dayKey)) {\r\n                groups.set(dayKey, []);\r\n            }\r\n            groups.get(dayKey)!.push(shift);\r\n        });\r\n        \r\n        return Array.from(groups.entries()).map(([day, dayShifts]) => ({\r\n            day,\r\n            shifts: dayShifts\r\n        }));\r\n    }, [weekShifts, timeZone]);\r\n\r\n    const formatTime = (date: Date) => {\r\n        return formatDateTime(date, timeZone, { format: 'time', hour12: true });\r\n    };\r\n\r\n    return (\r\n        <div className=\"glass-panel\" style={{\r\n            padding: '1.5rem',\r\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n            border: '1px solid #e2e8f0',\r\n            borderRadius: '12px',\r\n            marginBottom: '2rem'\r\n        }}>\r\n            <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                marginBottom: '1.5rem',\r\n                paddingBottom: '1rem',\r\n                borderBottom: '1px solid #e2e8f0'\r\n            }}>\r\n                <div>\r\n                    <h3 style={{ \r\n                        fontSize: '1.25rem', \r\n                        fontWeight: '700', \r\n                        color: 'var(--text-primary)', \r\n                        margin: 0,\r\n                        marginBottom: '0.25rem'\r\n                    }}>\r\n                        This Week's Schedule\r\n                    </h3>\r\n                    <p style={{ \r\n                        fontSize: '0.85rem', \r\n                        color: 'var(--text-muted)',\r\n                        margin: 0\r\n                    }}>\r\n                        Upcoming on-call assignments for the next 7 days\r\n                    </p>\r\n                </div>\r\n                <span style={{\r\n                    padding: '0.3rem 0.6rem',\r\n                    borderRadius: '8px',\r\n                    fontSize: '0.75rem',\r\n                    fontWeight: '600',\r\n                    background: 'linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%)',\r\n                    color: '#0c4a6e',\r\n                    border: '1px solid #bae6fd'\r\n                }}>\r\n                    {weekShifts.length} shifts\r\n                </span>\r\n            </div>\r\n\r\n            {groupedByDay.length === 0 ? (\r\n                <div style={{\r\n                    padding: '2rem 1rem',\r\n                    textAlign: 'center',\r\n                    background: '#f8fafc',\r\n                    borderRadius: '8px'\r\n                }}>\r\n                    <div style={{ fontSize: '2rem', marginBottom: '0.5rem' }}>≡ƒôà</div>\r\n                    <p style={{ \r\n                        fontSize: '0.9rem', \r\n                        color: 'var(--text-muted)',\r\n                        margin: 0\r\n                    }}>\r\n                        No shifts scheduled for this week.\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <div style={{ display: 'grid', gap: '1rem' }}>\r\n                    {groupedByDay.map(({ day, shifts: dayShifts }) => (\r\n                        <div key={day} style={{\r\n                            padding: '1rem',\r\n                            background: '#f8fafc',\r\n                            borderRadius: '8px',\r\n                            border: '1px solid #e2e8f0'\r\n                        }}>\r\n                            <h4 style={{\r\n                                fontSize: '0.95rem',\r\n                                fontWeight: '600',\r\n                                color: 'var(--text-primary)',\r\n                                margin: 0,\r\n                                marginBottom: '0.75rem'\r\n                            }}>\r\n                                {day}\r\n                            </h4>\r\n                            <div style={{ display: 'grid', gap: '0.5rem' }}>\r\n                                {dayShifts.map(shift => {\r\n                                    const layerName = shift.label.split(':')[0];\r\n                                    const userName = shift.label.split(':')[1]?.trim() || shift.userName;\r\n                                    return (\r\n                                        <div key={shift.id} style={{\r\n                                            display: 'flex',\r\n                                            justifyContent: 'space-between',\r\n                                            alignItems: 'center',\r\n                                            padding: '0.75rem',\r\n                                            background: 'white',\r\n                                            borderRadius: '6px',\r\n                                            border: '1px solid #e2e8f0'\r\n                                        }}>\r\n                                            <div style={{ flex: 1 }}>\r\n                                                <div style={{\r\n                                                    display: 'flex',\r\n                                                    alignItems: 'center',\r\n                                                    gap: '0.5rem',\r\n                                                    marginBottom: '0.25rem'\r\n                                                }}>\r\n                                                    <span style={{\r\n                                                        padding: '0.15rem 0.5rem',\r\n                                                        borderRadius: '4px',\r\n                                                        fontSize: '0.7rem',\r\n                                                        fontWeight: '600',\r\n                                                        background: '#e0f2fe',\r\n                                                        color: '#0c4a6e'\r\n                                                    }}>\r\n                                                        {layerName}\r\n                                                    </span>\r\n                                                    <span style={{\r\n                                                        fontWeight: '600',\r\n                                                        fontSize: '0.9rem',\r\n                                                        color: 'var(--text-primary)'\r\n                                                    }}>\r\n                                                        {userName}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div style={{\r\n                                                    fontSize: '0.8rem',\r\n                                                    color: 'var(--text-muted)'\r\n                                                }}>\r\n                                                    {formatTime(shift.startDate)} - {formatTime(shift.endDate)}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\action-items\\ActionItemsBoard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\action-items\\ActionItemsStats.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\AnalyticsExportButton.tsx",
    "messages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 56,
        "column": 13,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 56,
        "endColumn": 62
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { logger } from '@/lib/logger';\r\nimport { useState } from 'react';\r\n\r\ninterface AnalyticsExportButtonProps {\r\n    filters: {\r\n        team?: string;\r\n        service?: string;\r\n        assignee?: string;\r\n        status?: string;\r\n        urgency?: string;\r\n        window?: string;\r\n    };\r\n}\r\n\r\nexport default function AnalyticsExportButton({ filters }: AnalyticsExportButtonProps) {\r\n    const [isExporting, setIsExporting] = useState(false);\r\n\r\n    const handleExport = async () => {\r\n        setIsExporting(true);\r\n        try {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value && value !== 'ALL') {\r\n                    params.append(key, value);\r\n                }\r\n            });\r\n            params.append('format', 'csv');\r\n\r\n            const response = await fetch(`/api/analytics/export?${params.toString()}`);\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Export failed');\r\n            }\r\n\r\n            const blob = await response.blob();\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.href = url;\r\n\r\n            const timestamp = new Date().toISOString().split('T')[0];\r\n            const filename = `analytics-report-${timestamp}.csv`;\r\n            a.download = filename;\r\n\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            window.URL.revokeObjectURL(url);\r\n            document.body.removeChild(a);\r\n        } catch (error) {\r\n            if (error instanceof Error) {\r\n                logger.error('Export error', { error: error.message });\r\n            } else {\r\n                logger.error('Export error', { error: String(error) });\r\n            }\r\n            alert('Failed to export data. Please try again.');\r\n        } finally {\r\n            setIsExporting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <button\r\n            onClick={handleExport}\r\n            disabled={isExporting}\r\n            type=\"button\"\r\n            style={{\r\n                display: 'inline-flex',\r\n                alignItems: 'center',\r\n                gap: '0.5rem',\r\n                padding: '0.75rem 1.4rem',\r\n                borderRadius: '999px',\r\n                border: 'none',\r\n                backgroundColor: '#d32f2f',\r\n                color: 'white',\r\n                fontWeight: 600,\r\n                fontSize: '0.9rem',\r\n                cursor: isExporting ? 'wait' : 'pointer',\r\n                boxShadow: '0 1px 2px rgba(17, 24, 39, 0.06)',\r\n                transition: 'all 0.2s ease',\r\n                opacity: isExporting ? 0.7 : 1,\r\n                whiteSpace: 'nowrap',\r\n                visibility: 'visible',\r\n                position: 'relative',\r\n                zIndex: 1000,\r\n                minWidth: '120px'\r\n            }}\r\n            onMouseEnter={(e) => {\r\n                if (!isExporting) {\r\n                    e.currentTarget.style.transform = 'translateY(-1px)';\r\n                    e.currentTarget.style.boxShadow = '0 10px 24px rgba(17, 24, 39, 0.12)';\r\n                    e.currentTarget.style.backgroundColor = '#b71c1c';\r\n                }\r\n            }}\r\n            onMouseLeave={(e) => {\r\n                e.currentTarget.style.transform = 'translateY(0)';\r\n                e.currentTarget.style.boxShadow = '0 1px 2px rgba(17, 24, 39, 0.06)';\r\n                e.currentTarget.style.backgroundColor = '#d32f2f';\r\n            }}\r\n        >\r\n            {isExporting ? (\r\n                <>\r\n                    <span>ΓÅ│</span>\r\n                    Exporting...\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <span>≡ƒôÑ</span>\r\n                    Export CSV\r\n                </>\r\n            )}\r\n        </button>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\AnalyticsFilters.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\AnalyticsFiltersClient.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\BarChart.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\ChartCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\DateRangePicker.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\EmptyState.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\ExportButton.tsx",
    "messages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 57,
        "column": 13,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 57,
        "endColumn": 62
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 74,
        "column": 48,
        "nodeType": "MemberExpression",
        "endLine": 74,
        "endColumn": 68
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 110,
        "column": 29,
        "nodeType": "MemberExpression",
        "endLine": 110,
        "endColumn": 49
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { logger } from '@/lib/logger';\r\nimport { useState } from 'react';\r\n\r\ninterface ExportButtonProps {\r\n    filters: {\r\n        team?: string;\r\n        service?: string;\r\n        assignee?: string;\r\n        status?: string;\r\n        urgency?: string;\r\n        window?: string;\r\n    };\r\n    format?: 'csv' | 'pdf' | 'excel';\r\n}\r\n\r\nexport default function ExportButton({ filters, format = 'csv' }: ExportButtonProps) {\r\n    const [isExporting, setIsExporting] = useState(false);\r\n\r\n    const handleExport = async () => {\r\n        setIsExporting(true);\r\n        try {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value && value !== 'ALL') {\r\n                    params.append(key, value);\r\n                }\r\n            });\r\n            params.append('format', format);\r\n\r\n            const response = await fetch(`/api/analytics/export?${params.toString()}`);\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Export failed');\r\n            }\r\n\r\n            const blob = await response.blob();\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.href = url;\r\n\r\n            const timestamp = new Date().toISOString().split('T')[0];\r\n            const filename = `analytics-report-${timestamp}.${format === 'excel' ? 'xlsx' : format}`;\r\n            a.download = filename;\r\n\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            window.URL.revokeObjectURL(url);\r\n            document.body.removeChild(a);\r\n        } catch (error) {\r\n            if (error instanceof Error) {\r\n                logger.error('Export error', { error: error.message });\r\n            } else {\r\n                logger.error('Export error', { error: String(error) });\r\n            }\r\n            alert('Failed to export data. Please try again.');\r\n        } finally {\r\n            setIsExporting(false);\r\n        }\r\n    };\r\n\r\n    const formatLabels = {\r\n        csv: 'CSV',\r\n        pdf: 'PDF',\r\n        excel: 'Excel'\r\n    };\r\n\r\n    return (\r\n        <button\r\n            onClick={handleExport}\r\n            disabled={isExporting}\r\n            className=\"glass-button primary analytics-export-button\"\r\n            title={`Export analytics data as ${formatLabels[format]}`}\r\n            style={{\r\n                display: 'inline-flex',\r\n                alignItems: 'center',\r\n                gap: '0.5rem',\r\n                padding: '0.75rem 1.4rem',\r\n                borderRadius: '999px',\r\n                border: 'none',\r\n                backgroundColor: 'var(--primary)',\r\n                color: 'white',\r\n                fontWeight: 600,\r\n                fontSize: '0.9rem',\r\n                cursor: isExporting ? 'wait' : 'pointer',\r\n                boxShadow: 'var(--shadow-sm)',\r\n                transition: 'all 0.2s ease',\r\n                opacity: isExporting ? 0.7 : 1\r\n            }}\r\n            onMouseEnter={(e) => {\r\n                if (!isExporting) {\r\n                    e.currentTarget.style.transform = 'translateY(-1px)';\r\n                    e.currentTarget.style.boxShadow = 'var(--shadow-md)';\r\n                }\r\n            }}\r\n            onMouseLeave={(e) => {\r\n                e.currentTarget.style.transform = 'translateY(0)';\r\n                e.currentTarget.style.boxShadow = 'var(--shadow-sm)';\r\n            }}\r\n        >\r\n            {isExporting ? (\r\n                <>\r\n                    <span style={{ animation: 'spin 1s linear infinite' }}>ΓÅ│</span>\r\n                    Exporting...\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <span style={{ fontSize: '1rem' }}>≡ƒôÑ</span>\r\n                    Export {formatLabels[format]}\r\n                </>\r\n            )}\r\n        </button>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\ExportButtonSimple.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\ExportMenu.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\FilterChips.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\GaugeChart.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\HeatmapCalendar.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 21,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 21,
        "endColumn": 26
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\ninterface HeatmapCalendarProps {\r\n    data: { date: string; count: number }[];\r\n    weeks?: number;\r\n    cellSize?: number;\r\n    gap?: number;\r\n}\r\n\r\nconst getIntensityColor = (count: number, maxCount: number): string => {\r\n    if (count === 0) return 'rgba(34, 197, 94, 0.15)'; // Light green for zero\r\n    const intensity = Math.min(1, count / Math.max(1, maxCount));\r\n    if (intensity < 0.25) return 'rgba(34, 197, 94, 0.5)';  // Green - low\r\n    if (intensity < 0.5) return 'rgba(234, 179, 8, 0.6)';   // Yellow - medium\r\n    if (intensity < 0.75) return 'rgba(249, 115, 22, 0.7)'; // Orange - high\r\n    return 'rgba(239, 68, 68, 0.85)';                        // Red - critical\r\n};\r\n\r\nconst getDayLabel = (dayIndex: number): string => {\r\n    const days = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];\r\n    return days[dayIndex];\r\n};\r\n\r\nexport default function HeatmapCalendar({\r\n    data,\r\n    weeks = 12,\r\n    cellSize = 12,\r\n    gap = 3\r\n}: HeatmapCalendarProps) {\r\n    const dataMap = new Map(data.map(d => [d.date, d.count]));\r\n    const maxCount = Math.max(1, ...data.map(d => d.count));\r\n\r\n    // Generate week columns (newest on right)\r\n    const today = new Date();\r\n    const cells: { date: Date; count: number; x: number; y: number }[] = [];\r\n\r\n    for (let weekOffset = weeks - 1; weekOffset >= 0; weekOffset--) {\r\n        for (let dayOfWeek = 0; dayOfWeek < 7; dayOfWeek++) {\r\n            const date = new Date(today);\r\n            date.setDate(today.getDate() - (weekOffset * 7 + (6 - dayOfWeek)));\r\n\r\n            const dateKey = date.toISOString().split('T')[0];\r\n            const count = dataMap.get(dateKey) || 0;\r\n\r\n            const x = (weeks - 1 - weekOffset) * (cellSize + gap);\r\n            const y = dayOfWeek * (cellSize + gap);\r\n\r\n            cells.push({ date, count, x, y });\r\n        }\r\n    }\r\n\r\n    const width = weeks * (cellSize + gap) - gap + 20; // Extra space for day labels\r\n    const height = 7 * (cellSize + gap) - gap;\r\n\r\n    return (\r\n        <div className=\"heatmap-calendar-container\">\r\n            <svg width={width} height={height} style={{ overflow: 'visible' }}>\r\n                {/* Day labels */}\r\n                {[1, 3, 5].map(dayIndex => (\r\n                    <text\r\n                        key={dayIndex}\r\n                        x={-8}\r\n                        y={dayIndex * (cellSize + gap) + cellSize / 2 + 3}\r\n                        fill=\"#6b7280\"\r\n                        fontSize={9}\r\n                        textAnchor=\"end\"\r\n                    >\r\n                        {getDayLabel(dayIndex)}\r\n                    </text>\r\n                ))}\r\n\r\n                {/* Cells */}\r\n                {cells.map((cell, i) => (\r\n                    <g key={i}>\r\n                        <rect\r\n                            x={cell.x}\r\n                            y={cell.y}\r\n                            width={cellSize}\r\n                            height={cellSize}\r\n                            rx={2}\r\n                            fill={getIntensityColor(cell.count, maxCount)}\r\n                            className=\"heatmap-cell\"\r\n                            style={{ transition: 'fill 0.2s ease' }}\r\n                        >\r\n                            <title>{`${cell.date.toLocaleDateString()}: ${cell.count} incident${cell.count !== 1 ? 's' : ''}`}</title>\r\n                        </rect>\r\n                    </g>\r\n                ))}\r\n            </svg>\r\n\r\n            {/* Legend */}\r\n            <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: 4,\r\n                marginTop: 8,\r\n                justifyContent: 'flex-end'\r\n            }}>\r\n                <span style={{ fontSize: 10, color: '#6b7280', marginRight: 4 }}>Good</span>\r\n                {[\r\n                    'rgba(34, 197, 94, 0.15)',  // Light green\r\n                    'rgba(34, 197, 94, 0.5)',   // Green\r\n                    'rgba(234, 179, 8, 0.6)',   // Yellow\r\n                    'rgba(249, 115, 22, 0.7)',  // Orange\r\n                    'rgba(239, 68, 68, 0.85)'   // Red\r\n                ].map((color, i) => (\r\n                    <div\r\n                        key={i}\r\n                        style={{\r\n                            width: 10,\r\n                            height: 10,\r\n                            borderRadius: 2,\r\n                            backgroundColor: color,\r\n                            border: '1px solid rgba(0,0,0,0.1)'\r\n                        }}\r\n                    />\r\n                ))}\r\n                <span style={{ fontSize: 10, color: '#6b7280', marginLeft: 4 }}>Critical</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\InsightCard.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'ArrowUpRight' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 2,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 22
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'ArrowDownRight' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 2,
        "column": 24,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 38
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'AlertCircle' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 2,
        "column": 76,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 87
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React from 'react';\r\nimport { ArrowUpRight, ArrowDownRight, Sparkles, TrendingUp, TrendingDown, AlertCircle } from 'lucide-react';\r\n\r\ninterface InsightCardProps {\r\n    type: string;\r\n    text: string;\r\n}\r\n\r\nexport default function InsightCard({ type, text }: InsightCardProps) {\r\n    const isPositive = type === 'positive';\r\n    const isNegative = type === 'negative';\r\n\r\n    // Icon mapping\r\n    const Icon = isPositive ? TrendingDown : (isNegative ? TrendingUp : Sparkles);\r\n    const colorClass = isPositive ? 'text-green-500' : (isNegative ? 'text-red-500' : 'text-blue-500');\r\n    const bgClass = isPositive ? 'bg-green-500/10' : (isNegative ? 'bg-red-500/10' : 'bg-blue-500/10');\r\n    const borderClass = isPositive ? 'border-l-green-500' : (isNegative ? 'border-l-red-500' : 'border-l-blue-500');\r\n\r\n    return (\r\n        <div className={`\r\n            flex items-start gap-3 p-3 w-full\r\n            hover:bg-accent/50 border border-border/40 \r\n            ${borderClass} border-l-4 rounded-r-md\r\n            transition-all duration-200 group\r\n        `}>\r\n            <div className={`p-1.5 rounded-md ${bgClass} ${colorClass} shrink-0 mt-0.5`}>\r\n                <Icon className=\"w-4 h-4\" />\r\n            </div>\r\n            <div className=\"flex flex-col gap-1 min-w-0\">\r\n                <p className=\"text-sm font-medium text-foreground leading-snug\">\r\n                    {text}\r\n                </p>\r\n                <div className=\"flex items-center gap-1.5\">\r\n                    <span className=\"text-[10px] uppercase tracking-wider font-bold text-muted-foreground/70\">\r\n                        Smart Insight\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\LineChart.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 4,
        "column": 11,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 4,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [68, 71], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [68, 71], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'valueFormatter' is assigned a value but never used. Allowed unused args must match /^_/u.",
        "line": 10,
        "column": 64,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 10,
        "endColumn": 78
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'chartHeight' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 14,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 22
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React from 'react';\r\n\r\ninterface LineChartProps {\r\n    data: any[];\r\n    lines: { key: string; color: string; label: string }[];\r\n    height?: number;\r\n    valueFormatter?: (val: number) => string;\r\n}\r\n\r\nexport default function LineChart({ data, lines, height = 200, valueFormatter = (v) => v.toString() }: LineChartProps) {\r\n    if (!data.length) return <div className=\"flex items-center justify-center text-muted-foreground h-full\">No data</div>;\r\n\r\n    const padding = 20;\r\n    const chartHeight = height - padding * 2;\r\n    // Calculate Min/Max\r\n    let maxVal = 0;\r\n    data.forEach(d => {\r\n        lines.forEach(l => {\r\n            if (d[l.key] > maxVal) maxVal = d[l.key];\r\n        });\r\n    });\r\n    // Add 10% headroom\r\n    maxVal = maxVal * 1.1;\r\n    if (maxVal === 0) maxVal = 1;\r\n\r\n    const getX = (index: number) => {\r\n        return (index / (data.length - 1)) * 100;\r\n    };\r\n\r\n    const getY = (val: number) => {\r\n        return 100 - (val / maxVal) * 100;\r\n    };\r\n\r\n    return (\r\n        <div className=\"analytics-line-chart\" style={{ height: `${height}px`, width: '100%', position: 'relative' }}>\r\n            {/* Legend */}\r\n            <div className=\"absolute top-0 right-0 flex gap-4 text-xs\">\r\n                {lines.map(l => (\r\n                    <div key={l.key} className=\"flex items-center gap-1\">\r\n                        <div className=\"w-2 h-2 rounded-full\" style={{ background: l.color }} />\r\n                        <span className=\"text-muted-foreground\">{l.label}</span>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Chart Area */}\r\n            <div className=\"w-full h-full pt-6 pb-2 relative\">\r\n                <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\" className=\"overflow-visible\">\r\n                    {/* Grid Lines */}\r\n                    {[0, 25, 50, 75, 100].map(p => (\r\n                        <line\r\n                            key={p}\r\n                            x1=\"0%\"\r\n                            y1={`${p}%`}\r\n                            x2=\"100%\"\r\n                            y2={`${p}%`}\r\n                            stroke=\"currentColor\"\r\n                            strokeOpacity=\"0.1\"\r\n                            strokeDasharray=\"4 4\"\r\n                        />\r\n                    ))}\r\n\r\n                    {/* Lines */}\r\n                    {lines.map((line) => {\r\n                        const points = data.map((d, i) => {\r\n                            const x = getX(i);\r\n                            const y = getY(d[line.key] || 0);\r\n                            return `${x},${y}`;\r\n                        }).join(' ');\r\n\r\n                        return (\r\n                            <polyline\r\n                                key={line.key}\r\n                                points={points}\r\n                                fill=\"none\"\r\n                                stroke={line.color}\r\n                                strokeWidth=\"2\"\r\n                                vectorEffect=\"non-scaling-stroke\"\r\n                                pointsAtX=\"0, 25, 50, 75, 100\" // Not valid SVG, but points are percentages\r\n                            />\r\n                        );\r\n                    })}\r\n                </svg>\r\n\r\n                {/* SVG doesn't handle percentage points nicely in polyline usually without viewBox logic. \r\n                    Standard SVG polyline expects absolute coordinates if not using viewBox.\r\n                    But 0-100 coordinates work if we use viewBox=\"0 0 100 100\". \r\n                */}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\MetricCard.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 47,
        "column": 56,
        "nodeType": "MemberExpression",
        "endLine": 47,
        "endColumn": 79
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 62,
        "column": 64,
        "nodeType": "MemberExpression",
        "endLine": 62,
        "endColumn": 82
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 85,
        "column": 64,
        "nodeType": "MemberExpression",
        "endLine": 85,
        "endColumn": 82
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { memo } from 'react';\r\n\r\ninterface MetricCardProps {\r\n    label: string;\r\n    value: string;\r\n    detail: string;\r\n    trend?: 'up' | 'down' | 'neutral';\r\n    trendValue?: string;\r\n    icon?: React.ReactNode;\r\n    variant?: 'default' | 'primary' | 'success' | 'warning' | 'danger';\r\n    className?: string;\r\n    children?: React.ReactNode;\r\n    tooltip?: string;\r\n    href?: string;\r\n}\r\n\r\nfunction MetricCard({\r\n    label,\r\n    value,\r\n    detail,\r\n    trend,\r\n    trendValue,\r\n    icon,\r\n    variant = 'default',\r\n    className = '',\r\n    children,\r\n    tooltip,\r\n    href\r\n}: MetricCardProps) {\r\n    const variantClasses = {\r\n        default: 'analytics-card-default',\r\n        primary: 'analytics-card-primary',\r\n        success: 'analytics-card-success',\r\n        warning: 'analytics-card-warning',\r\n        danger: 'analytics-card-danger'\r\n    };\r\n\r\n    const trendColors = {\r\n        up: 'analytics-trend-up',\r\n        down: 'analytics-trend-down',\r\n        neutral: 'analytics-trend-neutral'\r\n    };\r\n\r\n    const trendLabel = trend === 'up' ? 'UP' : trend === 'down' ? 'DOWN' : 'FLAT';\r\n\r\n    return (\r\n        <article className={`analytics-card-enhanced ${variantClasses[variant]} ${className} ${href ? 'cursor-pointer hover:ring-2 hover:ring-offset-1 hover:ring-primary/50 transition-all' : ''}`}>\r\n            {href ? (\r\n                <a href={href} className=\"contents\">\r\n                    <div className=\"analytics-card-header\">\r\n                        {icon && <div className=\"analytics-card-icon\">{icon}</div>}\r\n                        <span className=\"analytics-label\">{label}</span>\r\n                        {tooltip && (\r\n                            <div className=\"analytics-info-icon-wrapper\">\r\n                                <span className=\"analytics-info-icon\" title={tooltip}>i</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"analytics-card-body\">\r\n                        <span className=\"analytics-value\">{value}</span>\r\n                        {trend && trendValue && (\r\n                            <div className={`analytics-trend ${trendColors[trend]}`}>\r\n                                <span className=\"analytics-trend-icon\">{trendLabel}</span>\r\n                                <span>{trendValue}</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <span className=\"analytics-detail\">{detail}</span>\r\n                    {children}\r\n                </a>\r\n            ) : (\r\n                <>\r\n                    <div className=\"analytics-card-header\">\r\n                        {icon && <div className=\"analytics-card-icon\">{icon}</div>}\r\n                        <span className=\"analytics-label\">{label}</span>\r\n                        {tooltip && (\r\n                            <div className=\"analytics-info-icon-wrapper\">\r\n                                <span className=\"analytics-info-icon\" title={tooltip}>i</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"analytics-card-body\">\r\n                        <span className=\"analytics-value\">{value}</span>\r\n                        {trend && trendValue && (\r\n                            <div className={`analytics-trend ${trendColors[trend]}`}>\r\n                                <span className=\"analytics-trend-icon\">{trendLabel}</span>\r\n                                <span>{trendValue}</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <span className=\"analytics-detail\">{detail}</span>\r\n                    {children}\r\n                </>\r\n            )}\r\n        </article>\r\n    );\r\n}\r\n\r\n// Memoize MetricCard to prevent unnecessary re-renders on dashboard\r\nexport default memo(MetricCard);\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\MetricIcon.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\MonitoringDashboardV2.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 96,
        "column": 77,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 96,
        "endColumn": 80,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3153, 3156], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3153, 3156], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 104,
        "column": 75,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 104,
        "endColumn": 78,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3614, 3617], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3614, 3617], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 205,
        "column": 80,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 205,
        "endColumn": 83,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9227, 9230], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9227, 9230], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 213,
        "column": 84,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 213,
        "endColumn": 87,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9724, 9727], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9724, 9727], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useMemo } from 'react';\r\nimport { SLAMetrics } from '@/lib/sla';\r\nimport { formatTimeMinutesMs } from '@/lib/time-format';\r\nimport {\r\n    Activity,\r\n    Clock,\r\n    AlertCircle,\r\n    Server,\r\n    Shield,\r\n    Zap,\r\n    CheckCircle,\r\n    XCircle,\r\n    Timer,\r\n    TrendingUp,\r\n    Gauge\r\n} from 'lucide-react';\r\nimport MetricCard from '@/components/analytics/MetricCard';\r\nimport ChartCard from '@/components/analytics/ChartCard';\r\nimport {\r\n    BarChart,\r\n    Bar,\r\n    XAxis,\r\n    YAxis,\r\n    CartesianGrid,\r\n    Tooltip,\r\n    ResponsiveContainer,\r\n    RadialBarChart,\r\n    RadialBar,\r\n    Legend\r\n} from 'recharts';\r\n\r\ninterface MonitoringDashboardV2Props {\r\n    metrics: SLAMetrics;\r\n}\r\n\r\n/**\r\n * Monitoring Dashboard V2\r\n * Displays ALL metrics from the new `calculateSLAMetrics` service.\r\n */\r\nexport default function MonitoringDashboardV2({ metrics }: MonitoringDashboardV2Props) {\r\n\r\n    // Helper: Determine status variant based on value\r\n    const getLatencyStatus = (val: number | null) => {\r\n        if (val === null) return 'default';\r\n        if (val < 200) return 'success';\r\n        if (val < 500) return 'warning';\r\n        return 'danger';\r\n    };\r\n\r\n    const getErrorRateStatus = (val: number | null) => {\r\n        if (val === null) return 'default';\r\n        if (val < 0.1) return 'success';\r\n        if (val < 1.0) return 'warning';\r\n        return 'danger';\r\n    };\r\n\r\n    const getComplianceStatus = (val: number) => {\r\n        if (val >= 95) return 'success';\r\n        if (val >= 80) return 'warning';\r\n        return 'danger';\r\n    };\r\n\r\n    // Derived Values\r\n    const uptimeValue = metrics.errorRate !== null ? (100 - metrics.errorRate) : null;\r\n\r\n    // Radial Chart Data for Compliance\r\n    const complianceData = [\r\n        { name: 'Ack SLA', value: metrics.ackCompliance, fill: '#22c55e' },\r\n        { name: 'Resolve SLA', value: metrics.resolveCompliance, fill: '#3b82f6' },\r\n    ];\r\n\r\n    // Bar Chart for Time Metrics\r\n    const timeMetricsData = useMemo(() => [\r\n        { name: 'MTTR', value: metrics.mttr !== null ? metrics.mttr : 0, fill: '#ef4444' },\r\n        { name: 'MTTD', value: metrics.mttd !== null ? metrics.mttd : 0, fill: '#f97316' },\r\n        { name: 'MTTI', value: metrics.mtti !== null ? metrics.mtti : 0, fill: '#eab308' },\r\n        { name: 'MTTK', value: metrics.mttk !== null ? metrics.mttk : 0, fill: '#a855f7' },\r\n    ], [metrics]);\r\n\r\n    return (\r\n        <div className=\"space-y-10\">\r\n\r\n            {/* SECTION 1: GOLDEN SIGNALS */}\r\n            <section>\r\n                <h2 className=\"text-lg font-semibold mb-4 text-neutral-300 flex items-center gap-2\">\r\n                    <Activity className=\"w-5 h-5 text-purple-400\" />\r\n                    Golden Signals (Application Health)\r\n                </h2>\r\n                <div className=\"analytics-grid\">\r\n                    <MetricCard\r\n                        label=\"Latency (P99)\"\r\n                        value={metrics.avgLatencyP99 !== null ? `${metrics.avgLatencyP99}ms` : '--'}\r\n                        detail=\"99th percentile\"\r\n                        variant={getLatencyStatus(metrics.avgLatencyP99) as any}\r\n                        icon={<Clock className=\"w-5 h-5\" />}\r\n                        tooltip=\"Response time for 99% of requests\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Error Rate\"\r\n                        value={metrics.errorRate !== null ? `${metrics.errorRate.toFixed(2)}%` : '--'}\r\n                        detail=\"5xx errors\"\r\n                        variant={getErrorRateStatus(metrics.errorRate) as any}\r\n                        icon={<AlertCircle className=\"w-5 h-5\" />}\r\n                        tooltip=\"Percentage of failed requests\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Throughput\"\r\n                        value={metrics.totalRequests.toLocaleString()}\r\n                        detail=\"Total requests\"\r\n                        variant=\"primary\"\r\n                        icon={<TrendingUp className=\"w-5 h-5\" />}\r\n                        tooltip=\"Total HTTP request volume\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Saturation\"\r\n                        value={metrics.saturation !== null ? `${metrics.saturation.toFixed(1)}%` : '--'}\r\n                        detail=\"Resource usage\"\r\n                        variant={metrics.saturation !== null && metrics.saturation > 80 ? 'danger' : 'success'}\r\n                        icon={<Gauge className=\"w-5 h-5\" />}\r\n                        tooltip=\"CPU/Memory utilization\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Availability\"\r\n                        value={uptimeValue !== null ? `${uptimeValue.toFixed(3)}%` : '--'}\r\n                        detail=\"Uptime SLA\"\r\n                        variant={uptimeValue !== null && uptimeValue >= 99.9 ? 'success' : 'danger'}\r\n                        icon={<Server className=\"w-5 h-5\" />}\r\n                        tooltip=\"Implied uptime based on error rate\"\r\n                    />\r\n                </div>\r\n            </section>\r\n\r\n            <div className=\"border-t border-neutral-800\"></div>\r\n\r\n            {/* SECTION 2: INCIDENT LIFECYCLE METRICS */}\r\n            <section>\r\n                <h2 className=\"text-lg font-semibold mb-4 text-neutral-300 flex items-center gap-2\">\r\n                    <Timer className=\"w-5 h-5 text-orange-400\" />\r\n                    Incident Lifecycle Metrics\r\n                </h2>\r\n                <div className=\"analytics-grid\">\r\n                    <MetricCard\r\n                        label=\"MTTR\"\r\n                        value={metrics.mttr !== null ? formatTimeMinutesMs(metrics.mttr * 60 * 1000) : '--'}\r\n                        detail=\"Mean Time To Resolve\"\r\n                        variant={metrics.mttr !== null && metrics.mttr < 60 ? 'success' : 'warning'}\r\n                        icon={<Zap className=\"w-5 h-5 text-green-400\" />}\r\n                        tooltip=\"Average time to resolve incidents\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"MTTD\"\r\n                        value={metrics.mttd !== null ? formatTimeMinutesMs(metrics.mttd * 60 * 1000) : '--'}\r\n                        detail=\"Mean Time To Detect\"\r\n                        icon={<Clock className=\"w-5 h-5 text-yellow-400\" />}\r\n                        tooltip=\"Average time to detect an issue\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"MTTI\"\r\n                        value={metrics.mtti !== null ? formatTimeMinutesMs(metrics.mtti * 60 * 1000) : '--'}\r\n                        detail=\"Mean Time To Investigate\"\r\n                        icon={<Clock className=\"w-5 h-5 text-orange-400\" />}\r\n                        tooltip=\"Time from creation to first investigation action\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"MTTK\"\r\n                        value={metrics.mttk !== null ? formatTimeMinutesMs(metrics.mttk * 60 * 1000) : '--'}\r\n                        detail=\"Mean Time To Know\"\r\n                        icon={<Clock className=\"w-5 h-5 text-purple-400\" />}\r\n                        tooltip=\"Time to understand incident root cause\"\r\n                    />\r\n                </div>\r\n                <div className=\"mt-6\">\r\n                    <ChartCard title=\"Time Metrics Comparison (minutes)\">\r\n                        <ResponsiveContainer width=\"100%\" height={200}>\r\n                            <BarChart data={timeMetricsData} layout=\"vertical\">\r\n                                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#333\" />\r\n                                <XAxis type=\"number\" stroke=\"#666\" tick={{ fill: '#888' }} />\r\n                                <YAxis type=\"category\" dataKey=\"name\" stroke=\"#666\" tick={{ fill: '#888' }} width={60} />\r\n                                <Tooltip\r\n                                    contentStyle={{ backgroundColor: '#171717', border: '1px solid #333' }}\r\n                                    formatter={(value: number) => [`${value.toFixed(1)} min`, 'Duration']}\r\n                                />\r\n                                <Bar dataKey=\"value\" radius={[0, 4, 4, 0]} />\r\n                            </BarChart>\r\n                        </ResponsiveContainer>\r\n                    </ChartCard>\r\n                </div>\r\n            </section>\r\n\r\n            <div className=\"border-t border-neutral-800\"></div>\r\n\r\n            {/* SECTION 3: SLA COMPLIANCE */}\r\n            <section>\r\n                <h2 className=\"text-lg font-semibold mb-4 text-neutral-300 flex items-center gap-2\">\r\n                    <Shield className=\"w-5 h-5 text-blue-400\" />\r\n                    SLA Compliance\r\n                </h2>\r\n                <div className=\"analytics-grid\">\r\n                    <MetricCard\r\n                        label=\"Ack Compliance\"\r\n                        value={`${metrics.ackCompliance.toFixed(1)}%`}\r\n                        detail={`${metrics.ackBreaches} breaches`}\r\n                        variant={getComplianceStatus(metrics.ackCompliance) as any}\r\n                        icon={<CheckCircle className=\"w-5 h-5\" />}\r\n                        tooltip=\"Percentage of incidents acknowledged within SLA\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Resolve Compliance\"\r\n                        value={`${metrics.resolveCompliance.toFixed(1)}%`}\r\n                        detail={`${metrics.resolveBreaches} breaches`}\r\n                        variant={getComplianceStatus(metrics.resolveCompliance) as any}\r\n                        icon={<CheckCircle className=\"w-5 h-5\" />}\r\n                        tooltip=\"Percentage of incidents resolved within SLA\"\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Total Incidents\"\r\n                        value={metrics.totalIncidents.toLocaleString()}\r\n                        detail=\"In selected period\"\r\n                        variant=\"default\"\r\n                        icon={<AlertCircle className=\"w-5 h-5\" />}\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Ack Breaches\"\r\n                        value={metrics.ackBreaches.toLocaleString()}\r\n                        detail=\"SLA violations\"\r\n                        variant={metrics.ackBreaches > 0 ? 'danger' : 'success'}\r\n                        icon={<XCircle className=\"w-5 h-5\" />}\r\n                    />\r\n                    <MetricCard\r\n                        label=\"Resolve Breaches\"\r\n                        value={metrics.resolveBreaches.toLocaleString()}\r\n                        detail=\"SLA violations\"\r\n                        variant={metrics.resolveBreaches > 0 ? 'danger' : 'success'}\r\n                        icon={<XCircle className=\"w-5 h-5\" />}\r\n                    />\r\n\r\n                    {/* Radial Chart for Compliance */}\r\n                    <div className=\"col-span-1 lg:col-span-2\">\r\n                        <ChartCard title=\"SLA Performance\">\r\n                            <ResponsiveContainer width=\"100%\" height={220}>\r\n                                <RadialBarChart\r\n                                    cx=\"50%\"\r\n                                    cy=\"50%\"\r\n                                    innerRadius=\"20%\"\r\n                                    outerRadius=\"90%\"\r\n                                    barSize={20}\r\n                                    data={complianceData}\r\n                                    startAngle={180}\r\n                                    endAngle={0}\r\n                                >\r\n                                    <RadialBar\r\n                                        label={{ position: 'insideStart', fill: '#fff', fontSize: 11 }}\r\n                                        dataKey=\"value\"\r\n                                        background={{ fill: '#333' }}\r\n                                    />\r\n                                    <Legend\r\n                                        iconSize={10}\r\n                                        layout=\"horizontal\"\r\n                                        verticalAlign=\"bottom\"\r\n                                        wrapperStyle={{ paddingTop: 10 }}\r\n                                    />\r\n                                    <Tooltip contentStyle={{ backgroundColor: '#171717', border: '1px solid #333' }} />\r\n                                </RadialBarChart>\r\n                            </ResponsiveContainer>\r\n                        </ChartCard>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\PieChart.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\ProgressBar.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 42,
        "column": 60,
        "nodeType": "MemberExpression",
        "endLine": 42,
        "endColumn": 76
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 44,
        "column": 59,
        "nodeType": "MemberExpression",
        "endLine": 44,
        "endColumn": 82
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "interface ProgressBarProps {\r\n    value: number;\r\n    max?: number;\r\n    label?: string;\r\n    showValue?: boolean;\r\n    variant?: 'default' | 'success' | 'warning' | 'danger' | 'primary';\r\n    size?: 'sm' | 'md' | 'lg';\r\n}\r\n\r\nexport default function ProgressBar({\r\n    value,\r\n    max = 100,\r\n    label,\r\n    showValue = true,\r\n    variant = 'default',\r\n    size = 'md'\r\n}: ProgressBarProps) {\r\n    const percentage = Math.min(100, Math.max(0, (value / max) * 100));\r\n    \r\n    const sizeStyles = {\r\n        sm: { height: '6px' },\r\n        md: { height: '8px' },\r\n        lg: { height: '12px' }\r\n    };\r\n\r\n    const variantClasses = {\r\n        default: 'analytics-progress-fill-default',\r\n        success: 'analytics-progress-fill-success',\r\n        warning: 'analytics-progress-fill-warning',\r\n        danger: 'analytics-progress-fill-danger',\r\n        primary: 'analytics-progress-fill-primary'\r\n    };\r\n\r\n    return (\r\n        <div className=\"analytics-progress-container\">\r\n            {label && (\r\n                <div className=\"analytics-progress-label\">\r\n                    <span>{label}</span>\r\n                    {showValue && <span className=\"analytics-progress-value\">{percentage.toFixed(0)}%</span>}\r\n                </div>\r\n            )}\r\n            <div className=\"analytics-progress-bar\" style={sizeStyles[size]}>\r\n                <div \r\n                    className={`analytics-progress-fill ${variantClasses[variant]}`}\r\n                    style={{ width: `${percentage}%` }}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\RadialProgress.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\ServiceHealthTable.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\SmartSummary.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'ArrowUpRight' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 4,
        "column": 20,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 32
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'ArrowDownRight' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 4,
        "column": 34,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 48
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 17,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 17,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [479, 482], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [479, 482], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 61,
        "column": 9,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 61,
        "endColumn": 45
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport React from 'react';\r\nimport { Sparkles, ArrowUpRight, ArrowDownRight, AlertTriangle, CheckCircle, Copy } from 'lucide-react';\r\n\r\ninterface SmartSummaryProps {\r\n    metrics: {\r\n        mtta: number | null;\r\n        mttr: number | null;\r\n        activeIncidents: number;\r\n        ackCompliance: number;\r\n        resolveCompliance: number;\r\n        highUrgencyRate: number;\r\n        totalIncidents: number;\r\n    };\r\n    windowDays: number;\r\n    trendSeries: any[];\r\n}\r\n\r\nexport default function SmartSummary({ metrics, windowDays, trendSeries }: SmartSummaryProps) {\r\n    // 1. Generate Insights\r\n    const insights: { type: 'good' | 'bad' | 'neutral', text: string }[] = [];\r\n\r\n    // Volume Analysis\r\n    if (metrics.totalIncidents > 5) {\r\n        if (metrics.highUrgencyRate > 30) {\r\n            insights.push({ type: 'bad', text: `High urgency load (${metrics.highUrgencyRate.toFixed(0)}% of volume) is likely straining the team.` });\r\n        } else {\r\n            insights.push({ type: 'good', text: `Healthy operational mix with only ${metrics.highUrgencyRate.toFixed(0)}% high urgency incidents.` });\r\n        }\r\n    }\r\n\r\n    // Performance Analysis\r\n    if (metrics.mtta && metrics.mtta > 15) {\r\n        insights.push({ type: 'bad', text: `Response time (MTTA) is averaging ${metrics.mtta.toFixed(0)}m, exceeding the 15m target.` });\r\n    } else if (metrics.mtta) {\r\n        insights.push({ type: 'good', text: `Response time is excellent, averaging ${metrics.mtta.toFixed(1)}m.` });\r\n    }\r\n\r\n    // Compliance Analysis\r\n    if (metrics.ackCompliance < 90 || metrics.resolveCompliance < 90) {\r\n        insights.push({ type: 'bad', text: `SLA compliance is at risk (Ack: ${metrics.ackCompliance.toFixed(0)}%, Resolve: ${metrics.resolveCompliance.toFixed(0)}%).` });\r\n    }\r\n\r\n    // Trend Analysis (Simple slope check of last day vs first day avg)\r\n    if (trendSeries.length > 2) {\r\n        const firstHalf = trendSeries.slice(0, Math.floor(trendSeries.length / 2)).reduce((acc, curr) => acc + curr.count, 0);\r\n        const secondHalf = trendSeries.slice(Math.floor(trendSeries.length / 2)).reduce((acc, curr) => acc + curr.count, 0);\r\n        if (secondHalf > firstHalf * 1.5) {\r\n            insights.push({ type: 'neutral', text: `Incident volume is trending upwards in the second half of this period.` });\r\n        }\r\n    }\r\n\r\n    if (insights.length === 0) {\r\n        insights.push({ type: 'neutral', text: \"Operations are steady with no significant anomalies detected.\" });\r\n    }\r\n\r\n    const copyToClipboard = () => {\r\n        const text = `Weekly Operations Summary:\\n${insights.map(i => `- ${i.text}`).join('\\n')}`;\r\n        navigator.clipboard.writeText(text);\r\n        alert('Summary copied to clipboard');\r\n    };\r\n\r\n    return (\r\n        <div className=\"glass-panel p-5 mb-6 relative overflow-hidden\">\r\n            <div className=\"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-purple-500 to-blue-500\" />\r\n\r\n            <div className=\"flex items-start justify-between mb-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"p-2 bg-primary/10 rounded-lg\">\r\n                        <Sparkles className=\"w-5 h-5 text-primary\" />\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"font-semibold text-lg flex items-center gap-2\">\r\n                            Operational Intelligence\r\n                            <span className=\"text-xs font-normal text-muted-foreground bg-secondary px-2 py-0.5 rounded-full\">AI Generated</span>\r\n                        </h3>\r\n                        <p className=\"text-xs text-muted-foreground\">Analysis of last {windowDays} days</p>\r\n                    </div>\r\n                </div>\r\n                <button onClick={copyToClipboard} className=\"text-xs text-muted-foreground hover:text-foreground flex items-center gap-1 bg-secondary/50 hover:bg-secondary px-2 py-1 rounded transition-colors\">\r\n                    <Copy className=\"w-3 h-3\" /> Copy\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {insights.map((insight, idx) => (\r\n                    <div key={idx} className=\"flex items-start gap-3 p-3 rounded-md bg-background/40 border border-border/40 hover:bg-background/60 transition-colors\">\r\n                        {insight.type === 'good' && <CheckCircle className=\"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0\" />}\r\n                        {insight.type === 'bad' && <AlertTriangle className=\"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0\" />}\r\n                        {insight.type === 'neutral' && <Sparkles className=\"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0\" />}\r\n                        <p className=\"text-sm text-foreground/90 leading-snug\">{insight.text}</p>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\SparklineChart.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\StatusBadge.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 26,
        "column": 52,
        "nodeType": "MemberExpression",
        "endLine": 26,
        "endColumn": 78
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "interface StatusBadgeProps {\r\n    status: string;\r\n    count?: number;\r\n    variant?: 'default' | 'success' | 'warning' | 'danger' | 'info';\r\n}\r\n\r\nexport default function StatusBadge({ status, count, variant = 'default' }: StatusBadgeProps) {\r\n    const variantStyles = {\r\n        default: 'analytics-badge-default',\r\n        success: 'analytics-badge-success',\r\n        warning: 'analytics-badge-warning',\r\n        danger: 'analytics-badge-danger',\r\n        info: 'analytics-badge-info'\r\n    };\r\n\r\n    // Auto-detect variant based on status\r\n    let autoVariant = variant;\r\n    if (variant === 'default') {\r\n        if (status === 'RESOLVED') autoVariant = 'success';\r\n        else if (status === 'OPEN') autoVariant = 'danger';\r\n        else if (status === 'ACKNOWLEDGED') autoVariant = 'info';\r\n        else if (status === 'SNOOZED' || status === 'SUPPRESSED') autoVariant = 'warning';\r\n    }\r\n\r\n    return (\r\n        <span className={`analytics-status-badge ${variantStyles[autoVariant]}`}>\r\n            {status}\r\n            {count !== undefined && <span className=\"analytics-badge-count\">{count}</span>}\r\n        </span>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\analytics\\Tooltip.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\dashboard\\DashboardCommandCenter.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 25,
        "column": 14,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 25,
        "endColumn": 17,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [708, 711], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [708, 711], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\dashboard\\MetricCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\dashboard\\OnCallWidget.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\dashboard\\QuickActionsPanel.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\dashboard\\SidebarWidget.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\AssigneeSection.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\CreateIncidentForm.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 37,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 37,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [905, 908], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [905, 908], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\CreateIncidentForm.tsx:86:13\n  84 |     useEffect(() => {\n  85 |         if (selectedTemplate) {\n> 86 |             setTitle(selectedTemplate.title); // eslint-disable-line react-hooks/set-state-in-effect\n     |             ^^^^^^^^ Avoid calling setState() directly within an effect\n  87 |             setDescription(selectedTemplate.descriptionText || '');\n  88 |             setServiceId(selectedTemplate.defaultService?.id || '');\n  89 |             setUrgency(selectedTemplate.defaultUrgency);",
        "line": 86,
        "column": 13,
        "nodeType": null,
        "endLine": 86,
        "endColumn": 21,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\EscalationStatusBadge.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 27,
        "column": 19,
        "nodeType": "MemberExpression",
        "endLine": 27,
        "endColumn": 35
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { memo } from 'react';\r\n\r\ntype EscalationStatusBadgeProps = {\r\n    status: string | null | undefined;\r\n    currentStep: number | null | undefined;\r\n    nextEscalationAt: Date | null | undefined;\r\n    size?: 'sm' | 'md';\r\n};\r\n\r\nfunction EscalationStatusBadge({\r\n    status,\r\n    currentStep,\r\n    nextEscalationAt,\r\n    size = 'md'\r\n}: EscalationStatusBadgeProps) {\r\n    if (!status || status === 'COMPLETED') {\r\n        return null;\r\n    }\r\n\r\n    const sizeStyles = {\r\n        sm: { padding: '0.2rem 0.5rem', fontSize: '0.7rem' },\r\n        md: { padding: '0.25rem 0.6rem', fontSize: '0.75rem' }\r\n    };\r\n\r\n    const style = sizeStyles[size];\r\n\r\n\r\n    const getTimeUntilNext = () => {\r\n        if (!nextEscalationAt) return null;\r\n        const now = new Date();\r\n        const nextDate = nextEscalationAt instanceof Date ? nextEscalationAt : new Date(nextEscalationAt);\r\n        const diff = nextDate.getTime() - now.getTime();\r\n        if (diff < 0) return 'Due now';\r\n        const minutes = Math.floor(diff / 60000);\r\n        if (minutes < 60) return `${minutes}m`;\r\n        const hours = Math.floor(minutes / 60);\r\n        if (hours < 24) return `${hours}h`;\r\n        const days = Math.floor(hours / 24);\r\n        if (days < 7) return `${days}d`;\r\n        const weeks = Math.floor(days / 7);\r\n        return `${weeks}w`;\r\n    };\r\n\r\n\r\n    const timeText = getTimeUntilNext();\r\n\r\n    return (\r\n        <div style={{\r\n            display: 'inline-flex',\r\n            alignItems: 'center',\r\n            gap: '0.4rem',\r\n            ...style,\r\n            background: status === 'ESCALATING'\r\n                ? 'linear-gradient(180deg, #fef3c7 0%, #fde68a 100%)'\r\n                : 'linear-gradient(180deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n            color: status === 'ESCALATING' ? '#b45309' : '#6b7280',\r\n            border: status === 'ESCALATING'\r\n                ? '1px solid rgba(180, 83, 9, 0.2)'\r\n                : '1px solid rgba(107, 114, 128, 0.2)',\r\n            borderRadius: '0px',\r\n            fontWeight: 700\r\n        }}>\r\n            <span style={{\r\n                width: '6px',\r\n                height: '6px',\r\n                borderRadius: '50%',\r\n                background: status === 'ESCALATING' ? '#f59e0b' : '#9ca3af',\r\n                boxShadow: status === 'ESCALATING' ? '0 0 0 2px #f59e0b33' : '0 0 0 2px #9ca3af33'\r\n            }} />\r\n            Escalating\r\n            {currentStep !== null && currentStep !== undefined && (\r\n                <span style={{ opacity: 0.8 }}>ΓÇó Step {currentStep + 1}</span>\r\n            )}\r\n            {timeText && (\r\n                <span style={{ fontSize: '0.7em', opacity: 0.8 }}>ΓÇó {timeText}</span>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n// Memoize EscalationStatusBadge to prevent unnecessary re-renders\r\nexport default memo(EscalationStatusBadge);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\IncidentCard.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 32,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 32,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [991, 994], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [991, 994], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\IncidentHeader.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 28,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 28,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1091, 1094], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1091, 1094], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\IncidentQuickActions.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\IncidentsFilters.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\IncidentsListTable.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 557,
        "column": 71,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 557,
        "endColumn": 74,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [31836, 31839], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [31836, 31839], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\NoteCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\Pagination.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\PriorityBadge.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 66,
        "column": 20,
        "nodeType": "MemberExpression",
        "endLine": 66,
        "endColumn": 44
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 67,
        "column": 19,
        "nodeType": "MemberExpression",
        "endLine": 67,
        "endColumn": 35
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { memo } from 'react';\r\n\r\ntype PriorityBadgeProps = {\r\n    priority: string | null | undefined;\r\n    size?: 'sm' | 'md' | 'lg';\r\n    showLabel?: boolean;\r\n};\r\n\r\nfunction PriorityBadge({ priority, size = 'md', showLabel = false }: PriorityBadgeProps) {\r\n    if (!priority) {\r\n        return null;\r\n    }\r\n\r\n    const sizeStyles = {\r\n        sm: { padding: '0.15rem 0.5rem', fontSize: '0.7rem' },\r\n        md: { padding: '0.25rem 0.75rem', fontSize: '0.8rem' },\r\n        lg: { padding: '0.35rem 1rem', fontSize: '0.9rem' }\r\n    };\r\n\r\n    const priorityConfig: Record<string, { \r\n        bg: string; \r\n        color: string; \r\n        border: string; \r\n        label: string;\r\n        severity: 'CRITICAL' | 'HIGH' | 'MEDIUM' | 'LOW' | 'INFO';\r\n    }> = {\r\n        'P1': {\r\n            bg: 'linear-gradient(180deg, #fee2e2 0%, #fecaca 100%)',\r\n            color: '#991b1b',\r\n            border: '1px solid rgba(220, 38, 38, 0.3)',\r\n            label: 'Critical',\r\n            severity: 'CRITICAL'\r\n        },\r\n        'P2': {\r\n            bg: 'linear-gradient(180deg, #fed7aa 0%, #fdba74 100%)',\r\n            color: '#9a3412',\r\n            border: '1px solid rgba(234, 88, 12, 0.3)',\r\n            label: 'High',\r\n            severity: 'HIGH'\r\n        },\r\n        'P3': {\r\n            bg: 'linear-gradient(180deg, #fef3c7 0%, #fde68a 100%)',\r\n            color: '#92400e',\r\n            border: '1px solid rgba(245, 158, 11, 0.3)',\r\n            label: 'Medium',\r\n            severity: 'MEDIUM'\r\n        },\r\n        'P4': {\r\n            bg: 'linear-gradient(180deg, #dbeafe 0%, #bfdbfe 100%)',\r\n            color: '#1e40af',\r\n            border: '1px solid rgba(59, 130, 246, 0.3)',\r\n            label: 'Low',\r\n            severity: 'LOW'\r\n        },\r\n        'P5': {\r\n            bg: 'linear-gradient(180deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n            color: '#4b5563',\r\n            border: '1px solid rgba(107, 114, 128, 0.3)',\r\n            label: 'Info',\r\n            severity: 'INFO'\r\n        }\r\n    };\r\n\r\n    const config = priorityConfig[priority] || priorityConfig['P5'];\r\n    const style = sizeStyles[size];\r\n\r\n    return (\r\n        <span\r\n            style={{\r\n                display: 'inline-flex',\r\n                alignItems: 'center',\r\n                gap: '0.4rem',\r\n                ...style,\r\n                background: config.bg,\r\n                color: config.color,\r\n                border: config.border,\r\n                borderRadius: '0px',\r\n                fontWeight: 700,\r\n                lineHeight: 1,\r\n                whiteSpace: 'nowrap',\r\n                letterSpacing: '0.05em',\r\n                boxShadow: size === 'lg' ? '0 2px 4px rgba(0,0,0,0.1)' : 'none'\r\n            }}\r\n            title={showLabel ? undefined : `${priority} - ${config.label}`}\r\n        >\r\n            <span style={{ fontSize: size === 'lg' ? '0.95em' : size === 'md' ? '0.9em' : '0.85em', fontWeight: 800 }}>\r\n                {priority}\r\n            </span>\r\n            {showLabel && (\r\n                <span style={{ fontSize: size === 'lg' ? '0.75em' : size === 'md' ? '0.7em' : '0.65em', fontWeight: 600, opacity: 0.9 }}>\r\n                    {config.label}\r\n                </span>\r\n            )}\r\n        </span>\r\n    );\r\n}\r\n\r\n// Memoize PriorityBadge to prevent unnecessary re-renders\r\nexport default memo(PriorityBadge);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\SLAIndicator.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\StatusBadge.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 69,
        "column": 20,
        "nodeType": "MemberExpression",
        "endLine": 69,
        "endColumn": 40
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 70,
        "column": 19,
        "nodeType": "MemberExpression",
        "endLine": 70,
        "endColumn": 35
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { memo } from 'react';\r\n\r\ntype StatusBadgeProps = {\r\n    status: 'OPEN' | 'ACKNOWLEDGED' | 'RESOLVED' | 'SNOOZED' | 'SUPPRESSED' | 'OPERATIONAL' | 'DEGRADED' | 'CRITICAL';\r\n    size?: 'sm' | 'md' | 'lg';\r\n    showDot?: boolean;\r\n};\r\n\r\nfunction StatusBadge({ status, size = 'md', showDot = false }: StatusBadgeProps) {\r\n    const sizeStyles = {\r\n        sm: { padding: '0.2rem 0.5rem', fontSize: '0.7rem' },\r\n        md: { padding: '0.25rem 0.75rem', fontSize: '0.8rem' },\r\n        lg: { padding: '0.4rem 1rem', fontSize: '0.9rem' }\r\n    };\r\n\r\n    const statusConfig: Record<string, { bg: string; color: string; border: string; dot: string }> = {\r\n        OPEN: {\r\n            bg: 'linear-gradient(180deg, #feecec 0%, #fddddd 100%)',\r\n            color: '#dc2626',\r\n            border: '1px solid rgba(220, 38, 38, 0.2)',\r\n            dot: '#ef4444'\r\n        },\r\n        ACKNOWLEDGED: {\r\n            bg: 'linear-gradient(180deg, #fff7e0 0%, #fff0c2 100%)',\r\n            color: '#b45309',\r\n            border: '1px solid rgba(180, 83, 9, 0.2)',\r\n            dot: '#f59e0b'\r\n        },\r\n        RESOLVED: {\r\n            bg: 'linear-gradient(180deg, #eaf7ef 0%, #dff3e7 100%)',\r\n            color: '#16a34a',\r\n            border: '1px solid rgba(22, 163, 74, 0.2)',\r\n            dot: '#22c55e'\r\n        },\r\n        SNOOZED: {\r\n            bg: 'linear-gradient(180deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n            color: '#6b7280',\r\n            border: '1px solid rgba(107, 114, 128, 0.2)',\r\n            dot: '#9ca3af'\r\n        },\r\n        SUPPRESSED: {\r\n            bg: 'linear-gradient(180deg, #f3f4f6 0%, #e5e7eb 100%)',\r\n            color: '#6b7280',\r\n            border: '1px solid rgba(107, 114, 128, 0.2)',\r\n            dot: '#9ca3af'\r\n        },\r\n        OPERATIONAL: {\r\n            bg: 'linear-gradient(180deg, #eaf7ef 0%, #dff3e7 100%)',\r\n            color: '#16a34a',\r\n            border: '1px solid rgba(22, 163, 74, 0.2)',\r\n            dot: '#22c55e'\r\n        },\r\n        DEGRADED: {\r\n            bg: 'linear-gradient(180deg, #fff7e0 0%, #fff0c2 100%)',\r\n            color: '#b45309',\r\n            border: '1px solid rgba(180, 83, 9, 0.2)',\r\n            dot: '#f59e0b'\r\n        },\r\n        CRITICAL: {\r\n            bg: 'linear-gradient(180deg, #feecec 0%, #fddddd 100%)',\r\n            color: '#dc2626',\r\n            border: '1px solid rgba(220, 38, 38, 0.2)',\r\n            dot: '#ef4444'\r\n        }\r\n    };\r\n\r\n    const config = statusConfig[status] || statusConfig.OPEN;\r\n    const style = sizeStyles[size];\r\n\r\n    return (\r\n        <span\r\n            style={{\r\n                display: 'inline-flex',\r\n                alignItems: 'center',\r\n                gap: '0.4rem',\r\n                ...style,\r\n                background: config.bg,\r\n                color: config.color,\r\n                border: config.border,\r\n                borderRadius: '0px',\r\n                fontWeight: 700,\r\n                lineHeight: 1,\r\n                whiteSpace: 'nowrap'\r\n            }}\r\n        >\r\n            {showDot && (\r\n                <span\r\n                    style={{\r\n                        width: '6px',\r\n                        height: '6px',\r\n                        borderRadius: '50%',\r\n                        background: config.dot,\r\n                        boxShadow: `0 0 0 2px ${config.dot}33`\r\n                    }}\r\n                />\r\n            )}\r\n            {status}\r\n        </span>\r\n    );\r\n}\r\n\r\n// Memoize StatusBadge to prevent unnecessary re-renders\r\nexport default memo(StatusBadge);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\TemplateCreateForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\TemplateFormWrapper.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 35,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 35,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [798, 801], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [798, 801], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\TemplateSelector.tsx",
    "messages": [
      {
        "ruleId": "@next/next/no-html-link-for-pages",
        "severity": 1,
        "message": "Do not use an `<a>` element to navigate to `/incidents/templates/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages",
        "line": 82,
        "column": 21,
        "nodeType": "JSXOpeningElement",
        "endLine": 95,
        "endColumn": 22
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 96,
        "column": 44,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [3652, 3720],
              "text": "\r\n                        Manage Templates ╞Æ+&apos;\r\n                    "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [3652, 3720],
              "text": "\r\n                        Manage Templates ╞Æ+&lsquo;\r\n                    "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [3652, 3720],
              "text": "\r\n                        Manage Templates ╞Æ+&#39;\r\n                    "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [3652, 3720],
              "text": "\r\n                        Manage Templates ╞Æ+&rsquo;\r\n                    "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\n\r\ntype Template = {\r\n    id: string;\r\n    name: string;\r\n    description?: string | null;\r\n    title: string;\r\n    descriptionText?: string | null;\r\n    defaultUrgency: 'HIGH' | 'LOW';\r\n    defaultPriority?: string | null;\r\n    defaultService?: { id: string; name: string } | null;\r\n};\r\n\r\ntype TemplateSelectorProps = {\r\n    templates: Template[];\r\n    selectedTemplateId: string | null;\r\n    selectedTemplate: Template | null;\r\n};\r\n\r\nexport default function TemplateSelector({\r\n    templates,\r\n    selectedTemplateId,\r\n    selectedTemplate\r\n}: TemplateSelectorProps) {\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n\r\n    const handleTemplateChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n        const templateId = e.target.value;\r\n        if (templateId) {\r\n            // Update URL without page reload\r\n            const params = new URLSearchParams(searchParams.toString());\r\n            params.set('template', templateId);\r\n            router.replace(`/incidents/create?${params.toString()}`, { scroll: false });\r\n        } else {\r\n            const params = new URLSearchParams(searchParams.toString());\r\n            params.delete('template');\r\n            router.replace(`/incidents/create?${params.toString()}`, { scroll: false });\r\n        }\r\n    };\r\n\r\n    if (templates.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div style={{ \r\n            marginBottom: '2rem', \r\n            padding: '1rem', \r\n            background: '#f9fafb', \r\n            border: '1px solid var(--border)', \r\n            borderRadius: '0px' \r\n        }}>\r\n            <label htmlFor=\"template-select\" style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 600, fontSize: '0.9rem', color: 'var(--text-primary)' }}>\r\n                Use Template (Optional)\r\n            </label>\r\n            <div style={{ display: 'flex', gap: '0.75rem', alignItems: 'center' }}>\r\n                <select\r\n                    id=\"template-select\"\r\n                    onChange={handleTemplateChange}\r\n                    value={selectedTemplateId || ''}\r\n                    style={{\r\n                        flex: 1,\r\n                        padding: '0.75rem',\r\n                        border: '1px solid var(--border)',\r\n                        borderRadius: '0px',\r\n                        background: 'white',\r\n                        fontSize: '0.9rem',\r\n                        cursor: 'pointer'\r\n                    }}\r\n                >\r\n                    <option value=\"\">No template (create from scratch)</option>\r\n                    {templates.map((template) => (\r\n                        <option key={template.id} value={template.id}>\r\n                            {template.name} {template.defaultService ? `(${template.defaultService.name})` : ''}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n                {templates.length > 0 && (\r\n                    <a\r\n                        href=\"/incidents/templates\"\r\n                        style={{\r\n                            padding: '0.75rem 1rem',\r\n                            background: 'white',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '0px',\r\n                            color: 'var(--primary)',\r\n                            textDecoration: 'none',\r\n                            fontSize: '0.85rem',\r\n                            fontWeight: 600,\r\n                            whiteSpace: 'nowrap'\r\n                        }}\r\n                    >\r\n                        Manage Templates ╞Æ+'\r\n                    </a>\r\n                )}\r\n            </div>\r\n            {selectedTemplate && (\r\n                <div style={{ \r\n                    marginTop: '0.75rem', \r\n                    padding: '0.75rem', \r\n                    background: 'white', \r\n                    border: '1px solid var(--primary-light)', \r\n                    borderRadius: '0px',\r\n                    fontSize: '0.85rem',\r\n                    color: 'var(--text-secondary)'\r\n                }}>\r\n                    <strong>Template: {selectedTemplate.name}</strong>\r\n                    {selectedTemplate.description && (\r\n                        <div style={{ marginTop: '0.25rem' }}>{selectedTemplate.description}</div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\TimelineEvent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\detail\\IncidentNotes.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 130,
        "column": 35,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [5594, 5714],
              "text": "\r\n                        ΓÜá∩╕Å You don&apos;t have access to add notes. Responder role or above required.\r\n                    "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [5594, 5714],
              "text": "\r\n                        ΓÜá∩╕Å You don&lsquo;t have access to add notes. Responder role or above required.\r\n                    "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [5594, 5714],
              "text": "\r\n                        ΓÜá∩╕Å You don&#39;t have access to add notes. Responder role or above required.\r\n                    "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [5594, 5714],
              "text": "\r\n                        ΓÜá∩╕Å You don&rsquo;t have access to add notes. Responder role or above required.\r\n                    "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport NoteCard from '../NoteCard';\r\n\r\ntype Note = {\r\n    id: string;\r\n    content: string;\r\n    user: { name: string; email: string };\r\n    createdAt: Date;\r\n};\r\n\r\ntype IncidentNotesProps = {\r\n    notes: Note[];\r\n    canManage: boolean;\r\n    onAddNote: (formData: FormData) => void;\r\n};\r\n\r\nexport default function IncidentNotes({ notes, canManage, onAddNote }: IncidentNotesProps) {\r\n    return (\r\n        <div className=\"glass-panel\" style={{ \r\n            padding: '1.5rem', \r\n            marginBottom: '2rem', \r\n            background: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)', \r\n            border: '1px solid #e6e8ef', \r\n            borderRadius: '0px',\r\n            boxShadow: '0 14px 34px rgba(15, 23, 42, 0.08)' \r\n        }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\r\n                <div>\r\n                    <h3 style={{ fontSize: '1.25rem', fontWeight: '700', marginBottom: '0.35rem', color: 'var(--text-primary)' }}>Notes</h3>\r\n                    <div style={{ fontSize: '0.8rem', color: 'var(--text-muted)' }}>Decision trail and responder context</div>\r\n                </div>\r\n                <div style={{ \r\n                    fontSize: '0.7rem', \r\n                    color: 'var(--text-muted)', \r\n                    textTransform: 'uppercase', \r\n                    letterSpacing: '0.12em',\r\n                    fontWeight: 600,\r\n                    padding: '0.35rem 0.75rem',\r\n                    background: '#f9fafb',\r\n                    border: '1px solid var(--border)',\r\n                    borderRadius: '0px'\r\n                }}>\r\n                    Collaboration\r\n                </div>\r\n            </div>\r\n\r\n            {/* Notes List */}\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem', marginBottom: '1.5rem' }}>\r\n                {notes.map(note => (\r\n                    <NoteCard\r\n                        key={note.id}\r\n                        content={note.content}\r\n                        userName={note.user.name}\r\n                        createdAt={note.createdAt}\r\n                        isResolution={note.content.startsWith('Resolution:')}\r\n                    />\r\n                ))}\r\n                {notes.length === 0 && (\r\n                    <div style={{ \r\n                        padding: '2rem', \r\n                        textAlign: 'center', \r\n                        color: 'var(--text-muted)', \r\n                        fontStyle: 'italic',\r\n                        background: '#f9fafb',\r\n                        border: '1px dashed var(--border)',\r\n                        borderRadius: '0px'\r\n                    }}>\r\n                        No notes added yet. Start the conversation by adding a note.\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Add Note Form */}\r\n            {canManage ? (\r\n                <form action={onAddNote} style={{ display: 'flex', gap: '0.75rem' }}>\r\n                    <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                        <textarea\r\n                            name=\"content\"\r\n                            placeholder=\"Add a note... (supports **bold**, *italic*, `code`, links)\"\r\n                            required\r\n                            rows={3}\r\n                            style={{ \r\n                                width: '100%',\r\n                                padding: '0.875rem', \r\n                                borderRadius: '0px', \r\n                                border: '1px solid var(--border)', \r\n                                background: '#fff',\r\n                                fontSize: '0.9rem',\r\n                                fontFamily: 'inherit',\r\n                                resize: 'vertical',\r\n                                outline: 'none',\r\n                                transition: 'border-color 0.15s'\r\n                            }}\r\n                            onFocus={(e) => {\r\n                                e.currentTarget.style.borderColor = 'var(--primary)';\r\n                            }}\r\n                            onBlur={(e) => {\r\n                                e.currentTarget.style.borderColor = 'var(--border)';\r\n                            }}\r\n                        />\r\n                        <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>\r\n                            Supports Markdown formatting\r\n                        </div>\r\n                    </div>\r\n                    <button \r\n                        className=\"glass-button primary\" \r\n                        type=\"submit\"\r\n                        style={{\r\n                            alignSelf: 'flex-start',\r\n                            padding: '0.875rem 1.5rem',\r\n                            borderRadius: '0px',\r\n                            fontWeight: 600,\r\n                            fontSize: '0.9rem',\r\n                            whiteSpace: 'nowrap'\r\n                        }}\r\n                    >\r\n                        Post Note\r\n                    </button>\r\n                </form>\r\n            ) : (\r\n                <div style={{ \r\n                    padding: '1rem', \r\n                    background: '#f9fafb', \r\n                    border: '1px solid #e5e7eb', \r\n                    borderRadius: '0px', \r\n                    opacity: 0.7 \r\n                }}>\r\n                    <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '0.75rem' }}>\r\n                        ΓÜá∩╕Å You don't have access to add notes. Responder role or above required.\r\n                    </p>\r\n                    <div style={{ display: 'flex', gap: '0.75rem', opacity: 0.5, pointerEvents: 'none' }}>\r\n                        <textarea\r\n                            name=\"content\"\r\n                            placeholder=\"Add a note...\"\r\n                            disabled\r\n                            rows={3}\r\n                            style={{ \r\n                                flex: 1, \r\n                                padding: '0.875rem', \r\n                                borderRadius: '0px', \r\n                                border: '1px solid #e2e8f0', \r\n                                background: '#f3f4f6',\r\n                                fontSize: '0.9rem'\r\n                            }}\r\n                        />\r\n                        <button className=\"glass-button primary\" disabled style={{ opacity: 0.5, padding: '0.875rem 1.5rem', borderRadius: '0px' }}>\r\n                            Post Note\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\detail\\IncidentResolution.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\detail\\IncidentSidebar.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 64,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 64,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1973, 1976], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1973, 1976], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 65,
        "column": 40,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 65,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2076, 2079], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2076, 2079], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\detail\\IncidentStatusActions.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\detail\\IncidentTags.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\detail\\IncidentTimeline.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 131,
        "column": 39,
        "nodeType": "MemberExpression",
        "endLine": 131,
        "endColumn": 58
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 140,
        "column": 14,
        "nodeType": "MemberExpression",
        "endLine": 140,
        "endColumn": 27
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 141,
        "column": 13,
        "nodeType": "MemberExpression",
        "endLine": 141,
        "endColumn": 26
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 143,
        "column": 9,
        "nodeType": "MemberExpression",
        "endLine": 143,
        "endColumn": 22
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport _TimelineEvent from '../TimelineEvent';\r\nimport { useTimezone } from '@/contexts/TimezoneContext';\r\nimport { formatDateTime } from '@/lib/timezone';\r\n\r\ntype Event = {\r\n    id: string;\r\n    message: string;\r\n    createdAt: Date;\r\n};\r\n\r\ntype IncidentTimelineProps = {\r\n    events: Event[];\r\n    incidentCreatedAt?: Date;\r\n    incidentAcknowledgedAt?: Date | null;\r\n    incidentResolvedAt?: Date | null;\r\n};\r\n\r\nexport default function IncidentTimeline({ \r\n    events, \r\n    incidentCreatedAt,\r\n    incidentAcknowledgedAt,\r\n    incidentResolvedAt \r\n}: IncidentTimelineProps) {\r\n    const { userTimeZone } = useTimezone();\r\n\r\n    const formatEscalationMessage = (message: string) => {\r\n        const match = message.match(/\\[\\[scheduledAt=([^\\]]+)\\]\\]/);\r\n        if (!match) {\r\n            return message;\r\n        }\r\n\r\n        const scheduledAtRaw = match[1];\r\n        const scheduledAt = new Date(scheduledAtRaw);\r\n        if (Number.isNaN(scheduledAt.getTime())) {\r\n            return message.replace(match[0], scheduledAtRaw);\r\n        }\r\n\r\n        const formatted = formatDateTime(scheduledAt, userTimeZone, { format: 'datetime' });\r\n        return message.replace(match[0], formatted);\r\n    };\r\n    \r\n    // Create a comprehensive timeline with incident lifecycle events\r\n    const timelineEvents: Array<{\r\n        id: string;\r\n        message: string;\r\n        createdAt: Date;\r\n        type: 'CREATED' | 'ACKNOWLEDGED' | 'RESOLVED' | 'EVENT';\r\n        icon?: string;\r\n    }> = [];\r\n\r\n    // Add incident creation\r\n    if (incidentCreatedAt) {\r\n        timelineEvents.push({\r\n            id: 'incident-created',\r\n            message: 'Incident created',\r\n            createdAt: incidentCreatedAt,\r\n            type: 'CREATED',\r\n            icon: '≡ƒÜ¿',\r\n        });\r\n    }\r\n\r\n    // Add acknowledgment\r\n    if (incidentAcknowledgedAt) {\r\n        timelineEvents.push({\r\n            id: 'incident-acknowledged',\r\n            message: 'Incident acknowledged',\r\n            createdAt: incidentAcknowledgedAt,\r\n            type: 'ACKNOWLEDGED',\r\n            icon: 'Γ£à',\r\n        });\r\n    }\r\n\r\n    // Add resolution\r\n    if (incidentResolvedAt) {\r\n        timelineEvents.push({\r\n            id: 'incident-resolved',\r\n            message: 'Incident resolved',\r\n            createdAt: incidentResolvedAt,\r\n            type: 'RESOLVED',\r\n            icon: '≡ƒÄ»',\r\n        });\r\n    }\r\n\r\n    // Add regular events\r\n    events.forEach(event => {\r\n        timelineEvents.push({\r\n            ...event,\r\n            type: 'EVENT',\r\n        });\r\n    });\r\n\r\n    // Sort by date (oldest first for timeline)\r\n    timelineEvents.sort((a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\r\n\r\n    // Group events by date (using user's timezone)\r\n    const groupedEvents = timelineEvents.reduce((acc, event) => {\r\n        const eventDate = new Date(event.createdAt);\r\n        \r\n        // Get current date in user's timezone\r\n        const now = new Date();\r\n        const todayStr = formatDateTime(now, userTimeZone, { format: 'date' });\r\n        const eventDateStr = formatDateTime(eventDate, userTimeZone, { format: 'date' });\r\n        \r\n        let groupKey: string;\r\n        if (eventDateStr === todayStr) {\r\n            groupKey = 'Today';\r\n        } else {\r\n            // Get yesterday's date in user's timezone\r\n            const yesterday = new Date(now);\r\n            yesterday.setDate(yesterday.getDate() - 1);\r\n            const yesterdayStr = formatDateTime(yesterday, userTimeZone, { format: 'date' });\r\n            \r\n            if (eventDateStr === yesterdayStr) {\r\n                groupKey = 'Yesterday';\r\n            } else {\r\n                // Use formatDateTime for timezone-aware date grouping\r\n                // formatDateTime returns format like \"Jan 15, 2024\", convert to full month name\r\n                const monthMap: Record<string, string> = {\r\n                    'Jan': 'January', 'Feb': 'February', 'Mar': 'March', 'Apr': 'April',\r\n                    'May': 'May', 'Jun': 'June', 'Jul': 'July', 'Aug': 'August',\r\n                    'Sep': 'September', 'Oct': 'October', 'Nov': 'November', 'Dec': 'December'\r\n                };\r\n                // Split by comma to separate date and year\r\n                const parts = eventDateStr.split(',');\r\n                if (parts.length === 2) {\r\n                    const monthDay = parts[0].trim(); // \"Jan 15\"\r\n                    const year = parts[1].trim(); // \"2024\"\r\n                    const [monthAbbr, day] = monthDay.split(' ');\r\n                    const fullMonth = monthMap[monthAbbr] || monthAbbr;\r\n                    groupKey = `${fullMonth} ${day}, ${year}`;\r\n                } else {\r\n                    // Fallback: use formatted string as-is\r\n                    groupKey = eventDateStr;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!acc[groupKey]) {\r\n            acc[groupKey] = [];\r\n        }\r\n        acc[groupKey].push(event);\r\n        return acc;\r\n    }, {} as Record<string, typeof timelineEvents>);\r\n\r\n    const getEventColor = (type: string) => {\r\n        switch (type) {\r\n            case 'CREATED':\r\n                return '#ef4444'; // Red\r\n            case 'ACKNOWLEDGED':\r\n                return '#3b82f6'; // Blue\r\n            case 'RESOLVED':\r\n                return '#22c55e'; // Green\r\n            default:\r\n                return '#6b7280'; // Gray\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"glass-panel\" style={{ \r\n            padding: '1.5rem', \r\n            background: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)', \r\n            border: '1px solid #e6e8ef', \r\n            borderRadius: 'var(--radius-lg)',\r\n            boxShadow: '0 14px 34px rgba(15, 23, 42, 0.08)' \r\n        }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\r\n                <div>\r\n                    <h3 style={{ fontSize: '1.25rem', fontWeight: '700', marginBottom: '0.35rem', color: 'var(--text-primary)' }}>Timeline</h3>\r\n                    <div style={{ fontSize: '0.8rem', color: 'var(--text-muted)' }}>Complete incident lifecycle and event history</div>\r\n                </div>\r\n                <div style={{ \r\n                    fontSize: '0.7rem', \r\n                    color: 'var(--text-muted)', \r\n                    textTransform: 'uppercase', \r\n                    letterSpacing: '0.12em',\r\n                    fontWeight: 600,\r\n                    padding: '0.35rem 0.75rem',\r\n                    background: '#f9fafb',\r\n                    border: '1px solid var(--border)',\r\n                    borderRadius: 'var(--radius-md)'\r\n                }}>\r\n                    {timelineEvents.length} Events\r\n                </div>\r\n            </div>\r\n\r\n            {timelineEvents.length === 0 ? (\r\n                <div style={{ \r\n                    padding: '2rem', \r\n                    textAlign: 'center', \r\n                    color: 'var(--text-muted)', \r\n                    fontStyle: 'italic',\r\n                    background: '#f9fafb',\r\n                    border: '1px dashed var(--border)',\r\n                    borderRadius: 'var(--radius-md)'\r\n                }}>\r\n                    No timeline events yet. Events will appear here as the incident is updated.\r\n                </div>\r\n            ) : (\r\n                <div style={{ position: 'relative', paddingLeft: '2rem' }}>\r\n                    {/* Timeline line */}\r\n                    <div style={{\r\n                        position: 'absolute',\r\n                        left: '0.75rem',\r\n                        top: '0',\r\n                        bottom: '0',\r\n                        width: '3px',\r\n                        background: 'linear-gradient(180deg, #ef4444 0%, #3b82f6 50%, #22c55e 100%)',\r\n                        borderRadius: 'var(--radius-sm)',\r\n                    }} />\r\n\r\n                    {Object.entries(groupedEvents).map(([groupKey, groupEvents], groupIndex) => (\r\n                        <div key={groupKey} style={{ marginBottom: groupIndex < Object.keys(groupedEvents).length - 1 ? '2rem' : '0' }}>\r\n                            <div style={{ \r\n                                fontSize: '0.75rem', \r\n                                fontWeight: 700, \r\n                                color: 'var(--text-muted)', \r\n                                textTransform: 'uppercase',\r\n                                letterSpacing: '0.1em',\r\n                                marginBottom: '1rem',\r\n                                paddingBottom: '0.5rem',\r\n                                borderBottom: '1px solid var(--border)',\r\n                                paddingLeft: '1.5rem',\r\n                            }}>\r\n                                {groupKey}\r\n                            </div>\r\n                            <div style={{ display: 'flex', flexDirection: 'column', gap: '0' }}>\r\n                                {groupEvents.map((event, index) => {\r\n                                    const _isFirst = index === 0 && groupIndex === 0;\r\n                                    const isLast = index === groupEvents.length - 1 && groupIndex === Object.keys(groupedEvents).length - 1;\r\n                                    const eventColor = getEventColor(event.type);\r\n                                    \r\n                                    return (\r\n                                        <div \r\n                                            key={event.id} \r\n                                            style={{ \r\n                                                position: 'relative', \r\n                                                paddingLeft: '1.5rem', \r\n                                                paddingBottom: isLast ? 0 : '1.5rem',\r\n                                                marginLeft: '-1.5rem',\r\n                                            }}\r\n                                        >\r\n                                            {/* Timeline line between events */}\r\n                                            {!isLast && (\r\n                                                <div style={{\r\n                                                    position: 'absolute',\r\n                                                    left: '0.5rem',\r\n                                                    top: '1.5rem',\r\n                                                    bottom: '-1.5rem',\r\n                                                    width: '2px',\r\n                                                    background: '#e2e8f0'\r\n                                                }} />\r\n                                            )}\r\n                                            \r\n                                            {/* Timeline dot */}\r\n                                            <div style={{\r\n                                                position: 'absolute',\r\n                                                left: '0.25rem',\r\n                                                top: '0.5rem',\r\n                                                width: '16px',\r\n                                                height: '16px',\r\n                                                borderRadius: '50%',\r\n                                                background: eventColor,\r\n                                                border: '3px solid white',\r\n                                                boxShadow: `0 0 0 3px ${eventColor}40, 0 2px 8px rgba(0,0,0,0.1)`,\r\n                                                zIndex: 2,\r\n                                                display: 'flex',\r\n                                                alignItems: 'center',\r\n                                                justifyContent: 'center',\r\n                                                fontSize: '0.7rem',\r\n                                            }}>\r\n                                                {event.icon || 'ΓÇó'}\r\n                                            </div>\r\n\r\n                                            {/* Event content */}\r\n                                            <div style={{ marginTop: '0' }}>\r\n                                                <div style={{\r\n                                                    fontSize: '0.75rem',\r\n                                                    color: 'var(--text-muted)',\r\n                                                    marginBottom: '0.5rem',\r\n                                                    fontWeight: 600,\r\n                                                    display: 'flex',\r\n                                                    alignItems: 'center',\r\n                                                    gap: '0.5rem',\r\n                                                }}>\r\n                                                    <span style={{\r\n                                                        padding: '0.125rem 0.5rem',\r\n                                                        borderRadius: 'var(--radius-sm)',\r\n                                                        background: `${eventColor}20`,\r\n                                                        color: eventColor,\r\n                                                        fontSize: '0.7rem',\r\n                                                        fontWeight: '700',\r\n                                                        textTransform: 'uppercase',\r\n                                                        letterSpacing: '0.05em',\r\n                                                    }}>\r\n                                                        {event.type === 'CREATED' ? 'Created' : event.type === 'ACKNOWLEDGED' ? 'Acknowledged' : event.type === 'RESOLVED' ? 'Resolved' : 'Event'}\r\n                                                    </span>\r\n                                                    <span>\r\n                                                        {formatDateTime(event.createdAt, userTimeZone, { format: 'time' })}\r\n                                                    </span>\r\n                                                    <span style={{ opacity: 0.6 }}>\r\n                                                        {formatDateTime(event.createdAt, userTimeZone, { format: 'short' })}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div style={{\r\n                                                    background: event.type !== 'EVENT' ? `${eventColor}10` : '#fff',\r\n                                                    border: `1px solid ${event.type !== 'EVENT' ? eventColor + '40' : 'var(--border)'}`,\r\n                                                    borderRadius: 'var(--radius-md)',\r\n                                                    padding: '0.875rem 1rem',\r\n                                                    boxShadow: event.type !== 'EVENT' ? `0 2px 8px ${eventColor}20` : '0 2px 4px rgba(0,0,0,0.04)',\r\n                                                    color: 'var(--text-primary)',\r\n                                                    lineHeight: 1.6,\r\n                                                    fontWeight: event.type !== 'EVENT' ? '600' : '400',\r\n                                                }}>\r\n                                                    {formatEscalationMessage(event.message)}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\detail\\IncidentWatchers.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 98,
        "column": 35,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [4193, 4319],
              "text": "\r\n                        ΓÜá∩╕Å You don&apos;t have access to manage watchers. Responder role or above required.\r\n                    "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [4193, 4319],
              "text": "\r\n                        ΓÜá∩╕Å You don&lsquo;t have access to manage watchers. Responder role or above required.\r\n                    "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [4193, 4319],
              "text": "\r\n                        ΓÜá∩╕Å You don&#39;t have access to manage watchers. Responder role or above required.\r\n                    "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [4193, 4319],
              "text": "\r\n                        ΓÜá∩╕Å You don&rsquo;t have access to manage watchers. Responder role or above required.\r\n                    "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\ntype Watcher = {\r\n    id: string;\r\n    user: { id: string; name: string; email: string };\r\n    role: string;\r\n};\r\n\r\ntype IncidentWatchersProps = {\r\n    watchers: Watcher[];\r\n    users: Array<{ id: string; name: string; email: string }>;\r\n    canManage: boolean;\r\n    onAddWatcher: (formData: FormData) => void;\r\n    onRemoveWatcher: (formData: FormData) => void;\r\n};\r\n\r\nexport default function IncidentWatchers({ \r\n    watchers, \r\n    users, \r\n    canManage, \r\n    onAddWatcher, \r\n    onRemoveWatcher \r\n}: IncidentWatchersProps) {\r\n    return (\r\n        <div className=\"glass-panel\" style={{ \r\n            padding: '1.5rem', \r\n            background: canManage ? 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)' : '#f9fafb', \r\n            border: '1px solid #e6e8ef', \r\n            borderRadius: '0px',\r\n            boxShadow: '0 12px 28px rgba(15, 23, 42, 0.08)', \r\n            opacity: canManage ? 1 : 0.7 \r\n        }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n                <h4 style={{ fontWeight: '700', color: canManage ? 'var(--text-primary)' : 'var(--text-secondary)' }}>\r\n                    Stakeholders / Watchers\r\n                </h4>\r\n                <span style={{ fontSize: '0.7rem', color: 'var(--text-muted)', textTransform: 'uppercase', letterSpacing: '0.12em' }}>\r\n                    Visibility\r\n                </span>\r\n            </div>\r\n\r\n            {canManage ? (\r\n                <>\r\n                    <form action={onAddWatcher} style={{ display: 'grid', gap: '0.6rem', marginBottom: '1rem' }}>\r\n                        <select\r\n                            name=\"watcherId\"\r\n                            defaultValue=\"\"\r\n                            style={{ \r\n                                padding: '0.625rem', \r\n                                borderRadius: '0px', \r\n                                border: '1px solid var(--border)', \r\n                                background: '#fff',\r\n                                fontSize: '0.9rem',\r\n                                cursor: 'pointer',\r\n                                outline: 'none'\r\n                            }}\r\n                        >\r\n                            <option value=\"\">Select a user...</option>\r\n                            {users.map((user) => (\r\n                                <option key={user.id} value={user.id}>\r\n                                    {user.name} ({user.email})\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                        <select\r\n                            name=\"watcherRole\"\r\n                            defaultValue=\"FOLLOWER\"\r\n                            style={{ \r\n                                padding: '0.625rem', \r\n                                borderRadius: '0px', \r\n                                border: '1px solid var(--border)', \r\n                                background: '#fff',\r\n                                fontSize: '0.9rem',\r\n                                cursor: 'pointer',\r\n                                outline: 'none'\r\n                            }}\r\n                        >\r\n                            <option value=\"FOLLOWER\">Follower</option>\r\n                            <option value=\"STAKEHOLDER\">Stakeholder</option>\r\n                            <option value=\"EXEC\">Executive</option>\r\n                        </select>\r\n                        <button \r\n                            className=\"glass-button\" \r\n                            style={{ \r\n                                height: '36px', \r\n                                padding: '0 0.75rem', \r\n                                fontSize: '0.85rem',\r\n                                borderRadius: '0px'\r\n                            }}\r\n                        >\r\n                            Add Watcher\r\n                        </button>\r\n                    </form>\r\n                </>\r\n            ) : (\r\n                <div style={{ marginBottom: '1rem' }}>\r\n                    <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: '0.75rem' }}>\r\n                        ΓÜá∩╕Å You don't have access to manage watchers. Responder role or above required.\r\n                    </p>\r\n                    <div style={{ display: 'grid', gap: '0.6rem', opacity: 0.5, pointerEvents: 'none' }}>\r\n                        <select disabled style={{ padding: '0.625rem', borderRadius: '0px', border: '1px solid #e2e8f0', background: '#f3f4f6' }}>\r\n                            <option value=\"\">Select a user...</option>\r\n                        </select>\r\n                        <select disabled defaultValue=\"FOLLOWER\" style={{ padding: '0.625rem', borderRadius: '0px', border: '1px solid #e2e8f0', background: '#f3f4f6' }}>\r\n                            <option value=\"FOLLOWER\">Follower</option>\r\n                        </select>\r\n                        <button className=\"glass-button\" disabled style={{ height: '36px', padding: '0 0.75rem', fontSize: '0.85rem', opacity: 0.5, borderRadius: '0px' }}>\r\n                            Add Watcher\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {watchers.length === 0 ? (\r\n                <p style={{ color: 'var(--text-muted)', fontSize: '0.9rem', fontStyle: 'italic' }}>\r\n                    No watchers yet. Add stakeholders to keep them informed about this incident.\r\n                </p>\r\n            ) : (\r\n                <div style={{ display: 'grid', gap: '0.75rem' }}>\r\n                    {watchers.map((watcher) => (\r\n                        <div \r\n                            key={watcher.id} \r\n                            style={{ \r\n                                display: 'flex', \r\n                                alignItems: 'center', \r\n                                justifyContent: 'space-between', \r\n                                gap: '0.75rem', \r\n                                padding: '0.875rem', \r\n                                border: '1px solid var(--border)', \r\n                                borderRadius: '0px',\r\n                                background: '#fff',\r\n                                transition: 'all 0.15s'\r\n                            }}\r\n                        >\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\r\n                                <div style={{\r\n                                    width: '36px',\r\n                                    height: '36px',\r\n                                    borderRadius: '50%',\r\n                                    background: 'var(--primary)',\r\n                                    color: '#fff',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                    fontSize: '0.9rem',\r\n                                    fontWeight: 700,\r\n                                    flexShrink: 0\r\n                                }}>\r\n                                    {watcher.user.name.charAt(0).toUpperCase()}\r\n                                </div>\r\n                                <div>\r\n                                    <div style={{ fontWeight: 600, color: 'var(--text-primary)', fontSize: '0.95rem' }}>\r\n                                        {watcher.user.name}\r\n                                    </div>\r\n                                    <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.15rem' }}>\r\n                                        {watcher.role}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {canManage && (\r\n                                <form action={onRemoveWatcher}>\r\n                                    <input type=\"hidden\" name=\"watcherMemberId\" value={watcher.id} />\r\n                                    <button \r\n                                        className=\"glass-button\" \r\n                                        style={{ \r\n                                            height: '32px', \r\n                                            padding: '0 0.75rem', \r\n                                            fontSize: '0.8rem',\r\n                                            borderRadius: '0px',\r\n                                            background: '#feecec',\r\n                                            border: '1px solid rgba(211,47,47,0.25)',\r\n                                            color: 'var(--danger)'\r\n                                        }}\r\n                                    >\r\n                                        Remove\r\n                                    </button>\r\n                                </form>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\incident\\detail\\SnoozeDurationDialog.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileBottomSheet.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileBottomSheet.tsx:35:13\n  33 |         if (isOpen) {\n  34 |             document.body.style.overflow = 'hidden';\n> 35 |             setTranslateY(0);\n     |             ^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  36 |         } else {\n  37 |             document.body.style.overflow = '';\n  38 |         }",
        "line": 35,
        "column": 13,
        "nodeType": null,
        "endLine": 35,
        "endColumn": 26
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport React, { useEffect, useRef, useState } from 'react';\r\n\r\ninterface MobileBottomSheetProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    title?: string;\r\n    children: React.ReactNode;\r\n    snapPoints?: ('content' | 'half' | 'full')[];\r\n    showHandle?: boolean;\r\n}\r\n\r\n/**\r\n * Native-style bottom sheet modal for mobile UI\r\n * Supports drag-to-dismiss and snap points\r\n */\r\nexport default function MobileBottomSheet({\r\n    isOpen,\r\n    onClose,\r\n    title,\r\n    children,\r\n    snapPoints = ['content'],\r\n    showHandle = true\r\n}: MobileBottomSheetProps) {\r\n    const sheetRef = useRef<HTMLDivElement>(null);\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [translateY, setTranslateY] = useState(0);\r\n    const startY = useRef(0);\r\n    const currentY = useRef(0);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            document.body.style.overflow = 'hidden';\r\n            setTranslateY(0);\r\n        } else {\r\n            document.body.style.overflow = '';\r\n        }\r\n        return () => {\r\n            document.body.style.overflow = '';\r\n        };\r\n    }, [isOpen]);\r\n\r\n    const handleTouchStart = (e: React.TouchEvent) => {\r\n        startY.current = e.touches[0].clientY;\r\n        currentY.current = translateY;\r\n        setIsDragging(true);\r\n    };\r\n\r\n    const handleTouchMove = (e: React.TouchEvent) => {\r\n        if (!isDragging) return;\r\n        const deltaY = e.touches[0].clientY - startY.current;\r\n        const newTranslateY = Math.max(0, currentY.current + deltaY);\r\n        setTranslateY(newTranslateY);\r\n    };\r\n\r\n    const handleTouchEnd = () => {\r\n        setIsDragging(false);\r\n        const sheetHeight = sheetRef.current?.offsetHeight || 0;\r\n\r\n        // If dragged more than 30% down, close the sheet\r\n        if (translateY > sheetHeight * 0.3) {\r\n            onClose();\r\n        } else {\r\n            // Snap back to open position\r\n            setTranslateY(0);\r\n        }\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const getMaxHeight = () => {\r\n        const snap = snapPoints[0];\r\n        switch (snap) {\r\n            case 'half': return '50vh';\r\n            case 'full': return '90vh';\r\n            default: return 'auto';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* CSS for animations */}\r\n            <style>{`\r\n                @keyframes slideUpSheet {\r\n                    from { transform: translateY(100%); }\r\n                    to { transform: translateY(0); }\r\n                }\r\n                @keyframes fadeInBackdrop {\r\n                    from { opacity: 0; }\r\n                    to { opacity: 1; }\r\n                }\r\n                .bottom-sheet-content {\r\n                    animation: slideUpSheet 0.3s ease-out forwards;\r\n                }\r\n                .bottom-sheet-backdrop {\r\n                    animation: fadeInBackdrop 0.2s ease-out forwards;\r\n                }\r\n            `}</style>\r\n\r\n            {/* Backdrop */}\r\n            <div\r\n                className=\"bottom-sheet-backdrop\"\r\n                onClick={onClose}\r\n                style={{\r\n                    position: 'fixed',\r\n                    top: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    bottom: 0,\r\n                    background: 'rgba(0, 0, 0, 0.5)',\r\n                    backdropFilter: 'blur(4px)',\r\n                    WebkitBackdropFilter: 'blur(4px)',\r\n                    zIndex: 999\r\n                }}\r\n            />\r\n\r\n            {/* Sheet */}\r\n            <div\r\n                ref={sheetRef}\r\n                className=\"bottom-sheet-content\"\r\n                style={{\r\n                    position: 'fixed',\r\n                    bottom: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    maxHeight: getMaxHeight(),\r\n                    background: 'var(--bg-surface)',\r\n                    borderRadius: '24px 24px 0 0',\r\n                    boxShadow: '0 -10px 40px rgba(0, 0, 0, 0.15)',\r\n                    zIndex: 1000,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    overflow: 'hidden',\r\n                    transform: `translateY(${translateY}px)`,\r\n                    transition: isDragging ? 'none' : 'transform 0.3s ease-out',\r\n                    paddingBottom: 'env(safe-area-inset-bottom, 0)'\r\n                }}\r\n            >\r\n                {/* Drag Handle */}\r\n                {showHandle && (\r\n                    <div\r\n                        onTouchStart={handleTouchStart}\r\n                        onTouchMove={handleTouchMove}\r\n                        onTouchEnd={handleTouchEnd}\r\n                        style={{\r\n                            padding: '12px 0 8px',\r\n                            display: 'flex',\r\n                            justifyContent: 'center',\r\n                            cursor: 'grab',\r\n                            touchAction: 'none'\r\n                        }}\r\n                    >\r\n                        <div style={{\r\n                            width: '36px',\r\n                            height: '4px',\r\n                            borderRadius: '2px',\r\n                            background: 'var(--border)'\r\n                        }} />\r\n                    </div>\r\n                )}\r\n\r\n                {/* Header */}\r\n                {title && (\r\n                    <div style={{\r\n                        padding: '0 1.25rem 1rem',\r\n                        borderBottom: '1px solid var(--border)',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between'\r\n                    }}>\r\n                        <h3 style={{\r\n                            fontSize: '1.1rem',\r\n                            fontWeight: '700',\r\n                            color: 'var(--text-primary)',\r\n                            margin: 0\r\n                        }}>\r\n                            {title}\r\n                        </h3>\r\n                        <button\r\n                            onClick={onClose}\r\n                            style={{\r\n                                background: 'none',\r\n                                border: 'none',\r\n                                padding: '0.5rem',\r\n                                cursor: 'pointer',\r\n                                color: 'var(--text-muted)',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center'\r\n                            }}\r\n                        >\r\n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M18 6L6 18M6 6l12 12\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Content */}\r\n                <div style={{\r\n                    flex: 1,\r\n                    overflowY: 'auto',\r\n                    padding: '1rem 1.25rem',\r\n                    WebkitOverflowScrolling: 'touch'\r\n                }}>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileButton.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 104,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 104,
        "endColumn": 34
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 105,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 105,
        "endColumn": 28
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 190,
        "column": 29,
        "nodeType": "MemberExpression",
        "endLine": 190,
        "endColumn": 44
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { ReactNode, ButtonHTMLAttributes, CSSProperties } from 'react';\r\nimport Link from 'next/link';\r\n\r\ntype ButtonVariant = 'primary' | 'secondary' | 'danger' | 'success' | 'warning' | 'ghost';\r\ntype ButtonSize = 'sm' | 'md' | 'lg';\r\n\r\ntype MobileButtonProps = {\r\n    children: ReactNode;\r\n    variant?: ButtonVariant;\r\n    size?: ButtonSize;\r\n    fullWidth?: boolean;\r\n    icon?: ReactNode;\r\n    iconPosition?: 'left' | 'right';\r\n    loading?: boolean;\r\n    href?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n} & Omit<ButtonHTMLAttributes<HTMLButtonElement>, 'style'>;\r\n\r\nconst variantStyles: Record<ButtonVariant, CSSProperties> = {\r\n    primary: {\r\n        background: 'linear-gradient(135deg, #dc2626 0%, #b91c1c 50%, #991b1b 100%)',\r\n        color: 'white',\r\n        border: 'none',\r\n        boxShadow: '0 4px 14px rgba(220, 38, 38, 0.35), 0 1px 3px rgba(0, 0, 0, 0.1)',\r\n    },\r\n    secondary: {\r\n        background: 'var(--bg-secondary)',\r\n        color: 'var(--text-primary)',\r\n        border: '1px solid var(--border)',\r\n        boxShadow: 'none',\r\n    },\r\n    danger: {\r\n        background: '#fee2e2',\r\n        color: '#dc2626',\r\n        border: 'none',\r\n        boxShadow: 'none',\r\n    },\r\n    success: {\r\n        background: '#dcfce7',\r\n        color: '#16a34a',\r\n        border: 'none',\r\n        boxShadow: 'none',\r\n    },\r\n    warning: {\r\n        background: '#fef3c7',\r\n        color: '#d97706',\r\n        border: 'none',\r\n        boxShadow: 'none',\r\n    },\r\n    ghost: {\r\n        background: 'transparent',\r\n        color: 'var(--text-secondary)',\r\n        border: 'none',\r\n        boxShadow: 'none',\r\n    },\r\n};\r\n\r\nconst sizeStyles: Record<ButtonSize, CSSProperties> = {\r\n    sm: {\r\n        padding: '0.5rem 0.875rem',\r\n        fontSize: '0.8rem',\r\n        borderRadius: '8px',\r\n    },\r\n    md: {\r\n        padding: '0.75rem 1.25rem',\r\n        fontSize: '0.875rem',\r\n        borderRadius: '10px',\r\n    },\r\n    lg: {\r\n        padding: '1rem 1.5rem',\r\n        fontSize: '1rem',\r\n        borderRadius: '12px',\r\n    },\r\n};\r\n\r\nexport default function MobileButton({\r\n    children,\r\n    variant = 'primary',\r\n    size = 'md',\r\n    fullWidth = false,\r\n    icon,\r\n    iconPosition = 'left',\r\n    loading = false,\r\n    href,\r\n    className = '',\r\n    style = {},\r\n    disabled,\r\n    ...props\r\n}: MobileButtonProps) {\r\n    const baseStyles: CSSProperties = {\r\n        display: 'inline-flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        gap: '0.5rem',\r\n        fontWeight: '600',\r\n        cursor: disabled || loading ? 'not-allowed' : 'pointer',\r\n        opacity: disabled || loading ? 0.6 : 1,\r\n        transition: 'all 0.2s ease',\r\n        width: fullWidth ? '100%' : 'auto',\r\n        textDecoration: 'none',\r\n        ...variantStyles[variant],\r\n        ...sizeStyles[size],\r\n        ...style,\r\n    };\r\n\r\n    const content = (\r\n        <>\r\n            {loading ? (\r\n                <span style={{ display: 'flex', alignItems: 'center' }}>\r\n                    <LoadingSpinner />\r\n                </span>\r\n            ) : (\r\n                <>\r\n                    {icon && iconPosition === 'left' && <span style={{ display: 'flex' }}>{icon}</span>}\r\n                    <span>{children}</span>\r\n                    {icon && iconPosition === 'right' && <span style={{ display: 'flex' }}>{icon}</span>}\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n\r\n    if (href && !disabled) {\r\n        return (\r\n            <Link href={href} className={className} style={baseStyles}>\r\n                {content}\r\n            </Link>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <button\r\n            className={className}\r\n            style={baseStyles}\r\n            disabled={disabled || loading}\r\n            {...props}\r\n        >\r\n            {content}\r\n        </button>\r\n    );\r\n}\r\n\r\nfunction LoadingSpinner() {\r\n    return (\r\n        <svg\r\n            width=\"16\"\r\n            height=\"16\"\r\n            viewBox=\"0 0 16 16\"\r\n            fill=\"none\"\r\n            style={{ animation: 'spin 1s linear infinite' }}\r\n        >\r\n            <circle\r\n                cx=\"8\"\r\n                cy=\"8\"\r\n                r=\"6\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeDasharray=\"28\"\r\n                strokeDashoffset=\"8\"\r\n            />\r\n        </svg>\r\n    );\r\n}\r\n\r\n// Icon Button variant\r\nexport function MobileIconButton({\r\n    icon,\r\n    variant = 'ghost',\r\n    size = 'md',\r\n    badge,\r\n    ...props\r\n}: {\r\n    icon: ReactNode;\r\n    badge?: number | string;\r\n} & Omit<MobileButtonProps, 'children'>) {\r\n    const iconSizes: Record<ButtonSize, CSSProperties> = {\r\n        sm: { padding: '0.5rem', width: '36px', height: '36px' },\r\n        md: { padding: '0.625rem', width: '42px', height: '42px' },\r\n        lg: { padding: '0.75rem', width: '48px', height: '48px' },\r\n    };\r\n\r\n    return (\r\n        <div style={{ position: 'relative', display: 'inline-flex' }}>\r\n            <MobileButton\r\n                variant={variant}\r\n                size={size}\r\n                style={{ ...iconSizes[size], borderRadius: '50%' }}\r\n                {...props}\r\n            >\r\n                {icon}\r\n            </MobileButton>\r\n            {badge !== undefined && (\r\n                <span style={{\r\n                    position: 'absolute',\r\n                    top: '-4px',\r\n                    right: '-4px',\r\n                    minWidth: '18px',\r\n                    height: '18px',\r\n                    padding: '0 5px',\r\n                    background: '#dc2626',\r\n                    color: 'white',\r\n                    fontSize: '0.65rem',\r\n                    fontWeight: '700',\r\n                    borderRadius: '999px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                }}>\r\n                    {badge}\r\n                </span>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileCard.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 54,
        "column": 18,
        "nodeType": "MemberExpression",
        "endLine": 54,
        "endColumn": 39
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 57,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 57,
        "endColumn": 34
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { ReactNode, CSSProperties } from 'react';\r\n\r\ntype MobileCardProps = {\r\n    children: ReactNode;\r\n    variant?: 'default' | 'elevated' | 'outlined' | 'gradient';\r\n    padding?: 'none' | 'sm' | 'md' | 'lg';\r\n    onClick?: () => void;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n};\r\n\r\nconst paddingSizes = {\r\n    none: '0',\r\n    sm: '0.75rem',\r\n    md: '1rem',\r\n    lg: '1.5rem',\r\n};\r\n\r\nconst variantStyles: Record<string, CSSProperties> = {\r\n    default: {\r\n        background: 'var(--bg-secondary)',\r\n        border: '1px solid var(--border)',\r\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\r\n    },\r\n    elevated: {\r\n        background: 'var(--bg-secondary)',\r\n        border: 'none',\r\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.04)',\r\n    },\r\n    outlined: {\r\n        background: 'transparent',\r\n        border: '1px solid var(--border)',\r\n        boxShadow: 'none',\r\n    },\r\n    gradient: {\r\n        background: 'var(--gradient-surface)',\r\n        border: '1px solid var(--border)',\r\n        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.06)',\r\n    },\r\n};\r\n\r\nexport default function MobileCard({\r\n    children,\r\n    variant = 'default',\r\n    padding = 'md',\r\n    onClick,\r\n    className = '',\r\n    style = {},\r\n}: MobileCardProps) {\r\n    const baseStyles: CSSProperties = {\r\n        borderRadius: '12px',\r\n        padding: paddingSizes[padding],\r\n        transition: 'transform 0.2s ease, box-shadow 0.2s ease',\r\n        cursor: onClick ? 'pointer' : 'default',\r\n        ...variantStyles[variant],\r\n        ...style,\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className={`mobile-card ${className}`}\r\n            style={baseStyles}\r\n            onClick={onClick}\r\n            role={onClick ? 'button' : undefined}\r\n            tabIndex={onClick ? 0 : undefined}\r\n        >\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\n// Card Header sub-component\r\nexport function MobileCardHeader({\r\n    title,\r\n    subtitle,\r\n    action,\r\n}: {\r\n    title: string;\r\n    subtitle?: string;\r\n    action?: ReactNode;\r\n}) {\r\n    return (\r\n        <div style={{\r\n            display: 'flex',\r\n            alignItems: 'flex-start',\r\n            justifyContent: 'space-between',\r\n            marginBottom: subtitle ? '0.5rem' : '0.75rem',\r\n        }}>\r\n            <div>\r\n                <h3 style={{\r\n                    fontSize: '0.95rem',\r\n                    fontWeight: '700',\r\n                    color: 'var(--text-primary)',\r\n                    margin: 0,\r\n                }}>\r\n                    {title}\r\n                </h3>\r\n                {subtitle && (\r\n                    <p style={{\r\n                        fontSize: '0.8rem',\r\n                        color: 'var(--text-muted)',\r\n                        margin: '0.25rem 0 0',\r\n                    }}>\r\n                        {subtitle}\r\n                    </p>\r\n                )}\r\n            </div>\r\n            {action && <div>{action}</div>}\r\n        </div>\r\n    );\r\n}\r\n\r\n// Card Section sub-component\r\nexport function MobileCardSection({\r\n    children,\r\n    noPadding = false,\r\n}: {\r\n    children: ReactNode;\r\n    noPadding?: boolean;\r\n}) {\r\n    return (\r\n        <div style={{\r\n            padding: noPadding ? 0 : '0.75rem 0',\r\n            borderTop: '1px solid var(--border)',\r\n        }}>\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileHeader.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileIncidentList.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileListControls.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileModal.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 256,
        "column": 41,
        "nodeType": "MemberExpression",
        "endLine": 256,
        "endColumn": 62
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 257,
        "column": 36,
        "nodeType": "MemberExpression",
        "endLine": 257,
        "endColumn": 57
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { ReactNode, useState } from 'react';\r\n\r\ntype MobileModalProps = {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    title?: string;\r\n    children: ReactNode;\r\n    footer?: ReactNode;\r\n};\r\n\r\nexport default function MobileModal({\r\n    isOpen,\r\n    onClose,\r\n    title,\r\n    children,\r\n    footer,\r\n}: MobileModalProps) {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <>\r\n            {/* Backdrop */}\r\n            <div\r\n                style={{\r\n                    position: 'fixed',\r\n                    inset: 0,\r\n                    background: 'rgba(0, 0, 0, 0.5)',\r\n                    zIndex: 1000,\r\n                    animation: 'fadeIn 0.2s ease',\r\n                }}\r\n                onClick={onClose}\r\n            />\r\n\r\n            {/* Bottom Sheet */}\r\n            <div\r\n                style={{\r\n                    position: 'fixed',\r\n                    bottom: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    background: 'var(--bg-surface)',\r\n                    borderTopLeftRadius: '20px',\r\n                    borderTopRightRadius: '20px',\r\n                    zIndex: 1001,\r\n                    maxHeight: '85vh',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    animation: 'slideUp 0.3s ease',\r\n                }}\r\n            >\r\n                {/* Handle */}\r\n                <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    padding: '0.75rem',\r\n                }}>\r\n                    <div style={{\r\n                        width: '40px',\r\n                        height: '4px',\r\n                        background: 'var(--border)',\r\n                        borderRadius: '999px',\r\n                    }} />\r\n                </div>\r\n\r\n                {/* Header */}\r\n                {title && (\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        padding: '0 1rem 0.75rem',\r\n                        borderBottom: '1px solid var(--border)',\r\n                    }}>\r\n                        <h2 style={{\r\n                            margin: 0,\r\n                            fontSize: '1.1rem',\r\n                            fontWeight: '700',\r\n                        }}>\r\n                            {title}\r\n                        </h2>\r\n                        <button\r\n                            onClick={onClose}\r\n                            style={{\r\n                                background: 'none',\r\n                                border: 'none',\r\n                                padding: '0.5rem',\r\n                                cursor: 'pointer',\r\n                                color: 'var(--text-muted)',\r\n                                display: 'flex',\r\n                            }}\r\n                        >\r\n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <path d=\"M18 6L6 18M6 6l12 12\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Content */}\r\n                <div style={{\r\n                    flex: 1,\r\n                    overflow: 'auto',\r\n                    padding: '1rem',\r\n                }}>\r\n                    {children}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                {footer && (\r\n                    <div style={{\r\n                        padding: '1rem',\r\n                        paddingBottom: 'calc(1rem + env(safe-area-inset-bottom, 0))',\r\n                        borderTop: '1px solid var(--border)',\r\n                    }}>\r\n                        {footer}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <style>{`\r\n        @keyframes fadeIn {\r\n          from { opacity: 0; }\r\n          to { opacity: 1; }\r\n        }\r\n        @keyframes slideUp {\r\n          from { transform: translateY(100%); }\r\n          to { transform: translateY(0); }\r\n        }\r\n      `}</style>\r\n        </>\r\n    );\r\n}\r\n\r\n// Action Sheet variant\r\nexport function MobileActionSheet({\r\n    isOpen,\r\n    onClose,\r\n    title,\r\n    actions,\r\n}: {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    title?: string;\r\n    actions: { label: string; icon?: ReactNode; variant?: 'default' | 'danger'; onClick: () => void }[];\r\n}) {\r\n    return (\r\n        <MobileModal isOpen={isOpen} onClose={onClose} title={title}>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                {actions.map((action, index) => (\r\n                    <button\r\n                        key={index}\r\n                        onClick={() => {\r\n                            action.onClick();\r\n                            onClose();\r\n                        }}\r\n                        style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '0.75rem',\r\n                            width: '100%',\r\n                            padding: '1rem',\r\n                            background: action.variant === 'danger' ? '#fee2e2' : 'var(--bg-secondary)',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '12px',\r\n                            fontSize: '0.95rem',\r\n                            fontWeight: '500',\r\n                            color: action.variant === 'danger' ? '#dc2626' : 'var(--text-primary)',\r\n                            cursor: 'pointer',\r\n                            textAlign: 'left',\r\n                        }}\r\n                    >\r\n                        {action.icon && <span style={{ display: 'flex' }}>{action.icon}</span>}\r\n                        {action.label}\r\n                    </button>\r\n                ))}\r\n\r\n                <button\r\n                    onClick={onClose}\r\n                    style={{\r\n                        width: '100%',\r\n                        padding: '1rem',\r\n                        background: 'var(--bg-secondary)',\r\n                        border: 'none',\r\n                        borderRadius: '12px',\r\n                        fontSize: '0.95rem',\r\n                        fontWeight: '600',\r\n                        color: 'var(--text-secondary)',\r\n                        cursor: 'pointer',\r\n                        marginTop: '0.5rem',\r\n                    }}\r\n                >\r\n                    Cancel\r\n                </button>\r\n            </div>\r\n        </MobileModal>\r\n    );\r\n}\r\n\r\n// Confirm Dialog\r\nexport function MobileConfirmDialog({\r\n    isOpen,\r\n    onClose,\r\n    title,\r\n    message,\r\n    confirmLabel = 'Confirm',\r\n    cancelLabel = 'Cancel',\r\n    variant = 'primary',\r\n    onConfirm,\r\n}: {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    title: string;\r\n    message: string;\r\n    confirmLabel?: string;\r\n    cancelLabel?: string;\r\n    variant?: 'primary' | 'danger';\r\n    onConfirm: () => void;\r\n}) {\r\n    const buttonColors = {\r\n        primary: { bg: 'var(--primary)', color: 'white' },\r\n        danger: { bg: '#dc2626', color: 'white' },\r\n    };\r\n\r\n    return (\r\n        <MobileModal\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            title={title}\r\n            footer={\r\n                <div style={{ display: 'flex', gap: '0.75rem' }}>\r\n                    <button\r\n                        onClick={onClose}\r\n                        style={{\r\n                            flex: 1,\r\n                            padding: '0.875rem',\r\n                            background: 'var(--bg-secondary)',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '10px',\r\n                            fontSize: '0.95rem',\r\n                            fontWeight: '600',\r\n                            cursor: 'pointer',\r\n                        }}\r\n                    >\r\n                        {cancelLabel}\r\n                    </button>\r\n                    <button\r\n                        onClick={() => {\r\n                            onConfirm();\r\n                            onClose();\r\n                        }}\r\n                        style={{\r\n                            flex: 1,\r\n                            padding: '0.875rem',\r\n                            background: buttonColors[variant].bg,\r\n                            color: buttonColors[variant].color,\r\n                            border: 'none',\r\n                            borderRadius: '10px',\r\n                            fontSize: '0.95rem',\r\n                            fontWeight: '600',\r\n                            cursor: 'pointer',\r\n                        }}\r\n                    >\r\n                        {confirmLabel}\r\n                    </button>\r\n                </div>\r\n            }\r\n        >\r\n            <p style={{\r\n                margin: 0,\r\n                fontSize: '0.95rem',\r\n                color: 'var(--text-secondary)',\r\n                lineHeight: 1.5,\r\n            }}>\r\n                {message}\r\n            </p>\r\n        </MobileModal>\r\n    );\r\n}\r\n\r\n// Hook for modal state\r\nexport function useMobileModal() {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const open = () => setIsOpen(true);\r\n    const close = () => setIsOpen(false);\r\n    const toggle = () => setIsOpen(prev => !prev);\r\n    return { isOpen, open, close, toggle };\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileMoreContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileNav.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileNetworkBanner.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileNotificationButton.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'pathname' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 22,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 22,
        "endColumn": 19
      },
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileNotificationButton.tsx:52:9\n  50 |\n  51 |     useEffect(() => {\n> 52 |         fetchNotifications();\n     |         ^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  53 |         const interval = setInterval(fetchNotifications, 30000);\n  54 |         return () => clearInterval(interval);\n  55 |     }, [fetchNotifications]);",
        "line": 52,
        "column": 9,
        "nodeType": null,
        "endLine": 52,
        "endColumn": 27
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\n\r\ninterface Notification {\r\n    id: string;\r\n    title: string;\r\n    message: string;\r\n    time: string;\r\n    unread: boolean;\r\n    type: 'incident' | 'service' | 'schedule';\r\n    incidentId?: string;\r\n}\r\n\r\n/**\r\n * Mobile-optimized notification button with radar pulse animation\r\n * Fits the OpsSentinal monitoring/sentinel theme\r\n */\r\nexport default function MobileNotificationButton() {\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n    const [notifications, setNotifications] = useState<Notification[]>([]);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [hasNewNotification, setHasNewNotification] = useState(false);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n    const unreadCount = notifications.filter(n => n.unread).length;\r\n\r\n    // Fetch notifications\r\n    const fetchNotifications = useCallback(async () => {\r\n        try {\r\n            const res = await fetch('/api/notifications?limit=5');\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                const newNotifications = data.notifications || [];\r\n\r\n                // Check if there are new notifications\r\n                if (newNotifications.some((n: Notification) => n.unread)) {\r\n                    setHasNewNotification(true);\r\n                    setTimeout(() => setHasNewNotification(false), 3000);\r\n                }\r\n\r\n                setNotifications(newNotifications);\r\n            }\r\n        } catch {\r\n            // Silent fail for notifications\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchNotifications();\r\n        const interval = setInterval(fetchNotifications, 30000);\r\n        return () => clearInterval(interval);\r\n    }, [fetchNotifications]);\r\n\r\n    // Close dropdown on outside click\r\n    useEffect(() => {\r\n        const handleClickOutside = (e: MouseEvent) => {\r\n            if (containerRef.current && !containerRef.current.contains(e.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const handleNotificationClick = (notification: Notification) => {\r\n        setIsOpen(false);\r\n        if (notification.incidentId) {\r\n            router.push(`/m/incidents/${notification.incidentId}`);\r\n        }\r\n    };\r\n\r\n    const markAllAsRead = async () => {\r\n        try {\r\n            await fetch('/api/notifications/read', { method: 'POST' });\r\n            setNotifications(prev => prev.map(n => ({ ...n, unread: false })));\r\n        } catch {\r\n            // Silent fail\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div ref={containerRef} style={{ position: 'relative' }}>\r\n            {/* CSS Animations */}\r\n            <style>{`\r\n                @keyframes radarPulse {\r\n                    0% {\r\n                        transform: scale(1);\r\n                        opacity: 0.8;\r\n                    }\r\n                    100% {\r\n                        transform: scale(2.2);\r\n                        opacity: 0;\r\n                    }\r\n                }\r\n                @keyframes iconPop {\r\n                    0%, 100% { transform: scale(1); }\r\n                    50% { transform: scale(1.1); }\r\n                }\r\n                .notification-btn:active {\r\n                    transform: scale(0.95);\r\n                }\r\n                .notification-dropdown {\r\n                    animation: fadeIn 0.15s ease-out;\r\n                }\r\n                @keyframes fadeIn {\r\n                    from { opacity: 0; transform: translateY(-4px); }\r\n                    to { opacity: 1; transform: translateY(0); }\r\n                }\r\n            `}</style>\r\n\r\n            {/* Notification Button */}\r\n            <button\r\n                className=\"notification-btn\"\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                style={{\r\n                    position: 'relative',\r\n                    width: '40px',\r\n                    height: '40px',\r\n                    borderRadius: '12px',\r\n                    background: isOpen ? 'var(--bg-secondary)' : 'transparent',\r\n                    border: 'none',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    cursor: 'pointer',\r\n                    transition: 'background 0.2s ease'\r\n                }}\r\n            >\r\n                {/* Radar Pulse Rings - when there are unread notifications */}\r\n                {unreadCount > 0 && (\r\n                    <>\r\n                        <span style={{\r\n                            position: 'absolute',\r\n                            width: '8px',\r\n                            height: '8px',\r\n                            borderRadius: '50%',\r\n                            background: 'var(--primary)',\r\n                            animation: 'radarPulse 1.5s ease-out infinite'\r\n                        }} />\r\n                        <span style={{\r\n                            position: 'absolute',\r\n                            width: '8px',\r\n                            height: '8px',\r\n                            borderRadius: '50%',\r\n                            background: 'var(--primary)',\r\n                            animation: 'radarPulse 1.5s ease-out infinite 0.5s'\r\n                        }} />\r\n                    </>\r\n                )}\r\n\r\n                {/* Main Icon Container */}\r\n                <div style={{\r\n                    position: 'relative',\r\n                    animation: hasNewNotification ? 'iconPop 0.3s ease' : 'none'\r\n                }}>\r\n                    {/* Radar/Signal Icon */}\r\n                    <svg\r\n                        width=\"22\"\r\n                        height=\"22\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        fill=\"none\"\r\n                        stroke={unreadCount > 0 ? 'var(--primary)' : 'var(--text-muted)'}\r\n                        strokeWidth=\"2\"\r\n                        style={{ transition: 'stroke 0.2s ease' }}\r\n                    >\r\n                        {/* Radar waves */}\r\n                        <path d=\"M4.5 8.5c3-3.4 6-3.4 9 0\" strokeLinecap=\"round\" opacity={unreadCount > 0 ? 1 : 0.5} />\r\n                        <path d=\"M7.5 12c1.5-1.7 3-1.7 4.5 0\" strokeLinecap=\"round\" opacity={unreadCount > 0 ? 1 : 0.6} />\r\n                        {/* Center dot */}\r\n                        <circle cx=\"10\" cy=\"15\" r=\"1.5\" fill={unreadCount > 0 ? 'var(--primary)' : 'var(--text-muted)'} stroke=\"none\" />\r\n                        {/* Bell silhouette */}\r\n                        <path d=\"M15 18H5a2 2 0 0 0 2-2v-4\" strokeLinecap=\"round\" />\r\n                        <path d=\"M18 8a6 6 0 0 0-6-6v2a4 4 0 0 1 4 4\" strokeLinecap=\"round\" opacity={unreadCount > 0 ? 1 : 0.4} />\r\n                    </svg>\r\n\r\n                    {/* Badge Count */}\r\n                    {unreadCount > 0 && (\r\n                        <span style={{\r\n                            position: 'absolute',\r\n                            top: '-4px',\r\n                            right: '-6px',\r\n                            minWidth: '16px',\r\n                            height: '16px',\r\n                            borderRadius: '8px',\r\n                            background: 'linear-gradient(135deg, #dc2626 0%, #ef4444 100%)',\r\n                            color: 'white',\r\n                            fontSize: '0.65rem',\r\n                            fontWeight: '700',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            padding: '0 4px',\r\n                            boxShadow: '0 2px 4px rgba(220, 38, 38, 0.4)'\r\n                        }}>\r\n                            {unreadCount > 9 ? '9+' : unreadCount}\r\n                        </span>\r\n                    )}\r\n                </div>\r\n            </button>\r\n\r\n            {/* Dropdown */}\r\n            {isOpen && (\r\n                <div\r\n                    className=\"notification-dropdown\"\r\n                    style={{\r\n                        position: 'absolute',\r\n                        top: 'calc(100% + 8px)',\r\n                        right: 0,\r\n                        width: '300px',\r\n                        maxHeight: '400px',\r\n                        background: 'var(--bg-surface)',\r\n                        borderRadius: '16px',\r\n                        boxShadow: '0 10px 40px rgba(0, 0, 0, 0.2)',\r\n                        border: '1px solid var(--border)',\r\n                        overflow: 'hidden',\r\n                        zIndex: 100\r\n                    }}\r\n                >\r\n                    {/* Header */}\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                        padding: '1rem',\r\n                        borderBottom: '1px solid var(--border)'\r\n                    }}>\r\n                        <span style={{ fontWeight: '700', color: 'var(--text-primary)' }}>\r\n                            Notifications\r\n                        </span>\r\n                        {unreadCount > 0 && (\r\n                            <button\r\n                                onClick={markAllAsRead}\r\n                                style={{\r\n                                    fontSize: '0.75rem',\r\n                                    color: 'var(--primary)',\r\n                                    background: 'none',\r\n                                    border: 'none',\r\n                                    cursor: 'pointer',\r\n                                    fontWeight: '600'\r\n                                }}\r\n                            >\r\n                                Mark all read\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Notification List */}\r\n                    <div style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n                        {notifications.length === 0 ? (\r\n                            <div style={{\r\n                                padding: '2rem',\r\n                                textAlign: 'center',\r\n                                color: 'var(--text-muted)'\r\n                            }}>\r\n                                <span style={{ fontSize: '2rem', marginBottom: '0.5rem', display: 'block' }}>≡ƒôí</span>\r\n                                No notifications yet\r\n                            </div>\r\n                        ) : (\r\n                            notifications.map((notification) => (\r\n                                <div\r\n                                    key={notification.id}\r\n                                    onClick={() => handleNotificationClick(notification)}\r\n                                    style={{\r\n                                        padding: '0.875rem 1rem',\r\n                                        borderBottom: '1px solid var(--border)',\r\n                                        cursor: 'pointer',\r\n                                        background: notification.unread ? 'rgba(99, 102, 241, 0.05)' : 'transparent',\r\n                                        transition: 'background 0.15s ease'\r\n                                    }}\r\n                                >\r\n                                    <div style={{\r\n                                        display: 'flex',\r\n                                        alignItems: 'flex-start',\r\n                                        gap: '0.75rem'\r\n                                    }}>\r\n                                        {notification.unread && (\r\n                                            <span style={{\r\n                                                width: '8px',\r\n                                                height: '8px',\r\n                                                borderRadius: '50%',\r\n                                                background: 'var(--primary)',\r\n                                                marginTop: '6px',\r\n                                                flexShrink: 0\r\n                                            }} />\r\n                                        )}\r\n                                        <div style={{ flex: 1, minWidth: 0 }}>\r\n                                            <div style={{\r\n                                                fontWeight: '600',\r\n                                                fontSize: '0.875rem',\r\n                                                color: 'var(--text-primary)',\r\n                                                marginBottom: '2px'\r\n                                            }}>\r\n                                                {notification.title}\r\n                                            </div>\r\n                                            <div style={{\r\n                                                fontSize: '0.8rem',\r\n                                                color: 'var(--text-muted)',\r\n                                                overflow: 'hidden',\r\n                                                textOverflow: 'ellipsis',\r\n                                                whiteSpace: 'nowrap'\r\n                                            }}>\r\n                                                {notification.message}\r\n                                            </div>\r\n                                            <div style={{\r\n                                                fontSize: '0.7rem',\r\n                                                color: 'var(--text-muted)',\r\n                                                marginTop: '4px',\r\n                                                opacity: 0.7\r\n                                            }}>\r\n                                                {notification.time}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Footer */}\r\n                    <div\r\n                        onClick={() => { setIsOpen(false); router.push('/m/notifications'); }}\r\n                        style={{\r\n                            padding: '0.75rem',\r\n                            textAlign: 'center',\r\n                            borderTop: '1px solid var(--border)',\r\n                            cursor: 'pointer',\r\n                            color: 'var(--primary)',\r\n                            fontSize: '0.85rem',\r\n                            fontWeight: '600'\r\n                        }}\r\n                    >\r\n                        View All Notifications\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileNotificationsClient.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileQuickSwitcher.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileSearch.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileSearchParams.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 10,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 10,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [304, 307], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [304, 307], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport MobileSearch, { MobileFilterChip } from './MobileSearch';\r\n\r\nimport { useRef, useState, useEffect } from 'react';\r\n\r\n\r\n// Helper to debounce manually if package not available\r\nfunction useDebounce<T extends (...args: any[]) => void>(callback: T, delay: number) {\r\n    const timeoutRef = useRef<NodeJS.Timeout>(null);\r\n    return (...args: Parameters<T>) => {\r\n        if (timeoutRef.current) clearTimeout(timeoutRef.current);\r\n        timeoutRef.current = setTimeout(() => callback(...args), delay);\r\n    };\r\n}\r\n\r\nexport function MobileSearchWithParams({\r\n    placeholder = 'Search...',\r\n    basePath\r\n}: {\r\n    placeholder?: string;\r\n    basePath?: string;\r\n}) {\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const currentQuery = searchParams.get('q') || '';\r\n    const [term, setTerm] = useState(currentQuery);\r\n\r\n    useEffect(() => {\r\n        setTerm(currentQuery);\r\n    }, [currentQuery]);\r\n\r\n    const handleSearch = useDebounce((searchTerm: string) => {\r\n        const params = new URLSearchParams(searchParams);\r\n        if (searchTerm) {\r\n            params.set('q', searchTerm);\r\n        } else {\r\n            params.delete('q');\r\n        }\r\n        const path = basePath || window.location.pathname;\r\n        const newUrl = `${path}?${params.toString()}`;\r\n        // console.log('Replacing URL:', newUrl); \r\n        router.replace(newUrl);\r\n    }, 500);\r\n\r\n    return (\r\n        <MobileSearch\r\n            placeholder={placeholder}\r\n            value={term}\r\n            onChange={(val) => {\r\n                setTerm(val);\r\n                handleSearch(val);\r\n            }}\r\n        />\r\n    );\r\n}\r\n\r\nexport function MobileFilterWithParams({\r\n    filters\r\n}: {\r\n    filters: { label: string; value: string | null }[]\r\n}) {\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const activeFilter = searchParams.get('filter') || 'all';\r\n\r\n    const handleFilter = (filterValue: string | null) => {\r\n        const params = new URLSearchParams(searchParams);\r\n        if (filterValue && filterValue !== 'all') {\r\n            params.set('filter', filterValue);\r\n        } else {\r\n            params.delete('filter');\r\n        }\r\n        router.replace(`${window.location.pathname}?${params.toString()}`);\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            display: 'flex',\r\n            gap: '0.5rem',\r\n            overflowX: 'auto',\r\n            paddingBottom: '0.5rem',\r\n            scrollbarWidth: 'none',\r\n        }}>\r\n            {filters.map((filter) => (\r\n                <MobileFilterChip\r\n                    key={filter.label}\r\n                    label={filter.label}\r\n                    active={activeFilter === (filter.value || 'all')}\r\n                    onClick={() => handleFilter(filter.value)}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileSwipeNavigator.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileThemeToggle.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileThemeToggle.tsx:12:9\n  10 |\n  11 |     useEffect(() => {\n> 12 |         setMounted(true);\n     |         ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  13 |     }, []);\n  14 |\n  15 |     // Don't render until mounted to avoid hydration mismatch",
        "line": 12,
        "column": 9,
        "nodeType": null,
        "endLine": 12,
        "endColumn": 19
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useTheme } from 'next-themes';\r\nimport { useEffect, useState } from 'react';\r\nimport MobileCard from '@/components/mobile/MobileCard';\r\n\r\nexport default function MobileThemeToggle() {\r\n    const { theme, resolvedTheme, setTheme } = useTheme();\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setMounted(true);\r\n    }, []);\r\n\r\n    // Don't render until mounted to avoid hydration mismatch\r\n    if (!mounted) {\r\n        return (\r\n            <MobileCard variant=\"default\" padding=\"md\">\r\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', height: '28px' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.875rem' }}>\r\n                        <span className=\"mobile-menu-icon\">≡ƒÄ¿</span>\r\n                        <span style={{ fontWeight: 600, color: 'var(--text-primary)' }}>Appearance</span>\r\n                    </div>\r\n                    <div style={{\r\n                        width: '52px',\r\n                        height: '28px',\r\n                        background: 'var(--bg-secondary)',\r\n                        borderRadius: '14px'\r\n                    }} />\r\n                </div>\r\n            </MobileCard>\r\n        );\r\n    }\r\n\r\n    // Use resolvedTheme for actual dark/light detection (handles 'system' correctly)\r\n    const isDark = resolvedTheme === 'dark';\r\n    const isSystemTheme = theme === 'system';\r\n\r\n    const handleToggle = () => {\r\n        if (isDark) {\r\n            setTheme('light');\r\n        } else {\r\n            setTheme('dark');\r\n        }\r\n    };\r\n\r\n    const handleSystemReset = () => {\r\n        setTheme('system');\r\n    };\r\n\r\n    return (\r\n        <MobileCard variant=\"default\" padding=\"md\">\r\n            <div\r\n                style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'space-between',\r\n                    cursor: 'pointer'\r\n                }}\r\n                onClick={handleToggle}\r\n            >\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.875rem' }}>\r\n                    <span className=\"mobile-menu-icon\">{isDark ? '≡ƒîÖ' : 'ΓÿÇ∩╕Å'}</span>\r\n                    <div>\r\n                        <div style={{ fontWeight: 600, color: 'var(--text-primary)' }}>\r\n                            {isDark ? 'Dark Mode' : 'Light Mode'}\r\n                        </div>\r\n                        {!isSystemTheme && (\r\n                            <button\r\n                                onClick={(e: React.MouseEvent) => { e.stopPropagation(); handleSystemReset(); }}\r\n                                style={{\r\n                                    fontSize: '0.7rem',\r\n                                    color: 'var(--primary)',\r\n                                    background: 'none',\r\n                                    border: 'none',\r\n                                    padding: 0,\r\n                                    cursor: 'pointer',\r\n                                    marginTop: '2px'\r\n                                }}\r\n                            >\r\n                                Reset to System\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* iOS-style Toggle Switch */}\r\n                <div style={{\r\n                    flexShrink: 0,\r\n                    width: '52px',\r\n                    height: '32px',\r\n                    background: isDark\r\n                        ? 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)'\r\n                        : 'rgba(120, 120, 128, 0.16)',\r\n                    borderRadius: '16px',\r\n                    position: 'relative',\r\n                    transition: 'background 0.25s ease',\r\n                    boxShadow: isDark\r\n                        ? '0 2px 8px rgba(99, 102, 241, 0.3)'\r\n                        : 'inset 0 0 0 1px rgba(0,0,0,0.1)'\r\n                }}>\r\n                    <div style={{\r\n                        width: '28px',\r\n                        height: '28px',\r\n                        background: '#ffffff',\r\n                        borderRadius: '50%',\r\n                        position: 'absolute',\r\n                        top: '2px',\r\n                        left: isDark ? '22px' : '2px',\r\n                        transition: 'left 0.25s cubic-bezier(0.4, 0.0, 0.2, 1), box-shadow 0.25s ease',\r\n                        boxShadow: '0 3px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.1)',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center'\r\n                    }}>\r\n                        {/* Icon inside toggle */}\r\n                        <span style={{\r\n                            fontSize: '14px',\r\n                            transition: 'opacity 0.2s ease',\r\n                            opacity: 0.8\r\n                        }}>\r\n                            {isDark ? '≡ƒîÖ' : 'ΓÿÇ∩╕Å'}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </MobileCard>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\MobileUtils.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\PullToRefresh.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\PushNotificationToggle.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\PwaInstallCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\SkeletonLoader.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\SwipeableIncidentCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\mobile\\mobileNavItems.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\postmortem\\PostmortemActionItems.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 138,
        "column": 99,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 138,
        "endColumn": 102,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5372, 5375], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5372, 5375], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 145,
        "column": 97,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 145,
        "endColumn": 100,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5863, 5866], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5863, 5866], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 311,
        "column": 114,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 311,
        "endColumn": 117,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [16531, 16534], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [16531, 16534], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 318,
        "column": 116,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 318,
        "endColumn": 119,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [17150, 17153], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [17150, 17153], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\postmortem\\PostmortemDetailView.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 17,
        "column": 20,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 17,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [634, 637], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [634, 637], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 18,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 18,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [715, 718], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [715, 718], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 21,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 21,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [874, 877], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [874, 877], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 58,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 58,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1881, 1884], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1881, 1884], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 60,
        "column": 33,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 60,
        "endColumn": 36,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2062, 2065], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2062, 2065], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 70,
        "column": 34,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 70,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2455, 2458], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2455, 2458], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 84,
        "column": 44,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 84,
        "endColumn": 47,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3139, 3142], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3139, 3142], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 86,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 86,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3329, 3332], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3329, 3332], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\postmortem\\PostmortemImpactInput.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 22,
        "column": 60,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 22,
        "endColumn": 63,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [622, 625], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [622, 625], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\postmortem\\PostmortemImpactMetrics.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\postmortem\\PostmortemTimeline.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\postmortem\\PostmortemTimelineBuilder.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 92,
        "column": 97,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 92,
        "endColumn": 100,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3395, 3398], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3395, 3398], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 218,
        "column": 106,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 218,
        "endColumn": 109,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10904, 10907], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10904, 10907], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\providers\\ThemeProvider.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Attribute' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 4,
        "column": 47,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 56
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport * as React from 'react';\r\nimport { ThemeProvider as NextThemesProvider, Attribute } from 'next-themes';\r\n\r\ntype ThemeProviderProps = React.ComponentProps<typeof NextThemesProvider>;\r\n\r\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\r\n    return <NextThemesProvider {...props}>{children}</NextThemesProvider>;\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\CopyButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\CreateServiceForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\DeleteIntegrationButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\DeleteServiceButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\DeleteWebhookButton.tsx",
    "messages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 17,
        "column": 14,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 17,
        "endColumn": 82
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 34,
        "column": 13,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 34,
        "endColumn": 46
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { logger } from '@/lib/logger';\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ntype Props = {\r\n    deleteAction: () => Promise<void>;\r\n    redirectTo?: string;\r\n};\r\n\r\nexport default function DeleteWebhookButton({ deleteAction, redirectTo }: Props) {\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n    const router = useRouter();\r\n\r\n    const handleDelete = async () => {\r\n        if (!confirm('Are you sure you want to delete this webhook integration?')) {\r\n            return;\r\n        }\r\n\r\n        setIsDeleting(true);\r\n        try {\r\n            await deleteAction();\r\n            if (redirectTo) {\r\n                router.push(redirectTo);\r\n                router.refresh();\r\n            }\r\n        } catch (error) {\r\n            if (error instanceof Error) {\r\n                logger.error('Failed to delete webhook', { error: error.message });\r\n            } else {\r\n                logger.error('Failed to delete webhook', { error: String(error) });\r\n            }\r\n            alert('Failed to delete webhook');\r\n            setIsDeleting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <button\r\n            type=\"button\"\r\n            onClick={handleDelete}\r\n            disabled={isDeleting}\r\n            className=\"glass-button\"\r\n            style={{\r\n                color: 'var(--danger)',\r\n                borderColor: 'var(--danger)',\r\n                opacity: isDeleting ? 0.7 : 1,\r\n                cursor: isDeleting ? 'not-allowed' : 'pointer'\r\n            }}\r\n        >\r\n            {isDeleting ? 'Deleting...' : 'Delete'}\r\n        </button>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\HoverLink.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\IncidentList.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 187,
        "column": 24,
        "nodeType": "MemberExpression",
        "endLine": 187,
        "endColumn": 46
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 188,
        "column": 28,
        "nodeType": "MemberExpression",
        "endLine": 188,
        "endColumn": 50
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 189,
        "column": 29,
        "nodeType": "MemberExpression",
        "endLine": 189,
        "endColumn": 51
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 190,
        "column": 30,
        "nodeType": "MemberExpression",
        "endLine": 190,
        "endColumn": 52
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 191,
        "column": 41,
        "nodeType": "MemberExpression",
        "endLine": 191,
        "endColumn": 63
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 192,
        "column": 43,
        "nodeType": "MemberExpression",
        "endLine": 192,
        "endColumn": 65
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 193,
        "column": 34,
        "nodeType": "MemberExpression",
        "endLine": 193,
        "endColumn": 56
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 98,
        "column": 63,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 98,
        "endColumn": 66,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3493, 3496], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3493, 3496], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 7,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { memo } from 'react';\r\nimport Link from 'next/link';\r\nimport StatusBadge from '../incident/StatusBadge';\r\nimport { useTimezone } from '@/contexts/TimezoneContext';\r\nimport { formatDateTime } from '@/lib/timezone';\r\n\r\n// Simple date formatting helper - moved outside component to prevent recreation\r\nfunction formatDistanceToNow(date: Date, timeZone: string): string {\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - date.getTime();\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return 'just now';\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    return formatDateTime(date, timeZone, { format: 'date' });\r\n}\r\n\r\ntype Incident = {\r\n    id: string;\r\n    title: string;\r\n    status: string;\r\n    urgency: string;\r\n    priority: string | null;\r\n    createdAt: Date;\r\n    resolvedAt: Date | null;\r\n    assignee: { id: string; name: string; email: string } | null;\r\n};\r\n\r\ntype IncidentListProps = {\r\n    incidents: Incident[];\r\n    serviceId: string;\r\n};\r\n\r\nfunction IncidentList({ incidents, serviceId }: IncidentListProps) {\r\n    const { userTimeZone } = useTimezone();\r\n\r\n    if (incidents.length === 0) {\r\n        return (\r\n            <div style={{\r\n                padding: '3rem 2rem',\r\n                textAlign: 'center',\r\n                background: 'white',\r\n                border: '1px solid var(--border)',\r\n                borderRadius: '0px'\r\n            }}>\r\n                <div style={{ fontSize: '2.5rem', marginBottom: '1rem' }}>Γ£à</div>\r\n                <h3 style={{ fontSize: '1.1rem', fontWeight: '600', marginBottom: '0.5rem', color: 'var(--text-primary)' }}>\r\n                    No incidents recorded\r\n                </h3>\r\n                <p style={{ fontSize: '0.9rem', color: 'var(--text-muted)', marginBottom: '1.5rem' }}>\r\n                    This service has no recorded incidents.\r\n                </p>\r\n                <Link\r\n                    href={`/incidents/create?serviceId=${serviceId}`}\r\n                    className=\"glass-button primary\"\r\n                    style={{ display: 'inline-block' }}\r\n                >\r\n                    Create First Incident\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div style={{\r\n            background: 'white',\r\n            border: '1px solid var(--border)',\r\n            borderRadius: '0px',\r\n            overflow: 'hidden'\r\n        }}>\r\n            <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr',\r\n                gap: '1rem',\r\n                padding: '1rem 1.5rem',\r\n                background: '#f8fafc',\r\n                borderBottom: '1px solid var(--border)',\r\n                fontSize: '0.75rem',\r\n                fontWeight: '600',\r\n                textTransform: 'uppercase',\r\n                letterSpacing: '0.05em',\r\n                color: 'var(--text-muted)'\r\n            }}>\r\n                <div>Incident</div>\r\n                <div>Status</div>\r\n                <div>Priority</div>\r\n                <div>Assignee</div>\r\n                <div>Created</div>\r\n            </div>\r\n            <div>\r\n                {incidents.map((incident) => {\r\n                    const incidentStatus = incident.status as any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    return (\r\n                        <Link\r\n                            key={incident.id}\r\n                            href={`/incidents/${incident.id}`}\r\n                            style={{\r\n                                display: 'grid',\r\n                                gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr',\r\n                                gap: '1rem',\r\n                                padding: '1rem 1.5rem',\r\n                                borderBottom: '1px solid var(--border)',\r\n                                textDecoration: 'none',\r\n                                color: 'inherit',\r\n                                transition: 'background 0.15s'\r\n                            }}\r\n                            onMouseEnter={(e) => {\r\n                                e.currentTarget.style.background = '#f8fafc';\r\n                            }}\r\n                            onMouseLeave={(e) => {\r\n                                e.currentTarget.style.background = 'transparent';\r\n                            }}\r\n                        >\r\n                            <div>\r\n                                <div style={{\r\n                                    fontWeight: '600',\r\n                                    color: 'var(--text-primary)',\r\n                                    marginBottom: '0.25rem',\r\n                                    fontSize: '0.95rem'\r\n                                }}>\r\n                                    {incident.title}\r\n                                </div>\r\n                                {incident.urgency === 'HIGH' && (\r\n                                    <span style={{\r\n                                        fontSize: '0.75rem',\r\n                                        padding: '0.15rem 0.5rem',\r\n                                        background: 'rgba(239, 68, 68, 0.1)',\r\n                                        color: 'var(--danger)',\r\n                                        borderRadius: '4px',\r\n                                        fontWeight: '600'\r\n                                    }}>\r\n                                        High Urgency\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                                <StatusBadge status={incidentStatus} size=\"sm\" showDot />\r\n                            </div>\r\n                            <div>\r\n                                {incident.priority ? (\r\n                                    <span style={{\r\n                                        fontSize: '0.85rem',\r\n                                        fontWeight: '600',\r\n                                        color: incident.priority === 'P1' ? 'var(--danger)' :\r\n                                            incident.priority === 'P2' ? '#f97316' :\r\n                                                incident.priority === 'P3' ? 'var(--warning)' : 'var(--text-muted)'\r\n                                    }}>\r\n                                        {incident.priority}\r\n                                    </span>\r\n                                ) : (\r\n                                    <span style={{ color: 'var(--text-muted)', fontSize: '0.85rem' }}>ΓÇö</span>\r\n                                )}\r\n                            </div>\r\n                            <div>\r\n                                {incident.assignee ? (\r\n                                    <div style={{ fontSize: '0.85rem', color: 'var(--text-primary)' }}>\r\n                                        {incident.assignee.name}\r\n                                    </div>\r\n                                ) : (\r\n                                    <span style={{ color: 'var(--text-muted)', fontSize: '0.85rem' }}>Unassigned</span>\r\n                                )}\r\n                            </div>\r\n                            <div style={{ fontSize: '0.85rem', color: 'var(--text-muted)' }}>\r\n                                {formatDistanceToNow(new Date(incident.createdAt), userTimeZone)}\r\n                            </div>\r\n                        </Link>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Memoize IncidentList to prevent unnecessary re-renders when parent updates\r\nexport default memo(IncidentList, (prevProps, nextProps) => {\r\n    // Custom comparison: only re-render if incidents or serviceId changed\r\n    return (\r\n        prevProps.serviceId === nextProps.serviceId &&\r\n        prevProps.incidents.length === nextProps.incidents.length &&\r\n        prevProps.incidents.every((inc, i) =>\r\n            inc.id === nextProps.incidents[i]?.id &&\r\n            inc.status === nextProps.incidents[i]?.status &&\r\n            inc.urgency === nextProps.incidents[i]?.urgency &&\r\n            inc.priority === nextProps.incidents[i]?.priority &&\r\n            inc.createdAt.getTime() === nextProps.incidents[i]?.createdAt.getTime() &&\r\n            inc.resolvedAt?.getTime() === nextProps.incidents[i]?.resolvedAt?.getTime() &&\r\n            inc.assignee?.id === nextProps.incidents[i]?.assignee?.id\r\n        )\r\n    );\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\Pagination.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\ServiceCard.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'openIncidents' is assigned a value but never used. Allowed unused vars must match /^_/u.",
        "line": 31,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 31,
        "endColumn": 24
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 162,
        "column": 23,
        "nodeType": "MemberExpression",
        "endLine": 162,
        "endColumn": 43
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 449,
        "column": 30,
        "nodeType": "MemberExpression",
        "endLine": 449,
        "endColumn": 46
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 449,
        "column": 70,
        "nodeType": "MemberExpression",
        "endLine": 449,
        "endColumn": 86
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 55,
        "column": 35,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 55,
        "endColumn": 38,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1838, 1841], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1838, 1841], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useRouter } from 'next/navigation';\r\nimport { useState, memo, useMemo } from 'react';\r\nimport StatusBadge from '../incident/StatusBadge';\r\nimport { getServiceDynamicStatus } from '@/lib/service-status';\r\n\r\ntype ServiceCardProps = {\r\n  service: {\r\n    id: string;\r\n    name: string;\r\n    description: string | null;\r\n    region?: string | null;\r\n    status: string;\r\n    team: { id: string; name: string } | null;\r\n    policy: { id: string; name: string } | null;\r\n    _count?: { incidents: number };\r\n    incidents?: Array<{ id: string; urgency: string }>;\r\n    openIncidentCount?: number;\r\n    hasCritical?: boolean;\r\n    dynamicStatus?: 'OPERATIONAL' | 'DEGRADED' | 'CRITICAL';\r\n  };\r\n  compact?: boolean;\r\n};\r\n\r\nfunction ServiceCard({ service, compact = false }: ServiceCardProps) {\r\n  const router = useRouter();\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  // Memoize computed values to prevent recalculation on every render\r\n  const { openIncidents, hasCritical, status, openIncidentCount } = useMemo(() => {\r\n    const incidents = service.incidents || [];\r\n    const count =\r\n      typeof service.openIncidentCount === 'number' ? service.openIncidentCount : incidents.length;\r\n    const critical =\r\n      typeof service.hasCritical === 'boolean'\r\n        ? service.hasCritical\r\n        : incidents.some(i => i.urgency === 'HIGH');\r\n    const calculatedStatus =\r\n      service.dynamicStatus ||\r\n      getServiceDynamicStatus({ openIncidentCount: count, hasCritical: critical });\r\n    return {\r\n      openIncidents: incidents,\r\n      hasCritical: critical,\r\n      openIncidentCount: count,\r\n      status: calculatedStatus,\r\n    };\r\n  }, [\r\n    service.incidents,\r\n    service.dynamicStatus,\r\n    service.openIncidentCount,\r\n    service.hasCritical,\r\n  ]);\r\n\r\n  const displayStatus = status as any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  const [compactHovered, setCompactHovered] = useState(false);\r\n\r\n  if (compact) {\r\n    return (\r\n      <div\r\n        onClick={() => router.push(`/services/${service.id}`)}\r\n        onMouseEnter={() => setCompactHovered(true)}\r\n        onMouseLeave={() => setCompactHovered(false)}\r\n        style={{\r\n          display: 'block',\r\n          padding: '1rem',\r\n          background: '#fff',\r\n          border: `1px solid ${compactHovered ? 'var(--primary)' : 'var(--border)'}`,\r\n          borderRadius: '0px',\r\n          cursor: 'pointer',\r\n          transition: 'all 0.15s',\r\n          boxShadow: compactHovered\r\n            ? '0 4px 12px rgba(211, 47, 47, 0.15)'\r\n            : '0 1px 3px rgba(0,0,0,0.08)',\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'flex-start',\r\n            marginBottom: '0.5rem',\r\n          }}\r\n        >\r\n          <div style={{ flex: 1, minWidth: 0 }}>\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '0.5rem',\r\n                marginBottom: '0.25rem',\r\n              }}\r\n            >\r\n              <StatusBadge status={displayStatus} size=\"sm\" showDot />\r\n            </div>\r\n            <div style={{ fontWeight: 600, color: 'var(--text-primary)', marginBottom: '0.25rem' }}>\r\n              {service.name}\r\n            </div>\r\n            {service.description && (\r\n              <div style={{ fontSize: '0.8rem', color: 'var(--text-muted)' }}>\r\n                {service.description.length > 60\r\n                  ? service.description.substring(0, 60) + '...'\r\n                  : service.description}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            gap: '0.75rem',\r\n            fontSize: '0.75rem',\r\n            color: 'var(--text-muted)',\r\n            marginTop: '0.5rem',\r\n            flexWrap: 'wrap',\r\n          }}\r\n        >\r\n          <span>{service.team?.name || 'Unassigned'}</span>\r\n          {service.region && (\r\n            <>\r\n              <span>╞Æ?ΓÇ║</span>\r\n              <span>{service.region}</span>\r\n            </>\r\n          )}\r\n          {openIncidentCount > 0 && (\r\n            <>\r\n              <span>ΓÇó</span>\r\n              <span style={{ color: hasCritical ? 'var(--danger)' : 'var(--warning)' }}>\r\n                {openIncidentCount} open incident{openIncidentCount !== 1 ? 's' : ''}\r\n              </span>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Get status color for background\r\n  const statusColors: Record<\r\n    string,\r\n    { bg: string; border: string; hoverBorder: string; hoverShadow: string }\r\n  > = {\r\n    OPERATIONAL: {\r\n      bg: 'linear-gradient(180deg, rgba(34,197,94,0.03) 0%, #ffffff 60%)',\r\n      border: 'rgba(34,197,94,0.15)',\r\n      hoverBorder: 'var(--primary)',\r\n      hoverShadow: '0 8px 20px rgba(211, 47, 47, 0.12)',\r\n    },\r\n    DEGRADED: {\r\n      bg: 'linear-gradient(180deg, rgba(245,158,11,0.03) 0%, #ffffff 60%)',\r\n      border: 'rgba(245,158,11,0.15)',\r\n      hoverBorder: 'var(--warning)',\r\n      hoverShadow: '0 8px 20px rgba(245, 158, 11, 0.15)',\r\n    },\r\n    CRITICAL: {\r\n      bg: 'linear-gradient(180deg, rgba(239,68,68,0.05) 0%, #ffffff 60%)',\r\n      border: 'rgba(239,68,68,0.25)',\r\n      hoverBorder: 'var(--danger)',\r\n      hoverShadow: '0 8px 20px rgba(239, 68, 68, 0.2)',\r\n    },\r\n  };\r\n  const statusColor = statusColors[status] || statusColors['OPERATIONAL'];\r\n\r\n  const handleCardClick = () => {\r\n    router.push(`/services/${service.id}`);\r\n  };\r\n\r\n  const handlePolicyLinkClick = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    router.push(`/policies/${service.policy!.id}`);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={handleCardClick}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n      style={{\r\n        display: 'block',\r\n        padding: '1.5rem',\r\n        background: statusColor.bg,\r\n        border: `1px solid ${isHovered ? statusColor.hoverBorder : statusColor.border}`,\r\n        borderRadius: '0px',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.2s ease',\r\n        boxShadow: isHovered ? statusColor.hoverShadow : '0 2px 6px rgba(0,0,0,0.06)',\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n        transform: isHovered ? 'translateY(-2px)' : 'translateY(0)',\r\n      }}\r\n    >\r\n      {/* Status indicator line */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          height: '3px',\r\n          background:\r\n            status === 'CRITICAL'\r\n              ? 'var(--danger)'\r\n              : status === 'DEGRADED'\r\n                ? 'var(--warning)'\r\n                : 'var(--success)',\r\n        }}\r\n      />\r\n\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'flex-start',\r\n          marginBottom: '0.75rem',\r\n        }}\r\n      >\r\n        <div style={{ flex: 1, minWidth: 0 }}>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.75rem',\r\n              marginBottom: '0.75rem',\r\n              flexWrap: 'wrap',\r\n            }}\r\n          >\r\n            <StatusBadge status={displayStatus} size=\"md\" showDot />\r\n            {status === 'CRITICAL' && (\r\n              <span\r\n                style={{\r\n                  fontSize: '0.75rem',\r\n                  padding: '0.25rem 0.5rem',\r\n                  background: 'rgba(239, 68, 68, 0.1)',\r\n                  color: 'var(--danger)',\r\n                  borderRadius: '4px',\r\n                  fontWeight: '600',\r\n                }}\r\n              >\r\n                Action Required\r\n              </span>\r\n            )}\r\n          </div>\r\n          <h3\r\n            style={{\r\n              fontWeight: 700,\r\n              fontSize: '1.25rem',\r\n              color: 'var(--text-primary)',\r\n              marginBottom: '0.5rem',\r\n              lineHeight: 1.3,\r\n              letterSpacing: '-0.01em',\r\n            }}\r\n          >\r\n            {service.name}\r\n          </h3>\r\n          {service.description && (\r\n            <p\r\n              style={{\r\n                fontSize: '0.9rem',\r\n                color: 'var(--text-secondary)',\r\n                lineHeight: 1.6,\r\n                marginBottom: '0.75rem',\r\n                display: '-webkit-box',\r\n                WebkitLineClamp: 2,\r\n                WebkitBoxOrient: 'vertical',\r\n                overflow: 'hidden',\r\n              }}\r\n            >\r\n              {service.description}\r\n            </p>\r\n          )}\r\n          {service.region && (\r\n            <div\r\n              style={{\r\n                display: 'inline-flex',\r\n                alignItems: 'center',\r\n                gap: '0.5rem',\r\n                padding: '0.3rem 0.65rem',\r\n                borderRadius: '999px',\r\n                border: '1px solid rgba(15, 23, 42, 0.1)',\r\n                background: 'rgba(15, 23, 42, 0.03)',\r\n                color: 'var(--text-secondary)',\r\n                fontSize: '0.8rem',\r\n                fontWeight: '600',\r\n                marginBottom: '0.75rem',\r\n              }}\r\n            >\r\n              <svg\r\n                width=\"12\"\r\n                height=\"12\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n              >\r\n                <path d=\"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 1 1 18 0z\"></path>\r\n                <circle cx=\"12\" cy=\"10\" r=\"3\"></circle>\r\n              </svg>\r\n              {service.region}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'repeat(2, 1fr)',\r\n          gap: '0.75rem',\r\n          paddingTop: '0.75rem',\r\n          borderTop: '1px solid rgba(0,0,0,0.08)',\r\n        }}\r\n      >\r\n        <div>\r\n          <div\r\n            style={{\r\n              fontSize: '0.7rem',\r\n              color: 'var(--text-muted)',\r\n              textTransform: 'uppercase',\r\n              letterSpacing: '0.05em',\r\n              marginBottom: '0.25rem',\r\n              fontWeight: '600',\r\n            }}\r\n          >\r\n            Team\r\n          </div>\r\n          <div style={{ color: 'var(--text-primary)', fontWeight: 600, fontSize: '0.9rem' }}>\r\n            {service.team?.name || 'Unassigned'}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div\r\n            style={{\r\n              fontSize: '0.7rem',\r\n              color: 'var(--text-muted)',\r\n              textTransform: 'uppercase',\r\n              letterSpacing: '0.05em',\r\n              marginBottom: '0.25rem',\r\n              fontWeight: '600',\r\n            }}\r\n          >\r\n            Incidents\r\n          </div>\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.15rem' }}>\r\n            {openIncidentCount > 0 ? (\r\n              <span\r\n                style={{\r\n                  color: hasCritical ? 'var(--danger)' : 'var(--warning)',\r\n                  fontWeight: 700,\r\n                  fontSize: '0.95rem',\r\n                }}\r\n              >\r\n                {openIncidentCount} open\r\n              </span>\r\n            ) : (\r\n              <span style={{ color: 'var(--success)', fontWeight: 700, fontSize: '0.95rem' }}>\r\n                All clear\r\n              </span>\r\n            )}\r\n            {service._count && service._count.incidents > 0 && (\r\n              <span style={{ color: 'var(--text-muted)', fontSize: '0.8rem' }}>\r\n                {service._count.incidents} total\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {service.policy && (\r\n          <div style={{ gridColumn: '1 / -1' }}>\r\n            <div\r\n              style={{\r\n                fontSize: '0.7rem',\r\n                color: 'var(--text-muted)',\r\n                textTransform: 'uppercase',\r\n                letterSpacing: '0.05em',\r\n                marginBottom: '0.25rem',\r\n                fontWeight: '600',\r\n              }}\r\n            >\r\n              Escalation Policy\r\n            </div>\r\n            <button\r\n              onClick={handlePolicyLinkClick}\r\n              style={{\r\n                color: 'var(--primary)',\r\n                fontWeight: 600,\r\n                fontSize: '0.9rem',\r\n                textDecoration: 'none',\r\n                background: 'none',\r\n                border: 'none',\r\n                padding: 0,\r\n                cursor: 'pointer',\r\n                textAlign: 'left',\r\n                transition: 'color 0.2s',\r\n              }}\r\n              onMouseEnter={e => {\r\n                e.currentTarget.style.color = 'var(--primary-hover)';\r\n              }}\r\n              onMouseLeave={e => {\r\n                e.currentTarget.style.color = 'var(--primary)';\r\n              }}\r\n            >\r\n              {service.policy.name}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Arrow indicator */}\r\n      <div\r\n        data-arrow\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: '1rem',\r\n          right: '1rem',\r\n          opacity: isHovered ? 0.6 : 0.3,\r\n          transition: 'opacity 0.2s, transform 0.2s',\r\n          pointerEvents: 'none',\r\n          transform: isHovered ? 'translateX(4px)' : 'translateX(0)',\r\n        }}\r\n      >\r\n        <svg\r\n          width=\"20\"\r\n          height=\"20\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"2\"\r\n          style={{\r\n            color: 'var(--text-muted)',\r\n          }}\r\n        >\r\n          <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\r\n          <polyline points=\"12 5 19 12 12 19\" />\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Memoize ServiceCard with custom comparison to prevent re-renders when props haven't changed\r\nexport default memo(ServiceCard, (prevProps, nextProps) => {\r\n  // Custom comparison function for better performance\r\n  const prevIncidents = prevProps.service.incidents || [];\r\n  const nextIncidents = nextProps.service.incidents || [];\r\n\r\n  // Compare incidents array length and IDs\r\n  const incidentsEqual =\r\n    prevIncidents.length === nextIncidents.length &&\r\n    prevIncidents.every(\r\n      (inc, i) => inc.id === nextIncidents[i]?.id && inc.urgency === nextIncidents[i]?.urgency\r\n    );\r\n\r\n  return (\r\n    prevProps.service.id === nextProps.service.id &&\r\n    prevProps.service.name === nextProps.service.name &&\r\n    prevProps.service.description === nextProps.service.description &&\r\n    prevProps.service.region === nextProps.service.region &&\r\n    prevProps.service.status === nextProps.service.status &&\r\n    prevProps.service.dynamicStatus === nextProps.service.dynamicStatus &&\r\n    prevProps.service.team?.id === nextProps.service.team?.id &&\r\n    prevProps.service.team?.name === nextProps.service.team?.name &&\r\n    prevProps.service.policy?.id === nextProps.service.policy?.id &&\r\n    prevProps.service.policy?.name === nextProps.service.policy?.name &&\r\n    prevProps.service._count?.incidents === nextProps.service._count?.incidents &&\r\n    incidentsEqual &&\r\n    prevProps.compact === nextProps.compact\r\n  );\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\ServiceHealthScore.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 29,
        "column": 20,
        "nodeType": "MemberExpression",
        "endLine": 29,
        "endColumn": 36
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { getHealthScoreColor, getHealthScoreLabel } from '@/lib/service-health';\r\n\r\ntype ServiceHealthScoreProps = {\r\n    score: number;\r\n    grade: 'A' | 'B' | 'C' | 'D' | 'E';\r\n    size?: 'sm' | 'md' | 'lg';\r\n    showLabel?: boolean;\r\n    showGrade?: boolean;\r\n};\r\n\r\nexport default function ServiceHealthScore({ \r\n    score, \r\n    grade, \r\n    size = 'md',\r\n    showLabel = true,\r\n    showGrade = true\r\n}: ServiceHealthScoreProps) {\r\n    const color = getHealthScoreColor(score);\r\n    const label = getHealthScoreLabel(score);\r\n\r\n    const sizeStyles = {\r\n        sm: { width: '60px', height: '60px', fontSize: '0.75rem', gradeFontSize: '0.6rem' },\r\n        md: { width: '100px', height: '100px', fontSize: '1.25rem', gradeFontSize: '0.85rem' },\r\n        lg: { width: '140px', height: '140px', fontSize: '1.75rem', gradeFontSize: '1.1rem' }\r\n    };\r\n\r\n    const styles = sizeStyles[size];\r\n\r\n    // Calculate stroke-dasharray for circular progress\r\n    const circumference = 2 * Math.PI * 40; // radius = 40\r\n    const offset = circumference - (score / 100) * circumference;\r\n\r\n    return (\r\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: '0.5rem' }}>\r\n            <div style={{ position: 'relative', width: styles.width, height: styles.height }}>\r\n                <svg \r\n                    width={styles.width} \r\n                    height={styles.height} \r\n                    viewBox=\"0 0 100 100\"\r\n                    style={{ transform: 'rotate(-90deg)' }}\r\n                >\r\n                    {/* Background circle */}\r\n                    <circle\r\n                        cx=\"50\"\r\n                        cy=\"50\"\r\n                        r=\"40\"\r\n                        fill=\"none\"\r\n                        stroke=\"#e5e7eb\"\r\n                        strokeWidth=\"8\"\r\n                    />\r\n                    {/* Progress circle */}\r\n                    <circle\r\n                        cx=\"50\"\r\n                        cy=\"50\"\r\n                        r=\"40\"\r\n                        fill=\"none\"\r\n                        stroke={color}\r\n                        strokeWidth=\"8\"\r\n                        strokeLinecap=\"round\"\r\n                        strokeDasharray={circumference}\r\n                        strokeDashoffset={offset}\r\n                        style={{ transition: 'stroke-dashoffset 0.5s ease' }}\r\n                    />\r\n                </svg>\r\n                {/* Score text */}\r\n                <div style={{\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    textAlign: 'center'\r\n                }}>\r\n                    <div style={{\r\n                        fontSize: styles.fontSize,\r\n                        fontWeight: '700',\r\n                        color: color,\r\n                        lineHeight: 1\r\n                    }}>\r\n                        {score}\r\n                    </div>\r\n                    {showGrade && (\r\n                        <div style={{\r\n                            fontSize: styles.gradeFontSize,\r\n                            fontWeight: '600',\r\n                            color: 'var(--text-muted)',\r\n                            marginTop: '0.25rem'\r\n                        }}>\r\n                            {grade}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            {showLabel && (\r\n                <div style={{ textAlign: 'center' }}>\r\n                    <div style={{\r\n                        fontSize: '0.85rem',\r\n                        fontWeight: '600',\r\n                        color: color\r\n                    }}>\r\n                        {label}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\ServiceNotificationSettings.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'channels'. Either include it or remove the dependency array. You can also do a functional update 'setChannels(c => ...)' if you only need 'channels' in the 'setChannels' call.",
        "line": 56,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 56,
        "endColumn": 10,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [channels]",
            "fix": { "range": [2082, 2084], "text": "[channels]" }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'selectedSlackChannel'. Either include it or remove the dependency array.",
        "line": 82,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 82,
        "endColumn": 37,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [slackIntegration, serviceId, selectedSlackChannel]",
            "fix": {
              "range": [3304, 3333],
              "text": "[slackIntegration, serviceId, selectedSlackChannel]"
            }
          }
        ]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 233,
        "column": 41,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 233,
        "endColumn": 81
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 284,
        "column": 36,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [15329, 15539],
              "text": "\r\n                                You&apos;ll be redirected to Slack to authorize. This is a one-time setup - after authorization, you can select which channel to use for notifications.\r\n                            "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [15329, 15539],
              "text": "\r\n                                You&lsquo;ll be redirected to Slack to authorize. This is a one-time setup - after authorization, you can select which channel to use for notifications.\r\n                            "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [15329, 15539],
              "text": "\r\n                                You&#39;ll be redirected to Slack to authorize. This is a one-time setup - after authorization, you can select which channel to use for notifications.\r\n                            "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [15329, 15539],
              "text": "\r\n                                You&rsquo;ll be redirected to Slack to authorize. This is a one-time setup - after authorization, you can select which channel to use for notifications.\r\n                            "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.",
        "line": 338,
        "column": 114,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&apos;" },
            "fix": {
              "range": [19483, 19673],
              "text": "\r\n                                        Select the Slack channel where incident notifications will be posted. Don&apos;t forget to save your changes below.\r\n                                    "
            },
            "desc": "Replace with `&apos;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&lsquo;" },
            "fix": {
              "range": [19483, 19673],
              "text": "\r\n                                        Select the Slack channel where incident notifications will be posted. Don&lsquo;t forget to save your changes below.\r\n                                    "
            },
            "desc": "Replace with `&lsquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#39;" },
            "fix": {
              "range": [19483, 19673],
              "text": "\r\n                                        Select the Slack channel where incident notifications will be posted. Don&#39;t forget to save your changes below.\r\n                                    "
            },
            "desc": "Replace with `&#39;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rsquo;" },
            "fix": {
              "range": [19483, 19673],
              "text": "\r\n                                        Select the Slack channel where incident notifications will be posted. Don&rsquo;t forget to save your changes below.\r\n                                    "
            },
            "desc": "Replace with `&rsquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\ServiceNotificationSettings.tsx:46:13\n  44 |         const params = new URLSearchParams(window.location.search);\n  45 |         if (params.get('slack_connected') === 'true') {\n> 46 |             setShowSuccessMessage(true); // eslint-disable-line react-hooks/set-state-in-effect\n     |             ^^^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  47 |             // Auto-enable SLACK channel if not already enabled\n  48 |             if (!channels.includes('SLACK')) {\n  49 |                 setChannels([...channels, 'SLACK']);",
        "line": 46,
        "column": 13,
        "nodeType": null,
        "endLine": 46,
        "endColumn": 34,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\ServiceNotificationSettings.tsx:61:13\n  59 |     useEffect(() => {\n  60 |         if (slackIntegration) {\n> 61 |             setLoadingChannels(true); // eslint-disable-line react-hooks/set-state-in-effect\n     |             ^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  62 |             fetch(`/api/slack/channels?serviceId=${serviceId}`)\n  63 |                 .then(res => res.json())\n  64 |                 .then(data => {",
        "line": 61,
        "column": 13,
        "nodeType": null,
        "endLine": 61,
        "endColumn": 31,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { logger } from '@/lib/logger';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ntype ServiceNotificationSettingsProps = {\r\n    serviceId: string;\r\n    serviceNotificationChannels: string[];\r\n    slackChannel: string | null;\r\n    slackWebhookUrl: string | null;\r\n    slackIntegration: {\r\n        id: string;\r\n        workspaceName: string | null;\r\n        workspaceId: string;\r\n        enabled: boolean;\r\n    } | null;\r\n    webhookIntegrations: Array<{\r\n        id: string;\r\n        name: string;\r\n        type: string;\r\n        url: string;\r\n        enabled: boolean;\r\n    }>;\r\n};\r\n\r\nexport default function ServiceNotificationSettings({\r\n    serviceId,\r\n    serviceNotificationChannels,\r\n    slackChannel,\r\n    slackWebhookUrl,\r\n    slackIntegration,\r\n    webhookIntegrations\r\n}: ServiceNotificationSettingsProps) {\r\n    const router = useRouter();\r\n    const [channels, setChannels] = useState<string[]>(serviceNotificationChannels || []);\r\n    const [selectedSlackChannel, setSelectedSlackChannel] = useState(slackChannel || '');\r\n    const [slackChannels, setSlackChannels] = useState<Array<{ id: string; name: string }>>([]);\r\n    const [loadingChannels, setLoadingChannels] = useState(false);\r\n    const [showSuccessMessage, setShowSuccessMessage] = useState(false);\r\n\r\n    // Check if Slack was just connected (from URL param)\r\n    useEffect(() => {\r\n        const params = new URLSearchParams(window.location.search);\r\n        if (params.get('slack_connected') === 'true') {\r\n            setShowSuccessMessage(true); // eslint-disable-line react-hooks/set-state-in-effect\r\n            // Auto-enable SLACK channel if not already enabled\r\n            if (!channels.includes('SLACK')) {\r\n                setChannels([...channels, 'SLACK']);\r\n            }\r\n            // Remove the param from URL\r\n            window.history.replaceState({}, '', window.location.pathname);\r\n            // Hide message after 5 seconds\r\n            setTimeout(() => setShowSuccessMessage(false), 5000);\r\n        }\r\n    }, []);\r\n\r\n    // Fetch Slack channels when Slack is selected or integration exists\r\n    useEffect(() => {\r\n        if (slackIntegration) {\r\n            setLoadingChannels(true); // eslint-disable-line react-hooks/set-state-in-effect\r\n            fetch(`/api/slack/channels?serviceId=${serviceId}`)\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    if (data.channels) {\r\n                        setSlackChannels(data.channels);\r\n                        // Auto-select first channel if none selected and channels available\r\n                        if (!selectedSlackChannel && data.channels.length > 0) {\r\n                            setSelectedSlackChannel(data.channels[0].name);\r\n                        }\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if (err instanceof Error) {\r\n                        logger.error('Failed to fetch Slack channels', { error: err.message });\r\n                    } else {\r\n                        logger.error('Failed to fetch Slack channels', { error: String(err) });\r\n                    }\r\n                })\r\n                .finally(() => setLoadingChannels(false));\r\n        }\r\n    }, [slackIntegration, serviceId]);\r\n\r\n    const handleChannelToggle = (channel: string) => {\r\n        if (channels.includes(channel)) {\r\n            setChannels(channels.filter(c => c !== channel));\r\n        } else {\r\n            setChannels([...channels, channel]);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: 'grid', gap: '1.5rem' }}>\r\n            {/* Info Box - Service Notifications are Isolated */}\r\n            <div style={{\r\n                padding: '1rem',\r\n                background: '#fef3c7',\r\n                border: '1px solid #f59e0b',\r\n                borderRadius: '0px'\r\n            }}>\r\n                <p style={{ fontSize: '0.85rem', color: '#92400e', margin: 0, lineHeight: 1.6 }}>\r\n                    <strong>≡ƒöö Service Notifications (ISOLATED):</strong>\r\n                    <br />\r\n                    Service notifications are completely separate from escalation and user preferences.\r\n                    <br />\r\n                    They use only the channels configured below and do NOT check user preferences.\r\n                </p>\r\n            </div>\r\n\r\n            {/* Service Notification Channels */}\r\n            <div style={{\r\n                background: 'linear-gradient(180deg, #f8fafc 0%, #ffffff 100%)',\r\n                padding: '1.5rem',\r\n                borderRadius: '0px',\r\n                border: '1px solid var(--border)'\r\n            }}>\r\n                <label style={{\r\n                    marginBottom: '0.75rem',\r\n                    fontWeight: '600',\r\n                    fontSize: '0.95rem',\r\n                    color: 'var(--text-primary)',\r\n                    display: 'block'\r\n                }}>\r\n                    Service Notification Channels\r\n                </label>\r\n                <p style={{ fontSize: '0.85rem', color: 'var(--text-secondary)', marginBottom: '1rem', lineHeight: 1.6 }}>\r\n                    Select which channels to use for service-level notifications. These are isolated from escalation notifications.\r\n                </p>\r\n                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.75rem' }}>\r\n                    {['SLACK', 'WEBHOOK'].map((channel) => (\r\n                        <label\r\n                            key={channel}\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                gap: '0.5rem',\r\n                                padding: '0.5rem 1rem',\r\n                                background: channels.includes(channel) ? '#e0f2fe' : 'white',\r\n                                border: `1px solid ${channels.includes(channel) ? '#3b82f6' : 'var(--border)'}`,\r\n                                borderRadius: '6px',\r\n                                cursor: 'pointer',\r\n                                fontSize: '0.9rem',\r\n                                fontWeight: channels.includes(channel) ? '600' : '400'\r\n                            }}\r\n                        >\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                name=\"serviceNotificationChannels\"\r\n                                value={channel}\r\n                                checked={channels.includes(channel)}\r\n                                onChange={() => handleChannelToggle(channel)}\r\n                                style={{ cursor: 'pointer' }}\r\n                            />\r\n                            {channel}\r\n                        </label>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Slack Integration */}\r\n            {channels.includes('SLACK') && (\r\n                <div style={{\r\n                    background: 'linear-gradient(180deg, #f8fafc 0%, #ffffff 100%)',\r\n                    padding: '1.5rem',\r\n                    borderRadius: '0px',\r\n                    border: '1px solid var(--border)'\r\n                }}>\r\n                    <label style={{\r\n                        marginBottom: '0.75rem',\r\n                        fontWeight: '500',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '0.75rem',\r\n                        fontSize: '0.95rem',\r\n                        color: 'var(--text-primary)'\r\n                    }}>\r\n                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                            <path d=\"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165V11.91h5.042v3.255zm1.271 0a2.527 2.527 0 0 1 2.521-2.523 2.527 2.527 0 0 1 2.52 2.523v6.745H6.313v-6.745zm2.521-5.306V5.841a2.528 2.528 0 0 1 2.52-2.523h2.522a2.528 2.528 0 0 1 2.521 2.523v4.018H10.355zm5.208 0V5.841a2.528 2.528 0 0 0-2.521-2.523h-2.522a2.528 2.528 0 0 0-2.52 2.523v4.018h7.563zm2.522 5.306V11.91H24v3.255a2.528 2.528 0 0 1-2.521 2.523 2.528 2.528 0 0 1-2.52-2.523zm-2.522-5.306V5.841A2.528 2.528 0 0 0 15.624 3.318h-2.522a2.528 2.528 0 0 0-2.521 2.523v4.018h7.563z\" />\r\n                        </svg>\r\n                        Slack Integration\r\n                    </label>\r\n\r\n                    {slackIntegration ? (\r\n                        <div style={{ marginBottom: '1rem' }}>\r\n                            {showSuccessMessage && (\r\n                                <div style={{\r\n                                    padding: '0.75rem',\r\n                                    background: '#d1fae5',\r\n                                    border: '1px solid #10b981',\r\n                                    borderRadius: '6px',\r\n                                    marginBottom: '0.75rem',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem'\r\n                                }}>\r\n                                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#10b981\" strokeWidth=\"2\">\r\n                                        <polyline points=\"20 6 9 17 4 12\" />\r\n                                    </svg>\r\n                                    <p style={{ fontSize: '0.85rem', color: '#065f46', margin: 0, fontWeight: '500' }}>\r\n                                        Successfully connected to Slack! Now select a channel below.\r\n                                    </p>\r\n                                </div>\r\n                            )}\r\n                            <p style={{ fontSize: '0.85rem', color: 'var(--success)', marginBottom: '0.75rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                    <polyline points=\"20 6 9 17 4 12\" />\r\n                                </svg>\r\n                                Connected to {slackIntegration.workspaceName || 'Slack workspace'}\r\n                            </p>\r\n                            <a\r\n                                href={`/api/slack/oauth?serviceId=${serviceId}`}\r\n                                style={{\r\n                                    textDecoration: 'none',\r\n                                    display: 'inline-flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem',\r\n                                    marginRight: '0.5rem',\r\n                                    padding: '0.5rem 1rem',\r\n                                    background: '#4A154B',\r\n                                    color: 'white',\r\n                                    borderRadius: '6px',\r\n                                    fontWeight: '500',\r\n                                    fontSize: '0.85rem',\r\n                                    border: 'none',\r\n                                    cursor: 'pointer'\r\n                                }}\r\n                            >\r\n                                Reconnect\r\n                            </a>\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={async () => {\r\n                                    if (confirm('Disconnect Slack integration?')) {\r\n                                        await fetch(`/api/slack/disconnect?serviceId=${serviceId}`, { method: 'DELETE' });\r\n                                        router.refresh();\r\n                                    }\r\n                                }}\r\n                                className=\"glass-button\"\r\n                                style={{ color: 'var(--danger)' }}\r\n                            >\r\n                                Disconnect\r\n                            </button>\r\n                        </div>\r\n                    ) : (\r\n                        <div style={{ marginBottom: '1rem', padding: '1rem', background: '#f8fafc', border: '1px solid var(--border)', borderRadius: '6px' }}>\r\n                            <p style={{ fontSize: '0.85rem', color: 'var(--text-primary)', marginBottom: '0.75rem', fontWeight: '500' }}>\r\n                                Connect your Slack workspace to receive incident notifications\r\n                            </p>\r\n                            <a\r\n                                href={`/api/slack/oauth?serviceId=${serviceId}`}\r\n                                style={{\r\n                                    textDecoration: 'none',\r\n                                    display: 'inline-flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem',\r\n                                    padding: '0.75rem 1.5rem',\r\n                                    background: '#4A154B',\r\n                                    color: 'white',\r\n                                    borderRadius: '6px',\r\n                                    fontWeight: '600',\r\n                                    fontSize: '0.9rem',\r\n                                    border: 'none',\r\n                                    cursor: 'pointer',\r\n                                    transition: 'all 0.2s',\r\n                                    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                                }}\r\n                                onMouseEnter={(e) => {\r\n                                    e.currentTarget.style.background = '#350d36';\r\n                                    e.currentTarget.style.transform = 'translateY(-1px)';\r\n                                    e.currentTarget.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';\r\n                                }}\r\n                                onMouseLeave={(e) => {\r\n                                    e.currentTarget.style.background = '#4A154B';\r\n                                    e.currentTarget.style.transform = 'translateY(0)';\r\n                                    e.currentTarget.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';\r\n                                }}\r\n                            >\r\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ flexShrink: 0 }}>\r\n                                    <path d=\"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165V11.91h5.042v3.255zm1.271 0a2.527 2.527 0 0 1 2.521-2.523 2.527 2.527 0 0 1 2.52 2.523v6.745H6.313v-6.745zm2.521-5.306V5.841a2.528 2.528 0 0 1 2.52-2.523h2.522a2.528 2.528 0 0 1 2.521 2.523v4.018H10.355zm5.208 0V5.841a2.528 2.528 0 0 0-2.521-2.523h-2.522a2.528 2.528 0 0 0-2.52 2.523v4.018h7.563zm2.522 5.306V11.91H24v3.255a2.528 2.528 0 0 1-2.521 2.523 2.528 2.528 0 0 1-2.52-2.523zm-2.522-5.306V5.841A2.528 2.528 0 0 0 15.624 3.318h-2.522a2.528 2.528 0 0 0-2.521 2.523v4.018h7.563z\" />\r\n                                </svg>\r\n                                Connect to Slack\r\n                            </a>\r\n                            <p style={{ fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.75rem', lineHeight: 1.5 }}>\r\n                                You'll be redirected to Slack to authorize. This is a one-time setup - after authorization, you can select which channel to use for notifications.\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Slack Channel Selector */}\r\n                    {slackIntegration && (\r\n                        <div style={{ marginTop: '1rem', padding: '1rem', background: '#f0f9ff', border: '1px solid #3b82f6', borderRadius: '6px' }}>\r\n                            <label style={{ display: 'block', marginBottom: '0.75rem', fontSize: '0.95rem', fontWeight: '600', color: 'var(--text-primary)' }}>\r\n                                Select Channel for Notifications\r\n                            </label>\r\n                            {loadingChannels ? (\r\n                                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', padding: '1rem', background: 'white', borderRadius: '6px' }}>\r\n                                    <div style={{ width: '16px', height: '16px', border: '2px solid #3b82f6', borderTopColor: 'transparent', borderRadius: '50%', animation: 'spin 1s linear infinite' }}></div>\r\n                                    <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', margin: 0 }}>Loading channels from Slack...</p>\r\n                                </div>\r\n                            ) : slackChannels.length === 0 ? (\r\n                                <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', padding: '1rem', background: 'white', borderRadius: '6px' }}>\r\n                                    No channels found. Make sure the Slack bot is added to the channels you want to use.\r\n                                </p>\r\n                            ) : (\r\n                                <>\r\n                                    <select\r\n                                        name=\"slackChannel\"\r\n                                        value={selectedSlackChannel}\r\n                                        onChange={(e) => setSelectedSlackChannel(e.target.value)}\r\n                                        className=\"focus-border\"\r\n                                        style={{\r\n                                            width: '100%',\r\n                                            padding: '0.75rem',\r\n                                            border: '1px solid var(--border)',\r\n                                            borderRadius: '6px',\r\n                                            fontSize: '0.9rem',\r\n                                            background: 'white',\r\n                                            cursor: 'pointer',\r\n                                            fontWeight: selectedSlackChannel ? '500' : '400'\r\n                                        }}\r\n                                    >\r\n                                        <option value=\"\">Choose a channel...</option>\r\n                                        {slackChannels.map((ch) => (\r\n                                            <option key={ch.id} value={ch.name}>\r\n                                                #{ch.name}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                    {selectedSlackChannel && (\r\n                                        <p style={{ fontSize: '0.85rem', color: 'var(--success)', marginTop: '0.5rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                                <polyline points=\"20 6 9 17 4 12\" />\r\n                                            </svg>\r\n                                            Notifications will be sent to #{selectedSlackChannel}\r\n                                        </p>\r\n                                    )}\r\n                                    <p style={{ fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.5rem' }}>\r\n                                        Select the Slack channel where incident notifications will be posted. Don't forget to save your changes below.\r\n                                    </p>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Legacy Webhook URL (fallback) */}\r\n                    <div style={{ marginTop: '1rem', paddingTop: '1rem', borderTop: '1px solid var(--border)' }}>\r\n                        <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.85rem', fontWeight: '500' }}>\r\n                            Slack Webhook URL (Legacy - Optional)\r\n                        </label>\r\n                        <input\r\n                            name=\"slackWebhookUrl\"\r\n                            defaultValue={slackWebhookUrl || ''}\r\n                            placeholder=\"https://hooks.slack.com/services/...\"\r\n                            className=\"focus-border\"\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '0.75rem',\r\n                                border: '1px solid var(--border)',\r\n                                borderRadius: '0px',\r\n                                fontFamily: 'monospace',\r\n                                fontSize: '0.85rem',\r\n                                background: 'white'\r\n                            }}\r\n                        />\r\n                        <p style={{ fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.5rem' }}>\r\n                            Use this if you prefer webhook over OAuth integration\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Webhook Integrations */}\r\n            {channels.includes('WEBHOOK') && (\r\n                <div style={{\r\n                    background: 'linear-gradient(180deg, #f8fafc 0%, #ffffff 100%)',\r\n                    padding: '1.5rem',\r\n                    borderRadius: '0px',\r\n                    border: '1px solid var(--border)'\r\n                }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n                        <label style={{\r\n                            fontWeight: '500',\r\n                            fontSize: '0.95rem',\r\n                            color: 'var(--text-primary)'\r\n                        }}>\r\n                            Webhook Integrations\r\n                        </label>\r\n                        <a\r\n                            href={`/services/${serviceId}/webhooks/new`}\r\n                            className=\"glass-button primary\"\r\n                            style={{ textDecoration: 'none', fontSize: '0.85rem', padding: '0.5rem 1rem' }}\r\n                        >\r\n                            + Add Webhook\r\n                        </a>\r\n                    </div>\r\n                    {webhookIntegrations.length === 0 ? (\r\n                        <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', fontStyle: 'italic' }}>\r\n                            No webhook integrations configured\r\n                        </p>\r\n                    ) : (\r\n                        <div style={{ display: 'grid', gap: '0.75rem' }}>\r\n                            {webhookIntegrations.map((webhook) => (\r\n                                <div\r\n                                    key={webhook.id}\r\n                                    style={{\r\n                                        padding: '0.75rem',\r\n                                        background: webhook.enabled ? '#f0fdf4' : '#fef2f2',\r\n                                        border: `1px solid ${webhook.enabled ? '#86efac' : '#fca5a5'}`,\r\n                                        borderRadius: '6px',\r\n                                        display: 'flex',\r\n                                        justifyContent: 'space-between',\r\n                                        alignItems: 'center'\r\n                                    }}\r\n                                >\r\n                                    <div>\r\n                                        <div style={{ fontWeight: '500', fontSize: '0.9rem' }}>\r\n                                            {webhook.name} ({webhook.type})\r\n                                        </div>\r\n                                        <div style={{ fontSize: '0.75rem', color: 'var(--text-muted)', fontFamily: 'monospace' }}>\r\n                                            {webhook.url}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\r\n                                        <span style={{\r\n                                            fontSize: '0.75rem',\r\n                                            color: webhook.enabled ? 'var(--success)' : 'var(--danger)',\r\n                                            fontWeight: '600'\r\n                                        }}>\r\n                                            {webhook.enabled ? 'Enabled' : 'Disabled'}\r\n                                        </span>\r\n                                        <a\r\n                                            href={`/services/${serviceId}/webhooks/${webhook.id}/edit`}\r\n                                            className=\"glass-button\"\r\n                                            style={{ textDecoration: 'none', fontSize: '0.75rem', padding: '0.25rem 0.5rem' }}\r\n                                        >\r\n                                            Edit\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\ServiceTabs.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\service\\ServicesFilters.tsx",
    "messages": [
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.",
        "line": 281,
        "column": 37,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&quot;" },
            "fix": {
              "range": [12074, 12113],
              "text": "\r\n                            Search: &quot;"
            },
            "desc": "Replace with `&quot;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&ldquo;" },
            "fix": {
              "range": [12074, 12113],
              "text": "\r\n                            Search: &ldquo;"
            },
            "desc": "Replace with `&ldquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#34;" },
            "fix": {
              "range": [12074, 12113],
              "text": "\r\n                            Search: &#34;"
            },
            "desc": "Replace with `&#34;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rdquo;" },
            "fix": {
              "range": [12074, 12113],
              "text": "\r\n                            Search: &rdquo;"
            },
            "desc": "Replace with `&rdquo;`."
          }
        ]
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.",
        "line": 281,
        "column": 53,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&quot;" },
            "fix": { "range": [12128, 12155], "text": "&quot;\r\n                        " },
            "desc": "Replace with `&quot;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&ldquo;" },
            "fix": { "range": [12128, 12155], "text": "&ldquo;\r\n                        " },
            "desc": "Replace with `&ldquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#34;" },
            "fix": { "range": [12128, 12155], "text": "&#34;\r\n                        " },
            "desc": "Replace with `&#34;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rdquo;" },
            "fix": { "range": [12128, 12155], "text": "&rdquo;\r\n                        " },
            "desc": "Replace with `&rdquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 2,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { useState, useTransition } from 'react';\r\n\r\ntype ServicesFiltersProps = {\r\n    currentSearch?: string;\r\n    currentStatus?: string;\r\n    currentTeam?: string;\r\n    currentSort?: string;\r\n    teams: Array<{ id: string; name: string }>;\r\n};\r\n\r\nexport default function ServicesFilters({ \r\n    currentSearch = '', \r\n    currentStatus = 'all',\r\n    currentTeam = '',\r\n    currentSort = 'name_asc',\r\n    teams\r\n}: ServicesFiltersProps) {\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const [searchQuery, setSearchQuery] = useState(currentSearch);\r\n    const [isPending, startTransition] = useTransition();\r\n\r\n    const updateParams = (updates: Record<string, string>) => {\r\n        const params = new URLSearchParams(searchParams.toString());\r\n        Object.entries(updates).forEach(([key, value]) => {\r\n            if (value === 'all' || value === '' || value === 'name_asc') {\r\n                params.delete(key);\r\n            } else {\r\n                params.set(key, value);\r\n            }\r\n        });\r\n        startTransition(() => {\r\n            router.push(`/services?${params.toString()}`);\r\n        });\r\n    };\r\n\r\n    const handleSearch = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        updateParams({ search: searchQuery.trim() });\r\n    };\r\n\r\n    const clearFilters = () => {\r\n        setSearchQuery('');\r\n        router.push('/services');\r\n    };\r\n\r\n    const hasActiveFilters = currentSearch || currentStatus !== 'all' || currentTeam || currentSort !== 'name_asc';\r\n\r\n    return (\r\n        <div style={{ \r\n            padding: '1.25rem',\r\n            background: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)',\r\n            border: '1px solid var(--border)',\r\n            borderRadius: '0px',\r\n            marginBottom: '1.5rem',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.05)'\r\n        }}>\r\n            <div style={{ \r\n                display: 'flex', \r\n                gap: '1rem', \r\n                flexWrap: 'wrap', \r\n                alignItems: 'flex-end'\r\n            }}>\r\n                {/* Search */}\r\n                <form onSubmit={handleSearch} style={{ flex: '1', minWidth: '250px', maxWidth: '400px' }}>\r\n                    <div style={{ position: 'relative' }}>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                            placeholder=\"Search services by name or description...\"\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '0.625rem 2.5rem 0.625rem 0.875rem',\r\n                                border: '1px solid var(--border)',\r\n                                borderRadius: '0px',\r\n                                background: '#fff',\r\n                                fontSize: '0.9rem',\r\n                                outline: 'none',\r\n                                transition: 'border-color 0.2s'\r\n                            }}\r\n                            onFocus={(e) => e.target.style.borderColor = 'var(--primary)'}\r\n                            onBlur={(e) => e.target.style.borderColor = 'var(--border)'}\r\n                        />\r\n                        <button\r\n                            type=\"submit\"\r\n                            style={{\r\n                                position: 'absolute',\r\n                                right: '0.5rem',\r\n                                top: '50%',\r\n                                transform: 'translateY(-50%)',\r\n                                background: 'transparent',\r\n                                border: 'none',\r\n                                cursor: 'pointer',\r\n                                padding: '0.25rem',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                color: 'var(--text-muted)'\r\n                            }}\r\n                        >\r\n                            <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                <circle cx=\"11\" cy=\"11\" r=\"8\" />\r\n                                <path d=\"m21 21-4.35-4.35\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n\r\n                {/* Status Filter */}\r\n                <div style={{ minWidth: '140px' }}>\r\n                    <label style={{ \r\n                        display: 'block', \r\n                        marginBottom: '0.4rem', \r\n                        fontSize: '0.8rem', \r\n                        fontWeight: '500', \r\n                        color: 'var(--text-secondary)' \r\n                    }}>\r\n                        Status\r\n                    </label>\r\n                    <select\r\n                        value={currentStatus}\r\n                        onChange={(e) => updateParams({ status: e.target.value })}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '0.625rem 0.875rem',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '0px',\r\n                            background: '#fff',\r\n                            fontSize: '0.9rem',\r\n                            cursor: 'pointer',\r\n                            outline: 'none'\r\n                        }}\r\n                    >\r\n                        <option value=\"all\">All Statuses</option>\r\n                        <option value=\"OPERATIONAL\">Operational</option>\r\n                        <option value=\"DEGRADED\">Degraded</option>\r\n                        <option value=\"CRITICAL\">Critical</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Team Filter */}\r\n                <div style={{ minWidth: '160px' }}>\r\n                    <label style={{ \r\n                        display: 'block', \r\n                        marginBottom: '0.4rem', \r\n                        fontSize: '0.8rem', \r\n                        fontWeight: '500', \r\n                        color: 'var(--text-secondary)' \r\n                    }}>\r\n                        Team\r\n                    </label>\r\n                    <select\r\n                        value={currentTeam}\r\n                        onChange={(e) => updateParams({ team: e.target.value })}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '0.625rem 0.875rem',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '0px',\r\n                            background: '#fff',\r\n                            fontSize: '0.9rem',\r\n                            cursor: 'pointer',\r\n                            outline: 'none'\r\n                        }}\r\n                    >\r\n                        <option value=\"\">All Teams</option>\r\n                        {teams.map(team => (\r\n                            <option key={team.id} value={team.id}>{team.name}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Sort */}\r\n                <div style={{ minWidth: '160px' }}>\r\n                    <label style={{ \r\n                        display: 'block', \r\n                        marginBottom: '0.4rem', \r\n                        fontSize: '0.8rem', \r\n                        fontWeight: '500', \r\n                        color: 'var(--text-secondary)' \r\n                    }}>\r\n                        Sort By\r\n                    </label>\r\n                    <select\r\n                        value={currentSort}\r\n                        onChange={(e) => updateParams({ sort: e.target.value })}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '0.625rem 0.875rem',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '0px',\r\n                            background: '#fff',\r\n                            fontSize: '0.9rem',\r\n                            cursor: 'pointer',\r\n                            outline: 'none'\r\n                        }}\r\n                    >\r\n                        <option value=\"name_asc\">Name (A-Z)</option>\r\n                        <option value=\"name_desc\">Name (Z-A)</option>\r\n                        <option value=\"status\">Status</option>\r\n                        <option value=\"incidents_desc\">Most Incidents</option>\r\n                        <option value=\"incidents_asc\">Least Incidents</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Clear Filters */}\r\n                {hasActiveFilters && (\r\n                    <button\r\n                        onClick={clearFilters}\r\n                        style={{\r\n                            padding: '0.625rem 1rem',\r\n                            background: 'transparent',\r\n                            border: '1px solid var(--border)',\r\n                            borderRadius: '0px',\r\n                            cursor: 'pointer',\r\n                            fontSize: '0.9rem',\r\n                            color: 'var(--text-secondary)',\r\n                            whiteSpace: 'nowrap',\r\n                            transition: 'all 0.2s'\r\n                        }}\r\n                        onMouseEnter={(e) => {\r\n                            e.currentTarget.style.borderColor = 'var(--danger)';\r\n                            e.currentTarget.style.color = 'var(--danger)';\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                            e.currentTarget.style.borderColor = 'var(--border)';\r\n                            e.currentTarget.style.color = 'var(--text-secondary)';\r\n                        }}\r\n                    >\r\n                        Clear Filters\r\n                    </button>\r\n                )}\r\n\r\n                {isPending && (\r\n                    <span style={{ \r\n                        fontSize: '0.85rem', \r\n                        color: 'var(--text-muted)',\r\n                        padding: '0.625rem 0',\r\n                        display: 'flex',\r\n                        alignItems: 'center'\r\n                    }}>\r\n                        <svg style={{ \r\n                            animation: 'spin 1s linear infinite', \r\n                            marginRight: '0.5rem',\r\n                            width: '14px',\r\n                            height: '14px'\r\n                        }} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <path d=\"M21 12a9 9 0 11-6.219-8.56\"/>\r\n                        </svg>\r\n                        Loading...\r\n                    </span>\r\n                )}\r\n            </div>\r\n\r\n            {/* Active Filters Display */}\r\n            {hasActiveFilters && (\r\n                <div style={{ \r\n                    marginTop: '1rem', \r\n                    paddingTop: '1rem', \r\n                    borderTop: '1px solid var(--border)',\r\n                    display: 'flex',\r\n                    gap: '0.5rem',\r\n                    flexWrap: 'wrap',\r\n                    alignItems: 'center'\r\n                }}>\r\n                    <span style={{ fontSize: '0.85rem', color: 'var(--text-muted)', fontWeight: '500' }}>\r\n                        Active filters:\r\n                    </span>\r\n                    {currentSearch && (\r\n                        <span style={{ \r\n                            padding: '0.25rem 0.75rem',\r\n                            background: '#e0f2fe',\r\n                            color: '#0c4a6e',\r\n                            borderRadius: '12px',\r\n                            fontSize: '0.8rem',\r\n                            fontWeight: '500'\r\n                        }}>\r\n                            Search: \"{currentSearch}\"\r\n                        </span>\r\n                    )}\r\n                    {currentStatus !== 'all' && (\r\n                        <span style={{ \r\n                            padding: '0.25rem 0.75rem',\r\n                            background: '#fef3c7',\r\n                            color: '#92400e',\r\n                            borderRadius: '12px',\r\n                            fontSize: '0.8rem',\r\n                            fontWeight: '500'\r\n                        }}>\r\n                            Status: {currentStatus}\r\n                        </span>\r\n                    )}\r\n                    {currentTeam && (\r\n                        <span style={{ \r\n                            padding: '0.25rem 0.75rem',\r\n                            background: '#dbeafe',\r\n                            color: '#1e40af',\r\n                            borderRadius: '12px',\r\n                            fontSize: '0.8rem',\r\n                            fontWeight: '500'\r\n                        }}>\r\n                            Team: {teams.find(t => t.id === currentTeam)?.name || 'Unknown'}\r\n                        </span>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\ApiKeysPanel.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\AppUrlSettings.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\ConfirmDialog.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 66,
        "column": 19,
        "nodeType": "MemberExpression",
        "endLine": 66,
        "endColumn": 41
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useEffect, useRef } from 'react';\r\n\r\ntype Props = {\r\n    open: boolean;\r\n    title: string;\r\n    message: string;\r\n    confirmLabel?: string;\r\n    cancelLabel?: string;\r\n    onConfirm: () => void;\r\n    onCancel: () => void;\r\n    variant?: 'danger' | 'warning' | 'info';\r\n};\r\n\r\nexport default function ConfirmDialog({\r\n    open,\r\n    title,\r\n    message,\r\n    confirmLabel = 'Confirm',\r\n    cancelLabel = 'Cancel',\r\n    onConfirm,\r\n    onCancel,\r\n    variant = 'danger'\r\n}: Props) {\r\n    const dialogRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        const handleEscape = (e: KeyboardEvent) => {\r\n            if (e.key === 'Escape' && open) {\r\n                onCancel();\r\n            }\r\n        };\r\n\r\n        if (open) {\r\n            document.addEventListener('keydown', handleEscape);\r\n            document.body.style.overflow = 'hidden';\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener('keydown', handleEscape);\r\n            document.body.style.overflow = '';\r\n        };\r\n    }, [open, onCancel]);\r\n\r\n    if (!open) return null;\r\n\r\n    const variantStyles = {\r\n        danger: {\r\n            confirmBg: 'var(--danger)',\r\n            confirmHover: '#b91c1c',\r\n            icon: '!'\r\n        },\r\n        warning: {\r\n            confirmBg: '#f59e0b',\r\n            confirmHover: '#d97706',\r\n            icon: '!'\r\n        },\r\n        info: {\r\n            confirmBg: '#3b82f6',\r\n            confirmHover: '#2563eb',\r\n            icon: 'i'\r\n        }\r\n    };\r\n\r\n    const style = variantStyles[variant];\r\n\r\n    return (\r\n        <div className=\"confirm-dialog-overlay\" onClick={onCancel}>\r\n            <div \r\n                ref={dialogRef}\r\n                className=\"confirm-dialog\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"confirm-dialog-icon\">{style.icon}</div>\r\n                <h3 className=\"confirm-dialog-title\">{title}</h3>\r\n                <p className=\"confirm-dialog-message\">{message}</p>\r\n                <div className=\"confirm-dialog-actions\">\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={onCancel}\r\n                        className=\"confirm-dialog-button cancel\"\r\n                    >\r\n                        {cancelLabel}\r\n                    </button>\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={onConfirm}\r\n                        className=\"confirm-dialog-button confirm\"\r\n                        style={{\r\n                            background: style.confirmBg,\r\n                            color: '#ffffff'\r\n                        }}\r\n                    >\r\n                        {confirmLabel}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\CopyButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\DangerZoneCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\EncryptionKeyForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\GuidedSlackSetup.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 27,
        "column": 7,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 27,
        "endColumn": 61,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 50,
        "column": 9,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 50,
        "endColumn": 61,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 54,
        "column": 7,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 54,
        "endColumn": 85,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 63,
        "column": 5,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 63,
        "endColumn": 47,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\InfoCallout.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 25,
        "column": 49,
        "nodeType": "MemberExpression",
        "endLine": 25,
        "endColumn": 60
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\ntype InfoCalloutProps = {\r\n    type?: 'info' | 'warning' | 'success' | 'error';\r\n    title?: string;\r\n    children: React.ReactNode;\r\n    className?: string;\r\n};\r\n\r\nexport default function InfoCallout({\r\n    type = 'info',\r\n    title,\r\n    children,\r\n    className = ''\r\n}: InfoCalloutProps) {\r\n    const icons = {\r\n        info: 'Γä╣∩╕Å',\r\n        warning: 'ΓÜá∩╕Å',\r\n        success: 'Γ£ô',\r\n        error: 'Γ£ù'\r\n    };\r\n\r\n    return (\r\n        <div className={`info-callout info-callout-${type} ${className}`.trim()}>\r\n            <div className=\"info-callout-icon\">{icons[type]}</div>\r\n            <div className=\"info-callout-content\">\r\n                {title && <h4 className=\"info-callout-title\">{title}</h4>}\r\n                <div className=\"info-callout-body\">{children}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\NotificationHistory.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchNotifications'. Either include it or remove the dependency array.",
        "line": 77,
        "column": 8,
        "nodeType": "ArrayExpression",
        "endLine": 77,
        "endColumn": 45,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [offset, filterChannel, filterStatus, fetchNotifications]",
            "fix": {
              "range": [2702, 2739],
              "text": "[offset, filterChannel, filterStatus, fetchNotifications]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { logger } from '@/lib/logger';\r\n\r\ntype Notification = {\r\n    id: string;\r\n    channel: string;\r\n    status: string;\r\n    message: string | null;\r\n    incident: {\r\n        id: string;\r\n        title: string;\r\n        status: string;\r\n        urgency: string;\r\n    } | null;\r\n    sentAt: string | null;\r\n    deliveredAt: string | null;\r\n    failedAt: string | null;\r\n    errorMsg: string | null;\r\n    createdAt: string;\r\n};\r\n\r\nexport default function NotificationHistory() {\r\n    const [notifications, setNotifications] = useState<Notification[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [total, setTotal] = useState(0);\r\n    const [offset, setOffset] = useState(0);\r\n    const [limit] = useState(50);\r\n    const [filterChannel, setFilterChannel] = useState<string>('');\r\n    const [filterStatus, setFilterStatus] = useState<string>('');\r\n    const [stats, setStats] = useState({\r\n        total: 0,\r\n        sent: 0,\r\n        pending: 0,\r\n        failed: 0\r\n    });\r\n\r\n    const fetchNotifications = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const params = new URLSearchParams({\r\n                limit: limit.toString(),\r\n                offset: offset.toString()\r\n            });\r\n            if (filterChannel) params.set('channel', filterChannel);\r\n            if (filterStatus) params.set('status', filterStatus);\r\n\r\n            const response = await fetch(`/api/notifications/history?${params.toString()}`);\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setNotifications(data.notifications || []);\r\n                setTotal(data.total || 0);\r\n\r\n                const allNotifications = data.notifications || [];\r\n                const statsData = {\r\n                    total: data.total || 0,\r\n                    sent: allNotifications.filter((n: Notification) => n.status === 'SENT').length,\r\n                    pending: allNotifications.filter((n: Notification) => n.status === 'PENDING').length,\r\n                    failed: allNotifications.filter((n: Notification) => n.status === 'FAILED').length\r\n                };\r\n                setStats(statsData);\r\n            }\r\n        } catch (error) {\r\n            if (error instanceof Error) {\r\n                logger.error('Error fetching notification history', { error: error.message });\r\n            } else {\r\n                logger.error('Error fetching notification history', { error: String(error) });\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchNotifications();\r\n    }, [offset, filterChannel, filterStatus]);\r\n\r\n    const getStatusClass = (status: string) => {\r\n        switch (status) {\r\n            case 'SENT':\r\n                return 'active';\r\n            case 'PENDING':\r\n                return 'pending';\r\n            case 'FAILED':\r\n                return 'revoked';\r\n            default:\r\n                return '';\r\n        }\r\n    };\r\n\r\n    const getChannelIcon = (channel: string) => {\r\n        switch (channel) {\r\n            case 'EMAIL':\r\n                return 'E';\r\n            case 'SMS':\r\n                return 'S';\r\n            case 'PUSH':\r\n                return 'P';\r\n            case 'SLACK':\r\n                return '#';\r\n            case 'WEBHOOK':\r\n                return 'W';\r\n            case 'WHATSAPP':\r\n                return 'WA';\r\n            default:\r\n                return 'N';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"settings-history\">\r\n            <div className=\"settings-summary-grid\">\r\n                <div className=\"settings-summary-card\">\r\n                    <span>Total notifications</span>\r\n                    <strong>{stats.total}</strong>\r\n                    <small>All recent notifications.</small>\r\n                </div>\r\n                <div className=\"settings-summary-card success\">\r\n                    <span>Sent</span>\r\n                    <strong>{stats.sent}</strong>\r\n                    <small>Delivered successfully.</small>\r\n                </div>\r\n                <div className=\"settings-summary-card pending\">\r\n                    <span>Pending</span>\r\n                    <strong>{stats.pending}</strong>\r\n                    <small>Queued or processing.</small>\r\n                </div>\r\n                <div className=\"settings-summary-card danger\">\r\n                    <span>Failed</span>\r\n                    <strong>{stats.failed}</strong>\r\n                    <small>Delivery errors.</small>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"settings-table-card\">\r\n                <div className=\"settings-table-header\">\r\n                    <div className=\"settings-toolbar\">\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => fetchNotifications()}\r\n                            className=\"settings-link-button\"\r\n                            disabled={loading}\r\n                        >\r\n                            Refresh\r\n                        </button>\r\n                        <select\r\n                            value={filterChannel}\r\n                            onChange={(e) => {\r\n                                setFilterChannel(e.target.value);\r\n                                setOffset(0);\r\n                            }}\r\n                            className=\"settings-filter-select\"\r\n                        >\r\n                            <option value=\"\">All Channels</option>\r\n                            <option value=\"EMAIL\">Email</option>\r\n                            <option value=\"SMS\">SMS</option>\r\n                            <option value=\"PUSH\">Push</option>\r\n                            <option value=\"SLACK\">Slack</option>\r\n                            <option value=\"WEBHOOK\">Webhook</option>\r\n                            <option value=\"WHATSAPP\">WhatsApp</option>\r\n                        </select>\r\n\r\n                        <select\r\n                            value={filterStatus}\r\n                            onChange={(e) => {\r\n                                setFilterStatus(e.target.value);\r\n                                setOffset(0);\r\n                            }}\r\n                            className=\"settings-filter-select\"\r\n                        >\r\n                            <option value=\"\">All Statuses</option>\r\n                            <option value=\"PENDING\">Pending</option>\r\n                            <option value=\"SENT\">Sent</option>\r\n                            <option value=\"FAILED\">Failed</option>\r\n                        </select>\r\n\r\n                        <div className=\"settings-toolbar-meta\">\r\n                            Total: {total} notifications\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"settings-empty-state-v2\">\r\n                        <div className=\"settings-empty-icon\">o</div>\r\n                        <h3>Loading history</h3>\r\n                        <p>Fetching the latest delivery events.</p>\r\n                    </div>\r\n                ) : notifications.length === 0 ? (\r\n                    <div className=\"settings-empty-state-v2\">\r\n                        <div className=\"settings-empty-icon\">o</div>\r\n                        <h3>No notifications found</h3>\r\n                        <p>Try adjusting the filters or refresh the list.</p>\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        <div className=\"settings-table-wrapper\">\r\n                            <table className=\"settings-table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Channel</th>\r\n                                        <th>Status</th>\r\n                                        <th>Incident</th>\r\n                                        <th>Created</th>\r\n                                        <th>Sent</th>\r\n                                        <th>Error</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {notifications.map((notification) => (\r\n                                        <tr key={notification.id}>\r\n                                            <td>\r\n                                                <span className=\"settings-channel-pill\">\r\n                                                    <span aria-hidden=\"true\">{getChannelIcon(notification.channel)}</span>\r\n                                                    {notification.channel}\r\n                                                </span>\r\n                                            </td>\r\n                                            <td>\r\n                                                <span className={`settings-status ${getStatusClass(notification.status)}`}>\r\n                                                    {notification.status}\r\n                                                </span>\r\n                                            </td>\r\n                                            <td>\r\n                                                {notification.incident ? (\r\n                                                    <a className=\"settings-link-inline\" href={`/incidents/${notification.incident.id}`}>\r\n                                                        {notification.incident.title}\r\n                                                    </a>\r\n                                                ) : (\r\n                                                    <span className=\"settings-muted\">N/A</span>\r\n                                                )}\r\n                                            </td>\r\n                                            <td className=\"settings-muted\">\r\n                                                {notification.createdAt}\r\n                                            </td>\r\n                                            <td className=\"settings-muted\">\r\n                                                {notification.sentAt || '-'}\r\n                                            </td>\r\n                                            <td className=\"settings-muted\">\r\n                                                {notification.errorMsg || '-'}\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n\r\n                        <div className=\"settings-table-footer\">\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setOffset(Math.max(0, offset - limit))}\r\n                                disabled={offset === 0}\r\n                                className=\"settings-link-button\"\r\n                                style={{ opacity: offset === 0 ? 0.5 : 1 }}\r\n                            >\r\n                                Previous\r\n                            </button>\r\n                            <span className=\"settings-muted\">\r\n                                Showing {offset + 1}-{Math.min(offset + limit, total)} of {total}\r\n                            </span>\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setOffset(offset + limit)}\r\n                                disabled={offset + limit >= total}\r\n                                className=\"settings-link-button\"\r\n                                style={{ opacity: offset + limit >= total ? 0.5 : 1 }}\r\n                            >\r\n                                Next\r\n                            </button>\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\NotificationPreferencesForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\NotificationProviderSettings.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\NotificationProviderTabs.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\PasswordStrength.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\PreferencesForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\ProfileForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\ProviderCard.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 137,
        "column": 7,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 139,
        "endColumn": 8,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 186,
        "column": 7,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 188,
        "endColumn": 8,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\PushProviderSettings.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SecurityForm.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SecurityForm.tsx:36:13\n  34 |     useEffect(() => {\n  35 |         if (state?.success) {\n> 36 |             setNewPassword(''); // eslint-disable-line react-hooks/set-state-in-effect\n     |             ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  37 |             const timer = setTimeout(async () => {\n  38 |                 await signOut({ callbackUrl: '/login' });\n  39 |             }, 1500);",
        "line": 36,
        "column": 13,
        "nodeType": null,
        "endLine": 36,
        "endColumn": 27,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingRow.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsEmptyState.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsHeader.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsIcon.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 82,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 82,
        "endColumn": 23
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\ntype IconProps = {\r\n    name: 'profile' | 'preferences' | 'security' | 'api-keys' | 'system' | 'status-page' | 'help' | 'notifications' | 'slack' | 'custom-fields' | 'search-presets';\r\n    className?: string;\r\n};\r\n\r\nexport default function SettingsIcon({ name, className = '' }: IconProps) {\r\n    const icons = {\r\n        profile: (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n                <path d=\"M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z\" fill=\"currentColor\" fillOpacity=\"0.6\"/>\r\n                <path d=\"M12 14C7.58172 14 4 16.2386 4 19V22H20V19C20 16.2386 16.4183 14 12 14Z\" fill=\"currentColor\" fillOpacity=\"0.6\"/>\r\n            </svg>\r\n        ),\r\n        preferences: (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n                <path d=\"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z\" fill=\"currentColor\" fillOpacity=\"0.6\"/>\r\n                <path d=\"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z\" fill=\"currentColor\" fillOpacity=\"0.6\"/>\r\n            </svg>\r\n        ),\r\n        security: (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n                <path d=\"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 7C13.4 7 14.8 7.6 15.7 8.7L14.2 10.2C13.6 9.4 12.8 9 12 9C10.3 9 9 10.3 9 12C9 13.7 10.3 15 12 15C12.8 15 13.6 14.6 14.2 13.8L15.7 15.3C14.8 16.4 13.4 17 12 17C9.2 17 7 14.8 7 12C7 9.2 9.2 7 12 7Z\" fill=\"currentColor\" fillOpacity=\"0.6\"/>\r\n            </svg>\r\n        ),\r\n        'api-keys': (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n                <path d=\"M17 8C17 10.7614 14.7614 13 12 13C9.23858 13 7 10.7614 7 8C7 5.23858 9.23858 3 12 3C14.7614 3 17 5.23858 17 8Z\" fill=\"currentColor\" fillOpacity=\"0.6\"/>\r\n                <path d=\"M12 15C16.4183 15 20 17.5817 20 22H4C4 17.5817 7.58172 15 12 15Z\" fill=\"currentColor\" fillOpacity=\"0.6\"/>\r\n            </svg>\r\n        ),\r\n        system: (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n                <path d=\"M12 2L2 7V12C2 17.55 6.84 22.74 12 24C17.16 22.74 22 17.55 22 12V7L12 2Z\" fill=\"currentColor\" fillOpacity=\"0.6\"/>\r\n                <path d=\"M12 8C13.6569 8 15 9.34315 15 11C15 12.6569 13.6569 14 12 14C10.3431 14 9 12.6569 9 11C9 9.34315 10.3431 8 12 8Z\" fill=\"currentColor\"/>\r\n            </svg>\r\n        ),\r\n        'status-page': (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n                <rect x=\"3\" y=\"4\" width=\"18\" height=\"14\" rx=\"2\" fill=\"currentColor\" fillOpacity=\"0.6\" />\r\n                <path d=\"M7 10H17\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\r\n                <circle cx=\"9\" cy=\"15\" r=\"1.5\" fill=\"currentColor\" />\r\n                <circle cx=\"13\" cy=\"15\" r=\"1.5\" fill=\"currentColor\" />\r\n                <circle cx=\"17\" cy=\"15\" r=\"1.5\" fill=\"currentColor\" />\r\n            </svg>\r\n        ),\r\n        help: (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n                <path d=\"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 19H11V17H13V19ZM15.07 11.25L14.17 12.17C13.45 12.9 13 13.5 13 15H11V14.5C11 13.67 11.45 12.9 12.17 12.17L13.07 11.27C13.55 10.82 13.8 10.2 13.8 9.5C13.8 8.12 12.68 7 11.3 7C9.92 7 8.8 8.12 8.8 9.5H10.8C10.8 9.05 11.15 8.7 11.6 8.7C12.05 8.7 12.4 9.05 12.4 9.5C12.4 9.95 12.05 10.3 11.6 10.3C11.15 10.3 10.8 9.95 10.8 9.5H8.8C8.8 7.29 10.59 5.5 12.8 5.5C15.01 5.5 16.8 7.29 16.8 9.5C16.8 10.5 16.35 11.4 15.07 11.25Z\" fill=\"currentColor\" fillOpacity=\"0.6\"/>\r\n            </svg>\r\n        ),\r\n        notifications: (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n                <path d=\"M18 8A6 6 0 0 0 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z\" fill=\"currentColor\" fillOpacity=\"0.6\"/>\r\n                <path d=\"M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n            </svg>\r\n        ),\r\n        slack: (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n                <path d=\"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165V11.91h5.042v3.255zm1.271 0a2.527 2.527 0 0 1 2.521-2.523 2.527 2.527 0 0 1 2.52 2.523v6.745H6.313v-6.745zm2.521-5.306V5.841a2.528 2.528 0 0 1 2.52-2.523h2.522a2.528 2.528 0 0 1 2.521 2.523v4.018H10.355zm5.208 0V5.841a2.528 2.528 0 0 0-2.521-2.523h-2.522a2.528 2.528 0 0 0-2.52 2.523v4.018h7.563zm2.522 5.306V11.91H24v3.255a2.528 2.528 0 0 1-2.521 2.523 2.528 2.528 0 0 1-2.52-2.523zm-2.522-5.306V5.841A2.528 2.528 0 0 0 15.624 3.318h-2.522a2.528 2.528 0 0 0-2.521 2.523v4.018h7.563z\" fill=\"currentColor\" fillOpacity=\"0.6\"/>\r\n            </svg>\r\n        ),\r\n        'custom-fields': (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n                <rect x=\"3\" y=\"4\" width=\"18\" height=\"16\" rx=\"2\" fill=\"currentColor\" fillOpacity=\"0.15\" />\r\n                <path d=\"M7 8H17\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" />\r\n                <path d=\"M7 12H13\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" />\r\n                <path d=\"M7 16H11\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" />\r\n            </svg>\r\n        ),\r\n        'search-presets': (\r\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n                <circle cx=\"10.5\" cy=\"10.5\" r=\"6.5\" stroke=\"currentColor\" strokeWidth=\"1.6\" />\r\n                <path d=\"M16 16L20 20\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" />\r\n                <path d=\"M7.5 10.5H13.5\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" />\r\n                <path d=\"M10.5 7.5V13.5\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" />\r\n            </svg>\r\n        )\r\n    };\r\n\r\n    return icons[name] || null;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsLayoutShell.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsNav.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsPage.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsPageHeader.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsSearch.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 76,
        "column": 25,
        "nodeType": "MemberExpression",
        "endLine": 76,
        "endColumn": 52
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.",
        "line": 108,
        "column": 59,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&quot;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for &quot;security\" or \"billing\".\r\n                        "
            },
            "desc": "Replace with `&quot;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&ldquo;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for &ldquo;security\" or \"billing\".\r\n                        "
            },
            "desc": "Replace with `&ldquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#34;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for &#34;security\" or \"billing\".\r\n                        "
            },
            "desc": "Replace with `&#34;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rdquo;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for &rdquo;security\" or \"billing\".\r\n                        "
            },
            "desc": "Replace with `&rdquo;`."
          }
        ]
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.",
        "line": 108,
        "column": 68,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&quot;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security&quot; or \"billing\".\r\n                        "
            },
            "desc": "Replace with `&quot;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&ldquo;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security&ldquo; or \"billing\".\r\n                        "
            },
            "desc": "Replace with `&ldquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#34;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security&#34; or \"billing\".\r\n                        "
            },
            "desc": "Replace with `&#34;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rdquo;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security&rdquo; or \"billing\".\r\n                        "
            },
            "desc": "Replace with `&rdquo;`."
          }
        ]
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.",
        "line": 108,
        "column": 73,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&quot;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security\" or &quot;billing\".\r\n                        "
            },
            "desc": "Replace with `&quot;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&ldquo;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security\" or &ldquo;billing\".\r\n                        "
            },
            "desc": "Replace with `&ldquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#34;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security\" or &#34;billing\".\r\n                        "
            },
            "desc": "Replace with `&#34;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rdquo;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security\" or &rdquo;billing\".\r\n                        "
            },
            "desc": "Replace with `&rdquo;`."
          }
        ]
      },
      {
        "ruleId": "react/no-unescaped-entities",
        "severity": 2,
        "message": "`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.",
        "line": 108,
        "column": 81,
        "nodeType": "JSXText",
        "messageId": "unescapedEntityAlts",
        "suggestions": [
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&quot;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security\" or \"billing&quot;.\r\n                        "
            },
            "desc": "Replace with `&quot;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&ldquo;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security\" or \"billing&ldquo;.\r\n                        "
            },
            "desc": "Replace with `&ldquo;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&#34;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security\" or \"billing&#34;.\r\n                        "
            },
            "desc": "Replace with `&#34;`."
          },
          {
            "messageId": "replaceWithAlt",
            "data": { "alt": "&rdquo;" },
            "fix": {
              "range": [3866, 3976],
              "text": "\r\n                            No matches. Try searching for \"security\" or \"billing&rdquo;.\r\n                        "
            },
            "desc": "Replace with `&rdquo;`."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsSearch.tsx:58:9\n  56 |\n  57 |     useEffect(() => {\n> 58 |         setActiveIndex(displayResults.length > 0 ? 0 : -1); // eslint-disable-line react-hooks/set-state-in-effect\n     |         ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  59 |     }, [displayResults.length, query]);\n  60 |\n  61 |     const handleInputKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {",
        "line": 58,
        "column": 9,
        "nodeType": null,
        "endLine": 58,
        "endColumn": 23,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useEffect, useMemo, useRef, useState, useId } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport type { SettingsNavItem } from '@/components/settings/navConfig';\r\n\r\ntype Props = {\r\n    items: SettingsNavItem[];\r\n    placeholder?: string;\r\n    variant?: 'default' | 'drawer';\r\n    enableHotkey?: boolean;\r\n};\r\n\r\nexport default function SettingsSearch({\r\n    items,\r\n    placeholder = 'Search settings',\r\n    variant = 'default',\r\n    enableHotkey = true\r\n}: Props) {\r\n    const router = useRouter();\r\n    const [query, setQuery] = useState('');\r\n    const [activeIndex, setActiveIndex] = useState(-1);\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n    const id = useId();\r\n    const listboxId = `settings-search-${id}`;\r\n\r\n    const results = useMemo(() => {\r\n        const normalized = query.trim().toLowerCase();\r\n        if (!normalized) return [];\r\n        return items.filter((item) => {\r\n            const haystack = [\r\n                item.label,\r\n                item.description,\r\n                ...(item.keywords || [])\r\n            ]\r\n                .join(' ')\r\n                .toLowerCase();\r\n            return haystack.includes(normalized);\r\n        });\r\n    }, [items, query]);\r\n    const displayResults = useMemo(() => results.slice(0, 8), [results]);\r\n\r\n    useEffect(() => {\r\n        if (!enableHotkey) return;\r\n\r\n        const handleHotkey = (event: KeyboardEvent) => {\r\n            if ((event.ctrlKey || event.metaKey) && event.key.toLowerCase() === 'k') {\r\n                event.preventDefault();\r\n                inputRef.current?.focus();\r\n            }\r\n        };\r\n\r\n        document.addEventListener('keydown', handleHotkey);\r\n        return () => document.removeEventListener('keydown', handleHotkey);\r\n    }, [enableHotkey]);\r\n\r\n    useEffect(() => {\r\n        setActiveIndex(displayResults.length > 0 ? 0 : -1); // eslint-disable-line react-hooks/set-state-in-effect\r\n    }, [displayResults.length, query]);\r\n\r\n    const handleInputKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (!displayResults.length) return;\r\n\r\n        if (event.key === 'ArrowDown') {\r\n            event.preventDefault();\r\n            setActiveIndex((prev) => (prev + 1) % displayResults.length);\r\n        }\r\n\r\n        if (event.key === 'ArrowUp') {\r\n            event.preventDefault();\r\n            setActiveIndex((prev) => (prev <= 0 ? displayResults.length - 1 : prev - 1));\r\n        }\r\n\r\n        if (event.key === 'Enter' && activeIndex >= 0) {\r\n            event.preventDefault();\r\n            router.push(displayResults[activeIndex].href);\r\n            setQuery('');\r\n        }\r\n\r\n        if (event.key === 'Escape') {\r\n            setQuery('');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`settings-search ${variant}`}>\r\n            <div className=\"settings-search-input\">\r\n                <input\r\n                    type=\"search\"\r\n                    value={query}\r\n                    onChange={(event) => setQuery(event.target.value)}\r\n                    onKeyDown={handleInputKeyDown}\r\n                    placeholder={placeholder}\r\n                    aria-label={placeholder}\r\n                    aria-expanded={query.length > 0}\r\n                    aria-controls={listboxId}\r\n                    aria-activedescendant={activeIndex >= 0 ? `${listboxId}-option-${activeIndex}` : undefined}\r\n                    aria-autocomplete=\"list\"\r\n                    role=\"combobox\"\r\n                    ref={inputRef}\r\n                />\r\n                {enableHotkey && <span aria-hidden=\"true\">Ctrl+K</span>}\r\n            </div>\r\n            {query && (\r\n                <div className=\"settings-search-results\" role=\"listbox\" id={listboxId}>\r\n                    {displayResults.length === 0 ? (\r\n                        <div className=\"settings-search-empty\">\r\n                            No matches. Try searching for \"security\" or \"billing\".\r\n                        </div>\r\n                    ) : (\r\n                        displayResults.map((item, index) => (\r\n                            <button\r\n                                key={item.id}\r\n                                type=\"button\"\r\n                                className={`settings-search-item ${activeIndex === index ? 'is-active' : ''}`}\r\n                                id={`${listboxId}-option-${index}`}\r\n                                role=\"option\"\r\n                                aria-selected={activeIndex === index}\r\n                                onClick={() => router.push(item.href)}\r\n                            >\r\n                                <div>\r\n                                    <strong>{item.label}</strong>\r\n                                    <span>{item.description}</span>\r\n                                </div>\r\n                                <span>Enter</span>\r\n                            </button>\r\n                        ))\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsSection.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsSectionCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsShell.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SettingsSkeleton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SlackIntegrationPage.tsx",
    "messages": [
      {
        "ruleId": null,
        "message": "Unused eslint-disable directive (no problems were reported from 'no-alert').",
        "line": 79,
        "column": 5,
        "severity": 1,
        "nodeType": null,
        "fix": { "range": [2453, 2489], "text": " " }
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 81,
        "column": 7,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 83,
        "endColumn": 8
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SlackIntegrationPage.tsx:49:7\n  47 |     const params = new URLSearchParams(window.location.search);\n  48 |     if (params.get('slack_connected') === 'true') {\n> 49 |       setShowSuccessMessage(true); // eslint-disable-line react-hooks/set-state-in-effect\n     |       ^^^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  50 |       window.history.replaceState({}, '', window.location.pathname);\n  51 |       setTimeout(() => setShowSuccessMessage(false), 5000);\n  52 |       setTimeout(() => router.refresh(), 1000);",
        "line": 49,
        "column": 7,
        "nodeType": null,
        "endLine": 49,
        "endColumn": 28,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SlackIntegrationPage.tsx:59:7\n  57 |   useEffect(() => {\n  58 |     if (integration) {\n> 59 |       setLoadingChannels(true); // eslint-disable-line react-hooks/set-state-in-effect\n     |       ^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  60 |       fetch('/api/slack/channels')\n  61 |         .then(res => res.json())\n  62 |         .then(data => {",
        "line": 59,
        "column": 7,
        "nodeType": null,
        "endLine": 59,
        "endColumn": 25,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 1,
    "source": "'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { logger } from '@/lib/logger';\r\nimport { useRouter } from 'next/navigation';\r\nimport SettingsSectionCard from '@/components/settings/SettingsSectionCard';\r\nimport DangerZoneCard from '@/components/settings/DangerZoneCard';\r\nimport GuidedSlackSetup from '@/components/settings/GuidedSlackSetup';\r\n\r\ninterface SlackIntegration {\r\n  id: string;\r\n  workspaceId: string;\r\n  workspaceName: string | null;\r\n  enabled: boolean;\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n  installer: {\r\n    id: string;\r\n    name: string;\r\n    email: string;\r\n  };\r\n}\r\n\r\ninterface SlackIntegrationPageProps {\r\n  integration: SlackIntegration | null;\r\n  isOAuthConfigured: boolean;\r\n  isAdmin: boolean;\r\n}\r\n\r\ninterface SlackChannel {\r\n  id: string;\r\n  name: string;\r\n}\r\n\r\nexport default function SlackIntegrationPage({\r\n  integration,\r\n  isOAuthConfigured,\r\n  isAdmin,\r\n}: SlackIntegrationPageProps) {\r\n  const router = useRouter();\r\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\r\n  const [channels, setChannels] = useState<SlackChannel[]>([]);\r\n  const [loadingChannels, setLoadingChannels] = useState(false);\r\n\r\n  // Check if Slack was just connected (from URL param)\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(window.location.search);\r\n    if (params.get('slack_connected') === 'true') {\r\n      setShowSuccessMessage(true); // eslint-disable-line react-hooks/set-state-in-effect\r\n      window.history.replaceState({}, '', window.location.pathname);\r\n      setTimeout(() => setShowSuccessMessage(false), 5000);\r\n      setTimeout(() => router.refresh(), 1000);\r\n    }\r\n  }, [router]);\r\n\r\n  // Load channels when integration exists\r\n  useEffect(() => {\r\n    if (integration) {\r\n      setLoadingChannels(true); // eslint-disable-line react-hooks/set-state-in-effect\r\n      fetch('/api/slack/channels')\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if (data.channels) {\r\n            setChannels(data.channels);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          if (err instanceof Error) {\r\n            logger.error('Failed to fetch Slack channels', { error: err.message });\r\n          } else {\r\n            logger.error('Failed to fetch Slack channels', { error: String(err) });\r\n          }\r\n        })\r\n        .finally(() => setLoadingChannels(false));\r\n    }\r\n  }, [integration]);\r\n\r\n  const handleDisconnect = async () => {\r\n    // eslint-disable-next-line no-alert\r\n    if (\r\n      confirm(\r\n        'Disconnect Slack integration? This will remove Slack notifications for all services.'\r\n      )\r\n    ) {\r\n      await fetch('/api/slack/disconnect', { method: 'DELETE' });\r\n      router.refresh();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SettingsSectionCard\r\n      title=\"Slack integration\"\r\n      description=\"Connect your Slack workspace to receive incident notifications. Once connected, configure channels per service.\"\r\n    >\r\n      {/* Guided Setup Wizard (Admin Only) */}\r\n      {!isOAuthConfigured && isAdmin && <GuidedSlackSetup />}\r\n\r\n      {/* Not Configured Warning (Non-Admin) */}\r\n      {!isOAuthConfigured && !isAdmin && (\r\n        <div className=\"settings-slack-banner error\">\r\n          <div className=\"settings-slack-icon\" aria-hidden=\"true\">\r\n            <svg\r\n              width=\"24\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n            >\r\n              <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n              <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\" />\r\n              <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\" />\r\n            </svg>\r\n          </div>\r\n          <h3>Setup Required</h3>\r\n          <p>\r\n            Slack integration needs to be configured by an administrator first. Please contact your\r\n            admin to set up Slack OAuth credentials.\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Integration Status */}\r\n      <div className=\"settings-slack-card\">\r\n        {integration ? (\r\n          <>\r\n            {showSuccessMessage && (\r\n              <div className=\"settings-alert success\">\r\n                Successfully connected to Slack! You can now configure channels for your services.\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"settings-slack-status\">\r\n              <div className=\"settings-slack-logo\" aria-hidden=\"true\">\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"white\">\r\n                  <path d=\"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165V11.91h5.042v3.255zm1.271 0a2.527 2.527 0 0 1 2.521-2.523 2.527 2.527 0 0 1 2.52 2.523v6.745H6.313v-6.745zm2.521-5.306V5.841a2.528 2.528 0 0 1 2.52-2.523h2.522a2.528 2.528 0 0 1 2.521 2.523v4.018H10.355zm5.208 0V5.841a2.528 2.528 0 0 0-2.521-2.523h-2.522a2.528 2.528 0 0 0-2.52 2.523v4.018h7.563zm2.522 5.306V11.91H24v3.255a2.528 2.528 0 0 1-2.521 2.523 2.528 2.528 0 0 1-2.52-2.523zm-2.522-5.306V5.841A2.528 2.528 0 0 0 15.624 3.318h-2.522a2.528 2.528 0 0 0-2.521 2.523v4.018h7.563z\" />\r\n                </svg>\r\n              </div>\r\n              <div className=\"settings-slack-meta\">\r\n                <h3>{integration.workspaceName || 'Slack Workspace'}</h3>\r\n                <p>\r\n                  Connected by {integration.installer.name} -{' '}\r\n                  {new Date(integration.updatedAt).toLocaleDateString()}\r\n                </p>\r\n              </div>\r\n              <span\r\n                className={`settings-slack-pill ${integration.enabled ? 'active' : 'disabled'}`}\r\n              >\r\n                {integration.enabled ? 'Active' : 'Disabled'}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"settings-slack-actions\">\r\n              <a href=\"/api/slack/oauth\" className=\"settings-slack-connect\">\r\n                Reconnect\r\n              </a>\r\n            </div>\r\n\r\n            {/* Available Channels */}\r\n            <div className=\"settings-slack-channel-card\">\r\n              <h4>Available Channels</h4>\r\n              {loadingChannels ? (\r\n                <p className=\"settings-muted\">Loading channels...</p>\r\n              ) : channels.length === 0 ? (\r\n                <p className=\"settings-muted\">\r\n                  No channels found. Make sure the Slack bot is added to the channels you want to\r\n                  use.\r\n                </p>\r\n              ) : (\r\n                <div className=\"settings-slack-channel-list\">\r\n                  {channels.slice(0, 10).map(ch => (\r\n                    <div key={ch.id} className=\"settings-slack-channel-item\">\r\n                      #{ch.name}\r\n                    </div>\r\n                  ))}\r\n                  {channels.length > 10 && (\r\n                    <p className=\"settings-muted\">+ {channels.length - 10} more channels</p>\r\n                  )}\r\n                </div>\r\n              )}\r\n              <p className=\"settings-muted\">\r\n                Configure which channel to use for each service in the service settings page.\r\n              </p>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"settings-slack-center\">\r\n            <div className=\"settings-slack-empty-icon\" aria-hidden=\"true\">\r\n              <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"#6b7280\">\r\n                <path d=\"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165V11.91h5.042v3.255zm1.271 0a2.527 2.527 0 0 1 2.521-2.523 2.527 2.527 0 0 1 2.52 2.523v6.745H6.313v-6.745zm2.521-5.306V5.841a2.528 2.528 0 0 1 2.52-2.523h2.522a2.528 2.528 0 0 1 2.521 2.523v4.018H10.355zm5.208 0V5.841a2.528 2.528 0 0 0-2.521-2.523h-2.522a2.528 2.528 0 0 0-2.52 2.523v4.018h7.563zm2.522 5.306V11.91H24v3.255a2.528 2.528 0 0 1-2.521 2.523 2.528 2.528 0 0 1-2.52-2.523zm-2.522-5.306V5.841A2.528 2.528 0 0 0 15.624 3.318h-2.522a2.528 2.528 0 0 0-2.521 2.523v4.018h7.563z\" />\r\n              </svg>\r\n            </div>\r\n            <h3>Connect Your Slack Workspace</h3>\r\n            <p>\r\n              Connect Slack to receive incident notifications. You&apos;ll be able to choose which\r\n              channels to use for each service.\r\n            </p>\r\n            {isOAuthConfigured ? (\r\n              <a href=\"/api/slack/oauth\" className=\"settings-slack-connect\">\r\n                Connect to Slack\r\n              </a>\r\n            ) : (\r\n              <p className=\"settings-muted\">\r\n                Slack OAuth must be configured first. Use the setup wizard above.\r\n              </p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {integration && (\r\n        <DangerZoneCard\r\n          title=\"Disconnect Slack\"\r\n          description=\"Disconnecting removes Slack notifications for all services.\"\r\n        >\r\n          <button type=\"button\" onClick={handleDisconnect} className=\"settings-link-button danger\">\r\n            Disconnect Slack integration\r\n          </button>\r\n        </DangerZoneCard>\r\n      )}\r\n    </SettingsSectionCard>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SmsProviderSettings.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'useTransition' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 3,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 23
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useTransition } from 'react';\r\nimport FormField from '@/components/ui/FormField';\r\nimport Button from '@/components/ui/Button';\r\nimport type { SmsProvider, SmsSettings } from '@/types/notification-types';\r\n\r\ninterface SmsProviderSettingsProps {\r\n  enabled: boolean;\r\n  provider: SmsProvider;\r\n  twilioAccountSid: string;\r\n  twilioAuthToken: string;\r\n  twilioFromNumber: string;\r\n  awsRegion: string;\r\n  awsAccessKeyId: string;\r\n  awsSecretAccessKey: string;\r\n  onEnabledChange: (enabled: boolean) => void;\r\n  onProviderChange: (provider: SmsProvider) => void;\r\n  onTwilioAccountSidChange: (value: string) => void;\r\n  onTwilioAuthTokenChange: (value: string) => void;\r\n  onTwilioFromNumberChange: (value: string) => void;\r\n  onAwsRegionChange: (value: string) => void;\r\n  onAwsAccessKeyIdChange: (value: string) => void;\r\n  onAwsSecretAccessKeyChange: (value: string) => void;\r\n  onTestSms: () => Promise<void>;\r\n  isPending: boolean;\r\n}\r\n\r\nexport default function SmsProviderSettings({\r\n  enabled,\r\n  provider,\r\n  twilioAccountSid,\r\n  twilioAuthToken,\r\n  twilioFromNumber,\r\n  awsRegion,\r\n  awsAccessKeyId,\r\n  awsSecretAccessKey,\r\n  onEnabledChange,\r\n  onProviderChange,\r\n  onTwilioAccountSidChange,\r\n  onTwilioAuthTokenChange,\r\n  onTwilioFromNumberChange,\r\n  onAwsRegionChange,\r\n  onAwsAccessKeyIdChange,\r\n  onAwsSecretAccessKeyChange,\r\n  onTestSms,\r\n  isPending,\r\n}: SmsProviderSettingsProps) {\r\n  return (\r\n    <section className=\"settings-subsection\">\r\n      <div className=\"settings-subsection-header\">\r\n        <div>\r\n          <h3>SMS Notifications</h3>\r\n          <p>Configure SMS provider for incident notifications.</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"settings-subsection-body\">\r\n        <FormField\r\n          type=\"switch\"\r\n          label=\"Enable SMS Notifications\"\r\n          checked={enabled}\r\n          onChange={onEnabledChange}\r\n        />\r\n\r\n        {enabled && (\r\n          <>\r\n            <FormField\r\n              type=\"select\"\r\n              label=\"SMS Provider\"\r\n              value={provider}\r\n              onChange={e => onProviderChange(e.target.value as SmsProvider)}\r\n              options={[\r\n                { value: 'twilio', label: 'Twilio' },\r\n                { value: 'aws-sns', label: 'AWS SNS' },\r\n              ]}\r\n              fullWidth\r\n            />\r\n\r\n            {provider === 'twilio' && (\r\n              <>\r\n                <FormField\r\n                  type=\"input\"\r\n                  label=\"Twilio Account SID\"\r\n                  inputType=\"text\"\r\n                  value={twilioAccountSid}\r\n                  onChange={e => onTwilioAccountSidChange(e.target.value)}\r\n                  placeholder=\"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\r\n                  fullWidth\r\n                />\r\n                <FormField\r\n                  type=\"input\"\r\n                  label=\"Twilio Auth Token\"\r\n                  inputType=\"password\"\r\n                  value={twilioAuthToken}\r\n                  onChange={e => onTwilioAuthTokenChange(e.target.value)}\r\n                  placeholder=\"Your auth token\"\r\n                  fullWidth\r\n                />\r\n                <FormField\r\n                  type=\"input\"\r\n                  label=\"From Phone Number\"\r\n                  inputType=\"tel\"\r\n                  value={twilioFromNumber}\r\n                  onChange={e => onTwilioFromNumberChange(e.target.value)}\r\n                  placeholder=\"+1234567890\"\r\n                  helperText=\"E.164 format (e.g., +1234567890)\"\r\n                  fullWidth\r\n                />\r\n                <div className=\"settings-note info\">\r\n                  <strong>Note: Twilio Trial Account</strong>\r\n                  <br />\r\n                  Trial accounts can only send SMS to verified phone numbers. Verify recipient\r\n                  numbers at{' '}\r\n                  <a\r\n                    href=\"https://twilio.com/user/account/phone-numbers/verified\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"settings-link-inline\"\r\n                  >\r\n                    twilio.com/user/account/phone-numbers/verified\r\n                  </a>{' '}\r\n                  or upgrade your Twilio account to send to any number.\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {provider === 'aws-sns' && (\r\n              <>\r\n                <FormField\r\n                  type=\"input\"\r\n                  label=\"AWS Region\"\r\n                  inputType=\"text\"\r\n                  value={awsRegion}\r\n                  onChange={e => onAwsRegionChange(e.target.value)}\r\n                  placeholder=\"us-east-1\"\r\n                  fullWidth\r\n                />\r\n                <FormField\r\n                  type=\"input\"\r\n                  label=\"AWS Access Key ID\"\r\n                  inputType=\"text\"\r\n                  value={awsAccessKeyId}\r\n                  onChange={e => onAwsAccessKeyIdChange(e.target.value)}\r\n                  placeholder=\"AKIAIOSFODNN7EXAMPLE\"\r\n                  fullWidth\r\n                />\r\n                <FormField\r\n                  type=\"input\"\r\n                  label=\"AWS Secret Access Key\"\r\n                  inputType=\"password\"\r\n                  value={awsSecretAccessKey}\r\n                  onChange={e => onAwsSecretAccessKeyChange(e.target.value)}\r\n                  placeholder=\"Your secret key\"\r\n                  fullWidth\r\n                />\r\n              </>\r\n            )}\r\n\r\n            <div className=\"settings-inline-actions\">\r\n              <Button variant=\"secondary\" onClick={onTestSms} disabled={isPending}>\r\n                Test SMS\r\n              </Button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n/**\r\n * Helper to build SMS settings object from component state\r\n */\r\nexport function buildSmsSettings(\r\n  enabled: boolean,\r\n  provider: SmsProvider,\r\n  twilioAccountSid: string,\r\n  twilioAuthToken: string,\r\n  twilioFromNumber: string,\r\n  awsRegion: string,\r\n  awsAccessKeyId: string,\r\n  awsSecretAccessKey: string\r\n): SmsSettings {\r\n  return {\r\n    enabled,\r\n    provider,\r\n    ...(provider === 'twilio' && {\r\n      accountSid: twilioAccountSid,\r\n      authToken: twilioAuthToken,\r\n      fromNumber: twilioFromNumber,\r\n    }),\r\n    ...(provider === 'aws-sns' && {\r\n      region: awsRegion,\r\n      accessKeyId: awsAccessKeyId,\r\n      secretAccessKey: awsSecretAccessKey,\r\n    }),\r\n  };\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SsoSettingsForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\StickyActionBar.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\SystemNotificationSettings.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\WhatsappProviderSettings.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\settings\\navConfig.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageAnnouncements.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageEmailConfig.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 24,
        "column": 34,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 24,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [939, 942], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [939, 942], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 25,
        "column": 30,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 25,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1108, 1111], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1108, 1111], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 51,
        "column": 17,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 51,
        "endColumn": 53,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 55,
        "column": 17,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 55,
        "endColumn": 66,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 64,
        "column": 13,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 64,
        "endColumn": 61,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageHeader.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 45,
        "column": 20,
        "nodeType": "MemberExpression",
        "endLine": 45,
        "endColumn": 48
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 156,
        "column": 33,
        "nodeType": "JSXOpeningElement",
        "endLine": 168,
        "endColumn": 35
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 13,
        "column": 16,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 13,
        "endColumn": 19,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [350, 353], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [350, 353], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageHeader.tsx:53:9\n  51 |\n  52 |     useEffect(() => {\n> 53 |         setIsVisible(true); // eslint-disable-line react-hooks/set-state-in-effect\n     |         ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  54 |     }, []);\n  55 |\n  56 |     useEffect(() => {",
        "line": 53,
        "column": 9,
        "nodeType": null,
        "endLine": 53,
        "endColumn": 21,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageHeader.tsx:58:13\n  56 |     useEffect(() => {\n  57 |         if (!lastUpdated) {\n> 58 |             setUpdatedLabel(null); // eslint-disable-line react-hooks/set-state-in-effect\n     |             ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  59 |             return;\n  60 |         }\n  61 |",
        "line": 58,
        "column": 13,
        "nodeType": null,
        "endLine": 58,
        "endColumn": 28,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { formatDateTime } from '@/lib/timezone';\r\n\r\ninterface StatusPageHeaderProps {\r\n    statusPage: {\r\n        name: string;\r\n        contactEmail?: string | null;\r\n        contactUrl?: string | null;\r\n    };\r\n    overallStatus: 'operational' | 'degraded' | 'outage';\r\n    branding?: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    lastUpdated?: string;\r\n}\r\n\r\nconst STATUS_CONFIG = {\r\n    operational: {\r\n        badge: 'Operational',\r\n        text: 'All systems operational',\r\n        color: '#16a34a',\r\n        background: 'linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)',\r\n        border: '#86efac',\r\n        pulse: true,\r\n    },\r\n    degraded: {\r\n        badge: 'Degraded',\r\n        text: 'Some systems experiencing issues',\r\n        color: '#d97706',\r\n        background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\r\n        border: '#fcd34d',\r\n        pulse: true,\r\n    },\r\n    outage: {\r\n        badge: 'Outage',\r\n        text: 'Some systems are down',\r\n        color: '#dc2626',\r\n        background: 'linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)',\r\n        border: '#fca5a5',\r\n        pulse: true,\r\n    },\r\n};\r\n\r\nexport default function StatusPageHeader({ statusPage, overallStatus, branding = {}, lastUpdated }: StatusPageHeaderProps) {\r\n    const status = STATUS_CONFIG[overallStatus];\r\n    const logoUrl = branding.logoUrl || '/logo.svg';\r\n    const _primaryColor = branding.primaryColor || '#667eea';\r\n    const textColor = branding.textColor || 'var(--status-text, #111827)';\r\n    const [updatedLabel, setUpdatedLabel] = useState<string | null>(null);\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setIsVisible(true); // eslint-disable-line react-hooks/set-state-in-effect\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!lastUpdated) {\r\n            setUpdatedLabel(null); // eslint-disable-line react-hooks/set-state-in-effect\r\n            return;\r\n        }\r\n\r\n        const parsed = new Date(lastUpdated);\r\n        if (Number.isNaN(parsed.getTime())) {\r\n            setUpdatedLabel(null);\r\n            return;\r\n        }\r\n\r\n        const updateLabel = () => {\r\n            const now = new Date();\r\n            const diff = now.getTime() - parsed.getTime();\r\n            const seconds = Math.floor(diff / 1000);\r\n            const minutes = Math.floor(seconds / 60);\r\n            const hours = Math.floor(minutes / 60);\r\n\r\n            if (seconds < 60) {\r\n                const remaining = Math.max(0, 60 - seconds);\r\n                setUpdatedLabel(`00:${String(remaining).padStart(2, '0')}`);\r\n            } else if (minutes < 60) {\r\n                setUpdatedLabel(`${minutes} minute${minutes !== 1 ? 's' : ''} ago`);\r\n            } else if (hours < 24) {\r\n                setUpdatedLabel(`${hours} hour${hours !== 1 ? 's' : ''} ago`);\r\n            } else {\r\n                // Use browser timezone for public status page\r\n                const browserTz = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n                const label = formatDateTime(parsed, browserTz, {\r\n                    format: 'short',\r\n                    hour12: true\r\n                });\r\n                setUpdatedLabel(label);\r\n            }\r\n        };\r\n\r\n        updateLabel();\r\n        const interval = setInterval(updateLabel, 1000); // Update every second for the countdown\r\n        return () => clearInterval(interval);\r\n    }, [lastUpdated]);\r\n\r\n    return (\r\n        <header\r\n            className=\"status-page-header\"\r\n            style={{\r\n                background: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)',\r\n                borderBottom: '1px solid #e2e8f0',\r\n                boxShadow: '0 10px 24px rgba(15, 23, 42, 0.08)',\r\n                position: 'sticky',\r\n                top: 0,\r\n                zIndex: 100,\r\n                transition: 'all 0.3s ease',\r\n            }}\r\n        >\r\n            <div style={{\r\n                width: '100%',\r\n                maxWidth: '1400px',\r\n                margin: '0 auto',\r\n                padding: 'clamp(0.5rem, 2vw, 1.5rem) clamp(0.5rem, 2vw, 1.5rem)',\r\n                boxSizing: 'border-box'\r\n            }}>\r\n                <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    flexDirection: 'row',\r\n                    flexWrap: 'wrap',\r\n                    gap: 'clamp(0.5rem, 1.5vw, 1rem)', // Reduce gap\r\n                    opacity: isVisible ? 1 : 0,\r\n                    transform: isVisible ? 'translateY(0)' : 'translateY(-10px)',\r\n                    transition: 'opacity 0.5s ease, transform 0.5s ease',\r\n                }}>\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: 'clamp(0.5rem, 1.5vw, 1rem)', // Reduce gap\r\n                        flex: '1 1 auto', // Allow it to shrink\r\n                        minWidth: 0,\r\n                        flexWrap: 'wrap',\r\n                        justifyContent: 'flex-start',\r\n                    }}>\r\n                        {logoUrl && (\r\n                            <div style={{\r\n                                flexShrink: 0,\r\n                                padding: 'clamp(0.25rem, 1vw, 0.5rem)',\r\n                                borderRadius: '0.5rem', // Smaller radius\r\n                                background: '#ffffff',\r\n                                boxShadow: '0 1px 2px rgba(0, 0, 0, 0.05)',\r\n                                transition: 'transform 0.2s ease, box-shadow 0.2s ease',\r\n                            }}\r\n                                onMouseEnter={(e) => {\r\n                                    e.currentTarget.style.transform = 'scale(1.05)';\r\n                                    e.currentTarget.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.12)';\r\n                                }}\r\n                                onMouseLeave={(e) => {\r\n                                    e.currentTarget.style.transform = 'scale(1)';\r\n                                    e.currentTarget.style.boxShadow = '0 1px 2px rgba(0, 0, 0, 0.05)';\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    src={logoUrl}\r\n                                    alt={statusPage.name}\r\n                                    style={{\r\n                                        height: 'clamp(24px, 4vw, 40px)', // Smaller logo\r\n                                        maxWidth: 'clamp(80px, 20vw, 180px)',\r\n                                        objectFit: 'contain',\r\n                                        display: 'block',\r\n                                    }}\r\n                                    onError={(e) => {\r\n                                        (e.target as HTMLImageElement).style.display = 'none';\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        )}\r\n                        <div style={{ textAlign: 'left', flex: '1 1 auto', minWidth: 0 }}>\r\n                            <h1 style={{\r\n                                fontSize: 'clamp(1rem, 4vw, 2.25rem)', // Smaller title\r\n                                fontWeight: '800',\r\n                                margin: 0,\r\n                                color: textColor,\r\n                                letterSpacing: '-0.03em',\r\n                                background: `linear-gradient(135deg, ${textColor} 0%, color-mix(in srgb, ${textColor} 85%, transparent) 100%)`,\r\n                                WebkitBackgroundClip: 'text',\r\n                                WebkitTextFillColor: 'transparent',\r\n                                backgroundClip: 'text',\r\n                                lineHeight: '1.2',\r\n                                wordBreak: 'break-word',\r\n                            }}>\r\n                                {statusPage.name}\r\n                            </h1>\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                gap: 'clamp(0.375rem, 1.5vw, 0.75rem)',\r\n                                marginTop: 'clamp(0.125rem, 0.5vw, 0.25rem)', // Tighter margin\r\n                                flexWrap: 'wrap',\r\n                            }}>\r\n                                <p style={{\r\n                                    margin: 0,\r\n                                    color: 'var(--status-text-muted, #475569)',\r\n                                    fontSize: 'clamp(0.75rem, 2vw, 0.95rem)', // Smaller subtitle\r\n                                    fontWeight: '500',\r\n                                }}>\r\n                                    {status.text}\r\n                                </p>\r\n                                {updatedLabel && (\r\n                                    <>\r\n                                        <span style={{ color: 'var(--status-text-subtle, #cbd5e1)', fontSize: '0.75rem' }}>|</span>\r\n                                        <p\r\n                                            suppressHydrationWarning\r\n                                            style={{\r\n                                                margin: 0,\r\n                                                color: 'var(--status-text-subtle, #94a3b8)',\r\n                                                fontSize: '0.75rem', // Smaller text\r\n                                                display: 'flex',\r\n                                                alignItems: 'center',\r\n                                                gap: '0.25rem',\r\n                                            }}\r\n                                        >\r\n                                            <svg width=\"10\" height=\"10\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                                <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n                                                <polyline points=\"12 6 12 12 16 14\"></polyline>\r\n                                            </svg>\r\n                                            {updatedLabel}\r\n                                        </p>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '0.5rem',\r\n                        flexShrink: 0,\r\n                        flex: '0 0 auto', // Don't grow if not needed\r\n                        justifyContent: 'flex-end',\r\n                        marginTop: '0', // Removing top margin relying on flex wrap gap\r\n                    }}>\r\n                        <div style={{\r\n                            position: 'relative',\r\n                            display: 'inline-flex',\r\n                            alignItems: 'center',\r\n                            gap: '0.5rem',\r\n                        }}>\r\n                            <span style={{\r\n                                padding: '0.375rem 0.75rem', // Smaller padding\r\n                                background: status.background,\r\n                                color: status.color,\r\n                                border: `1px solid ${status.border}`, // Thinner border\r\n                                borderRadius: '999px',\r\n                                fontSize: '0.7rem', // Smaller font\r\n                                fontWeight: '700',\r\n                                textTransform: 'uppercase',\r\n                                letterSpacing: '0.05em',\r\n                                boxShadow: `0 1px 2px ${status.border}40`,\r\n                                display: 'inline-flex',\r\n                                alignItems: 'center',\r\n                                gap: '0.375rem',\r\n                                position: 'relative',\r\n                                transition: 'all 0.2s ease',\r\n                            }}\r\n                                onMouseEnter={(e) => {\r\n                                    e.currentTarget.style.transform = 'scale(1.05)';\r\n                                    e.currentTarget.style.boxShadow = `0 4px 12px ${status.border}60`;\r\n                                }}\r\n                                onMouseLeave={(e) => {\r\n                                    e.currentTarget.style.transform = 'scale(1)';\r\n                                    e.currentTarget.style.boxShadow = `0 1px 2px ${status.border}40`;\r\n                                }}\r\n                            >\r\n                                {status.badge}\r\n                            </span>\r\n                        </div>\r\n                        {(statusPage.contactEmail || statusPage.contactUrl) && (\r\n                            <a\r\n                                href={statusPage.contactUrl || `mailto:${statusPage.contactEmail}`}\r\n                                className=\"status-page-button\"\r\n                                data-variant=\"primary\"\r\n                                style={{\r\n                                    textDecoration: 'none',\r\n                                    fontSize: '0.8125rem',\r\n                                    fontWeight: '700',\r\n                                    display: 'inline-flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem',\r\n                                }}\r\n                            >\r\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                    <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"></path>\r\n                                    <polyline points=\"22,6 12,13 2,6\"></polyline>\r\n                                </svg>\r\n                                Contact\r\n                            </a>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <style jsx>{`\r\n                @keyframes pulse {\r\n                    0%, 100% {\r\n                        opacity: 0.6;\r\n                        transform: scale(1);\r\n                    }\r\n                    50% {\r\n                        opacity: 1;\r\n                        transform: scale(1.2);\r\n                    }\r\n                }\r\n            `}</style>\r\n        </header>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageIncidents.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageIncidents.tsx:111:9\n  109 |\n  110 |     useEffect(() => {\n> 111 |         setCurrentPage(1); // eslint-disable-line react-hooks/set-state-in-effect\n      |         ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  112 |     }, [statusFilter, serviceFilter, searchQuery]);\n  113 |\n  114 |     const totalPages = Math.ceil(filteredIncidents.length / INCIDENTS_PER_PAGE);",
        "line": 111,
        "column": 9,
        "nodeType": null,
        "endLine": 111,
        "endColumn": 23,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageLivePreview.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 89,
        "column": 25,
        "nodeType": "MemberExpression",
        "endLine": 89,
        "endColumn": 53
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 90,
        "column": 26,
        "nodeType": "MemberExpression",
        "endLine": 90,
        "endColumn": 54
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 473,
        "column": 44,
        "nodeType": "MemberExpression",
        "endLine": 473,
        "endColumn": 64
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 475,
        "column": 73,
        "nodeType": "MemberExpression",
        "endLine": 475,
        "endColumn": 92
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 17,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 17,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [670, 673], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [670, 673], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 18,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 18,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [752, 755], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [752, 755], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 19,
        "column": 29,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 19,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [846, 849], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [846, 849], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 20,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 20,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [935, 938], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [935, 938], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 22,
        "column": 20,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 22,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1063, 1066], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1063, 1066], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 38,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 38,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1671, 1674], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1671, 1674], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 55,
        "column": 57,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 55,
        "endColumn": 60,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2433, 2436], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2433, 2436], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 56,
        "column": 59,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 56,
        "endColumn": 62,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2588, 2591], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2588, 2591], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "∩╗┐'use client';\r\n\r\nimport { useState, useEffect, useRef, useMemo } from 'react';\r\nimport StatusPageHeader from '@/components/status-page/StatusPageHeader';\r\nimport StatusPageServices from '@/components/status-page/StatusPageServices';\r\nimport StatusPageIncidents from '@/components/status-page/StatusPageIncidents';\r\nimport StatusPageAnnouncements from '@/components/status-page/StatusPageAnnouncements';\r\nimport { logger } from '@/lib/logger';\r\n\r\ninterface StatusPageLivePreviewProps {\r\n    previewData: {\r\n        statusPage: {\r\n            name: string;\r\n            contactEmail?: string | null;\r\n            contactUrl?: string | null;\r\n        };\r\n        branding: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        services: any[]; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        statusPageServices: any[]; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        announcements: any[]; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        uptime90: Record<string, number>;\r\n        incidents: any[]; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        showServices: boolean;\r\n        showIncidents: boolean;\r\n        showSubscribe?: boolean;\r\n        showServicesByRegion?: boolean;\r\n        showServiceOwners?: boolean;\r\n        showServiceSlaTier?: boolean;\r\n        showChangelog?: boolean;\r\n        showRegionHeatmap?: boolean;\r\n        showPostIncidentReview?: boolean;\r\n        showHeader: boolean;\r\n        showFooter: boolean;\r\n        footerText?: string | null;\r\n        showRssLink: boolean;\r\n        showApiLink: boolean;\r\n        layout: string;\r\n        privacySettings?: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    };\r\n    maxWidth?: string;\r\n}\r\n\r\ntype DeviceView = 'mac' | 'ipad' | 'iphone';\r\n\r\nexport default function StatusPageLivePreview({ previewData, maxWidth = '1280px' }: StatusPageLivePreviewProps) {\r\n    const [deviceView, setDeviceView] = useState<DeviceView>('mac');\r\n    const [scale, setScale] = useState(1);\r\n    const [zoomMode, setZoomMode] = useState<'fit' | 'manual'>('fit');\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const [frameHeight, setFrameHeight] = useState('100%');\r\n\r\n    // Calculate overall status based on services\r\n    // Derived state - no need for effect\r\n    const overallStatus = useMemo(() => {\r\n        const hasOutage = previewData.services.some((s: any) => s.status === 'MAJOR_OUTAGE'); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        const hasDegraded = previewData.services.some((s: any) => s.status === 'PARTIAL_OUTAGE'); // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        return hasOutage ? 'outage' : hasDegraded ? 'degraded' : 'operational';\r\n    }, [previewData.services]);\r\n\r\n    // Log mounting and prop changes for debugging\r\n    useEffect(() => {\r\n        logger.debug('StatusPageLivePreview mounted/updated', {\r\n            layout: previewData.layout,\r\n            serviceCount: previewData.services.length,\r\n            incidentCount: previewData.incidents.length,\r\n            deviceView,\r\n            zoomMode\r\n        });\r\n    }, [previewData.layout, previewData.services.length, previewData.incidents.length, deviceView, zoomMode]);\r\n\r\n    // Use the maxWidth prop if provided, otherwise calculate from layout\r\n    // Parse maxWidth to get numeric value for calculations\r\n    const contentMaxWidthStr = maxWidth || (previewData.layout === 'wide'\r\n        ? '1600px'\r\n        : previewData.layout === 'compact'\r\n            ? '900px'\r\n            : '1280px');\r\n\r\n    // Extract numeric value from string like \"1600px\" or \"900px\"\r\n    const contentMaxWidthNum = parseInt(contentMaxWidthStr.replace(/px$/, '')) || 1280;\r\n\r\n    // Apple device frame dimensions\r\n    const deviceDimensions: Record<DeviceView, { width: number; height: number | null; label: string }> = {\r\n        mac: { width: Math.max(1440, contentMaxWidthNum), height: 900, label: 'MacBook Pro' },\r\n        ipad: { width: 1024, height: 1366, label: 'iPad Pro 12.9\"' },\r\n        iphone: { width: 393, height: 852, label: 'iPhone 15 Pro' },\r\n    };\r\n\r\n    const targetWidth = deviceDimensions[deviceView].width;\r\n    const targetHeight = deviceDimensions[deviceView].height;\r\n\r\n    // Calculate scale based on container size\r\n    useEffect(() => {\r\n        if (!containerRef.current) return;\r\n\r\n        const updateScale = () => {\r\n            if (zoomMode === 'fit' && containerRef.current) {\r\n                const containerWidth = containerRef.current.clientWidth;\r\n                const containerHeight = containerRef.current.clientHeight;\r\n\r\n                // Add some padding\r\n                const availableWidth = containerWidth - 48;\r\n                const availableHeight = containerHeight - 48;\r\n\r\n                // Calculate width scale\r\n                let newScale = availableWidth / targetWidth;\r\n\r\n                // For mobile/tablet, also constrain by height to maintain aspect ratio within view\r\n                if (targetHeight) {\r\n                    const heightScale = availableHeight / targetHeight;\r\n                    newScale = Math.min(newScale, heightScale);\r\n                }\r\n\r\n                // Don't scale up beyond 1.0 for \"fit\" mode, and ensure minimum scale\r\n                newScale = Math.max(0.1, Math.min(newScale, 1));\r\n\r\n                if (newScale !== scale) {\r\n                    setScale(newScale);\r\n                }\r\n\r\n                // Set frame height\r\n                if (targetHeight) {\r\n                    setFrameHeight(`${targetHeight}px`);\r\n                } else {\r\n                    const safeHeight = Math.max(containerHeight, 400);\r\n                    setFrameHeight(`${Math.ceil(safeHeight / newScale)}px`);\r\n                }\r\n            } else if (zoomMode === 'manual' && containerRef.current) {\r\n                if (targetHeight) {\r\n                    setFrameHeight(`${targetHeight}px`);\r\n                } else {\r\n                    const containerHeight = containerRef.current.clientHeight;\r\n                    const safeHeight = Math.max(containerHeight, 400);\r\n                    setFrameHeight(`${Math.ceil(safeHeight / scale)}px`);\r\n                }\r\n            }\r\n        };\r\n\r\n        // Update initial\r\n        updateScale();\r\n\r\n        const observer = new ResizeObserver(updateScale);\r\n        observer.observe(containerRef.current);\r\n\r\n        return () => observer.disconnect();\r\n    }, [zoomMode, targetWidth, targetHeight, deviceView, scale]);\r\n\r\n    const handleZoom = (delta: number) => {\r\n        logger.debug('Zoom adjusted', { delta, currentScale: scale });\r\n        setZoomMode('manual');\r\n        setScale(prev => Math.min(Math.max(prev + delta, 0.25), 1.5)); // Limit zoom 0.25x to 1.5x\r\n    };\r\n\r\n    const deviceLabels: Record<DeviceView, string> = {\r\n        mac: deviceDimensions.mac.label,\r\n        ipad: deviceDimensions.ipad.label,\r\n        iphone: deviceDimensions.iphone.label,\r\n    };\r\n\r\n    // For the inner content max-width (inside the scaled container)\r\n    // Always use 100% for ipad and iphone, use contentMaxWidthStr for mac\r\n    const contentMaxWidth = deviceView === 'mac' ? contentMaxWidthStr : '100%';\r\n    const previewPrimaryColor = previewData.branding?.primaryColor || 'var(--status-primary, #667eea)';\r\n    const previewTextColor = previewData.branding?.textColor || 'var(--status-text, #111827)';\r\n    const frameHeightNumber = Number.parseFloat(frameHeight);\r\n    const scaledFrameHeightStyle = Number.isFinite(frameHeightNumber)\r\n        ? `${Math.round(frameHeightNumber * scale)}px`\r\n        : 'auto';\r\n\r\n    const renderStatusPageContent = (contentMaxWidthValue: string) => (\r\n        <>\r\n            {previewData.showHeader && (\r\n                <StatusPageHeader\r\n                    statusPage={previewData.statusPage}\r\n                    overallStatus={overallStatus}\r\n                    branding={previewData.branding}\r\n                    lastUpdated={new Date().toISOString()}\r\n                />\r\n            )}\r\n            <main\r\n                style={{\r\n                    width: '100%',\r\n                    maxWidth: contentMaxWidthValue,\r\n                    margin: '0 auto',\r\n                    padding: previewData.layout === 'compact' ? '1.5rem' : '2rem',\r\n                    boxSizing: 'border-box',\r\n                    flex: 1,\r\n                }}\r\n            >\r\n                {previewData.announcements.length > 0 && (\r\n                    <StatusPageAnnouncements\r\n                        announcements={previewData.announcements}\r\n                        showServiceRegions={previewData.privacySettings?.showServiceRegions !== false}\r\n                    />\r\n                )}\r\n\r\n                {previewData.showServices && previewData.services.length > 0 && (\r\n                    <StatusPageServices\r\n                        services={previewData.services}\r\n                        statusPageServices={previewData.statusPageServices}\r\n                        uptime90={previewData.uptime90}\r\n                        incidents={previewData.incidents}\r\n                        privacySettings={previewData.privacySettings}\r\n                        groupByRegionDefault={previewData.showServicesByRegion}\r\n                        showServiceOwners={previewData.showServiceOwners}\r\n                        showServiceSlaTier={previewData.showServiceSlaTier}\r\n                    />\r\n                )}\r\n\r\n                {previewData.showIncidents && (\r\n                    <StatusPageIncidents\r\n                        incidents={previewData.incidents}\r\n                        privacySettings={previewData.privacySettings}\r\n                    />\r\n                )}\r\n\r\n                {previewData.showSubscribe !== false && (\r\n                    <section style={{ marginBottom: 'clamp(2.5rem, 7vw, 5rem)' }}>\r\n                        <div style={{\r\n                            position: 'relative',\r\n                            overflow: 'hidden',\r\n                            borderRadius: '1rem',\r\n                            border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                            background: 'var(--status-panel-bg, #ffffff)',\r\n                            padding: 'clamp(1.5rem, 4vw, 2.5rem)',\r\n                            boxShadow: 'var(--status-card-shadow, 0 20px 45px rgba(15, 23, 42, 0.08))',\r\n                        }}>\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                top: '-60px',\r\n                                right: '-60px',\r\n                                width: '180px',\r\n                                height: '180px',\r\n                                background: 'radial-gradient(circle, color-mix(in srgb, var(--status-primary, #6366f1) 20%, transparent) 0%, transparent 70%)',\r\n                                pointerEvents: 'none',\r\n                            }} />\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                bottom: '-80px',\r\n                                left: '-80px',\r\n                                width: '220px',\r\n                                height: '220px',\r\n                                background: 'radial-gradient(circle, color-mix(in srgb, var(--status-primary, #0ea5e9) 18%, transparent) 0%, transparent 70%)',\r\n                                pointerEvents: 'none',\r\n                            }} />\r\n                            <div style={{\r\n                                position: 'relative',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                gap: 'clamp(1.5rem, 4vw, 2.5rem)',\r\n                                flexWrap: 'wrap',\r\n                            }}>\r\n                                <div style={{\r\n                                    flex: '1 1 260px',\r\n                                    minWidth: '240px',\r\n                                }}>\r\n                                    <div style={{\r\n                                        fontSize: '0.75rem',\r\n                                        letterSpacing: '0.12em',\r\n                                        textTransform: 'uppercase',\r\n                                        color: previewPrimaryColor,\r\n                                        fontWeight: '700',\r\n                                        marginBottom: '0.5rem',\r\n                                    }}>\r\n                                        Stay in the loop\r\n                                    </div>\r\n                                    <h2 style={{\r\n                                        fontSize: 'clamp(1.35rem, 3vw, 1.75rem)',\r\n                                        fontWeight: '700',\r\n                                        marginBottom: '0.75rem',\r\n                                        color: previewTextColor,\r\n                                    }}>\r\n                                        Subscribe to Updates\r\n                                    </h2>\r\n                                    <p style={{\r\n                                        fontSize: 'clamp(0.9rem, 2.2vw, 1rem)',\r\n                                        color: 'var(--status-text-muted, #4b5563)',\r\n                                        marginBottom: '1rem',\r\n                                        lineHeight: 1.6,\r\n                                    }}>\r\n                                        Get incident alerts, maintenance notices, and recovery updates the moment they happen.\r\n                                    </p>\r\n                                    <div style={{\r\n                                        display: 'inline-flex',\r\n                                        alignItems: 'center',\r\n                                        gap: '0.5rem',\r\n                                        padding: '0.35rem 0.75rem',\r\n                                        borderRadius: '999px',\r\n                                        background: 'var(--status-panel-bg, #ffffff)',\r\n                                        border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                                        color: 'var(--status-text, #374151)',\r\n                                        fontSize: '0.8125rem',\r\n                                        fontWeight: '600',\r\n                                    }}>\r\n                                        Email notifications only\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{\r\n                                    flex: '1 1 320px',\r\n                                    minWidth: '280px',\r\n                                }}>\r\n                                    <div style={{\r\n                                        padding: 'clamp(1rem, 3vw, 1.5rem)',\r\n                                        background: 'var(--status-panel-bg, #ffffff)',\r\n                                        border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                                        borderRadius: '0.875rem',\r\n                                        boxShadow: 'var(--status-card-shadow, 0 12px 25px rgba(15, 23, 42, 0.12))',\r\n                                        display: 'flex',\r\n                                        flexDirection: 'column',\r\n                                        gap: 'var(--spacing-3)',\r\n                                    }}>\r\n                                        <div style={{\r\n                                            display: 'flex',\r\n                                            flexDirection: 'column',\r\n                                            gap: '0.5rem',\r\n                                        }}>\r\n                                            <label style={{ fontSize: 'var(--font-size-sm)', fontWeight: '600', color: previewTextColor }}>\r\n                                                Subscribe to Updates\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"email\"\r\n                                                placeholder=\"your@email.com\"\r\n                                                disabled\r\n                                                style={{\r\n                                                    width: '100%',\r\n                                                    padding: '0.65rem 0.75rem',\r\n                                                    borderRadius: '0.5rem',\r\n                                                    border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                                                    background: 'var(--status-panel-muted-bg, #f9fafb)',\r\n                                                    color: 'var(--status-text-subtle, #9ca3af)',\r\n                                                }}\r\n                                            />\r\n                                        </div>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            disabled\r\n                                            style={{\r\n                                                width: '100%',\r\n                                                padding: '0.65rem 0.75rem',\r\n                                                borderRadius: '0.5rem',\r\n                                                border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                                                background: 'var(--status-panel-muted-bg, #e5e7eb)',\r\n                                                color: 'var(--status-text-subtle, #9ca3af)',\r\n                                                fontWeight: '600',\r\n                                                cursor: 'not-allowed',\r\n                                            }}\r\n                                        >\r\n                                            Subscribe\r\n                                        </button>\r\n                                    </div>\r\n                                    <p style={{\r\n                                        marginTop: '0.75rem',\r\n                                        fontSize: '0.8125rem',\r\n                                        color: 'var(--status-text-muted, #6b7280)',\r\n                                        textAlign: 'center',\r\n                                    }}>\r\n                                        We&apos;ll never share your email. Unsubscribe anytime.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                )}\r\n\r\n                {previewData.showFooter && (\r\n                    <footer\r\n                        style={{\r\n                            marginTop: '4rem',\r\n                            paddingTop: '2rem',\r\n                            borderTop: '1px solid #e5e7eb',\r\n                            textAlign: 'center',\r\n                            color: 'var(--status-text-muted, #6b7280)',\r\n                            fontSize: '0.875rem',\r\n                            paddingBottom: '2rem',\r\n                        }}\r\n                    >\r\n                        {previewData.footerText && (\r\n                            <p style={{ marginBottom: '1rem' }}>{previewData.footerText}</p>\r\n                        )}\r\n                        {(previewData.showRssLink || previewData.showApiLink) && (\r\n                            <div style={{ display: 'flex', justifyContent: 'center', gap: '1rem', flexWrap: 'wrap' }}>\r\n                                {previewData.showRssLink && (\r\n                                    <span style={{ color: 'var(--status-text-muted, #6b7280)' }}>RSS Feed</span>\r\n                                )}\r\n                                {previewData.showRssLink && previewData.showApiLink && <span>|</span>}\r\n                                {previewData.showApiLink && (\r\n                                    <span style={{ color: 'var(--status-text-muted, #6b7280)' }}>JSON API</span>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </footer>\r\n                )}\r\n            </main>\r\n        </>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            {/* Custom CSS */}\r\n            {previewData.branding?.customCss && (\r\n                <style dangerouslySetInnerHTML={{ __html: previewData.branding.customCss }} />\r\n            )}\r\n            <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\r\n                {/* Device & Zoom Controls */}\r\n                <div\r\n                    className=\"status-page-preview-controls\"\r\n                    style={{\r\n                        padding: 'var(--status-preview-controls-padding, var(--spacing-3) var(--spacing-4))',\r\n                        borderBottom: '1px solid #e2e8f0',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        background: '#ffffff',\r\n                        flexWrap: 'wrap',\r\n                        gap: 'var(--spacing-3)',\r\n                    }}\r\n                >\r\n                    {/* Segmented control makes device toggles more scannable */}\r\n                    <div\r\n                        className=\"status-page-preview-device-toggle\"\r\n                        style={{\r\n                            display: 'inline-flex',\r\n                            alignItems: 'center',\r\n                            gap: '0.2rem',\r\n                            padding: '0.2rem',\r\n                            borderRadius: '999px',\r\n                            border: '1px solid #cbd5e1',\r\n                            background: '#e2e8f0',\r\n                        }}\r\n                    >\r\n                        {(['mac', 'ipad', 'iphone'] as DeviceView[]).map((device) => {\r\n                            const isActive = deviceView === device;\r\n                            const deviceIcons: Record<DeviceView, string> = {\r\n                                mac: '≡ƒÆ╗',\r\n                                ipad: '≡ƒô▒',\r\n                                iphone: '≡ƒô▓',\r\n                            };\r\n                            return (\r\n                                <button\r\n                                    key={device}\r\n                                    type=\"button\"\r\n                                    onClick={() => {\r\n                                        setDeviceView(device);\r\n                                        setZoomMode('fit'); // Auto-fit on switch\r\n                                        logger.debug('Switched device view', { device });\r\n                                    }}\r\n                                    onMouseEnter={(event) => {\r\n                                        if (!isActive) {\r\n                                            event.currentTarget.style.background = 'rgba(255, 255, 255, 0.7)';\r\n                                        }\r\n                                    }}\r\n                                    onMouseLeave={(event) => {\r\n                                        if (!isActive) {\r\n                                            event.currentTarget.style.background = 'transparent';\r\n                                        }\r\n                                    }}\r\n                                    className={`status-page-preview-device-btn ${isActive ? 'is-active' : ''}`}\r\n                                    style={{\r\n                                        padding: 'var(--status-preview-device-padding, 0.45rem 0.95rem)',\r\n                                        background: isActive ? '#ffffff' : 'transparent',\r\n                                        border: '1px solid transparent',\r\n                                        borderRadius: '999px',\r\n                                        fontSize: 'var(--status-preview-device-font, var(--font-size-xs))',\r\n                                        fontWeight: isActive ? '700' : '600',\r\n                                        color: isActive ? 'var(--text-primary)' : 'var(--text-muted)',\r\n                                        cursor: 'pointer',\r\n                                        transition: 'all 0.18s ease',\r\n                                        boxShadow: isActive ? '0 1px 2px rgba(15, 23, 42, 0.12)' : 'none',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        gap: '0.35rem',\r\n                                    }}\r\n                                    title={deviceLabels[device]}\r\n                                >\r\n                                    <span style={{ fontSize: '1rem' }}>{deviceIcons[device]}</span>\r\n                                    <span style={{ textTransform: 'capitalize' }}>{device === 'mac' ? 'Mac' : device === 'ipad' ? 'iPad' : 'iPhone'}</span>\r\n                                </button>\r\n                            );\r\n                        })}\r\n                    </div>\r\n\r\n                    <div className=\"status-page-preview-zoom\" style={{ display: 'flex', alignItems: 'center', gap: 'var(--spacing-3)' }}>\r\n                        <div className=\"status-page-preview-zoom-controls\" style={{ display: 'flex', alignItems: 'center', gap: 'var(--spacing-1)', background: 'white', border: '1px solid #e5e7eb', borderRadius: 'var(--radius-md)', padding: 'var(--status-preview-zoom-padding, 2px)' }}>\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => handleZoom(-0.1)}\r\n                                style={{\r\n                                    padding: 'var(--status-preview-zoom-button-padding, 4px 8px)',\r\n                                    border: 'none',\r\n                                    background: 'transparent',\r\n                                    cursor: 'pointer',\r\n                                    color: 'var(--text-muted)',\r\n                                    fontSize: 'var(--status-preview-zoom-font, 14px)',\r\n                                }}\r\n                                title=\"Zoom Out\"\r\n                            >\r\n                                -\r\n                            </button>\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setZoomMode(zoomMode === 'fit' ? 'manual' : 'fit')}\r\n                                style={{\r\n                                    padding: 'var(--status-preview-zoom-button-padding, 4px 8px)',\r\n                                    border: 'none',\r\n                                    background: 'transparent',\r\n                                    cursor: 'pointer',\r\n                                    fontSize: 'var(--status-preview-zoom-font, var(--font-size-xs))',\r\n                                    fontWeight: '600',\r\n                                    color: 'var(--text-primary)',\r\n                                    minWidth: '60px',\r\n                                }}\r\n                                title={zoomMode === 'fit' ? \"Disable Fit to Screen\" : \"Enable Fit to Screen\"}\r\n                            >\r\n                                {zoomMode === 'fit' ? 'Fit' : `${Math.round(scale * 100)}%`}\r\n                            </button>\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => handleZoom(0.1)}\r\n                                style={{\r\n                                    padding: 'var(--status-preview-zoom-button-padding, 4px 8px)',\r\n                                    border: 'none',\r\n                                    background: 'transparent',\r\n                                    cursor: 'pointer',\r\n                                    color: 'var(--text-muted)',\r\n                                    fontSize: 'var(--status-preview-zoom-font, 14px)',\r\n                                }}\r\n                                title=\"Zoom In\"\r\n                            >\r\n                                +\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Preview Container Wrapper */}\r\n                <div\r\n                    ref={containerRef}\r\n                    className=\"status-page-preview-canvas\"\r\n                    style={{\r\n                        flex: 1,\r\n                        overflow: 'auto',\r\n                        background: '#eef2f7',\r\n                        display: 'flex',\r\n                        position: 'relative',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        padding: 'var(--status-preview-padding, 24px)',\r\n                        minWidth: 0,\r\n                        minHeight: 300,\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"status-page-preview-device-frame\"\r\n                        style={{\r\n                            width: `${Math.round(targetWidth * scale)}px`,\r\n                            minWidth: `${Math.round(targetWidth * scale)}px`,\r\n                            maxWidth: `${Math.round(targetWidth * scale)}px`,\r\n                            height: scaledFrameHeightStyle,\r\n                            overflow: 'hidden',\r\n                            borderRadius: deviceView === 'iphone' ? `${44 * scale}px` : deviceView === 'ipad' ? '18px' : '10px',\r\n                            border: deviceView === 'iphone' ? `${8 * scale}px solid #1c1c1e` : deviceView === 'ipad' ? '10px solid #1c1c1e' : '1px solid #c0c0c0',\r\n                            background: previewData.branding?.backgroundColor || '#ffffff',\r\n                            boxShadow: deviceView === 'mac'\r\n                                ? '0 25px 50px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(0, 0, 0, 0.1)'\r\n                                : '0 20px 40px rgba(0, 0, 0, 0.3), inset 0 0 0 1px rgba(255, 255, 255, 0.1)',\r\n                            boxSizing: 'border-box',\r\n                            position: 'relative',\r\n                        }}\r\n                    >\r\n                        {/* iPhone Dynamic Island */}\r\n                        {deviceView === 'iphone' && (\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                top: `${12 * scale}px`,\r\n                                left: '50%',\r\n                                transform: 'translateX(-50%)',\r\n                                width: `${126 * scale}px`,\r\n                                height: `${37 * scale}px`,\r\n                                background: '#000000',\r\n                                borderRadius: `${20 * scale}px`,\r\n                                zIndex: 10,\r\n                                boxShadow: '0 2px 8px rgba(0, 0, 0, 0.3)',\r\n                            }} />\r\n                        )}\r\n\r\n                        {/* Mac Safari Browser Chrome */}\r\n                        {deviceView === 'mac' && (\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                top: 0,\r\n                                left: 0,\r\n                                right: 0,\r\n                                height: `${36 * scale}px`,\r\n                                background: 'linear-gradient(180deg, #e8e8e8 0%, #d4d4d4 100%)',\r\n                                borderBottom: '1px solid #b0b0b0',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                padding: `0 ${12 * scale}px`,\r\n                                zIndex: 10,\r\n                                borderRadius: `${10 * scale}px ${10 * scale}px 0 0`,\r\n                            }}>\r\n                                {/* Traffic lights */}\r\n                                <div style={{ display: 'flex', gap: `${6 * scale}px` }}>\r\n                                    <div style={{ width: `${12 * scale}px`, height: `${12 * scale}px`, borderRadius: '50%', background: '#ff5f57', border: '0.5px solid #e0443e' }} />\r\n                                    <div style={{ width: `${12 * scale}px`, height: `${12 * scale}px`, borderRadius: '50%', background: '#febc2e', border: '0.5px solid #d9a123' }} />\r\n                                    <div style={{ width: `${12 * scale}px`, height: `${12 * scale}px`, borderRadius: '50%', background: '#28c840', border: '0.5px solid #1aab29' }} />\r\n                                </div>\r\n                                {/* Address bar */}\r\n                                <div style={{\r\n                                    flex: 1,\r\n                                    margin: `0 ${40 * scale}px`,\r\n                                    height: `${22 * scale}px`,\r\n                                    background: '#ffffff',\r\n                                    borderRadius: `${6 * scale}px`,\r\n                                    border: '1px solid #c0c0c0',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                    fontSize: `${11 * scale}px`,\r\n                                    color: '#666',\r\n                                }}>\r\n                                    status.example.com\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* iPad Front Camera */}\r\n                        {deviceView === 'ipad' && (\r\n                            <>\r\n                                <div style={{\r\n                                    position: 'absolute',\r\n                                    top: `${12 * scale}px`,\r\n                                    left: '50%',\r\n                                    transform: 'translateX(-50%)',\r\n                                    width: `${10 * scale}px`,\r\n                                    height: `${10 * scale}px`,\r\n                                    background: 'radial-gradient(circle, #1a1a2e 0%, #0a0a0a 70%)',\r\n                                    borderRadius: '50%',\r\n                                    zIndex: 10,\r\n                                    boxShadow: 'inset 0 1px 2px rgba(255, 255, 255, 0.1)',\r\n                                }} />\r\n                                {/* Home Indicator */}\r\n                                <div style={{\r\n                                    position: 'absolute',\r\n                                    bottom: `${8 * scale}px`,\r\n                                    left: '50%',\r\n                                    transform: 'translateX(-50%)',\r\n                                    width: `${140 * scale}px`,\r\n                                    height: `${5 * scale}px`,\r\n                                    background: 'rgba(0, 0, 0, 0.3)',\r\n                                    borderRadius: `${3 * scale}px`,\r\n                                    zIndex: 10,\r\n                                }} />\r\n                            </>\r\n                        )}\r\n                        <div\r\n                            className=\"status-page-container\"\r\n                            style={{\r\n                                width: `${targetWidth}px`,\r\n                                minWidth: `${targetWidth}px`,\r\n                                maxWidth: `${targetWidth}px`,\r\n                                height: frameHeight,\r\n                                transform: `scale(${scale})`,\r\n                                transformOrigin: 'top left',\r\n                                overflow: 'auto',\r\n                                boxSizing: 'border-box',\r\n                            }}\r\n                        >\r\n                            <div style={{ minHeight: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                                {renderStatusPageContent(contentMaxWidth)}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageMetrics.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageMetrics.tsx:90:9\n  88 |\n  89 |     useEffect(() => {\n> 90 |         setIsClient(true); // eslint-disable-line react-hooks/set-state-in-effect\n     |         ^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  91 |     }, []);\n  92 |\n  93 |     const metrics = useMemo(() => {",
        "line": 90,
        "column": 9,
        "nodeType": null,
        "endLine": 90,
        "endColumn": 20,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPagePrivacySettings.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 128,
        "column": 28,
        "nodeType": "MemberExpression",
        "endLine": 128,
        "endColumn": 54
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 132,
        "column": 21,
        "nodeType": "MemberExpression",
        "endLine": 132,
        "endColumn": 40
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 150,
        "column": 28,
        "nodeType": "MemberExpression",
        "endLine": 150,
        "endColumn": 51
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Card, FormField, Switch } from '@/components/ui';\r\n\r\nexport type PrivacySettings = {\r\n  privacyMode: 'PUBLIC' | 'RESTRICTED' | 'PRIVATE' | 'CUSTOM';\r\n  requireAuth: boolean;\r\n  authProvider: string | null;\r\n  showIncidentDetails: boolean;\r\n  showIncidentTitles: boolean;\r\n  showIncidentDescriptions: boolean;\r\n  showAffectedServices: boolean;\r\n  showIncidentTimestamps: boolean;\r\n  showServiceMetrics: boolean;\r\n  showServiceDescriptions: boolean;\r\n  showServiceRegions: boolean;\r\n  showTeamInformation: boolean;\r\n  showCustomFields: boolean;\r\n  showIncidentAssignees: boolean;\r\n  showIncidentUrgency: boolean;\r\n  showUptimeHistory: boolean;\r\n  showRecentIncidents: boolean;\r\n  maxIncidentsToShow: number;\r\n  incidentHistoryDays: number;\r\n  allowedCustomFields: string[];\r\n  dataRetentionDays?: number | null;\r\n};\r\n\r\ninterface StatusPagePrivacySettingsProps {\r\n  settings: PrivacySettings;\r\n  onChange: (settings: PrivacySettings) => void;\r\n  customFields?: Array<{ id: string; name: string; key: string }>;\r\n}\r\n\r\nconst PRIVACY_PRESETS = {\r\n  PUBLIC: {\r\n    label: 'Public',\r\n    description: 'Show all information - recommended for transparency',\r\n    settings: {\r\n      showIncidentDetails: true,\r\n      showIncidentTitles: true,\r\n      showIncidentDescriptions: true,\r\n      showAffectedServices: true,\r\n      showIncidentTimestamps: true,\r\n      showServiceMetrics: true,\r\n      showServiceDescriptions: true,\r\n      showServiceRegions: true,\r\n      showTeamInformation: false,\r\n      showCustomFields: false,\r\n      showIncidentAssignees: false,\r\n      showIncidentUrgency: true,\r\n      showUptimeHistory: true,\r\n      showRecentIncidents: true,\r\n    },\r\n  },\r\n  RESTRICTED: {\r\n    label: 'Restricted',\r\n    description: 'Hide sensitive details but show general status information',\r\n    settings: {\r\n      showIncidentDetails: true,\r\n      showIncidentTitles: true,\r\n      showIncidentDescriptions: false,\r\n      showAffectedServices: true,\r\n      showIncidentTimestamps: true,\r\n      showServiceMetrics: true,\r\n      showServiceDescriptions: false,\r\n      showServiceRegions: true,\r\n      showTeamInformation: false,\r\n      showCustomFields: false,\r\n      showIncidentAssignees: false,\r\n      showIncidentUrgency: true,\r\n      showUptimeHistory: true,\r\n      showRecentIncidents: true,\r\n    },\r\n  },\r\n  PRIVATE: {\r\n    label: 'Private',\r\n    description: 'Minimal information - show only basic status',\r\n    settings: {\r\n      showIncidentDetails: false,\r\n      showIncidentTitles: true,\r\n      showIncidentDescriptions: false,\r\n      showAffectedServices: true,\r\n      showIncidentTimestamps: false,\r\n      showServiceMetrics: false,\r\n      showServiceDescriptions: false,\r\n      showServiceRegions: false,\r\n      showTeamInformation: false,\r\n      showCustomFields: false,\r\n      showIncidentAssignees: false,\r\n      showIncidentUrgency: false,\r\n      showUptimeHistory: false,\r\n      showRecentIncidents: true,\r\n    },\r\n  },\r\n  CUSTOM: {\r\n    label: 'Custom',\r\n    description: 'Mix and match individual settings',\r\n    settings: {},\r\n  },\r\n};\r\n\r\nexport default function StatusPagePrivacySettings({\r\n  settings,\r\n  onChange,\r\n  customFields = [],\r\n}: StatusPagePrivacySettingsProps) {\r\n  const [expandedPreset, setExpandedPreset] = useState<keyof typeof PRIVACY_PRESETS | null>(null);\r\n\r\n  const PRESET_DETAIL_LABELS: Array<{ key: keyof PrivacySettings; label: string }> = [\r\n    { key: 'showIncidentDetails', label: 'Incident details' },\r\n    { key: 'showIncidentDescriptions', label: 'Incident descriptions' },\r\n    { key: 'showIncidentTimestamps', label: 'Incident timestamps' },\r\n    { key: 'showAffectedServices', label: 'Affected services' },\r\n    { key: 'showIncidentUrgency', label: 'Incident urgency' },\r\n    { key: 'showServiceMetrics', label: 'Service metrics' },\r\n    { key: 'showServiceDescriptions', label: 'Service descriptions' },\r\n    { key: 'showServiceRegions', label: 'Service regions' },\r\n    { key: 'showUptimeHistory', label: 'Uptime history' },\r\n    { key: 'showRecentIncidents', label: 'Recent incidents' },\r\n  ];\r\n\r\n  const getPresetSummary = (presetKey: keyof typeof PRIVACY_PRESETS) => {\r\n    if (presetKey === 'CUSTOM') {\r\n      return 'Custom mix of visibility settings';\r\n    }\r\n    const presetSettings = PRIVACY_PRESETS[presetKey].settings as Partial<PrivacySettings>;\r\n    const shows: string[] = [];\r\n    const hides: string[] = [];\r\n    PRESET_DETAIL_LABELS.forEach(({ key, label }) => {\r\n      const value = presetSettings[key];\r\n      if (value === true) {\r\n        shows.push(label);\r\n      } else if (value === false) {\r\n        hides.push(label);\r\n      }\r\n    });\r\n    const showText = shows.length > 0 ? `Shows: ${shows.join(', ')}` : 'Shows: basic status only';\r\n    const hideText = hides.length > 0 ? `Hides: ${hides.join(', ')}` : 'Hides: none';\r\n    return `${showText}. ${hideText}.`;\r\n  };\r\n\r\n  const updateSetting = <K extends keyof PrivacySettings>(key: K, value: PrivacySettings[K]) => {\r\n    const updated = { ...settings, [key]: value, privacyMode: 'CUSTOM' as const };\r\n    onChange(updated);\r\n  };\r\n\r\n  const applyPreset = (preset: keyof typeof PRIVACY_PRESETS) => {\r\n    const presetSettings = PRIVACY_PRESETS[preset];\r\n    const updated: PrivacySettings = {\r\n      ...settings,\r\n      privacyMode: preset,\r\n      ...presetSettings.settings,\r\n    };\r\n    onChange(updated);\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-6)' }}>\r\n      {/* Privacy Mode Presets */}\r\n      <Card>\r\n        <div style={{ padding: 'var(--spacing-6)' }}>\r\n          <h2\r\n            style={{\r\n              fontSize: 'var(--font-size-xl)',\r\n              fontWeight: '700',\r\n              marginBottom: 'var(--spacing-4)',\r\n            }}\r\n          >\r\n            Privacy Level\r\n          </h2>\r\n          <p\r\n            style={{\r\n              fontSize: 'var(--font-size-sm)',\r\n              color: 'var(--text-muted)',\r\n              marginBottom: 'var(--spacing-4)',\r\n            }}\r\n          >\r\n            Choose a privacy preset or customize individual settings below.\r\n          </p>\r\n          <div\r\n            style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n              gap: 'var(--spacing-3)',\r\n            }}\r\n          >\r\n            {Object.entries(PRIVACY_PRESETS).map(([key, preset]) => (\r\n              <div\r\n                key={key}\r\n                role=\"button\"\r\n                onClick={() => applyPreset(key as keyof typeof PRIVACY_PRESETS)}\r\n                title={getPresetSummary(key as keyof typeof PRIVACY_PRESETS)}\r\n                tabIndex={0}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter' || e.key === ' ') {\r\n                    applyPreset(key as keyof typeof PRIVACY_PRESETS);\r\n                  }\r\n                }}\r\n                style={{\r\n                  padding: 'var(--spacing-4)',\r\n                  border: '2px solid',\r\n                  borderColor: settings.privacyMode === key ? 'var(--primary)' : '#e5e7eb',\r\n                  borderRadius: 'var(--radius-md)',\r\n                  background: settings.privacyMode === key ? '#f0f9ff' : 'white',\r\n                  cursor: 'pointer',\r\n                  textAlign: 'left',\r\n                  transition: 'all 0.2s ease',\r\n                  position: 'relative',\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    fontWeight: '600',\r\n                    marginBottom: 'var(--spacing-1)',\r\n                    color:\r\n                      settings.privacyMode === key ? 'var(--primary)' : 'var(--text-primary)',\r\n                  }}\r\n                >\r\n                  {preset.label}\r\n                </div>\r\n                <div style={{ fontSize: 'var(--font-size-xs)', color: 'var(--text-muted)' }}>\r\n                  {preset.description}\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={event => {\r\n                    event.stopPropagation();\r\n                    setExpandedPreset(current =>\r\n                      current === key ? null : (key as keyof typeof PRIVACY_PRESETS)\r\n                    );\r\n                  }}\r\n                  style={{\r\n                    marginTop: 'var(--spacing-2)',\r\n                    padding: '2px 8px',\r\n                    borderRadius: '999px',\r\n                    border: '1px solid #e5e7eb',\r\n                    background: 'white',\r\n                    fontSize: 'var(--font-size-xs)',\r\n                    fontWeight: '600',\r\n                    color: 'var(--text-muted)',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                >\r\n                  {expandedPreset === key ? 'Hide details' : 'View details'}\r\n                </button>\r\n                {expandedPreset === key && (\r\n                  <div\r\n                    style={{\r\n                      marginTop: 'var(--spacing-2)',\r\n                      padding: 'var(--spacing-2)',\r\n                      borderRadius: 'var(--radius-md)',\r\n                      background: '#f8fafc',\r\n                      border: '1px solid #e2e8f0',\r\n                      fontSize: 'var(--font-size-xs)',\r\n                      color: 'var(--text-muted)',\r\n                      lineHeight: 1.5,\r\n                    }}\r\n                  >\r\n                    {getPresetSummary(key as keyof typeof PRIVACY_PRESETS)}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Incident Privacy Settings */}\r\n      <Card>\r\n        <div style={{ padding: 'var(--spacing-6)' }}>\r\n          <h2\r\n            style={{\r\n              fontSize: 'var(--font-size-xl)',\r\n              fontWeight: '700',\r\n              marginBottom: 'var(--spacing-4)',\r\n            }}\r\n          >\r\n            Incident Information\r\n          </h2>\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-3)' }}>\r\n            <Switch\r\n              checked={settings.showIncidentDetails}\r\n              onChange={checked => updateSetting('showIncidentDetails', checked)}\r\n              label=\"Show Incident Details\"\r\n              helperText=\"Show the full incident timeline and update details\"\r\n            />\r\n            <Switch\r\n              checked={settings.showIncidentTitles}\r\n              onChange={checked => updateSetting('showIncidentTitles', checked)}\r\n              label=\"Show Incident Titles\"\r\n              helperText=\"Display incident titles on the status page\"\r\n            />\r\n            <Switch\r\n              checked={settings.showIncidentDescriptions}\r\n              onChange={checked => updateSetting('showIncidentDescriptions', checked)}\r\n              label=\"Show Incident Descriptions\"\r\n              helperText=\"Display detailed incident descriptions\"\r\n            />\r\n            <Switch\r\n              checked={settings.showAffectedServices}\r\n              onChange={checked => updateSetting('showAffectedServices', checked)}\r\n              label=\"Show Affected Services\"\r\n              helperText=\"Display which services are affected by incidents\"\r\n            />\r\n            <Switch\r\n              checked={settings.showIncidentTimestamps}\r\n              onChange={checked => updateSetting('showIncidentTimestamps', checked)}\r\n              label=\"Show Incident Timestamps\"\r\n              helperText=\"Display when incidents occurred and were resolved\"\r\n            />\r\n            <Switch\r\n              checked={settings.showIncidentUrgency}\r\n              onChange={checked => updateSetting('showIncidentUrgency', checked)}\r\n              label=\"Show Incident Urgency\"\r\n              helperText=\"Display urgency level (High/Low) for incidents\"\r\n            />\r\n            <Switch\r\n              checked={settings.showIncidentAssignees}\r\n              onChange={checked => updateSetting('showIncidentAssignees', checked)}\r\n              label=\"Show Incident Assignees\"\r\n              helperText=\"Display who is assigned to handle incidents\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Service Information */}\r\n      <Card>\r\n        <div style={{ padding: 'var(--spacing-6)' }}>\r\n          <h2\r\n            style={{\r\n              fontSize: 'var(--font-size-xl)',\r\n              fontWeight: '700',\r\n              marginBottom: 'var(--spacing-4)',\r\n            }}\r\n          >\r\n            Service Information\r\n          </h2>\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-3)' }}>\r\n            <Switch\r\n              checked={settings.showServiceMetrics}\r\n              onChange={checked => updateSetting('showServiceMetrics', checked)}\r\n              label=\"Show Service Metrics\"\r\n              helperText=\"Display uptime percentages and availability metrics\"\r\n            />\r\n            <Switch\r\n              checked={settings.showServiceDescriptions}\r\n              onChange={checked => updateSetting('showServiceDescriptions', checked)}\r\n              label=\"Show Service Descriptions\"\r\n              helperText=\"Display service descriptions and details\"\r\n            />\r\n            <Switch\r\n              checked={settings.showServiceRegions}\r\n              onChange={checked => updateSetting('showServiceRegions', checked)}\r\n              label=\"Show Service Regions\"\r\n              helperText=\"Display hosting regions for each service\"\r\n            />\r\n            <Switch\r\n              checked={settings.showUptimeHistory}\r\n              onChange={checked => updateSetting('showUptimeHistory', checked)}\r\n              label=\"Show Uptime History\"\r\n              helperText=\"Display historical uptime charts and timelines\"\r\n            />\r\n            <Switch\r\n              checked={settings.showTeamInformation}\r\n              onChange={checked => updateSetting('showTeamInformation', checked)}\r\n              label=\"Show Team Information\"\r\n              helperText=\"Display team names and ownership information\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Advanced Privacy Settings */}\r\n      <Card>\r\n        <div style={{ padding: 'var(--spacing-6)' }}>\r\n          <h2\r\n            style={{\r\n              fontSize: 'var(--font-size-xl)',\r\n              fontWeight: '700',\r\n              marginBottom: 'var(--spacing-4)',\r\n            }}\r\n          >\r\n            Advanced Privacy Settings\r\n          </h2>\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-4)' }}>\r\n            <Switch\r\n              checked={settings.showRecentIncidents}\r\n              onChange={checked => updateSetting('showRecentIncidents', checked)}\r\n              label=\"Show Recent Incidents\"\r\n              helperText=\"Display recent incidents list\"\r\n            />\r\n            <FormField\r\n              type=\"input\"\r\n              label=\"Maximum Incidents to Show\"\r\n              inputType=\"number\"\r\n              value={settings.maxIncidentsToShow.toString()}\r\n              onChange={e => updateSetting('maxIncidentsToShow', parseInt(e.target.value) || 50)}\r\n              helperText=\"Limit the number of incidents displayed (1-500)\"\r\n            />\r\n            <FormField\r\n              type=\"input\"\r\n              label=\"Incident History Days\"\r\n              inputType=\"number\"\r\n              value={settings.incidentHistoryDays.toString()}\r\n              onChange={e => updateSetting('incidentHistoryDays', parseInt(e.target.value) || 90)}\r\n              helperText=\"How many days of incident history to display\"\r\n            />\r\n            <FormField\r\n              type=\"input\"\r\n              label=\"Data Retention Days (Optional)\"\r\n              inputType=\"number\"\r\n              value={settings.dataRetentionDays?.toString() || ''}\r\n              onChange={e =>\r\n                updateSetting('dataRetentionDays', e.target.value ? parseInt(e.target.value) : null)\r\n              }\r\n              helperText=\"Auto-hide incidents older than this many days. Leave empty for no limit.\"\r\n            />\r\n            {customFields.length > 0 && (\r\n              <div>\r\n                <Switch\r\n                  checked={settings.showCustomFields}\r\n                  onChange={checked => updateSetting('showCustomFields', checked)}\r\n                  label=\"Show Custom Fields\"\r\n                  helperText=\"Display custom fields on incidents\"\r\n                />\r\n                {settings.showCustomFields && (\r\n                  <div\r\n                    style={{\r\n                      marginTop: 'var(--spacing-3)',\r\n                      padding: 'var(--spacing-3)',\r\n                      background: '#f9fafb',\r\n                      borderRadius: 'var(--radius-md)',\r\n                    }}\r\n                  >\r\n                    <p\r\n                      style={{\r\n                        fontSize: 'var(--font-size-sm)',\r\n                        color: 'var(--text-muted)',\r\n                        marginBottom: 'var(--spacing-2)',\r\n                      }}\r\n                    >\r\n                      Available custom fields:\r\n                    </p>\r\n                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: 'var(--spacing-2)' }}>\r\n                      {customFields.map(field => (\r\n                        <span\r\n                          key={field.id}\r\n                          style={{\r\n                            padding: 'var(--spacing-1) var(--spacing-2)',\r\n                            background: 'white',\r\n                            border: '1px solid #e5e7eb',\r\n                            borderRadius: 'var(--radius-sm)',\r\n                            fontSize: 'var(--font-size-xs)',\r\n                          }}\r\n                        >\r\n                          {field.name}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Privacy Summary */}\r\n      <Card>\r\n        <div style={{ padding: 'var(--spacing-6)' }}>\r\n          <h2\r\n            style={{\r\n              fontSize: 'var(--font-size-xl)',\r\n              fontWeight: '700',\r\n              marginBottom: 'var(--spacing-4)',\r\n            }}\r\n          >\r\n            Privacy Summary\r\n          </h2>\r\n          <div\r\n            style={{\r\n              padding: 'var(--spacing-4)',\r\n              background: '#f9fafb',\r\n              borderRadius: 'var(--radius-md)',\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                fontSize: 'var(--font-size-sm)',\r\n                color: 'var(--text-muted)',\r\n                marginBottom: 'var(--spacing-2)',\r\n              }}\r\n            >\r\n              Current privacy mode: <strong>{settings.privacyMode}</strong>\r\n            </div>\r\n            <div style={{ fontSize: 'var(--font-size-xs)', color: 'var(--text-muted)' }}>\r\n              These settings control what information is visible on your public status page. Changes\r\n              take effect immediately after saving.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageServices.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 211,
        "column": 36,
        "nodeType": "MemberExpression",
        "endLine": 211,
        "endColumn": 65
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 239,
        "column": 21,
        "nodeType": "MemberExpression",
        "endLine": 239,
        "endColumn": 52
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 239,
        "column": 68,
        "nodeType": "MemberExpression",
        "endLine": 239,
        "endColumn": 77
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 240,
        "column": 21,
        "nodeType": "MemberExpression",
        "endLine": 240,
        "endColumn": 30
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 249,
        "column": 17,
        "nodeType": "MemberExpression",
        "endLine": 249,
        "endColumn": 26
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 263,
        "column": 10,
        "nodeType": "MemberExpression",
        "endLine": 263,
        "endColumn": 39
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 864,
        "column": 76,
        "nodeType": "MemberExpression",
        "endLine": 864,
        "endColumn": 110
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 320,
        "column": 37,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 320,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12073, 12076], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12073, 12076], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 397,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 397,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [14985, 14988], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [14985, 14988], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 657,
        "column": 73,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 657,
        "endColumn": 76,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [30071, 30074], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [30071, 30074], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 7,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useEffect, useMemo, useState } from 'react';\r\nimport { formatDateTime, getBrowserTimeZone } from '@/lib/timezone';\r\n\r\ninterface Service {\r\n    id: string;\r\n    name: string;\r\n    status: string;\r\n    region?: string | null;\r\n    slaTier?: string | null;\r\n    team?: {\r\n        id: string;\r\n        name: string;\r\n    } | null;\r\n    _count: {\r\n        incidents: number;\r\n    };\r\n}\r\n\r\ninterface StatusPageService {\r\n    id: string;\r\n    serviceId: string;\r\n    displayName?: string | null;\r\n    showOnPage: boolean;\r\n}\r\n\r\ninterface PrivacySettings {\r\n    showServiceMetrics?: boolean;\r\n    showServiceDescriptions?: boolean;\r\n    showServiceRegions?: boolean;\r\n    showUptimeHistory?: boolean;\r\n    showTeamInformation?: boolean;\r\n}\r\n\r\ninterface StatusPageServicesProps {\r\n    services: Service[];\r\n    statusPageServices: StatusPageService[];\r\n    uptime90: Record<string, number>;\r\n    incidents: Array<{\r\n        serviceId: string;\r\n        createdAt: string;\r\n        resolvedAt?: string | null;\r\n        status: string;\r\n        urgency: string;\r\n    }>;\r\n    privacySettings?: PrivacySettings;\r\n    groupByRegionDefault?: boolean;\r\n    showServiceOwners?: boolean;\r\n    showServiceSlaTier?: boolean;\r\n}\r\n\r\nconst STATUS_CONFIG = {\r\n    OPERATIONAL: {\r\n        color: '#16a34a',\r\n        label: 'Operational',\r\n        background: '#dcfce7',\r\n        border: '#86efac',\r\n    },\r\n    DEGRADED: {\r\n        color: '#d97706',\r\n        label: 'Degraded',\r\n        background: '#fef3c7',\r\n        border: '#fcd34d',\r\n    },\r\n    PARTIAL_OUTAGE: {\r\n        color: '#d97706',\r\n        label: 'Partial Outage',\r\n        background: '#fef3c7',\r\n        border: '#fcd34d',\r\n    },\r\n    MAJOR_OUTAGE: {\r\n        color: '#dc2626',\r\n        label: 'Major Outage',\r\n        background: '#fee2e2',\r\n        border: '#fca5a5',\r\n    },\r\n    MAINTENANCE: {\r\n        color: 'var(--status-primary, #2563eb)',\r\n        label: 'Maintenance',\r\n        background: 'color-mix(in srgb, var(--status-primary, #2563eb) 12%, #ffffff)',\r\n        border: 'color-mix(in srgb, var(--status-primary, #2563eb) 40%, #ffffff)',\r\n    },\r\n};\r\n\r\nconst HISTORY_STATUS_COLORS: Record<'operational' | 'degraded' | 'outage' | 'future', string> = {\r\n    operational: '#16a34a', // Brighter, more visible green\r\n    degraded: '#d97706', // Brighter, more visible orange/yellow\r\n    outage: '#dc2626', // Brighter, more visible red\r\n    future: '#cbd5e1', // Slightly darker grey for better visibility\r\n};\r\n\r\ntype HoveredBar = {\r\n    serviceId: string;\r\n    date: string;\r\n    left: number;\r\n    width: number;\r\n};\r\n\r\ntype TimelineSliceStatus = 'operational' | 'degraded' | 'outage' | 'future';\r\n\r\nexport default function StatusPageServices({ services, statusPageServices, uptime90, incidents, privacySettings, groupByRegionDefault, showServiceOwners, showServiceSlaTier }: StatusPageServicesProps) {\r\n    // Privacy defaults\r\n    const privacy = {\r\n        showServiceMetrics: privacySettings?.showServiceMetrics !== false,\r\n        showServiceDescriptions: privacySettings?.showServiceDescriptions !== false,\r\n        showServiceRegions: privacySettings?.showServiceRegions !== false,\r\n        showUptimeHistory: privacySettings?.showUptimeHistory !== false,\r\n        showTeamInformation: privacySettings?.showTeamInformation === true,\r\n    };\r\n    const [hoveredBar, setHoveredBar] = useState<HoveredBar | null>(null);\r\n    const [hoveredServiceId, setHoveredServiceId] = useState<string | null>(null);\r\n    const [visibleDays, setVisibleDays] = useState(90);\r\n    const [statusFilter, setStatusFilter] = useState<'all' | 'operational' | 'degraded' | 'outage' | 'maintenance'>('all');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [groupByRegion, setGroupByRegion] = useState(() => Boolean(groupByRegionDefault));\r\n\r\n    const now = useMemo(() => new Date(), []);\r\n    const daysToShow = 90;\r\n\r\n    useEffect(() => {\r\n        const updateVisibleDays = () => {\r\n            const width = window.innerWidth;\r\n            if (width < 1024) {\r\n                setVisibleDays(30);\r\n            } else if (width < 1440) {\r\n                setVisibleDays(60);\r\n            } else {\r\n                setVisibleDays(90);\r\n            }\r\n        };\r\n\r\n        updateVisibleDays();\r\n        window.addEventListener('resize', updateVisibleDays);\r\n        return () => window.removeEventListener('resize', updateVisibleDays);\r\n    }, []);\r\n\r\n    const incidentsByService = useMemo(() => {\r\n        const map: Record<string, Array<{\r\n            createdAt: Date;\r\n            resolvedAt?: Date | null;\r\n            status: string;\r\n            urgency: string;\r\n        }>> = {};\r\n\r\n        incidents.forEach((incident) => {\r\n            if (!map[incident.serviceId]) {\r\n                map[incident.serviceId] = [];\r\n            }\r\n\r\n            map[incident.serviceId].push({\r\n                createdAt: new Date(incident.createdAt),\r\n                resolvedAt: incident.resolvedAt ? new Date(incident.resolvedAt) : null,\r\n                status: incident.status,\r\n                urgency: incident.urgency,\r\n            });\r\n        });\r\n\r\n        return map;\r\n    }, [incidents]);\r\n\r\n    const historyByService = useMemo(() => {\r\n        const start = new Date();\r\n        start.setHours(0, 0, 0, 0);\r\n        start.setDate(start.getDate() - (daysToShow - 1));\r\n\r\n        const historyMap: Record<string, Array<{ date: string; status: 'operational' | 'degraded' | 'outage' }>> = {};\r\n        services.forEach((service) => {\r\n            historyMap[service.id] = [];\r\n        });\r\n\r\n        for (let i = 0; i < daysToShow; i += 1) {\r\n            const dayStart = new Date(start);\r\n            dayStart.setDate(start.getDate() + i);\r\n            const dayEnd = new Date(dayStart);\r\n            dayEnd.setDate(dayStart.getDate() + 1);\r\n            const dayKey = formatLocalDateKey(dayStart);\r\n\r\n            services.forEach((service) => {\r\n                const active = (incidentsByService[service.id] || []).filter((incident) => {\r\n                    if (incident.status === 'SUPPRESSED' || incident.status === 'SNOOZED') {\r\n                        return false;\r\n                    }\r\n                    const incidentEnd = incident.resolvedAt || now;\r\n                    return incident.createdAt < dayEnd && incidentEnd >= dayStart;\r\n                });\r\n\r\n                const hasOutage = active.some((incident) => incident.urgency === 'HIGH');\r\n                const hasDegraded = active.some((incident) => incident.urgency === 'LOW');\r\n                const status = hasOutage ? 'outage' : hasDegraded ? 'degraded' : 'operational';\r\n\r\n                historyMap[service.id].push({\r\n                    date: dayKey,\r\n                    status,\r\n                });\r\n            });\r\n        }\r\n\r\n        return historyMap;\r\n    }, [services, incidentsByService, now]);\r\n\r\n    const activeTimelineData = useMemo(() => {\r\n        if (!hoveredBar) return null;\r\n\r\n        const { serviceId, date } = hoveredBar;\r\n        const [year, month, day] = date.split('-').map(Number);\r\n        const dayStart = new Date(year, month - 1, day, 0, 0, 0, 0);\r\n        const dayEnd = new Date(year, month - 1, day + 1, 0, 0, 0, 0);\r\n\r\n        const slices: TimelineSliceStatus[] = new Array(144).fill('operational');\r\n        const relevantIncidents = (incidentsByService[serviceId] || []).filter((incident) => {\r\n            if (incident.status === 'SUPPRESSED' || incident.status === 'SNOOZED') {\r\n                return false;\r\n            }\r\n            const incidentEnd = incident.resolvedAt || now;\r\n            return incident.createdAt < dayEnd && incidentEnd > dayStart;\r\n        });\r\n\r\n        const severityRank: Record<TimelineSliceStatus, number> = {\r\n            operational: 0,\r\n            degraded: 1,\r\n            outage: 2,\r\n            future: -1,\r\n        };\r\n\r\n        relevantIncidents.forEach((incident) => {\r\n            const incidentStart = incident.createdAt > dayStart ? incident.createdAt : dayStart;\r\n            const incidentEnd = (incident.resolvedAt || now) < dayEnd ? (incident.resolvedAt || now) : dayEnd;\r\n            const startIndex = Math.floor((incidentStart.getTime() - dayStart.getTime()) / (10 * 60 * 1000));\r\n            const endIndex = Math.ceil((incidentEnd.getTime() - dayStart.getTime()) / (10 * 60 * 1000)) - 1;\r\n\r\n            const statusForIncident: TimelineSliceStatus = incident.urgency === 'HIGH'\r\n                ? 'outage'\r\n                : incident.urgency === 'LOW'\r\n                    ? 'degraded'\r\n                    : 'operational';\r\n\r\n            for (let i = Math.max(0, startIndex); i <= Math.min(143, endIndex); i += 1) {\r\n                if (severityRank[statusForIncident] > severityRank[slices[i]]) {\r\n                    slices[i] = statusForIncident;\r\n                }\r\n            }\r\n        });\r\n\r\n        const isToday = dayStart.toDateString() === now.toDateString();\r\n        if (isToday) {\r\n            const currentIndex = Math.floor((now.getTime() - dayStart.getTime()) / (10 * 60 * 1000));\r\n            for (let i = Math.max(0, currentIndex + 1); i < slices.length; i += 1) {\r\n                slices[i] = 'future';\r\n            }\r\n        }\r\n\r\n        return { date, status: slices };\r\n    }, [hoveredBar, incidentsByService, now]);\r\n\r\n    const getIncidentStartMarkers = (serviceId: string, date: string) => {\r\n        const [year, month, day] = date.split('-').map(Number);\r\n        const dayStart = new Date(year, month - 1, day, 0, 0, 0, 0);\r\n        const dayEnd = new Date(year, month - 1, day + 1, 0, 0, 0, 0);\r\n\r\n        const markerMap = new Map<number, string>();\r\n        const times: string[] = [];\r\n        (incidentsByService[serviceId] || []).forEach((incident) => {\r\n            if (incident.status === 'SUPPRESSED' || incident.status === 'SNOOZED') {\r\n                return;\r\n            }\r\n            if (incident.resolvedAt) {\r\n                return;\r\n            }\r\n            if (incident.createdAt < dayStart || incident.createdAt >= dayEnd) {\r\n                return;\r\n            }\r\n            const index = Math.floor((incident.createdAt.getTime() - dayStart.getTime()) / (10 * 60 * 1000));\r\n            const browserTz = getBrowserTimeZone();\r\n            const label = formatDateTime(incident.createdAt, browserTz, { format: 'time', hour12: false });\r\n            markerMap.set(Math.max(0, Math.min(143, index)), label);\r\n            times.push(label);\r\n        });\r\n\r\n        return {\r\n            markers: Array.from(markerMap.entries()).map(([index, label]) => ({ index, label })),\r\n            times: times.sort(),\r\n        };\r\n    };\r\n\r\n    const formatTooltipDate = (dateKey: string) => {\r\n        const [year, month, day] = dateKey.split('-').map(Number);\r\n        const date = new Date(year, month - 1, day, 0, 0, 0, 0);\r\n        return formatDateTime(date, getBrowserTimeZone(), { format: 'date' });\r\n    };\r\n\r\n    const getRegionList = (region?: string | null) => {\r\n        if (!region) return [];\r\n        return region\r\n            .split(',')\r\n            .map((entry) => entry.trim())\r\n            .filter(Boolean);\r\n    };\r\n    // If statusPageServices is empty, show all services\r\n    // Otherwise, only show configured services\r\n    const visibleServices = useMemo(() => {\r\n        if (statusPageServices.length === 0) {\r\n            // No services configured, show all services\r\n            return services.map(service => ({\r\n                ...service,\r\n                displayName: service.name,\r\n            }));\r\n        } else {\r\n            // Show only configured services\r\n            return statusPageServices\r\n                .filter(sp => sp.showOnPage)\r\n                .map(sp => {\r\n                    const service = services.find(s => s.id === sp.serviceId);\r\n                    if (!service) return null;\r\n                    return {\r\n                        ...service,\r\n                        displayName: sp.displayName || service.name,\r\n                    };\r\n                })\r\n                .filter(Boolean) as any[]; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        }\r\n    }, [services, statusPageServices]);\r\n\r\n\r\n\r\n    const normalizeStatus = (status: string) => {\r\n        if (status === 'MAJOR_OUTAGE') return 'outage';\r\n        if (status === 'PARTIAL_OUTAGE' || status === 'DEGRADED') return 'degraded';\r\n        if (status === 'MAINTENANCE') return 'maintenance';\r\n        return 'operational';\r\n    };\r\n\r\n    const filteredServices = useMemo(() => {\r\n        const query = searchQuery.trim().toLowerCase();\r\n        return visibleServices.filter((service) => {\r\n            const statusKey = normalizeStatus(service.status || 'OPERATIONAL');\r\n            if (statusFilter !== 'all' && statusKey !== statusFilter) {\r\n                return false;\r\n            }\r\n            if (query) {\r\n                const name = (service.displayName || service.name || '').toLowerCase();\r\n                if (!name.includes(query)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n    }, [visibleServices, statusFilter, searchQuery]);\r\n\r\n    const hasAnyRegion = useMemo(() => visibleServices.some((service) => getRegionList(service.region).length > 0), [visibleServices]);\r\n\r\n    useEffect(() => {\r\n        setGroupByRegion(Boolean(groupByRegionDefault));\r\n    }, [groupByRegionDefault]);\r\n\r\n    useEffect(() => {\r\n        if (!privacy.showServiceRegions || !hasAnyRegion) {\r\n            setGroupByRegion(false);\r\n        }\r\n    }, [privacy.showServiceRegions, hasAnyRegion]);\r\n\r\n    const regionGroups = useMemo(() => {\r\n        if (!groupByRegion || !privacy.showServiceRegions) {\r\n            return [];\r\n        }\r\n        const groupMap = new Map<string, Service[]>();\r\n        filteredServices.forEach((service) => {\r\n            const regions = getRegionList(service.region);\r\n            const groupKey = regions.length === 0\r\n                ? 'Global'\r\n                : regions.length === 1\r\n                    ? regions[0]\r\n                    : 'Multi-region';\r\n            const existing = groupMap.get(groupKey) || [];\r\n            existing.push(service);\r\n            groupMap.set(groupKey, existing);\r\n        });\r\n\r\n        const entries = Array.from(groupMap.entries());\r\n        const priority = (value: string) => {\r\n            if (value === 'Multi-region') return 1;\r\n            if (value === 'Unspecified') return 2;\r\n            return 0;\r\n        };\r\n        entries.sort((a, b) => {\r\n            const priorityDiff = priority(a[0]) - priority(b[0]);\r\n            if (priorityDiff !== 0) return priorityDiff;\r\n            return a[0].localeCompare(b[0]);\r\n        });\r\n\r\n        return entries.map(([region, services]) => ({ region, services }));\r\n    }, [filteredServices, groupByRegion, privacy.showServiceRegions]);\r\n\r\n\r\n    if (visibleServices.length === 0) return null;\r\n\r\n    const renderServiceCard = (service: any, index: number) => { // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        const serviceStatus = service.status || 'OPERATIONAL';\r\n        const statusConfig = STATUS_CONFIG[serviceStatus as keyof typeof STATUS_CONFIG] || {\r\n            color: '#475569',\r\n            label: 'Unknown',\r\n            background: '#f1f5f9',\r\n            border: '#cbd5e1',\r\n        };\r\n        const activeIncidents = service._count.incidents;\r\n        const serviceHistory = historyByService[service.id] || [];\r\n        const displayedHistory = serviceHistory.slice(-visibleDays);\r\n        const uptimeValue90 = uptime90[service.id];\r\n        const hoveredTimeline = hoveredBar && hoveredBar.serviceId === service.id\r\n            ? activeTimelineData\r\n            : null;\r\n        const hoveredMarkerData = hoveredBar && hoveredBar.serviceId === service.id\r\n            ? getIncidentStartMarkers(service.id, hoveredBar.date)\r\n            : { markers: [], times: [] };\r\n        const isRowHovered = hoveredServiceId === service.id;\r\n        const isTooltipActive = hoveredBar?.serviceId === service.id;\r\n\r\n        return (\r\n            <div\r\n                key={service.id}\r\n                className=\"status-service-card\"\r\n                data-service-row=\"true\"\r\n                style={{\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    gap: 'clamp(0.75rem, 2vw, 1rem)',\r\n                    padding: 'clamp(1rem, 3vw, 1.5rem)',\r\n                    borderTop: index === 0 ? 'none' : '1px solid #e2e8f0',\r\n                    position: 'relative',\r\n                    background: isRowHovered\r\n                        ? `linear-gradient(90deg, ${statusConfig.background}08 0%, #ffffff 100%)`\r\n                        : '#ffffff',\r\n                    borderLeft: `4px solid ${isRowHovered ? statusConfig.color : 'transparent'}`,\r\n                    transition: 'all 0.2s ease',\r\n                    transform: isRowHovered ? 'translateX(2px)' : 'none',\r\n                    overflow: 'visible',\r\n                    zIndex: isTooltipActive ? 30 : isRowHovered ? 10 : 1,\r\n                }}\r\n                onMouseEnter={() => setHoveredServiceId(service.id)}\r\n                onMouseLeave={(e) => {\r\n                    const relatedTarget = e.relatedTarget;\r\n                    if (relatedTarget instanceof Element && relatedTarget.closest('[data-tooltip]')) {\r\n                        return;\r\n                    }\r\n                    setHoveredServiceId((current) => (current === service.id ? null : current));\r\n                    setHoveredBar((current) => (current && current.serviceId === service.id ? null : current));\r\n                }}\r\n            >\r\n                <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    gap: 'clamp(1rem, 3vw, 1.5rem)',\r\n                    alignItems: 'flex-start',\r\n                    flexWrap: 'wrap',\r\n                }}>\r\n                    <div style={{ minWidth: 0, flex: '1 1 200px' }}>\r\n                        <div style={{\r\n                            fontSize: 'clamp(1rem, 2.5vw, 1.125rem)',\r\n                            fontWeight: '700',\r\n                            color: 'var(--status-text-strong, #0f172a)',\r\n                            wordBreak: 'break-word',\r\n                            marginBottom: '0.5rem',\r\n                            letterSpacing: '-0.01em',\r\n                        }}>\r\n                            {service.displayName}\r\n                        </div>\r\n                        {(showServiceOwners && privacy.showTeamInformation && service.team?.name) || (showServiceSlaTier && service.slaTier) ? (\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                flexWrap: 'wrap',\r\n                                gap: '0.5rem',\r\n                                marginBottom: '0.5rem',\r\n                            }}>\r\n                                {showServiceOwners && privacy.showTeamInformation && service.team?.name && (\r\n                                    <span\r\n                                        style={{\r\n                                            padding: '0.25rem 0.6rem',\r\n                                            borderRadius: '999px',\r\n                                            fontSize: '0.7rem',\r\n                                            fontWeight: '600',\r\n                                            background: 'var(--status-panel-muted-bg, #f8fafc)',\r\n                                            border: '1px solid var(--status-panel-muted-border, #e2e8f0)',\r\n                                            color: 'var(--status-text-muted, #475569)',\r\n                                        }}\r\n                                    >\r\n                                        Owned by {service.team.name}\r\n                                    </span>\r\n                                )}\r\n                                {showServiceSlaTier && service.slaTier && (\r\n                                    <span\r\n                                        style={{\r\n                                            padding: '0.25rem 0.6rem',\r\n                                            borderRadius: '999px',\r\n                                            fontSize: '0.7rem',\r\n                                            fontWeight: '600',\r\n                                            background: 'var(--status-panel-muted-bg, #f8fafc)',\r\n                                            border: '1px solid var(--status-panel-muted-border, #e2e8f0)',\r\n                                            color: 'var(--status-text-muted, #475569)',\r\n                                        }}\r\n                                    >\r\n                                        SLA: {service.slaTier}\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                        ) : null}\r\n                        {privacy.showServiceRegions && getRegionList(service.region).length > 0 && (\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                flexWrap: 'wrap',\r\n                                gap: '0.5rem',\r\n                                marginBottom: '0.5rem',\r\n                            }}>\r\n                                {getRegionList(service.region).map((region) => (\r\n                                    <span\r\n                                        key={`${service.id}-${region}`}\r\n                                        style={{\r\n                                            padding: '0.25rem 0.65rem',\r\n                                            borderRadius: '999px',\r\n                                            fontSize: '0.7rem',\r\n                                            fontWeight: '600',\r\n                                            background: 'var(--status-panel-muted-bg, #f8fafc)',\r\n                                            border: '1px solid var(--status-panel-muted-border, #e2e8f0)',\r\n                                            color: 'var(--status-text-muted, #475569)',\r\n                                        }}\r\n                                    >\r\n                                        {region}\r\n                                    </span>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                        {privacy.showServiceDescriptions && service.description && (\r\n                            <p style={{\r\n                                margin: 0,\r\n                                fontSize: '0.875rem',\r\n                                color: 'var(--status-text-muted, #64748b)',\r\n                                lineHeight: '1.6',\r\n                            }}>\r\n                                {service.description}\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        gap: '0.5rem',\r\n                        alignItems: 'flex-end',\r\n                        minWidth: '160px',\r\n                    }}>\r\n                        <span style={{\r\n                            display: 'inline-flex',\r\n                            alignItems: 'center',\r\n                            gap: '0.5rem',\r\n                            padding: '0.4rem 0.75rem',\r\n                            borderRadius: '999px',\r\n                            fontSize: '0.75rem',\r\n                            fontWeight: '700',\r\n                            color: statusConfig.color,\r\n                            background: statusConfig.background,\r\n                            border: `2px solid ${statusConfig.border}`,\r\n                            textTransform: 'uppercase',\r\n                            letterSpacing: '0.08em',\r\n                            whiteSpace: 'nowrap',\r\n                            boxShadow: `0 2px 4px ${statusConfig.border}30`,\r\n                            transition: 'all 0.2s ease',\r\n                        }}\r\n                            onMouseEnter={(event) => {\r\n                                event.currentTarget.style.transform = 'scale(1.05)';\r\n                                event.currentTarget.style.boxShadow = `0 4px 8px ${statusConfig.border}50`;\r\n                            }}\r\n                            onMouseLeave={(event) => {\r\n                                event.currentTarget.style.transform = 'scale(1)';\r\n                                event.currentTarget.style.boxShadow = `0 2px 4px ${statusConfig.border}30`;\r\n                            }}\r\n                        >\r\n                            {statusConfig.label}\r\n                        </span>\r\n                        {activeIncidents > 0 && (\r\n                            <div style={{\r\n                                fontSize: '0.75rem',\r\n                                color: 'var(--status-text-muted, #6b7280)',\r\n                                fontWeight: '600',\r\n                            }}>\r\n                                {activeIncidents} active incident{activeIncidents !== 1 ? 's' : ''}\r\n                            </div>\r\n                        )}\r\n                        {privacy.showServiceMetrics && uptimeValue90 !== undefined && (\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                gap: '0.375rem',\r\n                                fontSize: '0.8125rem',\r\n                                color: 'var(--status-text-muted, #64748b)',\r\n                                fontWeight: '500',\r\n                            }}>\r\n                                <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                    <polyline points=\"22 12 18 12 15 21 9 3 6 12 2 12\"></polyline>\r\n                                </svg>\r\n                                <span>{uptimeValue90.toFixed(2)}% uptime (90d)</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {privacy.showUptimeHistory && (\r\n                    <div style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: `repeat(${displayedHistory.length || visibleDays}, minmax(0, 1fr))`,\r\n                        gap: '2px',\r\n                        height: '28px',\r\n                        padding: '0.55rem 0.8rem',\r\n                        alignItems: 'center',\r\n                        width: '100%',\r\n                        boxSizing: 'border-box',\r\n                        overflow: 'hidden',\r\n                        borderRadius: '0.75rem',\r\n                        background: 'var(--status-panel-bg, #ffffff)',\r\n                        border: '1px solid var(--status-panel-border, #e2e8f0)',\r\n                        boxShadow: 'inset 0 1px 2px rgba(15, 23, 42, 0.08)',\r\n                    }}>\r\n                        {(displayedHistory.length ? displayedHistory : new Array(visibleDays).fill(null)).map((entry, barIndex) => {\r\n                            const barStatus = entry?.status || 'operational';\r\n                            const isHovered = hoveredBar?.serviceId === service.id && hoveredBar?.date === entry?.date;\r\n\r\n                            return (\r\n                                <div\r\n                                    key={`${service.id}-${barIndex}`}\r\n                                    style={{\r\n                                        position: 'relative',\r\n                                        height: '100%',\r\n                                        background: HISTORY_STATUS_COLORS[barStatus as 'operational' | 'degraded' | 'outage'],\r\n                                        borderRadius: '3px',\r\n                                        boxShadow: isHovered ? '0 0 0 1px #0f172a' : 'none',\r\n                                        cursor: entry ? 'pointer' : 'default',\r\n                                        transition: 'all 0.15s ease',\r\n                                        border: isHovered ? '1px solid #0f172a' : '1px solid transparent',\r\n                                    }}\r\n                                    onMouseEnter={(event) => {\r\n                                        if (entry) {\r\n                                            const barRect = (event.currentTarget as HTMLDivElement).getBoundingClientRect();\r\n                                            const rowElement = (event.currentTarget as HTMLDivElement).closest('[data-service-row]');\r\n                                            const rowRect = rowElement ? rowElement.getBoundingClientRect() : barRect;\r\n                                            const tooltipWidth = Math.max(600, Math.min(1100, rowRect.width - 16));\r\n                                            const center = barRect.left - rowRect.left + barRect.width / 2;\r\n                                            const half = tooltipWidth / 2;\r\n                                            const padding = 12;\r\n                                            const clamped = Math.max(half + padding, Math.min(rowRect.width - half - padding, center));\r\n\r\n                                            setHoveredBar({\r\n                                                serviceId: service.id,\r\n                                                date: entry.date,\r\n                                                left: clamped,\r\n                                                width: tooltipWidth,\r\n                                            });\r\n                                        }\r\n                                    }}\r\n                                    onMouseLeave={(event) => {\r\n                                        const relatedTarget = (event as any).relatedTarget as HTMLElement | null; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                                        if (relatedTarget && relatedTarget.closest('[data-tooltip]')) {\r\n                                            return;\r\n                                        }\r\n                                        setHoveredBar((current) =>\r\n                                            current?.serviceId === service.id && current?.date === entry?.date ? null : current\r\n                                        );\r\n                                    }}\r\n                                    onClick={(event) => {\r\n                                        if (!entry) return;\r\n                                        const barRect = (event.currentTarget as HTMLDivElement).getBoundingClientRect();\r\n                                        const rowElement = (event.currentTarget as HTMLDivElement).closest('[data-service-row]');\r\n                                        const rowRect = rowElement ? rowElement.getBoundingClientRect() : barRect;\r\n                                        const tooltipWidth = Math.max(600, Math.min(1100, rowRect.width - 16));\r\n                                        const center = barRect.left - rowRect.left + barRect.width / 2;\r\n                                        const half = tooltipWidth / 2;\r\n                                        const padding = 12;\r\n                                        const clamped = Math.max(half + padding, Math.min(rowRect.width - half - padding, center));\r\n\r\n                                        setHoveredBar((current) => {\r\n                                            if (current && current.serviceId === service.id && current.date === entry.date) {\r\n                                                return null;\r\n                                            }\r\n                                            return {\r\n                                                serviceId: service.id,\r\n                                                date: entry.date,\r\n                                                left: clamped,\r\n                                                width: tooltipWidth,\r\n                                            };\r\n                                        });\r\n                                    }}\r\n                                />\r\n                            );\r\n                        })}\r\n                    </div>\r\n                )}\r\n                {hoveredBar && hoveredBar.serviceId === service.id && (() => {\r\n                    const tooltipEntry = displayedHistory.find(e => e.date === hoveredBar.date);\r\n                    const dayStatus = tooltipEntry?.status || 'operational';\r\n                    const slaMetrics = hoveredTimeline\r\n                        ? hoveredTimeline.status.reduce(\r\n                            (acc, status) => {\r\n                                if (status !== 'future') {\r\n                                    acc.total += 1;\r\n                                    if (status === 'operational') {\r\n                                        acc.operational += 1;\r\n                                    }\r\n                                }\r\n                                return acc;\r\n                            },\r\n                            { total: 0, operational: 0 }\r\n                        )\r\n                        : { total: 0, operational: 0 };\r\n                    const slaValue = slaMetrics.total > 0 ? (slaMetrics.operational / slaMetrics.total) * 100 : 100;\r\n                    return (\r\n                        <div\r\n                            data-tooltip=\"true\"\r\n                            style={{\r\n                                position: 'absolute',\r\n                                left: `${hoveredBar.left}px`,\r\n                                top: '100%',\r\n                                marginTop: '0.75rem',\r\n                                background: 'var(--status-panel-bg, #ffffff)',\r\n                                border: '2px solid var(--status-panel-border, #e2e8f0)',\r\n                                borderRadius: '1rem',\r\n                                padding: '1.25rem',\r\n                                boxShadow: '0 20px 40px rgba(15, 23, 42, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05)',\r\n                                zIndex: 100,\r\n                                width: `${hoveredBar.width}px`,\r\n                                maxWidth: '98vw',\r\n                                transform: 'translateX(-50%)',\r\n                                opacity: 1,\r\n                                transition: 'opacity 0.2s ease, transform 0.2s ease',\r\n                                overflow: 'hidden',\r\n                            }}\r\n                            onMouseLeave={() => {\r\n                                setHoveredBar(null);\r\n                            }}\r\n                        >\r\n                            <span style={{\r\n                                position: 'absolute',\r\n                                top: '-6px',\r\n                                left: '50%',\r\n                                width: '10px',\r\n                                height: '10px',\r\n                                background: 'var(--status-panel-bg, #ffffff)',\r\n                                borderLeft: '1px solid var(--status-panel-border, #e2e8f0)',\r\n                                borderTop: '1px solid var(--status-panel-border, #e2e8f0)',\r\n                                transform: 'translateX(-50%) rotate(45deg)',\r\n                            }} />\r\n                            <button\r\n                                type=\"button\"\r\n                                aria-label=\"Close\"\r\n                                onClick={() => setHoveredBar(null)}\r\n                                style={{\r\n                                    position: 'absolute',\r\n                                    top: '8px',\r\n                                    right: '8px',\r\n                                    border: 'none',\r\n                                    background: '#f1f5f9',\r\n                                    color: 'var(--status-text-muted, #64748b)',\r\n                                    fontSize: '1.125rem',\r\n                                    cursor: 'pointer',\r\n                                    width: '24px',\r\n                                    height: '24px',\r\n                                    borderRadius: '50%',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                    transition: 'all 0.2s ease',\r\n                                }}\r\n                                onMouseEnter={(event) => {\r\n                                    event.currentTarget.style.background = '#e2e8f0';\r\n                                    event.currentTarget.style.color = '#475569';\r\n                                    event.currentTarget.style.transform = 'scale(1.1)';\r\n                                }}\r\n                                onMouseLeave={(event) => {\r\n                                    event.currentTarget.style.background = '#f1f5f9';\r\n                                    event.currentTarget.style.color = '#64748b';\r\n                                    event.currentTarget.style.transform = 'scale(1)';\r\n                                }}\r\n                            >\r\n                                x\r\n                            </button>\r\n                            <div style={{\r\n                                fontSize: '1rem',\r\n                                fontWeight: '700',\r\n                                color: 'var(--status-text-strong, #0f172a)',\r\n                                marginBottom: '0.5rem',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                gap: '0.75rem',\r\n                                flexWrap: 'wrap',\r\n                            }}>\r\n                                <span>{formatTooltipDate(hoveredBar.date)}</span>\r\n                                {tooltipEntry && (\r\n                                    <span style={{\r\n                                        padding: '0.375rem 0.75rem',\r\n                                        borderRadius: '0.5rem',\r\n                                        fontSize: '0.75rem',\r\n                                        fontWeight: '700',\r\n                                        textTransform: 'uppercase',\r\n                                        letterSpacing: '0.05em',\r\n                                        background: HISTORY_STATUS_COLORS[dayStatus as 'operational' | 'degraded' | 'outage'] + '20',\r\n                                        color: HISTORY_STATUS_COLORS[dayStatus as 'operational' | 'degraded' | 'outage'],\r\n                                        border: `2px solid ${HISTORY_STATUS_COLORS[dayStatus as 'operational' | 'degraded' | 'outage']}60`,\r\n                                        boxShadow: `0 2px 4px ${HISTORY_STATUS_COLORS[dayStatus as 'operational' | 'degraded' | 'outage']}30`,\r\n                                    }}>\r\n                                        {dayStatus === 'operational' ? 'Operational' : dayStatus === 'degraded' ? 'Degraded' : 'Outage'}\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                            <div style={{ fontSize: '0.8125rem', color: 'var(--status-text-muted, #64748b)', marginBottom: '0.35rem' }}>\r\n                                {service.displayName} - Local time\r\n                            </div>\r\n                            <div style={{ fontSize: '0.8125rem', color: 'var(--status-text-muted, #475569)', marginBottom: '1rem' }}>\r\n                                SLA: {slaValue.toFixed(2)}% met\r\n                            </div>\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                gap: '0.75rem',\r\n                                flexWrap: 'wrap',\r\n                                fontSize: '0.75rem',\r\n                                color: 'var(--status-text-muted, #64748b)',\r\n                                marginBottom: '1rem',\r\n                                padding: '0.75rem',\r\n                                background: 'var(--status-panel-muted-bg, #f8fafc)',\r\n                                borderRadius: '0.5rem',\r\n                            }}>\r\n                                <span style={{ display: 'inline-flex', alignItems: 'center', gap: '0.5rem', fontWeight: '500' }}>\r\n                                    <span style={{ width: '10px', height: '10px', borderRadius: '3px', background: HISTORY_STATUS_COLORS.operational, boxShadow: `0 0 0 2px ${HISTORY_STATUS_COLORS.operational}30` }} />\r\n                                    Operational\r\n                                </span>\r\n                                <span style={{ display: 'inline-flex', alignItems: 'center', gap: '0.5rem', fontWeight: '500' }}>\r\n                                    <span style={{ width: '10px', height: '10px', borderRadius: '3px', background: HISTORY_STATUS_COLORS.degraded, boxShadow: `0 0 0 2px ${HISTORY_STATUS_COLORS.degraded}30` }} />\r\n                                    Degraded\r\n                                </span>\r\n                                <span style={{ display: 'inline-flex', alignItems: 'center', gap: '0.5rem', fontWeight: '500' }}>\r\n                                    <span style={{ width: '10px', height: '10px', borderRadius: '3px', background: HISTORY_STATUS_COLORS.outage, boxShadow: `0 0 0 2px ${HISTORY_STATUS_COLORS.outage}30` }} />\r\n                                    Outage\r\n                                </span>\r\n                                <span style={{ display: 'inline-flex', alignItems: 'center', gap: '0.5rem', fontWeight: '500' }}>\r\n                                    <span style={{ width: '10px', height: '10px', borderRadius: '3px', background: HISTORY_STATUS_COLORS.future, boxShadow: `0 0 0 2px ${HISTORY_STATUS_COLORS.future}30` }} />\r\n                                    Upcoming\r\n                                </span>\r\n                            </div>\r\n                            {hoveredTimeline && (\r\n                                <div>\r\n                                    <div style={{\r\n                                        position: 'relative',\r\n                                        width: '100%',\r\n                                        overflow: 'hidden',\r\n                                    }}>\r\n                                        <div style={{\r\n                                            display: 'flex',\r\n                                            gap: '0',\r\n                                            height: '52px',\r\n                                            padding: '0.2rem 0.2rem',\r\n                                            background: 'var(--status-panel-muted-bg, #f8fafc)',\r\n                                            borderRadius: '0.5rem',\r\n                                            border: '1px solid var(--status-panel-muted-border, #e2e8f0)',\r\n                                            boxSizing: 'border-box',\r\n                                        }}>\r\n                                            {hoveredTimeline.status.map((sliceStatus, sliceIndex) => (\r\n                                                <div\r\n                                                    key={`${service.id}-${hoveredBar.date}-${sliceIndex}`}\r\n                                                    style={(() => {\r\n                                                        const sliceColor = HISTORY_STATUS_COLORS[sliceStatus] || HISTORY_STATUS_COLORS.operational;\r\n                                                        return {\r\n                                                            flex: '1 1 0',\r\n                                                            background: sliceColor,\r\n                                                            borderRadius: '0',\r\n                                                            height: '100%',\r\n                                                            minHeight: '100%',\r\n                                                            minWidth: '3px',\r\n                                                            boxShadow: 'none',\r\n                                                        };\r\n                                                    })()}\r\n                                                />\r\n                                            ))}\r\n                                        </div>\r\n                                        {hoveredMarkerData.markers.map((marker) => (\r\n                                            <span\r\n                                                key={`${service.id}-${hoveredBar.date}-marker-${marker.index}`}\r\n                                                title={marker.label}\r\n                                                style={{\r\n                                                    position: 'absolute',\r\n                                                    top: '0',\r\n                                                    left: `${(marker.index / 144) * 100}%`,\r\n                                                    width: '2px',\r\n                                                    height: '100%',\r\n                                                    background: '#0f172a',\r\n                                                    opacity: 0.7,\r\n                                                }}\r\n                                            />\r\n                                        ))}\r\n                                    </div>\r\n                                    {hoveredMarkerData.times.length > 0 && (\r\n                                        <div style={{\r\n                                            marginTop: '0.5rem',\r\n                                            fontSize: '0.75rem',\r\n                                            color: 'var(--status-text-muted, #64748b)',\r\n                                            display: 'flex',\r\n                                            flexWrap: 'wrap',\r\n                                            gap: '0.4rem',\r\n                                        }}>\r\n                                            <span style={{ fontWeight: '600', color: 'var(--status-text-muted, #475569)' }}>Starts:</span>\r\n                                            {hoveredMarkerData.times.map((time, timeIndex) => (\r\n                                                <span key={`${service.id}-${hoveredBar.date}-time-${timeIndex}`} style={{\r\n                                                    padding: '0.15rem 0.4rem',\r\n                                                    borderRadius: '0.4rem',\r\n                                                    background: 'var(--status-panel-muted-bg, #f1f5f9)',\r\n                                                }}>\r\n                                                    {time}\r\n                                                </span>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                    <div style={{\r\n                                        display: 'flex',\r\n                                        justifyContent: 'space-between',\r\n                                        fontSize: '0.7rem',\r\n                                        color: 'var(--status-text-subtle, #94a3b8)',\r\n                                        marginTop: '0.35rem',\r\n                                    }}>\r\n                                        <span>00:00</span>\r\n                                        <span>06:00</span>\r\n                                        <span>12:00</span>\r\n                                        <span>18:00</span>\r\n                                        <span>24:00</span>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    );\r\n                })()}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <section style={{ marginBottom: 'clamp(2rem, 6vw, 4rem)' }}>\r\n            <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                marginBottom: 'clamp(1rem, 3vw, 1.5rem)',\r\n                gap: '1rem',\r\n                flexWrap: 'wrap',\r\n            }}>\r\n                <div>\r\n                    <h2 style={{\r\n                        fontSize: 'clamp(1.5rem, 4vw, 1.875rem)',\r\n                        fontWeight: '800',\r\n                        color: 'var(--status-text-strong, #0f172a)',\r\n                        margin: 0,\r\n                        marginBottom: '0.25rem',\r\n                        letterSpacing: '-0.02em',\r\n                    }}>\r\n                        Services\r\n                    </h2>\r\n                    <p style={{\r\n                        fontSize: 'clamp(0.8125rem, 2vw, 0.875rem)',\r\n                        color: 'var(--status-text-muted, #64748b)',\r\n                        margin: 0,\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '0.5rem',\r\n                    }}>\r\n                        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n                            <polyline points=\"12 6 12 12 16 14\"></polyline>\r\n                        </svg>\r\n                        {filteredServices.length} of {visibleServices.length} services\r\n                    </p>\r\n                </div>\r\n                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem', alignItems: 'center' }}>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={searchQuery}\r\n                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                        placeholder=\"Search services\"\r\n                        className=\"status-page-input\"\r\n                        style={{\r\n                            minWidth: '180px',\r\n                        }}\r\n                    />\r\n                    {(['all', 'operational', 'degraded', 'outage', 'maintenance'] as const).map((filter) => (\r\n                        <button\r\n                            key={filter}\r\n                            type=\"button\"\r\n                            onClick={() => setStatusFilter(filter)}\r\n                            className=\"status-page-button\"\r\n                            data-active={statusFilter === filter}\r\n                            style={{ textTransform: 'capitalize' }}\r\n                        >\r\n                            {filter}\r\n                        </button>\r\n                    ))}\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => setGroupByRegion((prev) => !prev)}\r\n                        className=\"status-page-button\"\r\n                        data-active={groupByRegion}\r\n                        disabled={!privacy.showServiceRegions || !hasAnyRegion}\r\n                        title={!privacy.showServiceRegions ? 'Enable regions in privacy settings to group by region.' : !hasAnyRegion ? 'No regions configured for these services.' : 'Group services by region.'}\r\n                    >\r\n                        Group by region\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div style={{\r\n                display: 'flex',\r\n                gap: 'clamp(0.75rem, 2vw, 1.25rem)',\r\n                flexWrap: 'wrap',\r\n                alignItems: 'center',\r\n                marginBottom: 'clamp(1rem, 3vw, 1.5rem)',\r\n                padding: 'clamp(0.75rem, 2vw, 1rem) clamp(1rem, 3vw, 1.25rem)',\r\n                background: 'var(--status-panel-muted-bg, #f8fafc)',\r\n                borderRadius: '0.75rem',\r\n                border: '1px solid var(--status-panel-muted-border, #e2e8f0)',\r\n                boxShadow: 'none',\r\n            }}>\r\n                <span style={{\r\n                    display: 'inline-flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.5rem',\r\n                    fontSize: '0.8125rem',\r\n                    color: 'var(--status-text-muted, #475569)',\r\n                    fontWeight: '500',\r\n                }}>\r\n                    <span style={{\r\n                        width: '12px',\r\n                        height: '12px',\r\n                        borderRadius: '3px',\r\n                        background: HISTORY_STATUS_COLORS.operational,\r\n                        boxShadow: '0 2px 4px rgba(34, 197, 94, 0.3)',\r\n                    }} />\r\n                    Operational\r\n                </span>\r\n                <span style={{\r\n                    display: 'inline-flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.5rem',\r\n                    fontSize: '0.8125rem',\r\n                    color: 'var(--status-text-muted, #475569)',\r\n                    fontWeight: '500',\r\n                }}>\r\n                    <span style={{\r\n                        width: '12px',\r\n                        height: '12px',\r\n                        borderRadius: '3px',\r\n                        background: HISTORY_STATUS_COLORS.degraded,\r\n                        boxShadow: '0 2px 4px rgba(251, 191, 36, 0.3)',\r\n                    }} />\r\n                    Degraded\r\n                </span>\r\n                <span style={{\r\n                    display: 'inline-flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.5rem',\r\n                    fontSize: '0.8125rem',\r\n                    color: 'var(--status-text-muted, #475569)',\r\n                    fontWeight: '500',\r\n                }}>\r\n                    <span style={{\r\n                        width: '12px',\r\n                        height: '12px',\r\n                        borderRadius: '3px',\r\n                        background: HISTORY_STATUS_COLORS.outage,\r\n                        boxShadow: '0 2px 4px rgba(248, 113, 113, 0.3)',\r\n                    }} />\r\n                    Outage\r\n                </span>\r\n                <span style={{\r\n                    marginLeft: 'auto',\r\n                    fontSize: '0.75rem',\r\n                    color: 'var(--status-text-muted, #64748b)',\r\n                    display: 'inline-flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.4rem',\r\n                }}>\r\n                    <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                        <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n                        <polyline points=\"12 6 12 12 16 14\"></polyline>\r\n                    </svg>\r\n                    Last {visibleDays} days\r\n                </span>\r\n            </div>\r\n            <div style={{\r\n                border: '1px solid var(--status-panel-border, #e2e8f0)',\r\n                borderRadius: '1rem',\r\n                background: 'var(--status-panel-bg, #ffffff)',\r\n                overflow: 'visible',\r\n                boxShadow: 'var(--status-card-shadow, 0 6px 16px rgba(15, 23, 42, 0.05))',\r\n                position: 'relative',\r\n            }}>\r\n                {filteredServices.length === 0 ? (\r\n                    <div style={{\r\n                        padding: '2.5rem',\r\n                        textAlign: 'center',\r\n                        color: 'var(--status-text-muted, #6b7280)',\r\n                        fontSize: '0.875rem',\r\n                    }}>\r\n                        No services match your filters.\r\n                    </div>\r\n                ) : groupByRegion && regionGroups.length > 0 ? (\r\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem', padding: '1.25rem' }}>\r\n                        {regionGroups.map((group) => {\r\n                            const groupStatuses = group.services.map((service) => normalizeStatus(service.status || 'OPERATIONAL'));\r\n                            const hasOutage = groupStatuses.includes('outage');\r\n                            const hasDegraded = groupStatuses.includes('degraded');\r\n                            const hasMaintenance = groupStatuses.includes('maintenance');\r\n                            const groupLabel = hasOutage\r\n                                ? { label: 'Outage', color: '#dc2626', background: '#fee2e2', border: '#fecaca' }\r\n                                : hasDegraded\r\n                                    ? { label: 'Degraded', color: '#d97706', background: '#fef3c7', border: '#fde68a' }\r\n                                    : hasMaintenance\r\n                                        ? {\r\n                                            label: 'Maintenance',\r\n                                            color: 'var(--status-primary, #2563eb)',\r\n                                            background: 'color-mix(in srgb, var(--status-primary, #2563eb) 18%, #ffffff)',\r\n                                            border: 'color-mix(in srgb, var(--status-primary, #2563eb) 35%, #ffffff)',\r\n                                        }\r\n                                        : { label: 'Operational', color: '#16a34a', background: '#dcfce7', border: '#86efac' };\r\n\r\n                            return (\r\n                                <div key={group.region} style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', gap: '1rem', flexWrap: 'wrap' }}>\r\n                                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.35rem' }}>\r\n                                            <div style={{ fontSize: '1rem', fontWeight: '700', color: 'var(--status-text-strong, #0f172a)' }}>\r\n                                                {group.region}\r\n                                            </div>\r\n                                            <div style={{ fontSize: '0.8125rem', color: 'var(--status-text-muted, #6b7280)' }}>\r\n                                                {group.services.length} service{group.services.length !== 1 ? 's' : ''}\r\n                                            </div>\r\n                                        </div>\r\n                                        <span style={{\r\n                                            display: 'inline-flex',\r\n                                            alignItems: 'center',\r\n                                            gap: '0.5rem',\r\n                                            padding: '0.35rem 0.75rem',\r\n                                            borderRadius: '999px',\r\n                                            fontSize: '0.7rem',\r\n                                            fontWeight: '700',\r\n                                            color: groupLabel.color,\r\n                                            background: groupLabel.background,\r\n                                            border: `1px solid ${groupLabel.border}`,\r\n                                            textTransform: 'uppercase',\r\n                                            letterSpacing: '0.08em',\r\n                                        }}>\r\n                                            {groupLabel.label}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div style={{\r\n                                        border: '1px solid var(--status-panel-border, #e2e8f0)',\r\n                                        borderRadius: '0.9rem',\r\n                                        overflow: 'visible',\r\n                                        background: 'var(--status-panel-bg, #ffffff)',\r\n                                    }}>\r\n                                        {group.services.map((service, index) => renderServiceCard(service, index))}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                ) : (\r\n                    filteredServices.map((service, index) => renderServiceCard(service, index))\r\n                )}\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nfunction formatLocalDateKey(date: Date) {\r\n    const year = date.getFullYear();\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    return `${year}-${month}-${day}`;\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageServicesGrouped.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 134,
        "column": 14,
        "nodeType": "MemberExpression",
        "endLine": 134,
        "endColumn": 28
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 135,
        "column": 13,
        "nodeType": "MemberExpression",
        "endLine": 135,
        "endColumn": 27
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 137,
        "column": 9,
        "nodeType": "MemberExpression",
        "endLine": 137,
        "endColumn": 23
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 156,
        "column": 14,
        "nodeType": "MemberExpression",
        "endLine": 156,
        "endColumn": 28
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 157,
        "column": 13,
        "nodeType": "MemberExpression",
        "endLine": 157,
        "endColumn": 27
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 159,
        "column": 9,
        "nodeType": "MemberExpression",
        "endLine": 159,
        "endColumn": 23
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 6,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { formatDateTime, getBrowserTimeZone } from '@/lib/timezone';\r\n\r\ninterface Service {\r\n    id: string;\r\n    name: string;\r\n    status: string;\r\n    team?: {\r\n        id: string;\r\n        name: string;\r\n    } | null;\r\n    _count: {\r\n        incidents: number;\r\n    };\r\n}\r\n\r\ninterface StatusPageService {\r\n    id: string;\r\n    serviceId: string;\r\n    displayName?: string | null;\r\n    showOnPage: boolean;\r\n}\r\n\r\ninterface StatusPageServicesGroupedProps {\r\n    services: Service[];\r\n    statusPageServices: StatusPageService[];\r\n    incidents: Array<{\r\n        serviceId: string;\r\n        createdAt: Date;\r\n        resolvedAt?: Date | null;\r\n    }>;\r\n}\r\n\r\nconst STATUS_CONFIG = {\r\n    OPERATIONAL: {\r\n        color: '#10b981',\r\n        label: 'Operational',\r\n    },\r\n    DEGRADED: {\r\n        color: '#f59e0b',\r\n        label: 'Degraded',\r\n    },\r\n    PARTIAL_OUTAGE: {\r\n        color: '#f59e0b',\r\n        label: 'Partial Outage',\r\n    },\r\n    MAJOR_OUTAGE: {\r\n        color: '#ef4444',\r\n        label: 'Major Outage',\r\n    },\r\n    MAINTENANCE: {\r\n        color: 'var(--status-primary, #3b82f6)',\r\n        label: 'Maintenance',\r\n    },\r\n};\r\n\r\ntype TimePeriod = '30d' | '90d' | 'all';\r\n\r\nexport default function StatusPageServicesGrouped({\r\n    services,\r\n    statusPageServices,\r\n    incidents\r\n}: StatusPageServicesGroupedProps) {\r\n    const [selectedPeriod, setSelectedPeriod] = useState<TimePeriod>('90d');\r\n\r\n    // Calculate uptime for a service group\r\n    const calculateUptime = (serviceIds: string[], periodStart: Date) => {\r\n        const periodEnd = new Date();\r\n        const totalMinutes = (periodEnd.getTime() - periodStart.getTime()) / (1000 * 60);\r\n\r\n        // Get incidents for these services in the period\r\n        const groupIncidents = incidents.filter(\r\n            inc => serviceIds.includes(inc.serviceId) &&\r\n                inc.createdAt >= periodStart &&\r\n                (inc.resolvedAt || inc.createdAt) <= periodEnd\r\n        );\r\n\r\n        // Calculate downtime minutes\r\n        let downtimeMinutes = 0;\r\n        groupIncidents.forEach(incident => {\r\n            const start = incident.createdAt;\r\n            const end = incident.resolvedAt || periodEnd;\r\n            const incidentMinutes = (end.getTime() - start.getTime()) / (1000 * 60);\r\n            downtimeMinutes += incidentMinutes;\r\n        });\r\n\r\n        const uptimePercent = totalMinutes > 0\r\n            ? ((totalMinutes - downtimeMinutes) / totalMinutes) * 100\r\n            : 100;\r\n\r\n        return Math.max(0, Math.min(100, uptimePercent));\r\n    };\r\n\r\n    // Get period start date\r\n    const getPeriodStart = (period: TimePeriod): Date => {\r\n        const now = new Date();\r\n        switch (period) {\r\n            case '30d':\r\n                return new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\r\n            case '90d':\r\n                return new Date(now.getTime() - 90 * 24 * 60 * 60 * 1000);\r\n            case 'all':\r\n                return new Date(0); // All time\r\n            default:\r\n                return new Date(now.getTime() - 90 * 24 * 60 * 60 * 1000);\r\n        }\r\n    };\r\n\r\n    // Format period label\r\n    const getPeriodLabel = (period: TimePeriod): string => {\r\n        const now = new Date();\r\n        const start = getPeriodStart(period);\r\n\r\n        if (period === 'all') {\r\n            return 'All time';\r\n        }\r\n\r\n        const browserTz = getBrowserTimeZone();\r\n        const startFormatted = formatDateTime(start, browserTz, { format: 'short' });\r\n        const endFormatted = formatDateTime(now, browserTz, { format: 'short' });\r\n        const startMonth = startFormatted.split(',')[0]?.split(' ')[0] || 'Jan';\r\n        const startYear = start.getFullYear();\r\n        const endMonth = endFormatted.split(',')[0]?.split(' ')[0] || 'Jan';\r\n        const endYear = now.getFullYear();\r\n\r\n        return `${startMonth} ${startYear}-${endMonth} ${endYear}`;\r\n    };\r\n\r\n    // Group services by team\r\n    const _groupedServices = services.reduce((acc, service) => {\r\n        const groupName = service.team?.name || 'Other Services';\r\n        if (!acc[groupName]) {\r\n            acc[groupName] = [];\r\n        }\r\n        acc[groupName].push(service);\r\n        return acc;\r\n    }, {} as Record<string, Service[]>);\r\n\r\n    // Get visible services\r\n    let visibleServices: Service[] = [];\r\n    if (statusPageServices.length === 0) {\r\n        visibleServices = services;\r\n    } else {\r\n        const serviceMap = new Map(services.map(s => [s.id, s]));\r\n        visibleServices = statusPageServices\r\n            .filter(sp => sp.showOnPage)\r\n            .map(sp => serviceMap.get(sp.serviceId))\r\n            .filter(Boolean) as Service[];\r\n    }\r\n\r\n    // Regroup visible services\r\n    const visibleGrouped = visibleServices.reduce((acc, service) => {\r\n        const groupName = service.team?.name || 'Other Services';\r\n        if (!acc[groupName]) {\r\n            acc[groupName] = [];\r\n        }\r\n        acc[groupName].push(service);\r\n        return acc;\r\n    }, {} as Record<string, Service[]>);\r\n\r\n    if (Object.keys(visibleGrouped).length === 0) return null;\r\n\r\n    const periodStart = getPeriodStart(selectedPeriod);\r\n\r\n    return (\r\n        <section style={{ marginBottom: '3rem' }}>\r\n            {/* Header with period selector */}\r\n            <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                marginBottom: '2rem',\r\n                flexWrap: 'wrap',\r\n                gap: '1rem',\r\n            }}>\r\n                <h2 style={{\r\n                    fontSize: '1.5rem',\r\n                    fontWeight: '600',\r\n                    color: 'var(--status-text, #111827)',\r\n                    margin: 0,\r\n                }}>\r\n                    System status\r\n                </h2>\r\n                <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\r\n                    <span style={{ fontSize: '0.875rem', color: 'var(--status-text-muted, #6b7280)', marginRight: '0.5rem' }}>\r\n                        {getPeriodLabel(selectedPeriod)}\r\n                    </span>\r\n                    <select\r\n                        value={selectedPeriod}\r\n                        onChange={(e) => setSelectedPeriod(e.target.value as TimePeriod)}\r\n                        style={{\r\n                            padding: '0.5rem 1rem',\r\n                            border: '1px solid #e5e7eb',\r\n                            borderRadius: '0.5rem',\r\n                            fontSize: '0.875rem',\r\n                            background: 'var(--status-panel-bg, #ffffff)',\r\n                            color: 'var(--status-text, #374151)',\r\n                            cursor: 'pointer',\r\n                        }}\r\n                    >\r\n                        <option value=\"30d\">Last 30 days</option>\r\n                        <option value=\"90d\">Last 90 days</option>\r\n                        <option value=\"all\">All time</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Service Groups */}\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem' }}>\r\n                {Object.entries(visibleGrouped).map(([groupName, groupServices]) => {\r\n                    const serviceIds = groupServices.map(s => s.id);\r\n                    const uptime = calculateUptime(serviceIds, periodStart);\r\n                    const componentCount = groupServices.length;\r\n\r\n                    // Determine group status (worst status in group)\r\n                    const groupStatus = groupServices.reduce((worst, service) => {\r\n                        const serviceStatus = service.status || 'OPERATIONAL';\r\n                        const statusPriority = {\r\n                            'MAJOR_OUTAGE': 4,\r\n                            'PARTIAL_OUTAGE': 3,\r\n                            'DEGRADED': 2,\r\n                            'MAINTENANCE': 1,\r\n                            'OPERATIONAL': 0,\r\n                        };\r\n                        const worstPriority = statusPriority[worst as keyof typeof statusPriority] || 0;\r\n                        const currentPriority = statusPriority[serviceStatus as keyof typeof statusPriority] || 0;\r\n                        return currentPriority > worstPriority ? serviceStatus : worst;\r\n                    }, 'OPERATIONAL' as string);\r\n\r\n                    const statusConfig = STATUS_CONFIG[groupStatus as keyof typeof STATUS_CONFIG] ||\r\n                        STATUS_CONFIG.OPERATIONAL;\r\n\r\n                    return (\r\n                        <div\r\n                            key={groupName}\r\n                            style={{\r\n                                border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                                borderRadius: '0.75rem',\r\n                                overflow: 'hidden',\r\n                                background: 'var(--status-panel-bg, #ffffff)',\r\n                            }}\r\n                        >\r\n                            {/* Group Header */}\r\n                            <div style={{\r\n                                padding: '1.5rem',\r\n                                borderBottom: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                                display: 'flex',\r\n                                justifyContent: 'space-between',\r\n                                alignItems: 'center',\r\n                                flexWrap: 'wrap',\r\n                                gap: '1rem',\r\n                            }}>\r\n                                <div style={{ flex: 1, minWidth: '200px' }}>\r\n                                    <h3 style={{\r\n                                        fontSize: '1.125rem',\r\n                                        fontWeight: '600',\r\n                                        color: 'var(--status-text, #111827)',\r\n                                        marginBottom: '0.25rem',\r\n                                    }}>\r\n                                        {groupName}\r\n                                    </h3>\r\n                                    <div style={{\r\n                                        fontSize: '0.875rem',\r\n                                        color: 'var(--status-text-muted, #6b7280)',\r\n                                    }}>\r\n                                        {componentCount} component{componentCount !== 1 ? 's' : ''}\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '1.5rem',\r\n                                    flexWrap: 'wrap',\r\n                                }}>\r\n                                    <div style={{ textAlign: 'right' }}>\r\n                                        <div style={{\r\n                                            fontSize: '1.5rem',\r\n                                            fontWeight: '600',\r\n                                            color: 'var(--status-text, #111827)',\r\n                                            lineHeight: '1.2',\r\n                                        }}>\r\n                                            {uptime.toFixed(2)}%\r\n                                        </div>\r\n                                        <div style={{\r\n                                            fontSize: '0.75rem',\r\n                                            color: 'var(--status-text-muted, #6b7280)',\r\n                                            marginTop: '0.25rem',\r\n                                        }}>\r\n                                            uptime\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style={{\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        gap: '0.5rem',\r\n                                    }}>\r\n                                        <div style={{\r\n                                            width: '12px',\r\n                                            height: '12px',\r\n                                            borderRadius: '50%',\r\n                                            background: statusConfig.color,\r\n                                        }}></div>\r\n                                        <span style={{\r\n                                            fontSize: '0.875rem',\r\n                                            color: 'var(--status-text, #374151)',\r\n                                            fontWeight: '500',\r\n                                        }}>\r\n                                            {statusConfig.label}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Components List */}\r\n                            <div style={{\r\n                                padding: '1rem 1.5rem',\r\n                                background: 'var(--status-panel-muted-bg, #f9fafb)',\r\n                            }}>\r\n                                <div style={{\r\n                                    display: 'grid',\r\n                                    gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\r\n                                    gap: '1rem',\r\n                                }}>\r\n                                    {groupServices.map((service) => {\r\n                                        const serviceStatus = service.status || 'OPERATIONAL';\r\n                                        const serviceStatusConfig = STATUS_CONFIG[serviceStatus as keyof typeof STATUS_CONFIG] ||\r\n                                            STATUS_CONFIG.OPERATIONAL;\r\n                                        const activeIncidents = service._count.incidents;\r\n\r\n                                        return (\r\n                                            <div\r\n                                                key={service.id}\r\n                                                style={{\r\n                                                    padding: '0.75rem',\r\n                                                    background: 'var(--status-panel-bg, #ffffff)',\r\n                                                    border: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                                                    borderRadius: '0.5rem',\r\n                                                    display: 'flex',\r\n                                                    alignItems: 'center',\r\n                                                    justifyContent: 'space-between',\r\n                                                    gap: '0.75rem',\r\n                                                }}\r\n                                            >\r\n                                                <div style={{ flex: 1, minWidth: 0 }}>\r\n                                                    <div style={{\r\n                                                        fontSize: '0.875rem',\r\n                                                        fontWeight: '500',\r\n                                                        color: 'var(--status-text, #111827)',\r\n                                                        marginBottom: '0.25rem',\r\n                                                        overflow: 'hidden',\r\n                                                        textOverflow: 'ellipsis',\r\n                                                        whiteSpace: 'nowrap',\r\n                                                    }}>\r\n                                                        {service.name}\r\n                                                    </div>\r\n                                                    {activeIncidents > 0 && (\r\n                                                        <div style={{\r\n                                                            fontSize: '0.75rem',\r\n                                                            color: '#ef4444',\r\n                                                            fontWeight: '500',\r\n                                                        }}>\r\n                                                            {activeIncidents} incident{activeIncidents !== 1 ? 's' : ''}\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                                <div style={{\r\n                                                    width: '10px',\r\n                                                    height: '10px',\r\n                                                    borderRadius: '50%',\r\n                                                    background: serviceStatusConfig.color,\r\n                                                    flexShrink: 0,\r\n                                                }}></div>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* View History Link */}\r\n                            <div style={{\r\n                                padding: '1rem 1.5rem',\r\n                                borderTop: '1px solid var(--status-panel-border, #e5e7eb)',\r\n                                background: 'var(--status-panel-bg, #ffffff)',\r\n                            }}>\r\n                                <a\r\n                                    href=\"#incidents\"\r\n                                    style={{\r\n                                        fontSize: '0.875rem',\r\n                                        color: 'var(--status-primary, #3b82f6)',\r\n                                        textDecoration: 'none',\r\n                                        fontWeight: '500',\r\n                                        display: 'inline-flex',\r\n                                        alignItems: 'center',\r\n                                        gap: '0.5rem',\r\n                                    }}\r\n                                    onMouseEnter={(e) => {\r\n                                        e.currentTarget.style.textDecoration = 'underline';\r\n                                    }}\r\n                                    onMouseLeave={(e) => {\r\n                                        e.currentTarget.style.textDecoration = 'none';\r\n                                    }}\r\n                                >\r\n                                    View history\r\n                                    <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                                        <polyline points=\"9 18 15 12 9 6\"></polyline>\r\n                                    </svg>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageSetupWizard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageSubscribe.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 47,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 47,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1583, 1586], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1583, 1586], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageSubscribers.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 74,
        "column": 14,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 74,
        "endColumn": 73,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 86,
        "column": 17,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 86,
        "endColumn": 64,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected alert.",
        "line": 95,
        "column": 13,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 95,
        "endColumn": 53,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\status-page\\StatusPageWebhooksSettings.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 44,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 44,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1630, 1633], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1630, 1633], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 82,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 82,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2946, 2949], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2946, 2949], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "no-alert",
        "severity": 1,
        "message": "Unexpected confirm.",
        "line": 90,
        "column": 14,
        "nodeType": "CallExpression",
        "messageId": "unexpected",
        "endLine": 90,
        "endColumn": 70,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 103,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 103,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3687, 3690], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3687, 3690], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 251,
        "column": 75,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 251,
        "endColumn": 78,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13621, 13624], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13621, 13624], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Badge.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 98,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 98,
        "endColumn": 28
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 99,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 99,
        "endColumn": 34
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { ReactNode, memo, useMemo } from 'react';\r\n\r\ntype BadgeVariant = 'default' | 'primary' | 'success' | 'warning' | 'error' | 'info';\r\ntype BadgeSize = 'sm' | 'md' | 'lg';\r\n\r\ninterface BadgeProps {\r\n  variant?: BadgeVariant;\r\n  size?: BadgeSize;\r\n  dot?: boolean;\r\n  children: ReactNode;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\n/**\r\n * Badge component for labels and status indicators\r\n * \r\n * @example\r\n * <Badge variant=\"success\" size=\"md\" dot>Active</Badge>\r\n */\r\nfunction Badge({\r\n  variant = 'default',\r\n  size = 'md',\r\n  dot = false,\r\n  children,\r\n  className = '',\r\n  style: customStyle = {},\r\n}: BadgeProps) {\r\n  // Memoize styles to prevent recreation on every render\r\n  const baseStyles: React.CSSProperties = useMemo(() => ({\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n    gap: 'var(--spacing-1)',\r\n    borderRadius: 'var(--radius-full)',\r\n    fontWeight: 'var(--font-weight-medium)',\r\n    whiteSpace: 'nowrap',\r\n  }), []);\r\n\r\n  const sizeStyles: Record<BadgeSize, React.CSSProperties> = useMemo(() => ({\r\n    sm: {\r\n      padding: 'var(--spacing-1) var(--spacing-2)',\r\n      fontSize: 'var(--font-size-xs)',\r\n      height: '18px',\r\n    },\r\n    md: {\r\n      padding: 'var(--spacing-1) var(--spacing-3)',\r\n      fontSize: 'var(--font-size-sm)',\r\n      height: '22px',\r\n    },\r\n    lg: {\r\n      padding: 'var(--spacing-2) var(--spacing-4)',\r\n      fontSize: 'var(--font-size-base)',\r\n      height: '26px',\r\n    },\r\n  }), []);\r\n\r\n  const variantStyles: Record<BadgeVariant, React.CSSProperties> = useMemo(() => ({\r\n    default: {\r\n      background: 'var(--color-neutral-100)',\r\n      color: 'var(--text-primary)',\r\n    },\r\n    primary: {\r\n      background: 'var(--primary)',\r\n      color: 'var(--text-inverse)',\r\n    },\r\n    success: {\r\n      background: 'var(--color-success-light)',\r\n      color: 'var(--color-success-dark)',\r\n    },\r\n    warning: {\r\n      background: 'var(--color-warning-light)',\r\n      color: 'var(--color-warning-dark)',\r\n    },\r\n    error: {\r\n      background: 'var(--color-error-light)',\r\n      color: 'var(--color-error-dark)',\r\n    },\r\n    info: {\r\n      background: 'var(--color-info-light)',\r\n      color: 'var(--color-info-dark)',\r\n    },\r\n  }), []);\r\n\r\n  const dotStyles: React.CSSProperties = useMemo(() => ({\r\n    width: '6px',\r\n    height: '6px',\r\n    borderRadius: 'var(--radius-full)',\r\n    background: 'currentColor',\r\n  }), []);\r\n\r\n  return (\r\n    <span\r\n      className={`ui-badge ui-badge-${variant} ui-badge-${size} ${className}`}\r\n      style={{\r\n        ...baseStyles,\r\n        ...sizeStyles[size],\r\n        ...variantStyles[variant],\r\n        ...customStyle,\r\n      }}\r\n    >\r\n      {dot && <span style={dotStyles} />}\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n\r\n// Memoize Badge to prevent unnecessary re-renders (frequently used component)\r\nexport default memo(Badge);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Button.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 129,
        "column": 8,
        "nodeType": "MemberExpression",
        "endLine": 129,
        "endColumn": 24
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 130,
        "column": 8,
        "nodeType": "MemberExpression",
        "endLine": 130,
        "endColumn": 30
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Function Call Object Injection Sink",
        "line": 142,
        "column": 48,
        "nodeType": "MemberExpression",
        "endLine": 142,
        "endColumn": 68
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Function Call Object Injection Sink",
        "line": 147,
        "column": 48,
        "nodeType": "MemberExpression",
        "endLine": 147,
        "endColumn": 70
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { ButtonHTMLAttributes, ReactNode } from 'react';\r\nimport Spinner from './Spinner';\r\n\r\ntype ButtonVariant = 'primary' | 'secondary' | 'danger' | 'ghost' | 'link';\r\ntype ButtonSize = 'sm' | 'md' | 'lg';\r\n\r\ninterface ButtonProps extends Omit<ButtonHTMLAttributes<HTMLButtonElement>, 'size'> {\r\n  variant?: ButtonVariant;\r\n  size?: ButtonSize;\r\n  isLoading?: boolean;\r\n  leftIcon?: ReactNode;\r\n  rightIcon?: ReactNode;\r\n  fullWidth?: boolean;\r\n  children: ReactNode;\r\n}\r\n\r\n/**\r\n * Button component with variants, sizes, and loading states\r\n *\r\n * @example\r\n * <Button variant=\"primary\" size=\"md\" isLoading={false}>\r\n *   Click Me\r\n * </Button>\r\n */\r\nexport default function Button({\r\n  variant = 'primary',\r\n  size = 'md',\r\n  isLoading = false,\r\n  leftIcon,\r\n  rightIcon,\r\n  fullWidth = false,\r\n  disabled,\r\n  className = '',\r\n  children,\r\n  ...props\r\n}: ButtonProps) {\r\n  const isDisabled = disabled || isLoading;\r\n\r\n  const baseStyles: React.CSSProperties = {\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: 'var(--spacing-2)',\r\n    fontFamily: 'inherit',\r\n    fontWeight: 'var(--font-weight-semibold)',\r\n    borderRadius: 'var(--radius-md)',\r\n    border: 'none',\r\n    cursor: isDisabled ? 'not-allowed' : 'pointer',\r\n    transition: 'all var(--transition-base) var(--ease-out)',\r\n    textDecoration: 'none',\r\n    width: fullWidth ? '100%' : 'auto',\r\n    opacity: isDisabled ? 0.6 : 1,\r\n    position: 'relative',\r\n  };\r\n\r\n  const sizeStyles: Record<ButtonSize, React.CSSProperties> = {\r\n    sm: {\r\n      padding: 'var(--spacing-2) var(--spacing-4)',\r\n      fontSize: 'var(--font-size-sm)',\r\n      height: '32px',\r\n    },\r\n    md: {\r\n      padding: 'var(--spacing-3) var(--spacing-6)',\r\n      fontSize: 'var(--font-size-base)',\r\n      height: '40px',\r\n    },\r\n    lg: {\r\n      padding: 'var(--spacing-4) var(--spacing-8)',\r\n      fontSize: 'var(--font-size-lg)',\r\n      height: '48px',\r\n    },\r\n  };\r\n\r\n  const variantStyles: Record<ButtonVariant, React.CSSProperties> = {\r\n    primary: {\r\n      background: 'var(--primary)',\r\n      color: 'var(--text-inverse)',\r\n      boxShadow: 'var(--shadow-sm)',\r\n    },\r\n    secondary: {\r\n      background: 'var(--bg-secondary)',\r\n      color: 'var(--text-primary)',\r\n      border: '1px solid var(--border)',\r\n      boxShadow: 'var(--shadow-xs)',\r\n    },\r\n    danger: {\r\n      background: 'var(--color-error)',\r\n      color: 'var(--text-inverse)',\r\n      boxShadow: 'var(--shadow-sm)',\r\n    },\r\n    ghost: {\r\n      background: 'transparent',\r\n      color: 'var(--text-primary)',\r\n    },\r\n    link: {\r\n      background: 'transparent',\r\n      color: 'var(--primary)',\r\n      padding: 0,\r\n      height: 'auto',\r\n      textDecoration: 'underline',\r\n    },\r\n  };\r\n\r\n  const hoverStyles: Record<ButtonVariant, React.CSSProperties> = {\r\n    primary: {\r\n      background: 'var(--primary-hover)',\r\n      boxShadow: 'var(--shadow-md)',\r\n    },\r\n    secondary: {\r\n      background: 'var(--color-neutral-50)',\r\n      borderColor: 'var(--border-hover)',\r\n    },\r\n    danger: {\r\n      background: 'var(--color-error-dark)',\r\n      boxShadow: 'var(--shadow-md)',\r\n    },\r\n    ghost: {\r\n      background: 'var(--color-neutral-100)',\r\n    },\r\n    link: {\r\n      color: 'var(--primary-hover)',\r\n    },\r\n  };\r\n\r\n  const combinedStyles: React.CSSProperties = {\r\n    ...baseStyles,\r\n    ...sizeStyles[size],\r\n    ...variantStyles[variant],\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={`ui-button ui-button-${variant} ui-button-${size} ${className}`}\r\n      style={combinedStyles}\r\n      disabled={isDisabled}\r\n      aria-disabled={isDisabled}\r\n      aria-busy={isLoading}\r\n      onMouseEnter={e => {\r\n        if (!isDisabled) {\r\n          Object.assign(e.currentTarget.style, hoverStyles[variant]);\r\n        }\r\n      }}\r\n      onMouseLeave={e => {\r\n        if (!isDisabled) {\r\n          Object.assign(e.currentTarget.style, variantStyles[variant]);\r\n        }\r\n      }}\r\n      {...props}\r\n    >\r\n      {isLoading ? (\r\n        <>\r\n          <Spinner\r\n            size={size === 'sm' ? 'sm' : 'md'}\r\n            variant={variant === 'primary' || variant === 'danger' ? 'white' : 'default'}\r\n          />\r\n          <span style={{ opacity: 0 }}>{children}</span>\r\n        </>\r\n      ) : (\r\n        <>\r\n          {leftIcon && <span className=\"ui-button-icon-left\">{leftIcon}</span>}\r\n          {children}\r\n          {rightIcon && <span className=\"ui-button-icon-right\">{rightIcon}</span>}\r\n        </>\r\n      )}\r\n    </button>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Card.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Function Call Object Injection Sink",
        "line": 77,
        "column": 44,
        "nodeType": "MemberExpression",
        "endLine": 77,
        "endColumn": 66
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 86,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 86,
        "endColumn": 34
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { ReactNode, HTMLAttributes, useCallback, useMemo } from 'react';\r\n\r\ntype CardVariant = 'default' | 'elevated' | 'outlined' | 'flat';\r\n\r\ninterface CardProps extends HTMLAttributes<HTMLDivElement> {\r\n  variant?: CardVariant;\r\n  header?: ReactNode;\r\n  footer?: ReactNode;\r\n  hover?: boolean;\r\n  children: ReactNode;\r\n}\r\n\r\n/**\r\n * Card component with header, body, and footer sections\r\n * \r\n * @example\r\n * <Card variant=\"elevated\" header={<h3>Title</h3>} footer={<button>Action</button>}>\r\n *   Content here\r\n * </Card>\r\n */\r\nexport default function Card({\r\n  variant = 'default',\r\n  header,\r\n  footer,\r\n  hover = false,\r\n  children,\r\n  className = '',\r\n  style,\r\n  ...props\r\n}: CardProps) {\r\n  // Memoize styles to prevent recreation on every render\r\n  const baseStyles: React.CSSProperties = useMemo(() => ({\r\n    background: 'var(--bg-secondary)',\r\n    borderRadius: 'var(--radius-lg)',\r\n    overflow: 'hidden',\r\n    transition: hover ? 'all var(--transition-base) var(--ease-out)' : undefined,\r\n  }), [hover]);\r\n\r\n  const variantStyles: Record<CardVariant, React.CSSProperties> = useMemo(() => ({\r\n    default: {\r\n      border: '1px solid var(--border)',\r\n      boxShadow: 'var(--shadow-sm)',\r\n    },\r\n    elevated: {\r\n      border: '1px solid var(--border)',\r\n      boxShadow: 'var(--shadow-lg)',\r\n    },\r\n    outlined: {\r\n      border: '2px solid var(--border)',\r\n      boxShadow: 'none',\r\n    },\r\n    flat: {\r\n      border: 'none',\r\n      boxShadow: 'none',\r\n      background: 'transparent',\r\n    },\r\n  }), []);\r\n\r\n  const hoverStyles: React.CSSProperties = useMemo(() => hover\r\n    ? {\r\n        boxShadow: 'var(--shadow-xl)',\r\n        transform: 'translateY(-2px)',\r\n      }\r\n    : {}, [hover]);\r\n\r\n  // Memoize event handlers to prevent unnecessary re-renders\r\n  const handleMouseEnter = useCallback((e: React.MouseEvent<HTMLDivElement>) => {\r\n    if (hover) {\r\n      Object.assign(e.currentTarget.style, hoverStyles);\r\n    }\r\n  }, [hover, hoverStyles]);\r\n\r\n  const handleMouseLeave = useCallback((e: React.MouseEvent<HTMLDivElement>) => {\r\n    if (hover) {\r\n      Object.assign(e.currentTarget.style, variantStyles[variant]);\r\n    }\r\n  }, [hover, variant, variantStyles]);\r\n\r\n  return (\r\n    <div\r\n      className={`ui-card ui-card-${variant} ${hover ? 'ui-card-hover' : ''} ${className}`}\r\n      style={{\r\n        ...baseStyles,\r\n        ...variantStyles[variant],\r\n        ...style,\r\n      }}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n      {...props}\r\n    >\r\n      {header && (\r\n        <div\r\n          className=\"ui-card-header\"\r\n          style={{\r\n            padding: 'var(--spacing-6)',\r\n            borderBottom: '1px solid var(--border)',\r\n            background: 'var(--bg-primary)',\r\n          }}\r\n        >\r\n          {header}\r\n        </div>\r\n      )}\r\n      <div\r\n        className=\"ui-card-body\"\r\n        style={{\r\n          padding: header || footer ? 'var(--spacing-6)' : 'var(--spacing-6)',\r\n        }}\r\n      >\r\n        {children}\r\n      </div>\r\n      {footer && (\r\n        <div\r\n          className=\"ui-card-footer\"\r\n          style={{\r\n            padding: 'var(--spacing-6)',\r\n            borderTop: '1px solid var(--border)',\r\n            background: 'var(--bg-primary)',\r\n          }}\r\n        >\r\n          {footer}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Checkbox.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 64,
        "column": 16,
        "nodeType": "MemberExpression",
        "endLine": 64,
        "endColumn": 32
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 95,
        "column": 33,
        "nodeType": "MemberExpression",
        "endLine": 95,
        "endColumn": 49
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 113,
        "column": 33,
        "nodeType": "MemberExpression",
        "endLine": 113,
        "endColumn": 49
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { InputHTMLAttributes, useId } from 'react';\r\n\r\ninterface CheckboxProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'type' | 'size'> {\r\n  label?: string;\r\n  helperText?: string;\r\n  error?: string;\r\n  size?: 'sm' | 'md' | 'lg';\r\n  fullWidth?: boolean;\r\n}\r\n\r\n/**\r\n * Checkbox component\r\n *\r\n * @example\r\n * <Checkbox\r\n *   label=\"Accept terms\"\r\n *   checked={checked}\r\n *   onChange={(e) => setChecked(e.target.checked)}\r\n * />\r\n */\r\nexport default function Checkbox({\r\n  label,\r\n  helperText,\r\n  error,\r\n  size = 'md',\r\n  fullWidth = false,\r\n  className = '',\r\n  id,\r\n  ...props\r\n}: CheckboxProps) {\r\n  const generatedId = useId();\r\n  const checkboxId = id || generatedId;\r\n  const hasError = !!error;\r\n\r\n  const sizeStyles = {\r\n    sm: { width: '16px', height: '16px' },\r\n    md: { width: '20px', height: '20px' },\r\n    lg: { width: '24px', height: '24px' },\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`ui-checkbox-wrapper ${fullWidth ? 'ui-checkbox-full-width' : ''}`}\r\n      style={{ width: fullWidth ? '100%' : 'auto' }}\r\n    >\r\n      <label\r\n        htmlFor={checkboxId}\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: 'var(--spacing-2)',\r\n          cursor: props.disabled ? 'not-allowed' : 'pointer',\r\n          opacity: props.disabled ? 0.6 : 1,\r\n          width: fullWidth ? '100%' : 'auto',\r\n        }}\r\n      >\r\n        <input\r\n          type=\"checkbox\"\r\n          id={checkboxId}\r\n          className={`ui-checkbox ui-checkbox-${size} ${className}`}\r\n          style={{\r\n            ...sizeStyles[size],\r\n            cursor: props.disabled ? 'not-allowed' : 'pointer',\r\n            accentColor: hasError ? 'var(--color-error)' : 'var(--primary)',\r\n          }}\r\n          aria-invalid={hasError}\r\n          aria-describedby={\r\n            error ? `${checkboxId}-error` : helperText ? `${checkboxId}-helper` : undefined\r\n          }\r\n          {...props}\r\n        />\r\n        {label && (\r\n          <span\r\n            style={{\r\n              fontSize: 'var(--font-size-base)',\r\n              color: 'var(--text-primary)',\r\n              userSelect: 'none',\r\n            }}\r\n          >\r\n            {label}\r\n            {props.required && (\r\n              <span style={{ color: 'var(--color-error)', marginLeft: 'var(--spacing-1)' }}>*</span>\r\n            )}\r\n          </span>\r\n        )}\r\n      </label>\r\n      {error && (\r\n        <div\r\n          id={`${checkboxId}-error`}\r\n          className=\"ui-checkbox-error\"\r\n          style={{\r\n            marginTop: 'var(--spacing-1)',\r\n            marginLeft: `calc(${sizeStyles[size].width} + var(--spacing-2))`,\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--color-error)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: 'var(--spacing-1)',\r\n          }}\r\n        >\r\n          <span>ΓÜá∩╕Å</span>\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n      {helperText && !error && (\r\n        <div\r\n          id={`${checkboxId}-helper`}\r\n          className=\"ui-checkbox-helper\"\r\n          style={{\r\n            marginTop: 'var(--spacing-1)',\r\n            marginLeft: `calc(${sizeStyles[size].width} + var(--spacing-2))`,\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--text-muted)',\r\n          }}\r\n        >\r\n          {helperText}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\DateTimeInput.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 42,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 42,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [906, 909], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [906, 909], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\EmptyState.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 62,
        "column": 20,
        "nodeType": "MemberExpression",
        "endLine": 62,
        "endColumn": 36
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { ReactNode } from 'react';\r\nimport Link from 'next/link';\r\nimport Button from './Button';\r\n\r\ninterface EmptyStateProps {\r\n    title: string;\r\n    description?: string;\r\n    icon?: ReactNode;\r\n    action?: {\r\n        label: string;\r\n        href?: string;\r\n        onClick?: () => void;\r\n    };\r\n    image?: ReactNode;\r\n    className?: string;\r\n    size?: 'sm' | 'md' | 'lg';\r\n}\r\n\r\n/**\r\n * Standardized EmptyState component for consistent empty states across the app\r\n * \r\n * @example\r\n * <EmptyState\r\n *   title=\"No incidents found\"\r\n *   description=\"Create your first incident to get started\"\r\n *   icon={<IncidentIcon />}\r\n *   action={{ label: \"Create Incident\", href: \"/incidents/create\" }}\r\n * />\r\n */\r\nexport default function EmptyState({ \r\n    title, \r\n    description, \r\n    icon, \r\n    action,\r\n    image,\r\n    className = '',\r\n    size = 'md'\r\n}: EmptyStateProps) {\r\n    const sizeStyles = {\r\n        sm: {\r\n            padding: 'var(--spacing-8)',\r\n            iconSize: '48px',\r\n            titleSize: 'var(--font-size-lg)',\r\n            minHeight: '200px'\r\n        },\r\n        md: {\r\n            padding: 'var(--spacing-12)',\r\n            iconSize: '64px',\r\n            titleSize: 'var(--font-size-xl)',\r\n            minHeight: '300px'\r\n        },\r\n        lg: {\r\n            padding: 'var(--spacing-16)',\r\n            iconSize: '80px',\r\n            titleSize: 'var(--font-size-2xl)',\r\n            minHeight: '400px'\r\n        }\r\n    };\r\n\r\n    const styles = sizeStyles[size];\r\n\r\n    return (\r\n        <div \r\n            className={`ui-empty-state ${className}`} \r\n            style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                padding: styles.padding,\r\n                textAlign: 'center',\r\n                minHeight: styles.minHeight,\r\n            }}\r\n            role=\"status\"\r\n            aria-live=\"polite\"\r\n        >\r\n            {image && (\r\n                <div style={{ marginBottom: 'var(--spacing-6)' }}>\r\n                    {image}\r\n                </div>\r\n            )}\r\n            {icon && !image && (\r\n                <div \r\n                    className=\"empty-state-icon\"\r\n                    style={{\r\n                        width: styles.iconSize,\r\n                        height: styles.iconSize,\r\n                        marginBottom: 'var(--spacing-4)',\r\n                        opacity: 0.4,\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        fontSize: styles.iconSize,\r\n                        color: 'var(--text-muted)'\r\n                    }}\r\n                    aria-hidden=\"true\"\r\n                >\r\n                    {icon}\r\n                </div>\r\n            )}\r\n            <h3 \r\n                className=\"empty-state-title\"\r\n                style={{\r\n                    fontSize: styles.titleSize,\r\n                    fontWeight: 'var(--font-weight-semibold)',\r\n                    color: 'var(--text-secondary)',\r\n                    marginBottom: description ? 'var(--spacing-2)' : (action ? 'var(--spacing-4)' : 0),\r\n                }}\r\n            >\r\n                {title}\r\n            </h3>\r\n            {description && (\r\n                <p \r\n                    className=\"empty-state-description\"\r\n                    style={{\r\n                        fontSize: 'var(--font-size-base)',\r\n                        color: 'var(--text-muted)',\r\n                        maxWidth: '400px',\r\n                        marginBottom: action ? 'var(--spacing-6)' : 0,\r\n                        lineHeight: 'var(--line-height-relaxed)',\r\n                    }}\r\n                >\r\n                    {description}\r\n                </p>\r\n            )}\r\n            {action && (\r\n                <div style={{ marginTop: 'var(--spacing-4)' }}>\r\n                    {action.href ? (\r\n                        <Link href={action.href}>\r\n                            <Button variant=\"primary\" size=\"md\">\r\n                                {action.label}\r\n                            </Button>\r\n                        </Link>\r\n                    ) : (\r\n                        <Button variant=\"primary\" size=\"md\" onClick={action.onClick}>\r\n                            {action.label}\r\n                        </Button>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\ErrorBoundary.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\ErrorState.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\FormField.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Input.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 112,
        "column": 16,
        "nodeType": "MemberExpression",
        "endLine": 112,
        "endColumn": 32
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { InputHTMLAttributes, ReactNode, useId } from 'react';\r\n\r\ntype InputSize = 'sm' | 'md' | 'lg';\r\ntype InputVariant = 'default' | 'error' | 'success';\r\n\r\ninterface InputProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'size'> {\r\n  label?: string;\r\n  helperText?: string;\r\n  error?: string;\r\n  leftIcon?: ReactNode;\r\n  rightIcon?: ReactNode;\r\n  size?: InputSize;\r\n  variant?: InputVariant;\r\n  fullWidth?: boolean;\r\n}\r\n\r\nexport default function Input({\r\n  label,\r\n  helperText,\r\n  error,\r\n  leftIcon,\r\n  rightIcon,\r\n  size = 'md',\r\n  variant = 'default',\r\n  fullWidth = false,\r\n  className = '',\r\n  id,\r\n  ...props\r\n}: InputProps) {\r\n  const generatedId = useId();\r\n  const inputId = id || generatedId;\r\n  const hasError = !!error || variant === 'error';\r\n  const hasSuccess = variant === 'success';\r\n\r\n  const sizeStyles = {\r\n    sm: {\r\n      padding: '0.5rem 0.75rem',\r\n      fontSize: 'var(--font-size-sm)',\r\n      height: '32px',\r\n    },\r\n    md: {\r\n      padding: '0.75rem 1rem',\r\n      fontSize: 'var(--font-size-base)',\r\n      height: '40px',\r\n    },\r\n    lg: {\r\n      padding: '1rem 1.25rem',\r\n      fontSize: 'var(--font-size-lg)',\r\n      height: '48px',\r\n    },\r\n  };\r\n\r\n  const variantStyles = {\r\n    default: {\r\n      borderColor: 'var(--border)',\r\n    },\r\n    error: {\r\n      borderColor: 'var(--color-error)',\r\n    },\r\n    success: {\r\n      borderColor: 'var(--color-success)',\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className={`ui-input-wrapper ${fullWidth ? 'ui-input-full-width' : ''}`} style={{ width: fullWidth ? '100%' : 'auto' }}>\r\n      {label && (\r\n        <label\r\n          htmlFor={inputId}\r\n          className=\"ui-input-label\"\r\n          style={{\r\n            display: 'block',\r\n            marginBottom: '0.5rem',\r\n            fontSize: 'var(--font-size-sm)',\r\n            fontWeight: 500,\r\n            color: 'var(--text-primary)',\r\n          }}\r\n        >\r\n          {label}\r\n          {props.required && <span style={{ color: 'var(--color-error)', marginLeft: '0.25rem' }}>*</span>}\r\n        </label>\r\n      )}\r\n      <div\r\n        className=\"ui-input-container\"\r\n        style={{\r\n          position: 'relative',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        {leftIcon && (\r\n          <span\r\n            className=\"ui-input-icon-left\"\r\n            style={{\r\n              position: 'absolute',\r\n              left: size === 'sm' ? '0.75rem' : size === 'md' ? '1rem' : '1.25rem',\r\n              color: 'var(--text-muted)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              zIndex: 1,\r\n            }}\r\n          >\r\n            {leftIcon}\r\n          </span>\r\n        )}\r\n        <input\r\n          id={inputId}\r\n          className={`ui-input ui-input-${size} ui-input-${variant} ${className}`}\r\n          style={{\r\n            ...sizeStyles[size],\r\n            width: '100%',\r\n            border: `1px solid ${variantStyles[hasError ? 'error' : hasSuccess ? 'success' : 'default'].borderColor}`,\r\n            borderRadius: 'var(--radius-md)',\r\n            backgroundColor: 'var(--bg-secondary)',\r\n            color: 'var(--text-primary)',\r\n            fontFamily: 'inherit',\r\n            transition: 'all var(--transition-base) var(--ease-out)',\r\n            paddingLeft: leftIcon ? (size === 'sm' ? '2.5rem' : size === 'md' ? '3rem' : '3.5rem') : undefined,\r\n            paddingRight: rightIcon ? (size === 'sm' ? '2.5rem' : size === 'md' ? '3rem' : '3.5rem') : undefined,\r\n          }}\r\n          onFocus={(e) => {\r\n            e.currentTarget.style.borderColor = hasError ? 'var(--color-error)' : hasSuccess ? 'var(--color-success)' : 'var(--border-focus)';\r\n            e.currentTarget.style.boxShadow = `0 0 0 3px ${hasError ? 'rgba(239, 68, 68, 0.1)' : hasSuccess ? 'rgba(34, 197, 94, 0.1)' : 'rgba(211, 47, 47, 0.1)'}`;\r\n          }}\r\n          onBlur={(e) => {\r\n            e.currentTarget.style.borderColor = variantStyles[hasError ? 'error' : hasSuccess ? 'success' : 'default'].borderColor as string;\r\n            e.currentTarget.style.boxShadow = 'none';\r\n          }}\r\n          aria-invalid={hasError}\r\n          aria-describedby={error ? `${inputId}-error` : helperText ? `${inputId}-helper` : undefined}\r\n          {...props}\r\n        />\r\n        {rightIcon && (\r\n          <span\r\n            className=\"ui-input-icon-right\"\r\n            style={{\r\n              position: 'absolute',\r\n              right: size === 'sm' ? '0.75rem' : size === 'md' ? '1rem' : '1.25rem',\r\n              color: 'var(--text-muted)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              zIndex: 1,\r\n            }}\r\n          >\r\n            {rightIcon}\r\n          </span>\r\n        )}\r\n      </div>\r\n      {error && (\r\n        <div\r\n          id={`${inputId}-error`}\r\n          className=\"ui-input-error\"\r\n          style={{\r\n            marginTop: '0.5rem',\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--color-error)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '0.25rem',\r\n          }}\r\n        >\r\n          <span>ΓÜá∩╕Å</span>\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n      {helperText && !error && (\r\n        <div\r\n          id={`${inputId}-helper`}\r\n          className=\"ui-input-helper\"\r\n          style={{\r\n            marginTop: '0.5rem',\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--text-muted)',\r\n          }}\r\n        >\r\n          {helperText}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\LoadingWrapper.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Modal.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 222,
        "column": 14,
        "nodeType": "MemberExpression",
        "endLine": 222,
        "endColumn": 30
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { ReactNode, useEffect, useRef } from 'react';\r\n\r\ntype ModalSize = 'sm' | 'md' | 'lg' | 'xl' | 'fullscreen';\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title?: string;\r\n  children: ReactNode;\r\n  footer?: ReactNode;\r\n  size?: ModalSize;\r\n  closeOnBackdropClick?: boolean;\r\n  closeOnEscape?: boolean;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Modal component for dialogs and overlays\r\n * \r\n * @example\r\n * <Modal\r\n *   isOpen={isOpen}\r\n *   onClose={() => setIsOpen(false)}\r\n *   title=\"Modal Title\"\r\n *   footer={<Button onClick={handleSave}>Save</Button>}\r\n * >\r\n *   Content here\r\n * </Modal>\r\n */\r\nexport default function Modal({\r\n  isOpen,\r\n  onClose,\r\n  title,\r\n  children,\r\n  footer,\r\n  size = 'md',\r\n  closeOnBackdropClick = true,\r\n  closeOnEscape = true,\r\n  className = '',\r\n}: ModalProps) {\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n  const previousActiveElement = useRef<HTMLElement | null>(null);\r\n\r\n  // Handle escape key\r\n  useEffect(() => {\r\n    if (!isOpen || !closeOnEscape) return;\r\n\r\n    const handleEscape = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscape);\r\n    return () => document.removeEventListener('keydown', handleEscape);\r\n  }, [isOpen, closeOnEscape, onClose]);\r\n\r\n  // Get all focusable elements within modal\r\n  const getFocusableElements = (): HTMLElement[] => {\r\n    if (!modalRef.current) return [];\r\n    const selector = 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\r\n    return Array.from(modalRef.current.querySelectorAll<HTMLElement>(selector))\r\n      .filter(el => !el.hasAttribute('disabled') && !el.hasAttribute('aria-hidden'));\r\n  };\r\n\r\n  // Focus trap - keep focus within modal\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n\r\n    const handleTabKey = (e: KeyboardEvent) => {\r\n      if (e.key !== 'Tab') return;\r\n\r\n      const focusableElements = getFocusableElements();\r\n      if (focusableElements.length === 0) return;\r\n\r\n      const firstElement = focusableElements[0];\r\n      const lastElement = focusableElements[focusableElements.length - 1];\r\n\r\n      // If Shift+Tab on first element, move to last\r\n      if (e.shiftKey && document.activeElement === firstElement) {\r\n        e.preventDefault();\r\n        lastElement.focus();\r\n        return;\r\n      }\r\n\r\n      // If Tab on last element, move to first\r\n      if (!e.shiftKey && document.activeElement === lastElement) {\r\n        e.preventDefault();\r\n        firstElement.focus();\r\n        return;\r\n      }\r\n    };\r\n\r\n    // Prevent focus from escaping modal - trap focus within modal\r\n    const handleFocusIn = (e: FocusEvent) => {\r\n      if (!modalRef.current) return;\r\n      \r\n      // If focus moves outside modal, bring it back\r\n      if (!modalRef.current.contains(e.target as Node)) {\r\n        e.preventDefault();\r\n        const focusableElements = getFocusableElements();\r\n        if (focusableElements.length > 0) {\r\n          focusableElements[0].focus();\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleTabKey);\r\n    document.addEventListener('focusin', handleFocusIn);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleTabKey);\r\n      document.removeEventListener('focusin', handleFocusIn);\r\n    };\r\n  }, [isOpen]);\r\n\r\n  // Focus management\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      // Store previous active element\r\n      previousActiveElement.current = document.activeElement as HTMLElement;\r\n      \r\n      // Focus modal\r\n      setTimeout(() => {\r\n        const focusableElements = getFocusableElements();\r\n        if (focusableElements.length > 0) {\r\n          focusableElements[0].focus();\r\n        }\r\n      }, 0);\r\n\r\n      // Prevent body scroll\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      // Restore body scroll\r\n      document.body.style.overflow = '';\r\n      \r\n      // Restore focus\r\n      if (previousActiveElement.current) {\r\n        previousActiveElement.current.focus();\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.overflow = '';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  // Handle backdrop click - prevent clicks outside modal from focusing elements\r\n  const handleBackdropClick = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    if (closeOnBackdropClick && e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  // Prevent clicks outside modal from focusing elements behind it\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n\r\n    const handleMouseDown = (e: MouseEvent) => {\r\n      if (!modalRef.current) return;\r\n      \r\n      // If click is outside modal, prevent default to stop focus\r\n      if (!modalRef.current.contains(e.target as Node)) {\r\n        e.preventDefault();\r\n        // Refocus modal to maintain focus trap\r\n        const focusableElements = getFocusableElements();\r\n        if (focusableElements.length > 0) {\r\n          focusableElements[0].focus();\r\n        }\r\n      }\r\n    };\r\n\r\n    // Use capture phase to intercept before other handlers\r\n    document.addEventListener('mousedown', handleMouseDown, true);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleMouseDown, true);\r\n    };\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const sizeStyles: Record<ModalSize, React.CSSProperties> = {\r\n    sm: { maxWidth: '400px' },\r\n    md: { maxWidth: '600px' },\r\n    lg: { maxWidth: '800px' },\r\n    xl: { maxWidth: '1200px' },\r\n    fullscreen: { maxWidth: '100%', width: '100%', height: '100%', maxHeight: '100%' },\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"modal-backdrop\"\r\n      style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: 'var(--bg-overlay)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 'var(--z-modal)',\r\n        padding: 'var(--spacing-4)',\r\n        animation: 'fadeIn var(--transition-base) var(--ease-out)',\r\n      }}\r\n      onClick={handleBackdropClick}\r\n    >\r\n      <div\r\n        ref={modalRef}\r\n        className={`modal-content modal-${size} ${className}`}\r\n        style={{\r\n          background: 'var(--bg-secondary)',\r\n          borderRadius: size === 'fullscreen' ? 0 : 'var(--radius-lg)',\r\n          boxShadow: 'var(--shadow-2xl)',\r\n          width: '100%',\r\n          maxHeight: size === 'fullscreen' ? '100%' : '90vh',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          animation: 'slideUp var(--transition-slow) var(--ease-out)',\r\n          ...sizeStyles[size],\r\n        }}\r\n        onClick={(e) => e.stopPropagation()}\r\n        role=\"dialog\"\r\n        aria-modal=\"true\"\r\n        aria-labelledby={title ? 'modal-title' : undefined}\r\n      >\r\n        {/* Header */}\r\n        {(title || closeOnBackdropClick) && (\r\n          <div\r\n            className=\"modal-header\"\r\n            style={{\r\n              padding: 'var(--spacing-6)',\r\n              borderBottom: '1px solid var(--border)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              flexShrink: 0,\r\n            }}\r\n          >\r\n            {title && (\r\n              <h2\r\n                id=\"modal-title\"\r\n                style={{\r\n                  fontSize: 'var(--font-size-xl)',\r\n                  fontWeight: 'var(--font-weight-bold)',\r\n                  color: 'var(--text-primary)',\r\n                  margin: 0,\r\n                }}\r\n              >\r\n                {title}\r\n              </h2>\r\n            )}\r\n            {closeOnBackdropClick && (\r\n              <button\r\n                onClick={onClose}\r\n                className=\"modal-close\"\r\n                style={{\r\n                  background: 'transparent',\r\n                  border: 'none',\r\n                  cursor: 'pointer',\r\n                  padding: 'var(--spacing-2)',\r\n                  borderRadius: 'var(--radius-sm)',\r\n                  color: 'var(--text-muted)',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  transition: 'all var(--transition-base)',\r\n                }}\r\n                aria-label=\"Close modal\"\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.background = 'var(--color-neutral-100)';\r\n                  e.currentTarget.style.color = 'var(--text-primary)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.background = 'transparent';\r\n                  e.currentTarget.style.color = 'var(--text-muted)';\r\n                }}\r\n              >\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                  <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n                  <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n                </svg>\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Body */}\r\n        <div\r\n          className=\"modal-body\"\r\n          style={{\r\n            padding: 'var(--spacing-6)',\r\n            overflowY: 'auto',\r\n            flex: 1,\r\n          }}\r\n        >\r\n          {children}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        {footer && (\r\n          <div\r\n            className=\"modal-footer\"\r\n            style={{\r\n              padding: 'var(--spacing-6)',\r\n              borderTop: '1px solid var(--border)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'flex-end',\r\n              gap: 'var(--spacing-3)',\r\n              flexShrink: 0,\r\n            }}\r\n          >\r\n            {footer}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Radio.tsx",
    "messages": [
      {
        "ruleId": "jsx-a11y/role-supports-aria-props",
        "severity": 1,
        "message": "The attribute aria-invalid is not supported by the role radio. This role is implicit on the element input.",
        "line": 58,
        "column": 9,
        "nodeType": "JSXOpeningElement",
        "endLine": 70,
        "endColumn": 11
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 63,
        "column": 16,
        "nodeType": "MemberExpression",
        "endLine": 63,
        "endColumn": 32
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 90,
        "column": 33,
        "nodeType": "MemberExpression",
        "endLine": 90,
        "endColumn": 49
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 108,
        "column": 33,
        "nodeType": "MemberExpression",
        "endLine": 108,
        "endColumn": 49
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { InputHTMLAttributes, ReactNode, useId } from 'react';\r\n\r\ninterface RadioProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'type' | 'size'> {\r\n  label?: string;\r\n  helperText?: string;\r\n  error?: string;\r\n  size?: 'sm' | 'md' | 'lg';\r\n  fullWidth?: boolean;\r\n}\r\n\r\n/**\r\n * Radio button component\r\n * \r\n * @example\r\n * <Radio\r\n *   name=\"option\"\r\n *   value=\"1\"\r\n *   label=\"Option 1\"\r\n *   checked={selected === '1'}\r\n *   onChange={(e) => setSelected(e.target.value)}\r\n * />\r\n */\r\nexport default function Radio({\r\n  label,\r\n  helperText,\r\n  error,\r\n  size = 'md',\r\n  fullWidth = false,\r\n  className = '',\r\n  id,\r\n  ...props\r\n}: RadioProps) {\r\n  const generatedId = useId();\r\n  const radioId = id || generatedId;\r\n  const hasError = !!error;\r\n\r\n  const sizeStyles = {\r\n    sm: { width: '16px', height: '16px' },\r\n    md: { width: '20px', height: '20px' },\r\n    lg: { width: '24px', height: '24px' },\r\n  };\r\n\r\n  return (\r\n    <div className={`ui-radio-wrapper ${fullWidth ? 'ui-radio-full-width' : ''}`} style={{ width: fullWidth ? '100%' : 'auto' }}>\r\n      <label\r\n        htmlFor={radioId}\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: 'var(--spacing-2)',\r\n          cursor: props.disabled ? 'not-allowed' : 'pointer',\r\n          opacity: props.disabled ? 0.6 : 1,\r\n          width: fullWidth ? '100%' : 'auto',\r\n        }}\r\n      >\r\n        <input\r\n          type=\"radio\"\r\n          id={radioId}\r\n          className={`ui-radio ui-radio-${size} ${className}`}\r\n          style={{\r\n            ...sizeStyles[size],\r\n            cursor: props.disabled ? 'not-allowed' : 'pointer',\r\n            accentColor: hasError ? 'var(--color-error)' : 'var(--primary)',\r\n          }}\r\n          aria-invalid={hasError}\r\n          aria-describedby={error ? `${radioId}-error` : helperText ? `${radioId}-helper` : undefined}\r\n          {...props}\r\n        />\r\n        {label && (\r\n          <span\r\n            style={{\r\n              fontSize: 'var(--font-size-base)',\r\n              color: 'var(--text-primary)',\r\n              userSelect: 'none',\r\n            }}\r\n          >\r\n            {label}\r\n            {props.required && <span style={{ color: 'var(--color-error)', marginLeft: 'var(--spacing-1)' }}>*</span>}\r\n          </span>\r\n        )}\r\n      </label>\r\n      {error && (\r\n        <div\r\n          id={`${radioId}-error`}\r\n          className=\"ui-radio-error\"\r\n          style={{\r\n            marginTop: 'var(--spacing-1)',\r\n            marginLeft: `calc(${sizeStyles[size].width} + var(--spacing-2))`,\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--color-error)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: 'var(--spacing-1)',\r\n          }}\r\n        >\r\n          <span>ΓÜá∩╕Å</span>\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n      {helperText && !error && (\r\n        <div\r\n          id={`${radioId}-helper`}\r\n          className=\"ui-radio-helper\"\r\n          style={{\r\n            marginTop: 'var(--spacing-1)',\r\n            marginLeft: `calc(${sizeStyles[size].width} + var(--spacing-2))`,\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--text-muted)',\r\n          }}\r\n        >\r\n          {helperText}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * RadioGroup component for grouping radio buttons\r\n */\r\nexport function RadioGroup({\r\n  label,\r\n  error,\r\n  helperText,\r\n  children,\r\n  className = '',\r\n}: {\r\n  label?: string;\r\n  error?: string;\r\n  helperText?: string;\r\n  children: ReactNode;\r\n  className?: string;\r\n}) {\r\n  const groupId = useId();\r\n\r\n  return (\r\n    <div className={`ui-radio-group ${className}`} role=\"radiogroup\" aria-labelledby={label ? `${groupId}-label` : undefined}>\r\n      {label && (\r\n        <div\r\n          id={`${groupId}-label`}\r\n          style={{\r\n            marginBottom: 'var(--spacing-2)',\r\n            fontSize: 'var(--font-size-sm)',\r\n            fontWeight: 'var(--font-weight-medium)',\r\n            color: 'var(--text-primary)',\r\n          }}\r\n        >\r\n          {label}\r\n        </div>\r\n      )}\r\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 'var(--spacing-2)' }}>\r\n        {children}\r\n      </div>\r\n      {error && (\r\n        <div\r\n          style={{\r\n            marginTop: 'var(--spacing-2)',\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--color-error)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: 'var(--spacing-1)',\r\n          }}\r\n        >\r\n          <span>ΓÜá∩╕Å</span>\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n      {helperText && !error && (\r\n        <div\r\n          style={{\r\n            marginTop: 'var(--spacing-2)',\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--text-muted)',\r\n          }}\r\n        >\r\n          {helperText}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Select.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 145,
        "column": 16,
        "nodeType": "MemberExpression",
        "endLine": 145,
        "endColumn": 32
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 159,
        "column": 25,
        "nodeType": "MemberExpression",
        "endLine": 159,
        "endColumn": 41
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { SelectHTMLAttributes, ReactNode, useId } from 'react';\r\n\r\ntype SelectSize = 'sm' | 'md' | 'lg';\r\ntype SelectVariant = 'default' | 'error' | 'success';\r\n\r\nexport interface SelectOption {\r\n  value: string;\r\n  label: string;\r\n  disabled?: boolean;\r\n}\r\n\r\ninterface SelectProps extends Omit<SelectHTMLAttributes<HTMLSelectElement>, 'size'> {\r\n  label?: string;\r\n  helperText?: string;\r\n  error?: string;\r\n  options: SelectOption[];\r\n  placeholder?: string;\r\n  size?: SelectSize;\r\n  variant?: SelectVariant;\r\n  fullWidth?: boolean;\r\n  leftIcon?: ReactNode;\r\n  rightIcon?: ReactNode;\r\n}\r\n\r\n/**\r\n * Select component for dropdowns\r\n * \r\n * @example\r\n * <Select\r\n *   label=\"Choose option\"\r\n *   options={[\r\n *     { value: '1', label: 'Option 1' },\r\n *     { value: '2', label: 'Option 2' }\r\n *   ]}\r\n *   error={errors.option}\r\n * />\r\n */\r\nexport default function Select({\r\n  label,\r\n  helperText,\r\n  error,\r\n  options,\r\n  placeholder,\r\n  size = 'md',\r\n  variant = 'default',\r\n  fullWidth = false,\r\n  leftIcon,\r\n  rightIcon,\r\n  className = '',\r\n  id,\r\n  ...props\r\n}: SelectProps) {\r\n  const generatedId = useId();\r\n  const selectId = id || generatedId;\r\n  const hasError = !!error || variant === 'error';\r\n  const hasSuccess = variant === 'success';\r\n\r\n  const sizeStyles = {\r\n    sm: {\r\n      padding: '0.5rem 0.75rem',\r\n      paddingLeft: leftIcon ? '2.5rem' : undefined,\r\n      paddingRight: rightIcon ? '2.5rem' : undefined,\r\n      fontSize: 'var(--font-size-sm)',\r\n      height: '32px',\r\n      lineHeight: '1.5',\r\n    },\r\n    md: {\r\n      padding: '0.75rem 1rem',\r\n      paddingLeft: leftIcon ? '3rem' : undefined,\r\n      paddingRight: rightIcon ? '3rem' : undefined,\r\n      fontSize: 'var(--font-size-base)',\r\n      height: '40px',\r\n      lineHeight: '1.5',\r\n    },\r\n    lg: {\r\n      padding: '1rem 1.25rem',\r\n      paddingLeft: leftIcon ? '3.5rem' : undefined,\r\n      paddingRight: rightIcon ? '3.5rem' : undefined,\r\n      fontSize: 'var(--font-size-lg)',\r\n      height: '48px',\r\n      lineHeight: '1.5',\r\n    },\r\n  };\r\n\r\n  const variantStyles = {\r\n    default: {\r\n      borderColor: 'var(--border)',\r\n    },\r\n    error: {\r\n      borderColor: 'var(--color-error)',\r\n    },\r\n    success: {\r\n      borderColor: 'var(--color-success)',\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className={`ui-select-wrapper ${fullWidth ? 'ui-select-full-width' : ''}`} style={{ width: fullWidth ? '100%' : 'auto' }}>\r\n      {label && (\r\n        <label\r\n          htmlFor={selectId}\r\n          className=\"ui-select-label\"\r\n          style={{\r\n            display: 'block',\r\n            marginBottom: 'var(--spacing-2)',\r\n            fontSize: 'var(--font-size-sm)',\r\n            fontWeight: 'var(--font-weight-medium)',\r\n            color: 'var(--text-primary)',\r\n          }}\r\n        >\r\n          {label}\r\n          {props.required && <span style={{ color: 'var(--color-error)', marginLeft: 'var(--spacing-1)' }}>*</span>}\r\n        </label>\r\n      )}\r\n      <div\r\n        className=\"ui-select-container\"\r\n        style={{\r\n          position: 'relative',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        {leftIcon && (\r\n          <span\r\n            className=\"ui-select-icon-left\"\r\n            style={{\r\n              position: 'absolute',\r\n              left: size === 'sm' ? '0.75rem' : size === 'md' ? '1rem' : '1.25rem',\r\n              color: 'var(--text-muted)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              zIndex: 1,\r\n              pointerEvents: 'none',\r\n            }}\r\n          >\r\n            {leftIcon}\r\n          </span>\r\n        )}\r\n        <select\r\n          id={selectId}\r\n          className={`ui-select ui-select-${size} ui-select-${variant} ${className}`}\r\n          style={{\r\n            ...sizeStyles[size],\r\n            width: '100%',\r\n            border: `1px solid ${variantStyles[hasError ? 'error' : hasSuccess ? 'success' : 'default'].borderColor}`,\r\n            borderRadius: 'var(--radius-md)',\r\n            backgroundColor: 'var(--bg-secondary)',\r\n            color: 'var(--text-primary)',\r\n            fontFamily: 'inherit',\r\n            transition: 'all var(--transition-base) var(--ease-out)',\r\n            appearance: 'none',\r\n            backgroundImage: rightIcon ? 'none' : `url(\"data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2 4L6 8L10 4' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E\")`,\r\n            backgroundRepeat: 'no-repeat',\r\n            backgroundPosition: 'right 0.75rem center',\r\n            paddingRight: rightIcon ? undefined : '2.5rem',\r\n            cursor: 'pointer',\r\n            lineHeight: sizeStyles[size].lineHeight,\r\n            boxSizing: 'border-box',\r\n            verticalAlign: 'middle',\r\n          }}\r\n          onFocus={(e) => {\r\n            e.currentTarget.style.borderColor = hasError ? 'var(--color-error)' : hasSuccess ? 'var(--color-success)' : 'var(--border-focus)';\r\n            e.currentTarget.style.boxShadow = `0 0 0 3px ${hasError ? 'rgba(239, 68, 68, 0.1)' : hasSuccess ? 'rgba(34, 197, 94, 0.1)' : 'rgba(211, 47, 47, 0.1)'}`;\r\n          }}\r\n          onBlur={(e) => {\r\n            e.currentTarget.style.borderColor = variantStyles[hasError ? 'error' : hasSuccess ? 'success' : 'default'].borderColor as string;\r\n            e.currentTarget.style.boxShadow = 'none';\r\n          }}\r\n          aria-invalid={hasError}\r\n          aria-describedby={error ? `${selectId}-error` : helperText ? `${selectId}-helper` : undefined}\r\n          {...props}\r\n        >\r\n          {placeholder && (\r\n            <option value=\"\" disabled>\r\n              {placeholder}\r\n            </option>\r\n          )}\r\n          {options.map((option) => (\r\n            <option key={option.value} value={option.value} disabled={option.disabled}>\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        {rightIcon && (\r\n          <span\r\n            className=\"ui-select-icon-right\"\r\n            style={{\r\n              position: 'absolute',\r\n              right: size === 'sm' ? '0.75rem' : size === 'md' ? '1rem' : '1.25rem',\r\n              color: 'var(--text-muted)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              zIndex: 1,\r\n              pointerEvents: 'none',\r\n            }}\r\n          >\r\n            {rightIcon}\r\n          </span>\r\n        )}\r\n      </div>\r\n      {error && (\r\n        <div\r\n          id={`${selectId}-error`}\r\n          className=\"ui-select-error\"\r\n          style={{\r\n            marginTop: 'var(--spacing-2)',\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--color-error)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: 'var(--spacing-1)',\r\n          }}\r\n        >\r\n          <span>ΓÜá∩╕Å</span>\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n      {helperText && !error && (\r\n        <div\r\n          id={`${selectId}-helper`}\r\n          className=\"ui-select-helper\"\r\n          style={{\r\n            marginTop: 'var(--spacing-2)',\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--text-muted)',\r\n          }}\r\n        >\r\n          {helperText}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\SettingsSidebar.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Skeleton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Spinner.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 39,
        "column": 23,
        "nodeType": "MemberExpression",
        "endLine": 39,
        "endColumn": 36
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 40,
        "column": 17,
        "nodeType": "MemberExpression",
        "endLine": 40,
        "endColumn": 34
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { CSSProperties } from 'react';\r\n\r\ntype SpinnerSize = 'sm' | 'md' | 'lg';\r\ntype SpinnerVariant = 'default' | 'primary' | 'white';\r\n\r\ninterface SpinnerProps {\r\n  size?: SpinnerSize;\r\n  variant?: SpinnerVariant;\r\n  className?: string;\r\n  style?: CSSProperties;\r\n}\r\n\r\nconst sizeMap: Record<SpinnerSize, number> = {\r\n  sm: 16,\r\n  md: 24,\r\n  lg: 32,\r\n};\r\n\r\nconst colorMap: Record<SpinnerVariant, string> = {\r\n  default: 'var(--text-muted)',\r\n  primary: 'var(--primary)',\r\n  white: '#ffffff',\r\n};\r\n\r\n/**\r\n * Spinner component for loading states\r\n * \r\n * @example\r\n * <Spinner size=\"md\" variant=\"primary\" />\r\n */\r\nexport default function Spinner({\r\n  size = 'md',\r\n  variant = 'default',\r\n  className = '',\r\n  style,\r\n}: SpinnerProps) {\r\n  const spinnerSize = sizeMap[size];\r\n  const color = colorMap[variant];\r\n\r\n  return (\r\n    <svg\r\n      className={`spinner spinner-${size} spinner-${variant} ${className}`}\r\n      width={spinnerSize}\r\n      height={spinnerSize}\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      stroke={color}\r\n      strokeWidth=\"2\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      style={{\r\n        animation: 'spin 1s linear infinite',\r\n        ...style,\r\n      }}\r\n      aria-label=\"Loading\"\r\n      role=\"status\"\r\n    >\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\" strokeOpacity=\"0.25\" />\r\n      <path d=\"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Switch.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 65,
        "column": 18,
        "nodeType": "MemberExpression",
        "endLine": 65,
        "endColumn": 34
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useId } from 'react';\r\n\r\ninterface SwitchProps {\r\n  checked: boolean;\r\n  onChange: (checked: boolean) => void;\r\n  label?: string;\r\n  helperText?: string;\r\n  error?: string;\r\n  disabled?: boolean;\r\n  size?: 'sm' | 'md' | 'lg';\r\n  fullWidth?: boolean;\r\n  className?: string;\r\n  id?: string;\r\n}\r\n\r\n/**\r\n * Switch/Toggle component\r\n *\r\n * @example\r\n * <Switch\r\n *   checked={enabled}\r\n *   onChange={setEnabled}\r\n *   label=\"Enable notifications\"\r\n * />\r\n */\r\nexport default function Switch({\r\n  checked,\r\n  onChange,\r\n  label,\r\n  helperText,\r\n  error,\r\n  disabled = false,\r\n  size = 'md',\r\n  fullWidth = false,\r\n  className = '',\r\n  id,\r\n}: SwitchProps) {\r\n  const generatedId = useId();\r\n  const switchId = id || generatedId;\r\n  const hasError = !!error;\r\n\r\n  const sizeStyles = {\r\n    sm: {\r\n      width: '36px',\r\n      height: '20px',\r\n      thumbSize: '16px',\r\n      translate: '2px',\r\n    },\r\n    md: {\r\n      width: '44px',\r\n      height: '24px',\r\n      thumbSize: '20px',\r\n      translate: '2px',\r\n    },\r\n    lg: {\r\n      width: '52px',\r\n      height: '28px',\r\n      thumbSize: '24px',\r\n      translate: '2px',\r\n    },\r\n  };\r\n\r\n  const styles = sizeStyles[size];\r\n\r\n  return (\r\n    <div\r\n      className={`ui-switch-wrapper ${fullWidth ? 'ui-switch-full-width' : ''} ${className}`}\r\n      style={{ width: fullWidth ? '100%' : 'auto' }}\r\n    >\r\n      <label\r\n        htmlFor={switchId}\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: 'var(--spacing-3)',\r\n          cursor: disabled ? 'not-allowed' : 'pointer',\r\n          opacity: disabled ? 0.6 : 1,\r\n          width: fullWidth ? '100%' : 'auto',\r\n        }}\r\n      >\r\n        <div\r\n          role=\"switch\"\r\n          aria-checked={checked}\r\n          aria-labelledby={label ? `${switchId}-label` : undefined}\r\n          style={{\r\n            position: 'relative',\r\n            width: styles.width,\r\n            height: styles.height,\r\n            borderRadius: 'var(--radius-full)',\r\n            background: checked\r\n              ? hasError\r\n                ? 'var(--color-error)'\r\n                : 'var(--primary)'\r\n              : 'var(--color-neutral-300)',\r\n            transition: 'all var(--transition-base) var(--ease-out)',\r\n            cursor: disabled ? 'not-allowed' : 'pointer',\r\n            flexShrink: 0,\r\n          }}\r\n          onClick={() => !disabled && onChange(!checked)}\r\n        >\r\n          <div\r\n            style={{\r\n              position: 'absolute',\r\n              top: styles.translate,\r\n              left: checked\r\n                ? `calc(100% - ${styles.thumbSize} - ${styles.translate})`\r\n                : styles.translate,\r\n              width: `calc(${styles.thumbSize} - ${styles.translate} * 2)`,\r\n              height: `calc(${styles.thumbSize} - ${styles.translate} * 2)`,\r\n              borderRadius: 'var(--radius-full)',\r\n              background: 'white',\r\n              boxShadow: 'var(--shadow-sm)',\r\n              transition: 'all var(--transition-base) var(--ease-out)',\r\n            }}\r\n          />\r\n        </div>\r\n        {label && (\r\n          <span\r\n            id={`${switchId}-label`}\r\n            style={{\r\n              fontSize: 'var(--font-size-base)',\r\n              color: 'var(--text-primary)',\r\n              userSelect: 'none',\r\n              flex: 1,\r\n            }}\r\n          >\r\n            {label}\r\n          </span>\r\n        )}\r\n      </label>\r\n      {error && (\r\n        <div\r\n          id={`${switchId}-error`}\r\n          className=\"ui-switch-error\"\r\n          style={{\r\n            marginTop: 'var(--spacing-1)',\r\n            marginLeft: `calc(${styles.width} + var(--spacing-3))`,\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--color-error)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: 'var(--spacing-1)',\r\n          }}\r\n        >\r\n          <span>ΓÜá∩╕Å</span>\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n      {helperText && !error && (\r\n        <div\r\n          id={`${switchId}-helper`}\r\n          className=\"ui-switch-helper\"\r\n          style={{\r\n            marginTop: 'var(--spacing-1)',\r\n            marginLeft: `calc(${styles.width} + var(--spacing-3))`,\r\n            fontSize: 'var(--font-size-sm)',\r\n            color: 'var(--text-muted)',\r\n          }}\r\n        >\r\n          {helperText}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Tooltip.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 166,
        "column": 28,
        "nodeType": "MemberExpression",
        "endLine": 166,
        "endColumn": 62
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 188,
        "column": 32,
        "nodeType": "MemberExpression",
        "endLine": 188,
        "endColumn": 63
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\Tooltip.tsx:61:13\n  59 |\n  60 |         if (newPosition !== calculatedPosition) {\n> 61 |             setCalculatedPosition(newPosition); // eslint-disable-line react-hooks/set-state-in-effect\n     |             ^^^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  62 |         }\n  63 |     }, [isVisible, position, calculatedPosition]);\n  64 |",
        "line": 61,
        "column": 13,
        "nodeType": null,
        "endLine": 61,
        "endColumn": 34,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useState, useRef, useEffect, useLayoutEffect, ReactNode } from 'react';\r\n\r\ninterface TooltipProps {\r\n    content: string | ReactNode;\r\n    children: ReactNode;\r\n    position?: 'top' | 'bottom' | 'left' | 'right';\r\n    delay?: number;\r\n    disabled?: boolean;\r\n    className?: string;\r\n    maxWidth?: number;\r\n}\r\n\r\n/**\r\n * Enhanced Tooltip component with better positioning and animations\r\n * \r\n * @example\r\n * <Tooltip content=\"This is a tooltip\" position=\"top\">\r\n *   <button>Hover me</button>\r\n * </Tooltip>\r\n */\r\nexport default function Tooltip({\r\n    content,\r\n    children,\r\n    position = 'top',\r\n    delay = 200,\r\n    disabled = false,\r\n    className = '',\r\n    maxWidth = 300,\r\n}: TooltipProps) {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    const [calculatedPosition, setCalculatedPosition] = useState(position);\r\n    const tooltipRef = useRef<HTMLDivElement>(null);\r\n    const wrapperRef = useRef<HTMLDivElement>(null);\r\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    // Calculate position to avoid viewport overflow\r\n    useLayoutEffect(() => {\r\n        if (!isVisible || !tooltipRef.current || !wrapperRef.current) return;\r\n\r\n        const tooltip = tooltipRef.current;\r\n        const wrapper = wrapperRef.current;\r\n        const rect = wrapper.getBoundingClientRect();\r\n        const tooltipRect = tooltip.getBoundingClientRect();\r\n\r\n        let newPosition = position;\r\n\r\n        // Check for overflow and adjust position\r\n        if (position === 'top' && rect.top < tooltipRect.height) {\r\n            newPosition = 'bottom';\r\n        } else if (position === 'bottom' && window.innerHeight - rect.bottom < tooltipRect.height) {\r\n            newPosition = 'top';\r\n        } else if (position === 'left' && rect.left < tooltipRect.width) {\r\n            newPosition = 'right';\r\n        } else if (position === 'right' && window.innerWidth - rect.right < tooltipRect.width) {\r\n            newPosition = 'left';\r\n        }\r\n\r\n        if (newPosition !== calculatedPosition) {\r\n            setCalculatedPosition(newPosition); // eslint-disable-line react-hooks/set-state-in-effect\r\n        }\r\n    }, [isVisible, position, calculatedPosition]);\r\n\r\n    const showTooltip = () => {\r\n        if (disabled) return;\r\n\r\n        if (delay > 0) {\r\n            timeoutRef.current = setTimeout(() => {\r\n                setIsVisible(true);\r\n            }, delay);\r\n        } else {\r\n            setIsVisible(true);\r\n        }\r\n    };\r\n\r\n    const hideTooltip = () => {\r\n        if (timeoutRef.current) {\r\n            clearTimeout(timeoutRef.current);\r\n            timeoutRef.current = null;\r\n        }\r\n        setIsVisible(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (timeoutRef.current) {\r\n                clearTimeout(timeoutRef.current);\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    const positionStyles = {\r\n        top: {\r\n            bottom: '100%',\r\n            left: '50%',\r\n            transform: 'translateX(-50%)',\r\n            marginBottom: '8px',\r\n        },\r\n        bottom: {\r\n            top: '100%',\r\n            left: '50%',\r\n            transform: 'translateX(-50%)',\r\n            marginTop: '8px',\r\n        },\r\n        left: {\r\n            right: '100%',\r\n            top: '50%',\r\n            transform: 'translateY(-50%)',\r\n            marginRight: '8px',\r\n        },\r\n        right: {\r\n            left: '100%',\r\n            top: '50%',\r\n            transform: 'translateY(-50%)',\r\n            marginLeft: '8px',\r\n        },\r\n    };\r\n\r\n    const arrowStyles = {\r\n        top: {\r\n            top: '100%',\r\n            left: '50%',\r\n            transform: 'translateX(-50%)',\r\n            borderTopColor: 'var(--color-neutral-900)',\r\n        },\r\n        bottom: {\r\n            bottom: '100%',\r\n            left: '50%',\r\n            transform: 'translateX(-50%)',\r\n            borderBottomColor: 'var(--color-neutral-900)',\r\n        },\r\n        left: {\r\n            left: '100%',\r\n            top: '50%',\r\n            transform: 'translateY(-50%)',\r\n            borderLeftColor: 'var(--color-neutral-900)',\r\n        },\r\n        right: {\r\n            right: '100%',\r\n            top: '50%',\r\n            transform: 'translateY(-50%)',\r\n            borderRightColor: 'var(--color-neutral-900)',\r\n        },\r\n    };\r\n\r\n    return (\r\n        <div\r\n            ref={wrapperRef}\r\n            className={`ui-tooltip-wrapper ${className}`}\r\n            onMouseEnter={showTooltip}\r\n            onMouseLeave={hideTooltip}\r\n            onFocus={showTooltip}\r\n            onBlur={hideTooltip}\r\n            style={{ position: 'relative', display: 'inline-block' }}\r\n        >\r\n            {children}\r\n            {isVisible && (\r\n                <div\r\n                    ref={tooltipRef}\r\n                    className={`ui-tooltip ui-tooltip-${calculatedPosition}`}\r\n                    role=\"tooltip\"\r\n                    style={{\r\n                        position: 'absolute',\r\n                        zIndex: 10000,\r\n                        ...positionStyles[calculatedPosition],\r\n                        maxWidth: `${maxWidth}px`,\r\n                        padding: 'var(--spacing-2) var(--spacing-3)',\r\n                        background: 'var(--color-neutral-900)',\r\n                        color: 'white',\r\n                        fontSize: 'var(--font-size-sm)',\r\n                        lineHeight: 'var(--line-height-base)',\r\n                        borderRadius: 'var(--radius-md)',\r\n                        boxShadow: 'var(--shadow-lg)',\r\n                        pointerEvents: 'none',\r\n                        whiteSpace: 'pre-wrap',\r\n                        wordBreak: 'break-word',\r\n                        animation: 'fadeIn 0.15s ease-out',\r\n                    }}\r\n                >\r\n                    {content}\r\n                    <div\r\n                        style={{\r\n                            position: 'absolute',\r\n                            width: 0,\r\n                            height: 0,\r\n                            border: '6px solid transparent',\r\n                            ...arrowStyles[calculatedPosition],\r\n                        }}\r\n                    />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\VirtualList.tsx",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 62,
        "column": 22,
        "nodeType": "MemberExpression",
        "endLine": 62,
        "endColumn": 36
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 75,
        "column": 22,
        "nodeType": "MemberExpression",
        "endLine": 75,
        "endColumn": 36
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 143,
        "column": 53,
        "nodeType": "MemberExpression",
        "endLine": 143,
        "endColumn": 77
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { ReactNode, useRef, useState, useMemo, useCallback } from 'react';\r\n\r\ninterface VirtualListProps<T> {\r\n  items: T[];\r\n  renderItem: (item: T, index: number) => ReactNode;\r\n  itemHeight: number | ((index: number) => number);\r\n  containerHeight: number;\r\n  overscan?: number;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\n/**\r\n * Virtual scrolling list component for rendering large lists efficiently\r\n * Only renders visible items plus a buffer (overscan) for smooth scrolling\r\n *\r\n * @example\r\n * <VirtualList\r\n *   items={users}\r\n *   renderItem={(user) => <UserCard user={user} />}\r\n *   itemHeight={80}\r\n *   containerHeight={600}\r\n *   overscan={5}\r\n * />\r\n */\r\nexport default function VirtualList<T>({\r\n  items,\r\n  renderItem,\r\n  itemHeight,\r\n  containerHeight,\r\n  overscan = 5,\r\n  className = '',\r\n  style,\r\n}: VirtualListProps<T>) {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [scrollTop, setScrollTop] = useState(0);\r\n\r\n  // Calculate item heights\r\n  const itemHeights = useMemo(() => {\r\n    if (typeof itemHeight === 'number') {\r\n      return items.map(() => itemHeight);\r\n    }\r\n    return items.map((_, index) => itemHeight(index));\r\n  }, [items, itemHeight]);\r\n\r\n  // Calculate total height\r\n  const totalHeight = useMemo(() => {\r\n    return itemHeights.reduce((sum, height) => sum + height, 0);\r\n  }, [itemHeights]);\r\n\r\n  // Calculate visible range\r\n  const { startIndex, endIndex, offsetY } = useMemo(() => {\r\n    let currentTop = 0;\r\n    let start = 0;\r\n    let end = 0;\r\n    let offset = 0;\r\n\r\n    // Find start index\r\n    for (let i = 0; i < items.length; i++) {\r\n      const height = itemHeights[i];\r\n      if (currentTop + height > scrollTop) {\r\n        start = Math.max(0, i - overscan);\r\n        offset = currentTop;\r\n        break;\r\n      }\r\n      currentTop += height;\r\n    }\r\n\r\n    // Find end index\r\n    currentTop = offset;\r\n    const viewportBottom = scrollTop + containerHeight;\r\n    for (let i = start; i < items.length; i++) {\r\n      const height = itemHeights[i];\r\n      if (currentTop > viewportBottom) {\r\n        end = Math.min(items.length, i + overscan);\r\n        break;\r\n      }\r\n      currentTop += height;\r\n      end = i + 1;\r\n    }\r\n    end = Math.min(items.length, end + overscan);\r\n\r\n    return { startIndex: start, endIndex: end, offsetY: offset };\r\n  }, [scrollTop, containerHeight, itemHeights, items.length, overscan]);\r\n\r\n  // Memoize scroll handler to prevent unnecessary re-renders\r\n  const handleScroll = useCallback((e: React.UIEvent<HTMLDivElement>) => {\r\n    setScrollTop(e.currentTarget.scrollTop);\r\n  }, []);\r\n\r\n  // Visible items\r\n  const visibleItems = useMemo(() => {\r\n    return items.slice(startIndex, endIndex);\r\n  }, [items, startIndex, endIndex]);\r\n\r\n  if (items.length === 0) {\r\n    return (\r\n      <div\r\n        ref={containerRef}\r\n        className={className}\r\n        style={{\r\n          height: containerHeight,\r\n          overflow: 'auto',\r\n          ...style,\r\n        }}\r\n      >\r\n        <div style={{ padding: '2rem', textAlign: 'center', color: 'var(--text-muted)' }}>\r\n          No items to display\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className={className}\r\n      onScroll={handleScroll}\r\n      style={{\r\n        height: containerHeight,\r\n        overflow: 'auto',\r\n        position: 'relative',\r\n        ...style,\r\n      }}\r\n    >\r\n      {/* Spacer for items before visible range */}\r\n      {offsetY > 0 && (\r\n        <div\r\n          style={{\r\n            height: offsetY,\r\n            pointerEvents: 'none',\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Visible items */}\r\n      <div>\r\n        {visibleItems.map((item, index) => {\r\n          const actualIndex = startIndex + index;\r\n          return (\r\n            <div key={actualIndex} style={{ height: itemHeights[actualIndex] }}>\r\n              {renderItem(item, actualIndex)}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Spacer for items after visible range */}\r\n      {endIndex < items.length && (\r\n        <div\r\n          style={{\r\n            height:\r\n              totalHeight -\r\n              offsetY -\r\n              visibleItems.reduce((sum, _, i) => sum + itemHeights[startIndex + i], 0),\r\n            pointerEvents: 'none',\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\components\\ui\\index.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\contexts\\TimezoneContext.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\hooks\\useEventStream.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 10,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 10,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [240, 243], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [240, 243], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 25,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 25,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [789, 792], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [789, 792], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\hooks\\useModalState.ts",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Function Call Object Injection Sink",
        "line": 35,
        "column": 47,
        "nodeType": "MemberExpression",
        "endLine": 35,
        "endColumn": 74
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Function Call Object Injection Sink",
        "line": 42,
        "column": 28,
        "nodeType": "MemberExpression",
        "endLine": 42,
        "endColumn": 55
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Function Call Object Injection Sink",
        "line": 47,
        "column": 24,
        "nodeType": "MemberExpression",
        "endLine": 47,
        "endColumn": 51
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Function Call Object Injection Sink",
        "line": 55,
        "column": 60,
        "nodeType": "MemberExpression",
        "endLine": 55,
        "endColumn": 87
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 66,
        "column": 9,
        "nodeType": "MemberExpression",
        "endLine": 66,
        "endColumn": 36
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\hooks\\useModalState.ts:47:9\n  45 |\n  46 |         // Sync initial state\n> 47 |         setIsOpenLocal(globalModalState[modalName]); // eslint-disable-line react-hooks/set-state-in-effect\n     |         ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  48 |\n  49 |         return () => {\n  50 |             listeners.get(modalName)?.delete(listener);",
        "line": 47,
        "column": 9,
        "nodeType": null,
        "endLine": 47,
        "endColumn": 23,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "'use client';\r\n\r\nimport { useEffect, useState, useCallback } from 'react';\r\n\r\n// Global modal state to prevent conflicts\r\nconst globalModalState: {\r\n    search: boolean;\r\n    quickActions: boolean;\r\n    userMenu: boolean;\r\n    sidebarMobileMenu: boolean;\r\n    notifications: boolean;\r\n} = {\r\n    search: false,\r\n    quickActions: false,\r\n    userMenu: false,\r\n    sidebarMobileMenu: false,\r\n    notifications: false\r\n};\r\n\r\ntype ModalName = 'search' | 'quickActions' | 'userMenu' | 'sidebarMobileMenu' | 'notifications';\r\nconst listeners = new Map<ModalName, Set<() => void>>();\r\n\r\nfunction notifyListeners(modalName: ModalName) {\r\n    const modalListeners = listeners.get(modalName);\r\n    if (modalListeners) {\r\n        modalListeners.forEach(listener => listener());\r\n    }\r\n    // Also notify all listeners when any modal state changes\r\n    listeners.forEach(modalListeners => {\r\n        modalListeners.forEach(listener => listener());\r\n    });\r\n}\r\n\r\nexport function useModalState(modalName: ModalName) {\r\n    const [isOpen, setIsOpenLocal] = useState(globalModalState[modalName]);\r\n\r\n    useEffect(() => {\r\n        if (!listeners.has(modalName)) {\r\n            listeners.set(modalName, new Set());\r\n        }\r\n        const listener = () => {\r\n            setIsOpenLocal(globalModalState[modalName]);\r\n        };\r\n        listeners.get(modalName)!.add(listener);\r\n\r\n        // Sync initial state\r\n        setIsOpenLocal(globalModalState[modalName]); // eslint-disable-line react-hooks/set-state-in-effect\r\n\r\n        return () => {\r\n            listeners.get(modalName)?.delete(listener);\r\n        };\r\n    }, [modalName]);\r\n\r\n    const setIsOpen = useCallback((open: boolean | ((prev: boolean) => boolean)) => {\r\n        const newValue = typeof open === 'function' ? open(globalModalState[modalName]) : open;\r\n\r\n        if (newValue) {\r\n            // Close other modals\r\n            Object.keys(globalModalState).forEach(key => {\r\n                if (key !== modalName) {\r\n                    globalModalState[key as ModalName] = false;\r\n                    notifyListeners(key as ModalName);\r\n                }\r\n            });\r\n        }\r\n        globalModalState[modalName] = newValue;\r\n        notifyListeners(modalName);\r\n    }, [modalName]);\r\n\r\n    return [isOpen, setIsOpen] as const;\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\hooks\\useRealtime.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 8,
        "column": 47,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 8,
        "endColumn": 50,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [236, 239], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [236, 239], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 23,
        "column": 60,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 23,
        "endColumn": 63,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [943, 946], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [943, 946], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\jobs\\sla-scheduler.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\__tests__\\oncall.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\__tests__\\passwords.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\__tests__\\rate-limit.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\__tests__\\validation.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\accessibility.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\analytics-export.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\analytics-metrics.ts",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 28,
        "column": 12,
        "nodeType": "MemberExpression",
        "endLine": 28,
        "endColumn": 25
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 37,
        "column": 16,
        "nodeType": "MemberExpression",
        "endLine": 37,
        "endColumn": 25
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "export type StatusAgeEntry = { status: string; avgMs: number | null };\r\n\r\nexport type OnCallShift = {\r\n    start: Date;\r\n    end: Date;\r\n    userId: string;\r\n};\r\n\r\nexport type OnCallLoadEntry = {\r\n    id: string;\r\n    name: string;\r\n    hoursMs: number;\r\n    incidentCount: number;\r\n};\r\n\r\nexport type ServiceSlaEntry = {\r\n    id: string;\r\n    name: string;\r\n    ackRate: number;\r\n    resolveRate: number;\r\n    total: number;\r\n};\r\n\r\nexport function calculatePercentile(values: number[], percentileValue: number): number | null {\r\n    if (values.length === 0) return null;\r\n    const sorted = [...values].sort((a, b) => a - b);\r\n    const index = Math.min(sorted.length - 1, Math.ceil((percentileValue / 100) * sorted.length) - 1);\r\n    return sorted[index];\r\n}\r\n\r\nexport function calculateMtbfMs(dates: Date[]): number | null {\r\n    if (dates.length < 2) return null;\r\n    const sorted = [...dates].sort((a, b) => a.getTime() - b.getTime());\r\n    let sum = 0;\r\n    let count = 0;\r\n    for (let i = 1; i < sorted.length; i += 1) {\r\n        sum += sorted[i].getTime() - sorted[i - 1].getTime();\r\n        count += 1;\r\n    }\r\n    return count > 0 ? sum / count : null;\r\n}\r\n\r\nexport function smoothSeries(values: number[], windowSize: number): number[] {\r\n    if (windowSize <= 1 || values.length <= 1) {\r\n        return values;\r\n    }\r\n\r\n    const window = Math.max(1, Math.floor(windowSize));\r\n    return values.map((_, index) => {\r\n        const start = Math.max(0, index - window + 1);\r\n        const slice = values.slice(start, index + 1);\r\n        const sum = slice.reduce((acc, val) => acc + val, 0);\r\n        return slice.length ? sum / slice.length : 0;\r\n    });\r\n}\r\n\r\nexport function buildStatusAges(\r\n    incidents: Array<{ status: string; createdAt: Date; updatedAt?: Date | null; resolvedAt?: Date | null }>,\r\n    now: Date,\r\n    statusOrder: string[]\r\n): StatusAgeEntry[] {\r\n    const statusAgeMap = new Map<string, { totalMs: number; count: number }>();\r\n    for (const incident of incidents) {\r\n        const resolvedAt = incident.resolvedAt || incident.updatedAt;\r\n        const durationMs = incident.status === 'RESOLVED' && resolvedAt\r\n            ? resolvedAt.getTime() - incident.createdAt.getTime()\r\n            : now.getTime() - incident.createdAt.getTime();\r\n        const current = statusAgeMap.get(incident.status) || { totalMs: 0, count: 0 };\r\n        current.totalMs += durationMs;\r\n        current.count += 1;\r\n        statusAgeMap.set(incident.status, current);\r\n    }\r\n\r\n    return statusOrder.map(status => {\r\n        const data = statusAgeMap.get(status);\r\n        const avgMs = data && data.count ? data.totalMs / data.count : null;\r\n        return { status, avgMs };\r\n    });\r\n}\r\n\r\nexport function buildOnCallLoad(\r\n    shifts: OnCallShift[],\r\n    incidents: Array<{ createdAt: Date }>,\r\n    windowStart: Date,\r\n    windowEnd: Date,\r\n    userNameMap: Map<string, string>,\r\n    limit: number = 6\r\n): OnCallLoadEntry[] {\r\n    const onCallLoadMap = new Map<string, { hoursMs: number; incidentCount: number }>();\r\n\r\n    for (const shift of shifts) {\r\n        const shiftStart = shift.start < windowStart ? windowStart : shift.start;\r\n        const shiftEnd = shift.end > windowEnd ? windowEnd : shift.end;\r\n        if (shiftEnd <= shiftStart) {\r\n            continue;\r\n        }\r\n        const entry = onCallLoadMap.get(shift.userId) || { hoursMs: 0, incidentCount: 0 };\r\n        entry.hoursMs += shiftEnd.getTime() - shiftStart.getTime();\r\n        onCallLoadMap.set(shift.userId, entry);\r\n    }\r\n\r\n    for (const incident of incidents) {\r\n        for (const shift of shifts) {\r\n            if (incident.createdAt >= shift.start && incident.createdAt <= shift.end) {\r\n                const entry = onCallLoadMap.get(shift.userId) || { hoursMs: 0, incidentCount: 0 };\r\n                entry.incidentCount += 1;\r\n                onCallLoadMap.set(shift.userId, entry);\r\n            }\r\n        }\r\n    }\r\n\r\n    return Array.from(onCallLoadMap.entries())\r\n        .map(([userId, stats]) => ({\r\n            id: userId,\r\n            name: userNameMap.get(userId) || 'Unknown user',\r\n            hoursMs: stats.hoursMs,\r\n            incidentCount: stats.incidentCount\r\n        }))\r\n        .sort((a, b) => b.incidentCount - a.incidentCount)\r\n        .slice(0, limit);\r\n}\r\n\r\nexport function buildServiceSlaTable(\r\n    incidents: Array<{\r\n        id: string;\r\n        createdAt: Date;\r\n        status: string;\r\n        resolvedAt: Date | null;\r\n        updatedAt: Date | null;\r\n        serviceId: string;\r\n    }>,\r\n    ackMap: Map<string, Date>,\r\n    serviceTargets: Map<string, { ackMinutes: number; resolveMinutes: number }>,\r\n    serviceNameMap: Map<string, string>,\r\n    defaultAckMinutes: number = 15,\r\n    defaultResolveMinutes: number = 120,\r\n    limit: number = 8\r\n): ServiceSlaEntry[] {\r\n    const serviceSlaStats = new Map<string, { ackMet: number; ackTotal: number; resolveMet: number; resolveTotal: number }>();\r\n\r\n    for (const incident of incidents) {\r\n        const targets = serviceTargets.get(incident.serviceId);\r\n        const ackTargetMinutes = targets?.ackMinutes ?? defaultAckMinutes;\r\n        const resolveTargetMinutes = targets?.resolveMinutes ?? defaultResolveMinutes;\r\n        const current = serviceSlaStats.get(incident.serviceId) || { ackMet: 0, ackTotal: 0, resolveMet: 0, resolveTotal: 0 };\r\n\r\n        const ackedAt = ackMap.get(incident.id);\r\n        if (ackedAt) {\r\n            current.ackTotal += 1;\r\n            const diffMinutes = (ackedAt.getTime() - incident.createdAt.getTime()) / 60000;\r\n            if (diffMinutes <= ackTargetMinutes) {\r\n                current.ackMet += 1;\r\n            }\r\n        }\r\n\r\n        if (incident.status === 'RESOLVED') {\r\n            const resolvedAt = incident.resolvedAt || incident.updatedAt;\r\n            if (resolvedAt) {\r\n                current.resolveTotal += 1;\r\n                const diffMinutes = (resolvedAt.getTime() - incident.createdAt.getTime()) / 60000;\r\n                if (diffMinutes <= resolveTargetMinutes) {\r\n                    current.resolveMet += 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        serviceSlaStats.set(incident.serviceId, current);\r\n    }\r\n\r\n    return Array.from(serviceSlaStats.entries())\r\n        .map(([serviceId, stats]) => ({\r\n            id: serviceId,\r\n            name: serviceNameMap.get(serviceId) || 'Deleted service',\r\n            ackRate: stats.ackTotal ? (stats.ackMet / stats.ackTotal) * 100 : 0,\r\n            resolveRate: stats.resolveTotal ? (stats.resolveMet / stats.resolveTotal) * 100 : 0,\r\n            total: Math.max(stats.ackTotal, stats.resolveTotal)\r\n        }))\r\n        .sort((a, b) => b.total - a.total)\r\n        .slice(0, limit);\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\api-auth.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\api-keys.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\api-response.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\app-config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\app-url.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\audit.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\auth.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 19,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 19,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [705, 708], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [705, 708], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 86,
        "column": 43,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 86,
        "endColumn": 46,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3332, 3335], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3332, 3335], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 87,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 87,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3443, 3446], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3443, 3446], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 88,
        "column": 43,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 88,
        "endColumn": 46,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3566, 3569], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3566, 3569], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 89,
        "column": 44,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 89,
        "endColumn": 47,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3679, 3682], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3679, 3682], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 118,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 118,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5064, 5067], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5064, 5067], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 119,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 119,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5184, 5187], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5184, 5187], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\cron-scheduler.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\dashboard-utils.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\date-format.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\db-monitoring.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\email-components.ts",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 186,
        "column": 17,
        "nodeType": "MemberExpression",
        "endLine": 186,
        "endColumn": 29
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Variable Assigned to Object Injection Sink",
        "line": 254,
        "column": 17,
        "nodeType": "MemberExpression",
        "endLine": 254,
        "endColumn": 29
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\r\n * Reusable Email Components\r\n * Modern, responsive HTML components for email templates\r\n */\r\n\r\nexport interface EmailStyles {\r\n  primaryColor?: string;\r\n  backgroundColor?: string;\r\n  textColor?: string;\r\n  headerGradient?: string;\r\n}\r\n\r\n/**\r\n * Email container with responsive layout and OpsSentinal branding\r\n * Fully optimized for mobile devices\r\n */\r\nexport function EmailContainer(content: string, styles: EmailStyles = {}): string {\r\n  const backgroundColor = styles.backgroundColor || '#ffffff';\r\n  const outerBackground = '#f3f4f6';\r\n\r\n  return `\r\n<!DOCTYPE html>\r\n<html lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\">\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta name=\"x-apple-disable-message-reformatting\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <title>OpsSentinal Notification</title>\r\n    <!--[if gte mso 9]>\r\n    <xml>\r\n        <o:OfficeDocumentSettings>\r\n            <o:AllowPNG/>\r\n            <o:PixelsPerInch>96</o:PixelsPerInch>\r\n        </o:OfficeDocumentSettings>\r\n    </xml>\r\n    <![endif]-->\r\n    <style type=\"text/css\">\r\n        @media only screen and (max-width: 600px) {\r\n            .mobile-padding { padding: 20px !important; }\r\n            .mobile-text-center { text-align: center !important; }\r\n            .mobile-full-width { width: 100% !important; max-width: 100% !important; }\r\n            .mobile-hide { display: none !important; }\r\n            .mobile-font-large { font-size: 24px !important; line-height: 1.3 !important; }\r\n            .mobile-font-medium { font-size: 16px !important; }\r\n            .mobile-font-small { font-size: 14px !important; }\r\n            .mobile-button { width: 100% !important; display: block !important; }\r\n            .mobile-button a { width: 100% !important; display: block !important; box-sizing: border-box !important; }\r\n            .mobile-header-padding { padding: 32px 20px !important; }\r\n            .mobile-logo-name { font-size: 24px !important; }\r\n            .wrapper { padding: 20px !important; }\r\n        }\r\n    </style>\r\n</head>\r\n<body style=\"margin: 0; padding: 0; background-color: ${outerBackground}; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; color: #1f2937;\">\r\n    <center>\r\n        <table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\" style=\"width: 100%; background-color: ${outerBackground};\">\r\n            <tr>\r\n                <td align=\"center\" style=\"padding: 40px 20px;\" class=\"wrapper\">\r\n                    <!--[if mso]>\r\n                    <table role=\"presentation\" width=\"900\" align=\"center\" style=\"width:900px;\">\r\n                    <tr>\r\n                    <td style=\"padding:0;\">\r\n                    <![endif]-->\r\n                    <table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" class=\"mobile-full-width\" style=\"max-width: 900px; width: 100%; margin: 0 auto; background-color: ${backgroundColor}; border-radius: 14px; overflow: hidden; box-shadow: 0 12px 32px rgba(15, 23, 42, 0.14);\">\r\n                        <tr>\r\n                            <td style=\"padding: 0;\">\r\n                                ${content}\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                    <!--[if mso]>\r\n                    </td>\r\n                    </tr>\r\n                    </table>\r\n                    <![endif]-->\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </center>\r\n</body>\r\n</html>`.trim();\r\n}\r\n\r\n/**\r\n * Branded email header with OpsSentinal logo and red gradient\r\n * Mobile-responsive with flexible layout\r\n */\r\nexport function EmailHeader(title: string, subtitle?: string, styles: EmailStyles = {}): string {\r\n  const headerGradient =\r\n    styles.headerGradient || 'linear-gradient(135deg, #1e293b 0%, #334155 40%, #475569 100%)';\r\n\r\n  return `\r\n<table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\r\n    <tr>\r\n        <td class=\"mobile-header-padding\" style=\"background: ${headerGradient}; padding: 48px 44px; text-align: left; position: relative;\">\r\n            <!-- Logo with Brand Name -->\r\n            <div style=\"margin-bottom: 32px;\">\r\n                <!--[if mso]>\r\n                <table role=\"presentation\" align=\"left\"><tr><td>\r\n                <![endif]-->\r\n                <table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"left\" style=\"margin: 0;\">\r\n                    <tr>\r\n                        <td style=\"padding-right: 12px; vertical-align: middle;\">\r\n                            ${getOpsSentinalLogo(56)}\r\n                        </td>\r\n                        <td style=\"vertical-align: middle;\">\r\n                            <span class=\"mobile-logo-name\" style=\"font-size: 24px; font-weight: 700; color: #ffffff; letter-spacing: -0.01em; font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif; white-space: nowrap;\">OpsSentinal</span>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <!--[if mso]>\r\n                </td></tr></table>\r\n                <![endif]-->\r\n                <div style=\"clear: both;\"></div>\r\n            </div>\r\n            \r\n            <!-- Title -->\r\n            <h1 class=\"mobile-font-large\" style=\"margin: 0 0 ${subtitle ? '10px' : '0'} 0; color: #ffffff; font-size: 30px; font-weight: 700; letter-spacing: -0.01em; line-height: 1.25;\">\r\n                ${title}\r\n            </h1>\r\n            \r\n            ${\r\n              subtitle\r\n                ? `\r\n            <!-- Subtitle -->\r\n            <p class=\"mobile-font-small\" style=\"margin: 0; color: rgba(255, 255, 255, 0.85); font-size: 15px; font-weight: 500;\">\r\n                ${subtitle}\r\n            </p>\r\n            `\r\n                : ''\r\n            }\r\n        </td>\r\n    </tr>\r\n</table>`.trim();\r\n}\r\n\r\n/**\r\n * Content section with responsive padding\r\n */\r\nexport function EmailContent(content: string): string {\r\n  return `\r\n<table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\r\n    <tr>\r\n        <td class=\"mobile-padding\" style=\"padding: 52px 44px; background: #ffffff;\">\r\n            ${content}\r\n        </td>\r\n    </tr>\r\n</table>`.trim();\r\n}\r\n\r\n/**\r\n * Status badge with icon - OpsSentinal branded\r\n */\r\nexport function StatusBadge(\r\n  status: string,\r\n  type: 'success' | 'warning' | 'error' | 'info' = 'info'\r\n): string {\r\n  const colors = {\r\n    success: {\r\n      bg: '#059669',\r\n      text: '#ffffff',\r\n      icon: getCheckIcon(16, '#ffffff'),\r\n      shadow: 'rgba(5, 150, 105, 0.2)',\r\n    },\r\n    warning: {\r\n      bg: '#d97706',\r\n      text: '#ffffff',\r\n      icon: getWarningIcon(16, '#ffffff'),\r\n      shadow: 'rgba(217, 119, 6, 0.2)',\r\n    },\r\n    error: {\r\n      bg: '#be123c',\r\n      text: '#ffffff',\r\n      icon: getErrorIcon(16, '#ffffff'),\r\n      shadow: 'rgba(190, 18, 60, 0.2)',\r\n    },\r\n    info: {\r\n      bg: '#2563eb',\r\n      text: '#ffffff',\r\n      icon: getInfoIcon(16, '#ffffff'),\r\n      shadow: 'rgba(37, 99, 235, 0.2)',\r\n    },\r\n  };\r\n\r\n  const color = colors[type];\r\n\r\n  return `\r\n<div style=\"display: inline-flex; align-items: center; gap: 10px; background: ${color.bg}; color: ${color.text}; padding: 12px 24px; border-radius: 999px; font-size: 14px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; box-shadow: 0 4px 14px ${color.shadow}, 0 0 0 1px rgba(255, 255, 255, 0.1) inset;\">\r\n    <span style=\"width: 8px; height: 8px; border-radius: 50%; background: #ffffff; box-shadow: 0 0 12px rgba(255, 255, 255, 0.8);\"></span>\r\n    <span>${status}</span>\r\n</div>`.trim();\r\n}\r\n\r\n/**\r\n * Call-to-action button with OpsSentinal red gradient\r\n * Optimized for mobile with large touch targets\r\n */\r\nexport function EmailButton(text: string, url: string, _styles: EmailStyles = {}): string {\r\n  return `\r\n<table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"center\" class=\"mobile-full-width mobile-spacing\" style=\"margin: 32px auto; width: auto;\">\r\n    <tr>\r\n        <td class=\"mobile-button\" style=\"border-radius: 10px; background: linear-gradient(135deg, #1e293b 0%, #334155 100%); text-align: center; box-shadow: 0 8px 20px rgba(30, 41, 59, 0.25);\">\r\n            <a href=\"${url}\" target=\"_blank\" style=\"display: inline-block; padding: 14px 32px; color: #ffffff; text-decoration: none; font-weight: 600; font-size: 15px; line-height: 1.5; border-radius: 10px; min-width: 220px; text-align: center;\">\r\n                ${text}\r\n            </a>\r\n        </td>\r\n    </tr>\r\n</table>`.trim();\r\n}\r\n\r\n/**\r\n * Information card with label and value\r\n */\r\nexport function InfoCard(\r\n  items: Array<{ label: string; value: string; highlight?: boolean }>\r\n): string {\r\n  const rows = items\r\n    .map(\r\n      item => `\r\n        <tr>\r\n            <td style=\"padding: 12px 20px; border-bottom: 1px solid #e5e7eb; font-size: 14px; font-weight: 600; color: #6b7280; width: 140px;\">\r\n                ${item.label}\r\n            </td>\r\n            <td style=\"padding: 12px 20px; border-bottom: 1px solid #e5e7eb; font-size: 14px; color: #1f2937; ${item.highlight ? 'font-weight: 600;' : ''}\">\r\n                ${item.value}\r\n            </td>\r\n        </tr>\r\n    `\r\n    )\r\n    .join('');\r\n\r\n  return `\r\n<table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\" style=\"background: #ffffff; border-radius: 8px; overflow: hidden; border: 1px solid #e5e7eb;\">\r\n    ${rows}\r\n</table>`.trim();\r\n}\r\n\r\n/**\r\n * Alert box for important messages with OpsSentinal colors\r\n */\r\nexport function AlertBox(\r\n  title: string,\r\n  message: string,\r\n  type: 'success' | 'warning' | 'error' | 'info' = 'info'\r\n): string {\r\n  const colors = {\r\n    success: { bg: '#f0fdf4', border: '#059669', title: '#064e3b', text: '#065f46' },\r\n    warning: { bg: '#fffbeb', border: '#d97706', title: '#78350f', text: '#92400e' },\r\n    error: { bg: '#fef2f2', border: '#be123c', title: '#881337', text: '#991b1b' },\r\n    info: { bg: '#eff6ff', border: '#2563eb', title: '#1e40af', text: '#1e3a8a' },\r\n  };\r\n\r\n  const color = colors[type];\r\n\r\n  return `\r\n<div style=\"background: ${color.bg}; border-left: 4px solid ${color.border}; padding: 24px; border-radius: 12px; margin: 24px 0;\">\r\n    <h3 style=\"margin: 0 0 12px 0; color: ${color.title}; font-size: 18px; font-weight: 700; letter-spacing: -0.01em;\">\r\n        ${title}\r\n    </h3>\r\n    <p style=\"margin: 0; color: ${color.text}; font-size: 15px; line-height: 1.7;\">\r\n        ${message}\r\n    </p>\r\n</div>`.trim();\r\n}\r\n\r\n/**\r\n * Footer with OpsSentinal branding\r\n */\r\nexport function EmailFooter(unsubscribeUrl?: string): string {\r\n  return `\r\n<table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\r\n    <tr>\r\n        <td style=\"padding: 36px 40px; background: #f3f4f6; border-top: 1px solid #e5e7eb; text-align: center;\">\r\n            <p style=\"margin: 0 0 12px 0; color: #6b7280; font-size: 14px; line-height: 1.6;\">\r\n                This is an automated notification from <strong style=\"color: #1e293b;\">OpsSentinal</strong> Incident Management.\r\n            </p>\r\n            ${\r\n              unsubscribeUrl\r\n                ? `\r\n            <p style=\"margin: 12px 0 0 0; font-size: 13px;\">\r\n                <a href=\"${unsubscribeUrl}\" style=\"color: #1e293b; text-decoration: none; font-weight: 600;\">Unsubscribe from these emails</a>\r\n            </p>\r\n            `\r\n                : ''\r\n            }\r\n        </td>\r\n    </tr>\r\n</table>`.trim();\r\n}\r\n\r\n/**\r\n * SVG Icons (inline for email compatibility)\r\n */\r\n\r\n/**\r\n * Header specifically for Status Page Subscribers\r\n * Shows the Organization Name prominently instead of OpsSentinal\r\n * Maintains the premium OpsSentinal aesthetic\r\n */\r\nexport function SubscriberEmailHeader(\r\n  pageName: string,\r\n  title: string,\r\n  subtitle?: string,\r\n  styles: EmailStyles = {}\r\n): string {\r\n  const headerGradient =\r\n    styles.headerGradient || 'linear-gradient(135deg, #1e293b 0%, #334155 40%, #475569 100%)';\r\n\r\n  return `\r\n<table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\r\n    <tr>\r\n        <td class=\"mobile-header-padding\" style=\"background: ${headerGradient}; padding: 48px 44px; text-align: left; position: relative;\">\r\n            <!-- OpsSentinal Logo -->\r\n            <div style=\"margin-bottom: 32px;\">\r\n                <!--[if mso]>\r\n                <table role=\"presentation\" align=\"left\"><tr><td>\r\n                <![endif]-->\r\n                <table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"left\" style=\"margin: 0;\">\r\n                    <tr>\r\n                        <td style=\"padding-right: 12px; vertical-align: middle;\">\r\n                            ${getOpsSentinalLogo(44)}\r\n                        </td>\r\n                        <td style=\"vertical-align: middle;\">\r\n                            <span class=\"mobile-logo-name\" style=\"font-size: 20px; font-weight: 700; color: #ffffff; letter-spacing: -0.01em; font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif; white-space: nowrap;\">OpsSentinal</span>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <!--[if mso]>\r\n                </td></tr></table>\r\n                <![endif]-->\r\n                <div style=\"clear: both;\"></div>\r\n            </div>\r\n\r\n            <!-- Organization Name (The Sender) -->\r\n            <h1 class=\"mobile-font-large\" style=\"margin: 0 0 14px 0; color: #ffffff; font-size: 30px; font-weight: 700; letter-spacing: -0.01em; line-height: 1.25;\">\r\n                ${pageName}\r\n            </h1>\r\n            \r\n            <!-- Update Type Badge -->\r\n            <div style=\"margin-bottom: 24px;\">\r\n                <span style=\"display: inline-block; padding: 6px 14px; background: rgba(255, 255, 255, 0.16); border: 1px solid rgba(255, 255, 255, 0.22); border-radius: 10px; color: #ffffff; font-size: 13px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.04em;\">\r\n                    ${title}\r\n                </span>\r\n            </div>\r\n\r\n            ${\r\n              subtitle\r\n                ? `\r\n            <p class=\"mobile-font-medium\" style=\"margin: 0; color: rgba(255, 255, 255, 0.9); font-size: 16px; font-weight: 500; line-height: 1.5;\">\r\n                ${subtitle}\r\n            </p>\r\n            `\r\n                : ''\r\n            }\r\n        </td>\r\n    </tr>\r\n</table>`.trim();\r\n}\r\n\r\n/**\r\n * Footer providing \"Powered by\" marketing while handling Unsubscribe\r\n */\r\nexport function SubscriberEmailFooter(unsubscribeUrl: string, pageName: string): string {\r\n  return `\r\n<table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\r\n    <tr>\r\n        <td style=\"padding: 36px 20px; background: #f8fafc; border-top: 1px solid #e5e7eb; text-align: center;\">\r\n            <p style=\"margin: 0 0 16px 0; color: #6b7280; font-size: 14px; line-height: 1.6;\">\r\n                You received this email because you are subscribed to <strong>${pageName}</strong> updates.\r\n            </p>\r\n            \r\n            <p style=\"margin: 0 0 32px 0; font-size: 13px;\">\r\n                <a href=\"${unsubscribeUrl}\" style=\"color: #6b7280; text-decoration: underline;\">Unsubscribe from updates</a>\r\n            </p>\r\n\r\n            <!-- OpsSentinal Marketing -->\r\n            <div style=\"opacity: 0.8;\">\r\n                <p style=\"margin: 0; color: #9ca3af; font-size: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.05em;\">\r\n                    Powered by\r\n                </p>\r\n                <a href=\"https://OpsSentinal.com\" target=\"_blank\" style=\"text-decoration: none; display: inline-block; margin-top: 8px;\">\r\n                    <div style=\"display: flex; align-items: center; justify-content: center; gap: 8px;\">\r\n                        ${getOpsSentinalLogo(24)}\r\n                        <span style=\"color: #1f2937; font-size: 16px; font-weight: 700; font-family: 'Space Grotesk', sans-serif; letter-spacing: -0.02em;\">OpsSentinal</span>\r\n                    </div>\r\n                </a>\r\n            </div>\r\n        </td>\r\n    </tr>\r\n</table>`.trim();\r\n}\r\n\r\n/**\r\n * SVG Icons (inline for email compatibility)\r\n */\r\n\r\nfunction getOpsSentinalLogo(width: number): string {\r\n  // Inline SVG logo for email compatibility - works in all email clients without external dependencies\r\n  return `<svg width=\"${width}\" height=\"${width}\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\" style=\"display: block;\">\r\n        <!-- Shield background -->\r\n        <path d=\"M50 5 L85 20 L85 45 Q85 75 50 95 Q15 75 15 45 L15 20 Z\" fill=\"url(#grad)\" stroke=\"#0f172a\" stroke-width=\"2\"/>\r\n        <!-- Gradient definition -->\r\n        <defs>\r\n            <linearGradient id=\"grad\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n                <stop offset=\"0%\" style=\"stop-color:#334155;stop-opacity:1\" />\r\n                <stop offset=\"100%\" style=\"stop-color:#1e293b;stop-opacity:1\" />\r\n            </linearGradient>\r\n        </defs>\r\n        <!-- OS Text -->\r\n        <text x=\"50\" y=\"58\" font-family=\"Arial, sans-serif\" font-size=\"32\" font-weight=\"bold\" fill=\"#ffffff\" text-anchor=\"middle\">OS</text>\r\n    </svg>`;\r\n}\r\n\r\nfunction getCheckIcon(size: number, color: string): string {\r\n  return `\r\n<svg width=\"${size}\" height=\"${size}\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style=\"display: inline-block; vertical-align: middle;\">\r\n    <path d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" fill=\"${color}\"/>\r\n</svg>`.trim();\r\n}\r\n\r\nfunction getWarningIcon(size: number, color: string): string {\r\n  return `\r\n<svg width=\"${size}\" height=\"${size}\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style=\"display: inline-block; vertical-align: middle;\">\r\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" fill=\"${color}\"/>\r\n</svg>`.trim();\r\n}\r\n\r\nfunction getErrorIcon(size: number, color: string): string {\r\n  return `\r\n<svg width=\"${size}\" height=\"${size}\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style=\"display: inline-block; vertical-align: middle;\">\r\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" fill=\"${color}\"/>\r\n</svg>`.trim();\r\n}\r\n\r\nfunction getInfoIcon(size: number, color: string): string {\r\n  return `\r\n<svg width=\"${size}\" height=\"${size}\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style=\"display: inline-block; vertical-align: middle;\">\r\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" fill=\"${color}\"/>\r\n</svg>`.trim();\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\email.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 357,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 357,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13206, 13209], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13206, 13209], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\encryption.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\env-validation.ts",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 68,
        "column": 52,
        "nodeType": "MemberExpression",
        "endLine": 68,
        "endColumn": 69
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\r\n * Environment Variable Validation\r\n * \r\n * Ensures critical environment variables are set, especially in production.\r\n * Provides clear error messages when configuration is missing.\r\n */\r\n\r\nimport { logger } from './logger';\r\n\r\n/**\r\n * Get the base application URL with proper validation\r\n * Throws an error in production if not configured\r\n */\r\nexport function getBaseUrl(): string {\r\n    const url = process.env.NEXT_PUBLIC_APP_URL;\r\n\r\n    if (!url) {\r\n        // Fallback to NEXTAUTH_URL if available\r\n        if (process.env.NEXTAUTH_URL) {\r\n            return process.env.NEXTAUTH_URL.replace(/\\/$/, '');\r\n        }\r\n\r\n        if (process.env.NODE_ENV === 'production') {\r\n            logger.warn(\r\n                'NEXT_PUBLIC_APP_URL environment variable is not set. ' +\r\n                'Using localhost fallback. Set this to your application URL for correct notification links.'\r\n            );\r\n        } else {\r\n            // Development fallback\r\n            logger.warn('NEXT_PUBLIC_APP_URL not set, using localhost fallback (development only)');\r\n        }\r\n\r\n        return 'http://localhost:3000';\r\n    }\r\n\r\n    // Remove trailing slash for consistency\r\n    return url.replace(/\\/$/, '');\r\n}\r\n\r\n/**\r\n * Validate required environment variables for production\r\n * Call this early in application startup\r\n */\r\nexport function validateProductionEnv(): void {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        return; // Skip validation in development\r\n    }\r\n\r\n    const required: Array<{ name: string; description: string }> = [\r\n        {\r\n            name: 'DATABASE_URL',\r\n            description: 'PostgreSQL connection string'\r\n        },\r\n        {\r\n            name: 'NEXTAUTH_SECRET',\r\n            description: 'Secret for NextAuth.js session encryption (generate with: openssl rand -base64 32)'\r\n        },\r\n        {\r\n            name: 'NEXTAUTH_URL',\r\n            description: 'Full URL of your application (e.g., https://OpsSentinal.yourdomain.com)'\r\n        },\r\n        {\r\n            name: 'NEXTAUTH_URL',\r\n            description: 'Full URL of your application (e.g., https://OpsSentinal.yourdomain.com)'\r\n        }\r\n    ];\r\n\r\n    const missing = required.filter(({ name }) => !process.env[name]);\r\n\r\n    if (missing.length > 0) {\r\n        const errorMessage = [\r\n            'Γ¥î PRODUCTION CONFIGURATION ERROR',\r\n            '',\r\n            'Missing required environment variables:',\r\n            '',\r\n            ...missing.map(({ name, description }) => `  ΓÇó ${name}\\n    ${description}`),\r\n            '',\r\n            'Please set these in your .env file or deployment configuration.',\r\n            'See env.example for reference.',\r\n            ''\r\n        ].join('\\n');\r\n\r\n        throw new Error(errorMessage);\r\n    }\r\n\r\n    // Validate NEXT_PUBLIC_APP_URL format if present\r\n    const appUrl = process.env.NEXT_PUBLIC_APP_URL;\r\n    if (appUrl && !appUrl.startsWith('http')) {\r\n        logger.warn(\r\n            `NEXT_PUBLIC_APP_URL should start with http:// or https:// (got: ${appUrl})`\r\n        );\r\n    }\r\n\r\n    // Warn about localhost in production\r\n    if (appUrl && appUrl.includes('localhost')) {\r\n        logger.warn('ΓÜá∩╕Å  NEXT_PUBLIC_APP_URL points to localhost in production. This may cause issues with notifications and webhooks.');\r\n    }\r\n\r\n    if (!appUrl) {\r\n        logger.warn('ΓÜá∩╕Å  NEXT_PUBLIC_APP_URL is not set. The application will attempt to use the database configuration or request headers.');\r\n    }\r\n\r\n    logger.info('Γ£à Production environment variables validated');\r\n}\r\n\r\n/**\r\n * Get notification from email with fallback\r\n */\r\nexport function getFromEmail(): string {\r\n    const fromEmail = process.env.EMAIL_FROM;\r\n\r\n    if (fromEmail) {\r\n        return fromEmail;\r\n    }\r\n\r\n    // Generate from domain\r\n    const appUrl = process.env.NEXT_PUBLIC_APP_URL;\r\n    if (appUrl) {\r\n        const domain = appUrl.replace(/^https?:\\/\\//, '').split('/')[0];\r\n        return `noreply@${domain}`;\r\n    }\r\n\r\n    if (process.env.NODE_ENV === 'production') {\r\n        logger.warn('EMAIL_FROM not set and cannot derive from NEXT_PUBLIC_APP_URL. Using default.');\r\n    }\r\n\r\n    return 'noreply@OpsSentinal.local';\r\n}\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\escalation.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\events.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 33,
        "column": 54,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 33,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1191, 1194], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1191, 1194], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\form-validation.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\in-app-notifications.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\incident-enrichment.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\incidents-query.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\auth.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\azure.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 19,
        "column": 24,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 19,
        "endColumn": 27,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [528, 531], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [528, 531], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 33,
        "column": 22,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 33,
        "endColumn": 25,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [990, 993], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [990, 993], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 44,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 44,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1351, 1354], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1351, 1354], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\cloudwatch.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 28,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 28,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [798, 801], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [798, 801], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\datadog.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 40,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 40,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1000, 1003], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1000, 1003], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\github.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 54,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 54,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1459, 1462], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1459, 1462], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\grafana.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 43,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 43,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1218, 1221], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1218, 1221], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\newrelic.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 47,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 47,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1308, 1311], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1308, 1311], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\opsgenie.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 33,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 33,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1006, 1009], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1006, 1009], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\pagerduty.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 50,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 50,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1466, 1469], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1466, 1469], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\prometheus.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 33,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 33,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [998, 1001], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [998, 1001], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\sentry.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 33,
        "column": 35,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 33,
        "endColumn": 38,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [908, 911], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [908, 911], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 48,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 48,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1358, 1361], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1358, 1361], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\integrations\\webhook.ts",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 41,
        "column": 53,
        "nodeType": "MemberExpression",
        "endLine": 41,
        "endColumn": 67
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 100,
        "column": 28,
        "nodeType": "MemberExpression",
        "endLine": 100,
        "endColumn": 70
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 7,
        "column": 20,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 7,
        "endColumn": 23,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [173, 176], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [173, 176], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 40,
        "column": 30,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 40,
        "endColumn": 33,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1527, 1530], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1527, 1530], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 40,
        "column": 50,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 40,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1547, 1550], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1547, 1550], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 54,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 54,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2037, 2040], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2037, 2040], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\r\n * Generic Webhook Integration Handler\r\n * Handles custom webhook integrations with flexible payload mapping\r\n */\r\n\r\nexport type WebhookPayload = {\r\n    [key: string]: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n};\r\n\r\nexport type WebhookConfig = {\r\n    summaryField?: string; // Field path for summary (e.g., \"alert.title\" or \"message\")\r\n    severityField?: string; // Field path for severity\r\n    dedupKeyField?: string; // Field path for deduplication key\r\n    sourceField?: string; // Field path for source\r\n    severityMapping?: Record<string, 'critical' | 'error' | 'warning' | 'info'>;\r\n    actionField?: string; // Field to determine trigger/resolve (e.g., \"status\" or \"action\")\r\n    triggerValues?: string[]; // Values that indicate trigger (e.g., [\"fired\", \"alert\", \"critical\"])\r\n    resolveValues?: string[]; // Values that indicate resolve (e.g., [\"resolved\", \"ok\", \"normal\"])\r\n};\r\n\r\nconst DEFAULT_CONFIG: WebhookConfig = {\r\n    summaryField: 'summary',\r\n    severityField: 'severity',\r\n    dedupKeyField: 'dedup_key',\r\n    sourceField: 'source',\r\n    actionField: 'status',\r\n    triggerValues: ['triggered', 'fired', 'alert', 'critical', 'error', 'open'],\r\n    resolveValues: ['resolved', 'ok', 'normal', 'closed', 'fixed'],\r\n    severityMapping: {\r\n        'critical': 'critical',\r\n        'error': 'error',\r\n        'warning': 'warning',\r\n        'info': 'info',\r\n        'high': 'critical',\r\n        'medium': 'warning',\r\n        'low': 'info'\r\n    }\r\n};\r\n\r\nfunction getNestedValue(obj: any, path: string): any { // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    return path.split('.').reduce((current, key) => current?.[key], obj);\r\n}\r\n\r\nexport function transformWebhookToEvent(\r\n    payload: WebhookPayload,\r\n    config: WebhookConfig = {}\r\n): {\r\n    event_action: 'trigger' | 'resolve' | 'acknowledge';\r\n    dedup_key: string;\r\n    payload: {\r\n        summary: string;\r\n        source: string;\r\n        severity: 'critical' | 'error' | 'warning' | 'info';\r\n        custom_details: any; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    };\r\n} {\r\n    const finalConfig = { ...DEFAULT_CONFIG, ...config };\r\n    \r\n    // Extract values using field paths\r\n    const summary = getNestedValue(payload, finalConfig.summaryField || 'summary') || \r\n                   payload.title || \r\n                   payload.message || \r\n                   payload.name || \r\n                   'Webhook Alert';\r\n    \r\n    const severityRaw = getNestedValue(payload, finalConfig.severityField || 'severity') || \r\n                       payload.level || \r\n                       payload.priority || \r\n                       'warning';\r\n    \r\n    const dedupKey = getNestedValue(payload, finalConfig.dedupKeyField || 'dedup_key') || \r\n                    payload.id || \r\n                    payload.alert_id || \r\n                    `webhook-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n    \r\n    const source = getNestedValue(payload, finalConfig.sourceField || 'source') || \r\n                  payload.origin || \r\n                  payload.system || \r\n                  'Webhook';\r\n    \r\n    const actionValue = getNestedValue(payload, finalConfig.actionField || 'status') || \r\n                       payload.action || \r\n                       payload.state || \r\n                       'triggered';\r\n    \r\n    // Determine event action\r\n    const actionValueStr = String(actionValue).toLowerCase();\r\n    let eventAction: 'trigger' | 'resolve' | 'acknowledge' = 'trigger';\r\n    \r\n    if (finalConfig.resolveValues?.some(v => actionValueStr.includes(v.toLowerCase()))) {\r\n        eventAction = 'resolve';\r\n    } else if (finalConfig.triggerValues?.some(v => actionValueStr.includes(v.toLowerCase()))) {\r\n        eventAction = 'trigger';\r\n    } else if (actionValueStr.includes('acknowledge') || actionValueStr.includes('ack')) {\r\n        eventAction = 'acknowledge';\r\n    }\r\n    \r\n    // Map severity\r\n    const severityStr = String(severityRaw).toLowerCase();\r\n    const mappedSeverity = finalConfig.severityMapping?.[severityStr] || \r\n                          (severityStr.includes('critical') || severityStr.includes('high') ? 'critical' :\r\n                           severityStr.includes('error') ? 'error' :\r\n                           severityStr.includes('warning') || severityStr.includes('medium') ? 'warning' :\r\n                           'info');\r\n    \r\n    return {\r\n        event_action: eventAction,\r\n        dedup_key: String(dedupKey),\r\n        payload: {\r\n            summary: String(summary),\r\n            source: String(source),\r\n            severity: mappedSeverity,\r\n            custom_details: payload\r\n        }\r\n    };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\jobs\\queue.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 27,
        "column": 18,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 27,
        "endColumn": 21,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [813, 816], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [813, 816], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 103,
        "column": 67,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 103,
        "endColumn": 70,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2354, 2357], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2354, 2357], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 127,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 127,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2901, 2904], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2901, 2904], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 129,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 129,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3085, 3088], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3085, 3088], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 212,
        "column": 39,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 212,
        "endColumn": 42,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5118, 5121], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5118, 5121], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 248,
        "column": 34,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 248,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6514, 6517], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6514, 6517], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\logger.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 311,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 311,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10088, 10091], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10088, 10091], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\notification-providers.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 65,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 65,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1959, 1962], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1959, 1962], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 83,
        "column": 55,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 83,
        "endColumn": 58,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2670, 2673], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2670, 2673], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 101,
        "column": 51,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 101,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3357, 3360], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3357, 3360], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 123,
        "column": 50,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 123,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4243, 4246], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4243, 4246], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 172,
        "column": 51,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 172,
        "endColumn": 54,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6199, 6202], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6199, 6202], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 249,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 249,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9477, 9480], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9477, 9480], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 289,
        "column": 53,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 289,
        "endColumn": 56,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11109, 11112], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11109, 11112], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 308,
        "column": 50,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 308,
        "endColumn": 53,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [11921, 11924], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [11921, 11924], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 339,
        "column": 55,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 339,
        "endColumn": 58,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13023, 13026], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13023, 13026], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 356,
        "column": 56,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 356,
        "endColumn": 59,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13743, 13746], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13743, 13746], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 372,
        "column": 54,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 372,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [14387, 14390], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [14387, 14390], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\notification-retry.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 97,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 97,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3132, 3135], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3132, 3135], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\notifications.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 149,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 149,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5191, 5194], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5191, 5194], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from './prisma';\r\nimport { sendIncidentEmail } from './email';\r\n\r\nexport type NotificationChannel = 'EMAIL' | 'SMS' | 'PUSH' | 'SLACK' | 'WEBHOOK' | 'WHATSAPP';\r\n\r\n/**\r\n * Send notifications to escalation policy targets for an incident.\r\n */\r\nexport async function sendNotification(\r\n  incidentId: string,\r\n  userId: string,\r\n  channel: NotificationChannel,\r\n  message: string\r\n) {\r\n  // Create notification record\r\n  const notification = await prisma.notification.create({\r\n    data: {\r\n      incidentId,\r\n      userId,\r\n      channel,\r\n      message,\r\n      status: 'PENDING',\r\n      attempts: 0,\r\n    },\r\n  });\r\n\r\n  try {\r\n    let result: { success: boolean; error?: string };\r\n\r\n    // Route to appropriate notification service\r\n    switch (channel) {\r\n      case 'EMAIL':\r\n        // Determine event type from message or incident status\r\n        const incident = await prisma.incident.findUnique({ where: { id: incidentId } });\r\n        const eventType =\r\n          incident?.status === 'RESOLVED'\r\n            ? 'resolved'\r\n            : incident?.status === 'ACKNOWLEDGED'\r\n              ? 'acknowledged'\r\n              : 'triggered';\r\n        result = await sendIncidentEmail(userId, incidentId, eventType);\r\n        break;\r\n\r\n      case 'SMS':\r\n        const { sendIncidentSMS } = await import('./sms');\r\n        const incidentForSMS = await prisma.incident.findUnique({ where: { id: incidentId } });\r\n        const eventTypeSMS =\r\n          incidentForSMS?.status === 'RESOLVED'\r\n            ? 'resolved'\r\n            : incidentForSMS?.status === 'ACKNOWLEDGED'\r\n              ? 'acknowledged'\r\n              : 'triggered';\r\n        result = await sendIncidentSMS(userId, incidentId, eventTypeSMS);\r\n        break;\r\n\r\n      case 'PUSH':\r\n        const { sendIncidentPush } = await import('./push');\r\n        const incidentForPush = await prisma.incident.findUnique({ where: { id: incidentId } });\r\n        const eventTypePush =\r\n          incidentForPush?.status === 'RESOLVED'\r\n            ? 'resolved'\r\n            : incidentForPush?.status === 'ACKNOWLEDGED'\r\n              ? 'acknowledged'\r\n              : 'triggered';\r\n        result = await sendIncidentPush(userId, incidentId, eventTypePush);\r\n        break;\r\n\r\n      case 'SLACK':\r\n        // Slack is handled separately via slack.ts\r\n        result = { success: true };\r\n        break;\r\n\r\n      case 'WEBHOOK':\r\n        // Webhooks are typically configured per-service or per-escalation-policy\r\n        // For now, we'll need the webhook URL from the escalation policy or service\r\n        // This is a placeholder - webhook URLs should be stored in escalation policy config\r\n        const { sendIncidentWebhook } = await import('./webhooks');\r\n        const incidentForWebhook = await prisma.incident.findUnique({\r\n          where: { id: incidentId },\r\n          include: { service: true },\r\n        });\r\n\r\n        if (!incidentForWebhook) {\r\n          result = { success: false, error: 'Incident not found' };\r\n          break;\r\n        }\r\n\r\n        // Try to get webhook URL from service or escalation policy\r\n        // For now, we'll check if there's a webhook URL in the service config\r\n        // In a full implementation, this would come from the escalation policy\r\n        const webhookUrl = incidentForWebhook.service.webhookUrl;\r\n\r\n        if (!webhookUrl) {\r\n          result = { success: false, error: 'No webhook URL configured for this service' };\r\n          break;\r\n        }\r\n\r\n        const eventTypeWebhook =\r\n          incidentForWebhook.status === 'RESOLVED'\r\n            ? 'resolved'\r\n            : incidentForWebhook.status === 'ACKNOWLEDGED'\r\n              ? 'acknowledged'\r\n              : 'triggered';\r\n\r\n        const webhookResult = await sendIncidentWebhook(webhookUrl, incidentId, eventTypeWebhook);\r\n\r\n        result = webhookResult.success\r\n          ? { success: true }\r\n          : { success: false, error: webhookResult.error };\r\n        break;\r\n\r\n      case 'WHATSAPP':\r\n        const { sendIncidentWhatsApp } = await import('./whatsapp');\r\n        const incidentForWhatsApp = await prisma.incident.findUnique({ where: { id: incidentId } });\r\n        const eventTypeWhatsApp =\r\n          incidentForWhatsApp?.status === 'RESOLVED'\r\n            ? 'resolved'\r\n            : incidentForWhatsApp?.status === 'ACKNOWLEDGED'\r\n              ? 'acknowledged'\r\n              : 'triggered';\r\n        result = await sendIncidentWhatsApp(userId, incidentId, eventTypeWhatsApp);\r\n        break;\r\n\r\n      default:\r\n        result = { success: false, error: `Unknown channel: ${channel}` };\r\n    }\r\n\r\n    if (result.success) {\r\n      await prisma.notification.update({\r\n        where: { id: notification.id },\r\n        data: {\r\n          status: 'SENT',\r\n          sentAt: new Date(),\r\n        },\r\n      });\r\n\r\n      // Log to incident timeline\r\n      await prisma.incidentEvent.create({\r\n        data: {\r\n          incidentId,\r\n          message: `Notification sent via ${channel}`,\r\n        },\r\n      });\r\n\r\n      return { success: true, notificationId: notification.id };\r\n    } else {\r\n      throw new Error(result.error || 'Notification delivery failed');\r\n    }\r\n  } catch (error: any) {\r\n     \r\n    await prisma.notification.update({\r\n      where: { id: notification.id },\r\n      data: {\r\n        status: 'FAILED',\r\n        failedAt: new Date(),\r\n        errorMsg: error.message,\r\n        attempts: (notification.attempts || 0) + 1,\r\n      },\r\n    });\r\n\r\n    return { success: false, error: error.message, notificationId: notification.id };\r\n  }\r\n}\r\n\r\n/**\r\n * Execute escalation policy for an incident.\r\n * Re-exported from escalation.ts for backward compatibility\r\n */\r\nexport { executeEscalation } from './escalation';\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\oidc-config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\oidc.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\oncall.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\password-reset-email-template.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\password-reset.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 246,
        "column": 9,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 246,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8784, 8787], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8784, 8787], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 1,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { randomBytes, createHash } from 'crypto';\r\nimport prisma from '@/lib/prisma';\r\nimport { logger } from '@/lib/logger';\r\nimport { getEmailConfig, getSMSConfig } from '@/lib/notification-providers';\r\nimport { createInAppNotifications } from '@/lib/in-app-notifications';\r\nimport { getAppUrl } from '@/lib/app-url';\r\nimport bcrypt from 'bcryptjs';\r\n\r\nconst RATE_LIMIT_WINDOW_MS = 60 * 60 * 1000; // 1 hour\r\nconst MAX_ATTEMPTS_PER_WINDOW = 5;\r\nconst ADMIN_NOTIFICATION_COOLDOWN_MS = 24 * 60 * 60 * 1000; // 24 hours\r\n\r\nexport type PasswordResetResult = {\r\n  success: boolean;\r\n  message: string; // Generic message for security\r\n  method?: 'EMAIL' | 'SMS' | 'ADMIN_NOTIFIED'; // Internal use for debugging/logging\r\n};\r\n\r\n/**\r\n * Initiates the password reset flow.\r\n * SECURE: Always returns a generic success message to prevent enumeration.\r\n */\r\nexport async function initiatePasswordReset(\r\n  email: string,\r\n  ipAddress?: string\r\n): Promise<PasswordResetResult> {\r\n  const normalizedEmail = email.toLowerCase().trim();\r\n  const startTime = Date.now();\r\n\r\n  try {\r\n    // 1. Rate Limit Check (Audit Log based)\r\n    await checkRateLimit(normalizedEmail, ipAddress);\r\n\r\n    // 2. User Lookup\r\n    const user = await prisma.user.findUnique({\r\n      where: { email: normalizedEmail },\r\n      include: {\r\n        // Check if user is disabled? logic says: if disabled, they can't login, but maybe reset allows re-activation?\r\n        // Usually reset is for active users. Let's assume only active/invited.\r\n      },\r\n    });\r\n\r\n    // 3. Timing Mitigation & User Validation\r\n    if (!user || user.status === 'DISABLED') {\r\n      await simulateWork(startTime);\r\n      // Log attempt for nonexistent user (careful with enumeration in logs, maybe just log \"Failed reset attempt\")\r\n      logger.info('Password reset requested for non-existent or disabled user', {\r\n        email: normalizedEmail,\r\n      });\r\n      await logAttempt(normalizedEmail, 'PASSWORD_RESET_INITIATED', ipAddress, undefined, {\r\n        result: 'USER_NOT_FOUND',\r\n      });\r\n      return {\r\n        success: true,\r\n        message:\r\n          'If an account exists with this email, you will receive password reset instructions.',\r\n      };\r\n    }\r\n\r\n    // 4. Generate Token\r\n    // Token valid for 1 hour\r\n    const token = randomBytes(32).toString('hex');\r\n    const tokenHash = createHash('sha256').update(token).digest('hex');\r\n    const expires = new Date(Date.now() + 60 * 60 * 1000);\r\n\r\n    // Store token in VerificationToken (or dedicated PasswordResetToken table if we had one, but VerificationToken is generic enough or we create a new one?\r\n    // Plan said \"VerificationToken\". Schema has `VerificationToken { identifier, token, expires }`.\r\n    // Identifier can be email. Token should be the HASH.\r\n    // Wait, schema `VerificationToken` has composite unique [identifier, token].\r\n    // NextAuth uses this table. We can reuse it.\r\n\r\n    await prisma.verificationToken.create({\r\n      data: {\r\n        identifier: normalizedEmail,\r\n        token: tokenHash,\r\n        expires,\r\n      },\r\n    });\r\n\r\n    const appUrl = await getAppUrl();\r\n    const resetLink = `${appUrl}/reset-password?token=${token}`;\r\n\r\n    // 5. Channel Selection Strategy\r\n    const emailConfig = await getEmailConfig();\r\n    const smsConfig = await getSMSConfig(); // Checks Twilio & SNS\r\n\r\n    let method: 'EMAIL' | 'SMS' | 'ADMIN_NOTIFIED' | null = null;\r\n    let sent = false;\r\n\r\n    // Strategy A: Email\r\n    if (emailConfig.enabled) {\r\n      // In a real app, we'd use a proper email template. For now, using the notification system.\r\n      // Using `sendNotification` might be tricky if it expects an Incident.\r\n      // We should probably use a direct mailer or adapt `sendNotification`.\r\n      // Looking at `src/lib/notifications.ts`, it takes `incidentId`.\r\n      // Actually, we probably need a lower-level sender for system messages.\r\n      // `src/lib/email.ts` likely has `sendEmail`. Let's assume we can use that.\r\n\r\n      // For this implementation, I'll assume we can use a direct email helper.\r\n      try {\r\n        const { sendEmail } = await import('@/lib/email');\r\n        const { getPasswordResetEmailTemplate } = await import('@/lib/password-reset-email-template');\r\n\r\n        const emailTemplate = getPasswordResetEmailTemplate({\r\n          userName: user.name,\r\n          resetLink,\r\n          expiryMinutes: 60,\r\n        });\r\n\r\n        const result = await sendEmail({\r\n          to: user.email,\r\n          subject: emailTemplate.subject,\r\n          text: emailTemplate.text,\r\n          html: emailTemplate.html,\r\n        });\r\n\r\n        if (result.success) {\r\n          method = 'EMAIL';\r\n          sent = true;\r\n        } else {\r\n          logger.warn('Failed to send reset email', { error: result.error });\r\n          // Fallthrough to SMS\r\n        }\r\n      } catch (e) {\r\n        logger.error('Exception sending reset email', { error: e });\r\n        // Fallthrough to SMS\r\n      }\r\n    }\r\n\r\n    // Strategy B: SMS (if Email failed or disabled)\r\n    // NOTE: For password reset, we ignore user.smsNotificationsEnabled preference\r\n    // because this is a security-critical operation that should use all available\r\n    // system-configured channels regardless of user notification preferences.\r\n    if (!sent && smsConfig.enabled && user.phoneNumber) {\r\n      try {\r\n        const { sendSMS } = await import('@/lib/sms');\r\n        const result = await sendSMS({\r\n          to: user.phoneNumber,\r\n          message: `OpsSentinal: Reset your password here: ${resetLink}`,\r\n        });\r\n\r\n        if (result.success) {\r\n          method = 'SMS';\r\n          sent = true;\r\n        } else {\r\n          logger.warn('Failed to send reset SMS', { error: result.error });\r\n        }\r\n      } catch (e) {\r\n        logger.error('Exception sending reset SMS', { error: e });\r\n      }\r\n    }\r\n\r\n    // Strategy C: Admin Fallback\r\n    if (!sent) {\r\n      // Check cooldown for admin notifications to prevent spam\r\n      const lastAdminNotify = await prisma.inAppNotification.findFirst({\r\n        where: {\r\n          type: 'TEAM',\r\n          title: 'Password Reset Request',\r\n          message: { contains: user.name },\r\n          createdAt: { gt: new Date(Date.now() - ADMIN_NOTIFICATION_COOLDOWN_MS) },\r\n        },\r\n      });\r\n\r\n      if (!lastAdminNotify) {\r\n        // Find Admins\r\n        const admins = await prisma.user.findMany({\r\n          where: { role: 'ADMIN', status: 'ACTIVE' },\r\n        });\r\n\r\n        if (admins.length > 0) {\r\n          await createInAppNotifications({\r\n            userIds: admins.map(a => a.id),\r\n            type: 'TEAM', // Using TEAM or similar as generic category, schema has INCIDENT, SCHEDULE, TEAM, SERVICE\r\n            title: 'Password Reset Request',\r\n            message: `User ${user.name} (${user.email}) requested a password reset but has no reachable notification channels. Please assist them manually.`,\r\n            entityType: 'USER',\r\n            entityId: user.id,\r\n          });\r\n          method = 'ADMIN_NOTIFIED';\r\n          sent = true;\r\n        }\r\n      } else {\r\n        method = 'ADMIN_NOTIFIED'; // Already notified recently\r\n        sent = true;\r\n      }\r\n    }\r\n\r\n    await logAttempt(normalizedEmail, 'PASSWORD_RESET_INITIATED', ipAddress, user.id, { method });\r\n\r\n    return {\r\n      success: true,\r\n      message:\r\n        'If an account exists with this email, you will receive password reset instructions.',\r\n    };\r\n  } catch (error) {\r\n    logger.error('Error in initiatePasswordReset', { error });\r\n    return { success: false, message: 'An internal error occurred.' };\r\n  }\r\n}\r\n\r\nasync function checkRateLimit(email: string, ip?: string) {\r\n  const windowStart = new Date(Date.now() - RATE_LIMIT_WINDOW_MS);\r\n\r\n  // Check by Email\r\n  const emailCount = await prisma.auditLog.count({\r\n    where: {\r\n      action: 'PASSWORD_RESET_INITIATED',\r\n      details: {\r\n        path: ['targetEmail'],\r\n        equals: email,\r\n      },\r\n      createdAt: { gt: windowStart },\r\n    },\r\n  });\r\n\r\n  if (emailCount >= MAX_ATTEMPTS_PER_WINDOW) {\r\n    throw new Error('Too many requests. Please try again later.');\r\n  }\r\n\r\n  // Check by IP (if provided and we store it in details)\r\n  if (ip) {\r\n    const ipCount = await prisma.auditLog.count({\r\n      where: {\r\n        action: 'PASSWORD_RESET_INITIATED',\r\n        details: {\r\n          path: ['ip'],\r\n          equals: ip,\r\n        },\r\n        createdAt: { gt: windowStart },\r\n      },\r\n    });\r\n\r\n    if (ipCount >= MAX_ATTEMPTS_PER_WINDOW * 2) {\r\n      // Allow slightly more per IP to account for NAT\r\n      throw new Error('Too many requests from this IP.');\r\n    }\r\n  }\r\n}\r\n\r\nasync function logAttempt(\r\n  email: string,\r\n  action: string,\r\n  ip: string | undefined,\r\n  userId: string | undefined,\r\n  data: any\r\n) {\r\n\r\n  try {\r\n    await prisma.auditLog.create({\r\n      data: {\r\n        action,\r\n        entityType: 'USER',\r\n        entityId: userId || 'unknown', // generic if unknown\r\n        actorId: userId, // acts as self\r\n        details: { ...data, targetEmail: email, ip },\r\n      },\r\n    });\r\n  } catch (e) {\r\n    // Don't fail the flow if logging fails\r\n    logger.error('Failed to write audit log', { component: 'password-reset', error: e, email, action });\r\n  }\r\n}\r\n\r\n/**\r\n * Simulates hashing work to prevent timing attacks.\r\n * Attempts to match the duration of a successful lookup + potential token generation.\r\n * Target duration: approx 300-500ms.\r\n */\r\nasync function simulateWork(startTime: number) {\r\n  // Generate a dummy hash to burn CPU\r\n  const dummy = '$2a$10$abcdefghijklmnopqrstuv'; // Cost 10 bcrypt\r\n  // bcrypt.compare is async\r\n  try {\r\n    await bcrypt.compare('dummy-password', dummy);\r\n  } catch { } // Ignore result\r\n\r\n  // Ensure we wait at least a minimum time if hashing was too fast\r\n  const elapsed = Date.now() - startTime;\r\n  const minTime = 300;\r\n  if (elapsed < minTime) {\r\n    await new Promise(resolve => setTimeout(resolve, minTime - elapsed));\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\passwords.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\prisma.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\push.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 30,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 30,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [972, 975], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [972, 975], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 153,
        "column": 72,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 153,
        "endColumn": 75,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6242, 6245], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6242, 6245], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 166,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 166,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6980, 6983], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6980, 6983], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 208,
        "column": 37,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 208,
        "endColumn": 40,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [8925, 8928], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [8925, 8928], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 219,
        "column": 29,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 219,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9670, 9673], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9670, 9673], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 236,
        "column": 72,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 236,
        "endColumn": 75,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10960, 10963], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10960, 10963], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 264,
        "column": 29,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 264,
        "endColumn": 32,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12372, 12375], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12372, 12375], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 290,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 290,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13725, 13728], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13725, 13728], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 376,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 376,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [16619, 16622], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [16619, 16622], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\rate-limit.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\rbac.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\retention-policy.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\retry.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\search-presets-defaults.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\search-presets-utils.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 51,
        "column": 69,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 51,
        "endColumn": 72,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1580, 1583], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1580, 1583], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\search-presets.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\server-action-helpers.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 14,
        "column": 55,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 14,
        "endColumn": 58,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [496, 499], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [496, 499], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 14,
        "column": 73,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 14,
        "endColumn": 76,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [514, 517], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [514, 517], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 25,
        "column": 49,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 25,
        "endColumn": 52,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [947, 950], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [947, 950], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\service-health.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\service-notifications.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 100,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 100,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3654, 3657], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3654, 3657], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 135,
        "column": 25,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 135,
        "endColumn": 28,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4828, 4831], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4828, 4831], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 175,
        "column": 23,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 175,
        "endColumn": 26,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6090, 6093], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6090, 6093], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 189,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 189,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6454, 6457], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6454, 6457], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 4,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\r\n * Service-Level Notification System (ISOLATED)\r\n *\r\n * IMPORTANT: Service notifications are completely isolated from:\r\n * - User preferences (users cannot disable service notifications)\r\n * - Escalation policies (service notifications are separate)\r\n *\r\n * Service notifications use ONLY service-configured channels:\r\n * - SLACK: Service Slack webhook/channel\r\n * - WEBHOOK: Service webhook integrations (Google Chat, Teams, Discord, etc.)\r\n *\r\n * These are triggered when incidents are created, acknowledged, resolved, or updated\r\n */\r\n\r\nimport prisma from './prisma';\r\nimport { notifySlackForIncident, sendSlackMessageToChannel } from './slack';\r\nimport { sendIncidentWebhook } from './webhooks';\r\nimport { logger } from './logger';\r\n\r\n/**\r\n * Send service-level notifications for an incident event\r\n *\r\n * COMPLETELY ISOLATED from user preferences and escalation logic.\r\n * Uses ONLY service-configured channels (serviceNotificationChannels).\r\n *\r\n * Supported channels:\r\n * - SLACK: Sends to service Slack channel/webhook\r\n * - WEBHOOK: Sends to all enabled webhook integrations for the service\r\n */\r\nexport async function sendServiceNotifications(\r\n  incidentId: string,\r\n  eventType: 'triggered' | 'acknowledged' | 'resolved' | 'updated'\r\n): Promise<{ success: boolean; errors?: string[] }> {\r\n  try {\r\n    const incident = await prisma.incident.findUnique({\r\n      where: { id: incidentId },\r\n      include: {\r\n        service: {\r\n          include: {\r\n            webhookIntegrations: {\r\n              where: { enabled: true },\r\n            },\r\n          },\r\n        },\r\n        assignee: true,\r\n      },\r\n    });\r\n\r\n    if (!incident || !incident.service) {\r\n      return { success: false, errors: ['Incident or service not found'] };\r\n    }\r\n\r\n    // Get service-configured notification channels (isolated from user preferences)\r\n    const serviceChannels = incident.service.serviceNotificationChannels || [];\r\n    const errors: string[] = [];\r\n\r\n    // Handle SLACK channel\r\n    if (serviceChannels.includes('SLACK')) {\r\n      try {\r\n        // Try Slack API first (if channel is configured)\r\n        if (incident.service.slackChannel) {\r\n          const slackResult = await sendSlackMessageToChannel(\r\n            incident.service.slackChannel,\r\n            {\r\n              id: incident.id,\r\n              title: incident.title,\r\n              status: incident.status,\r\n              urgency: incident.urgency,\r\n              serviceName: incident.service.name,\r\n              assigneeName: incident.assignee?.name,\r\n            },\r\n            eventType === 'triggered'\r\n              ? 'triggered'\r\n              : eventType === 'acknowledged'\r\n                ? 'acknowledged'\r\n                : eventType === 'resolved'\r\n                  ? 'resolved'\r\n                  : 'triggered',\r\n            true, // includeInteractiveButtons\r\n            incident.serviceId // Pass serviceId to get correct token\r\n          );\r\n\r\n          if (!slackResult.success) {\r\n            errors.push(`Slack channel notification failed: ${slackResult.error}`);\r\n          }\r\n        }\r\n        // Fallback to webhook if channel not configured but webhook URL exists\r\n        else if (incident.service.slackWebhookUrl && eventType !== 'updated') {\r\n          await notifySlackForIncident(\r\n            incidentId,\r\n            eventType === 'triggered'\r\n              ? 'triggered'\r\n              : eventType === 'acknowledged'\r\n                ? 'acknowledged'\r\n                : 'resolved'\r\n          ).catch(err => {\r\n            errors.push(`Slack webhook notification failed: ${err.message}`);\r\n          });\r\n        }\r\n      } catch (error: any) {\r\n         \r\n        logger.error('Slack notification error', {\r\n          incidentId,\r\n          error: error.message,\r\n        });\r\n        errors.push(`Slack notification failed: ${error.message}`);\r\n      }\r\n    }\r\n\r\n    // Handle WEBHOOK channel - send to all enabled webhook integrations\r\n    if (serviceChannels.includes('WEBHOOK')) {\r\n      const webhookPromises = incident.service.webhookIntegrations.map(async webhook => {\r\n        try {\r\n          const webhookEventType =\r\n            eventType === 'triggered'\r\n              ? 'triggered'\r\n              : eventType === 'acknowledged'\r\n                ? 'acknowledged'\r\n                : eventType === 'resolved'\r\n                  ? 'resolved'\r\n                  : 'updated';\r\n\r\n          const result = await sendIncidentWebhook(\r\n            webhook.url,\r\n            incidentId,\r\n            webhookEventType,\r\n            webhook.secret || undefined,\r\n            webhook.type // Pass webhook type for proper formatting\r\n          );\r\n\r\n          if (!result.success) {\r\n            return { webhookId: webhook.id, error: result.error };\r\n          }\r\n          return null;\r\n        } catch (error: any) {\r\n           \r\n          logger.error('Webhook notification error', {\r\n            incidentId,\r\n            webhookId: webhook.id,\r\n            error: error.message,\r\n          });\r\n          return { webhookId: webhook.id, error: error.message };\r\n        }\r\n      });\r\n\r\n      const webhookResults = await Promise.all(webhookPromises);\r\n      for (const result of webhookResults) {\r\n        if (result) {\r\n          errors.push(`Webhook ${result.webhookId} failed: ${result.error}`);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Also send to legacy webhookUrl if configured (for backward compatibility)\r\n    if (incident.service.webhookUrl && !serviceChannels.includes('WEBHOOK')) {\r\n      try {\r\n        const webhookEventType =\r\n          eventType === 'triggered'\r\n            ? 'triggered'\r\n            : eventType === 'acknowledged'\r\n              ? 'acknowledged'\r\n              : eventType === 'resolved'\r\n                ? 'resolved'\r\n                : 'updated';\r\n\r\n        const result = await sendIncidentWebhook(\r\n          incident.service.webhookUrl,\r\n          incidentId,\r\n          webhookEventType\r\n        );\r\n\r\n        if (!result.success) {\r\n          errors.push(`Legacy webhook failed: ${result.error}`);\r\n        }\r\n      } catch (error: any) {\r\n         \r\n        logger.error('Legacy webhook notification error', {\r\n          incidentId,\r\n          error: error.message,\r\n        });\r\n        errors.push(`Legacy webhook failed: ${error.message}`);\r\n      }\r\n    }\r\n\r\n    return {\r\n      success: errors.length === 0,\r\n      errors: errors.length > 0 ? errors : undefined,\r\n    };\r\n  } catch (error: any) {\r\n     \r\n    logger.error('Service notification error', {\r\n      incidentId,\r\n      error: error.message,\r\n    });\r\n    return { success: false, errors: [error.message] };\r\n  }\r\n}\r\n\r\n/**\r\n * Notification Flow Summary:\r\n *\r\n * 1. **Escalation Policy Notifications** (via executeEscalation):\r\n *    - Triggered when escalation steps execute\r\n *    - Uses notification channels configured per escalation step\r\n *    - Sends to users/teams/schedules defined in the escalation step\r\n *    - Configured in EscalationRule.notificationChannels\r\n *\r\n * 2. **Service-Level Notifications** (via sendServiceNotifications):\r\n *    - Triggered when incidents are created, acknowledged, resolved, or updated\r\n *    - Uses notification channels configured at the service level\r\n *    - Sends to service team members and assignee\r\n *    - Configured in Service.notificationChannels\r\n *    - Slack uses service.slackWebhookUrl\r\n *\r\n * 3. **Both can work together**:\r\n *    - Service notifications: Immediate notification to team when incident created\r\n *    - Policy notifications: Escalation-based notifications following policy steps\r\n */\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\service-status.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\sla-priority.ts",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 13,
        "column": 21,
        "nodeType": "MemberExpression",
        "endLine": 13,
        "endColumn": 51
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 14,
        "column": 16,
        "nodeType": "MemberExpression",
        "endLine": 14,
        "endColumn": 46
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { Incident, Service } from '@prisma/client';\r\n\r\n// Priority-based SLA targets (in minutes)\r\nconst PRIORITY_SLA_TARGETS: Record<string, { ack: number; resolve: number }> = {\r\n    'P1': { ack: 5, resolve: 60 },    // Critical - 5 min ack, 1 hour resolve\r\n    'P2': { ack: 15, resolve: 240 },  // High - 15 min ack, 4 hours resolve\r\n    'P3': { ack: 30, resolve: 480 },  // Medium - 30 min ack, 8 hours resolve\r\n    'P4': { ack: 60, resolve: 1440 }, // Low - 1 hour ack, 24 hours resolve\r\n    'P5': { ack: 120, resolve: 2880 } // Info - 2 hours ack, 48 hours resolve\r\n};\r\n\r\nexport function getPrioritySLATarget(priority: string | null | undefined, service: Service): { ack: number; resolve: number } {\r\n    if (priority && PRIORITY_SLA_TARGETS[priority]) {\r\n        return PRIORITY_SLA_TARGETS[priority];\r\n    }\r\n    // Default to service targets if no priority or priority not found\r\n    return {\r\n        ack: service.targetAckMinutes ?? 15,\r\n        resolve: service.targetResolveMinutes ?? 120\r\n    };\r\n}\r\n\r\nexport function checkPriorityAckSLA(incident: Incident, service: Service): boolean {\r\n    if (!incident.acknowledgedAt || !incident.createdAt || !incident.priority) return false;\r\n    const ackTimeMinutes = (incident.acknowledgedAt.getTime() - incident.createdAt.getTime()) / 1000 / 60;\r\n    const target = getPrioritySLATarget(incident.priority, service);\r\n    return ackTimeMinutes <= target.ack;\r\n}\r\n\r\nexport function checkPriorityResolveSLA(incident: Incident, service: Service): boolean {\r\n    if (!incident.resolvedAt || !incident.createdAt || !incident.priority) return false;\r\n    const resolveTimeMinutes = (incident.resolvedAt.getTime() - incident.createdAt.getTime()) / 1000 / 60;\r\n    const target = getPrioritySLATarget(incident.priority, service);\r\n    return resolveTimeMinutes <= target.resolve;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\sla-server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\sla.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\slack.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\sms.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-require-imports",
        "severity": 2,
        "message": "A `require()` style import is forbidden.",
        "line": 73,
        "column": 20,
        "nodeType": "CallExpression",
        "messageId": "noRequireImports",
        "endLine": 73,
        "endColumn": 37,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\status-api-auth.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\status-page-email-templates.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\status-page-notifications.ts",
    "messages": [
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 118,
        "column": 25,
        "nodeType": "MemberExpression",
        "endLine": 118,
        "endColumn": 45
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 135,
        "column": 24,
        "nodeType": "MemberExpression",
        "endLine": 135,
        "endColumn": 44
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 72,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 72,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2555, 2558], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2555, 2558], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 122,
        "column": 54,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 122,
        "endColumn": 57,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4679, 4682], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4679, 4682], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 246,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 246,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [10272, 10275], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [10272, 10275], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import prisma from '@/lib/prisma';\r\nimport { sendEmail } from '@/lib/email';\r\nimport { getStatusPageEmailConfig } from '@/lib/notification-providers';\r\nimport { logger } from '@/lib/logger';\r\nimport {\r\n    EmailContainer,\r\n    EmailContent,\r\n    SubscriberEmailHeader,\r\n    SubscriberEmailFooter,\r\n    EmailButton\r\n} from '@/lib/email-components';\r\n\r\nexport async function notifyStatusPageSubscribers(\r\n    incidentId: string,\r\n    eventType: 'check' | 'investigating' | 'identified' | 'monitoring' | 'resolved' | 'scheduled' | 'inprogress' | 'completed' | 'triggered' | 'acknowledged'\r\n) {\r\n    try {\r\n        // 1. Get incident details with service\r\n        const incident = await prisma.incident.findUnique({\r\n            where: { id: incidentId },\r\n            include: {\r\n                service: true\r\n            }\r\n        });\r\n\r\n        if (!incident) {\r\n            logger.error(`Incident ${incidentId} not found for status page notifications`);\r\n            return;\r\n        }\r\n\r\n        // 2. Find all status pages that include this service\r\n        const statusPages = await prisma.statusPage.findMany({\r\n            where: {\r\n                enabled: true,\r\n                services: {\r\n                    some: {\r\n                        serviceId: incident.serviceId,\r\n                        showOnPage: true\r\n                    }\r\n                }\r\n            },\r\n            include: {\r\n                subscriptions: {\r\n                    where: {\r\n                        verified: true,\r\n                        unsubscribedAt: null\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        if (statusPages.length === 0) {\r\n            logger.info(`No status pages found displaying service ${incident.serviceId} for incident ${incidentId}`);\r\n            return; // No status pages configured for this service\r\n        }\r\n\r\n        logger.info(`Found ${statusPages.length} status pages for incident ${incidentId}`);\r\n\r\n        // 3. Send notifications for each status page\r\n        for (const page of statusPages) {\r\n            if (page.subscriptions.length === 0) continue;\r\n\r\n            // Get email config for this status page\r\n            const emailConfig = await getStatusPageEmailConfig(page.id);\r\n            if (!emailConfig.enabled) {\r\n                logger.warn(`Email not configured for status page ${page.name} (${page.id})`);\r\n                continue;\r\n            }\r\n\r\n            // Prepare email content\r\n            // Prepare email content\r\n            const displayName = (page as any).organizationName || page.name; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n            const subject = formatSubject(displayName, incident.title, eventType);\r\n            const html = formatEmailBody(displayName, incident, eventType, page.contactUrl || '#');\r\n\r\n            // Send to all subscribers\r\n            logger.info(`Sending notifications to ${page.subscriptions.length} subscribers for page ${page.name}`);\r\n\r\n            const results = await Promise.allSettled(\r\n                page.subscriptions.map(sub =>\r\n                    sendEmail({\r\n                        to: sub.email,\r\n                        subject,\r\n                        html: html.replace('{{unsubscribe_url}}', `${process.env.NEXT_PUBLIC_APP_URL}/status/unsubscribe/${sub.token}`)\r\n                    }, {\r\n                        source: `status-page-${page.id}`,\r\n                        ...emailConfig\r\n                    })\r\n                )\r\n            );\r\n\r\n            const sent = results.filter(r => r.status === 'fulfilled' && r.value.success).length;\r\n            const failed = results.filter(r => r.status === 'rejected' || (r.status === 'fulfilled' && !r.value.success)).length;\r\n\r\n            logger.info(`Status page notifications sent: ${sent} success, ${failed} failed`);\r\n        }\r\n\r\n    } catch (error) {\r\n        logger.error('Failed to notify status page subscribers', {\r\n            error: error instanceof Error ? error.message : 'Unknown error',\r\n            incidentId\r\n        });\r\n    }\r\n}\r\n\r\nfunction formatSubject(pageName: string, incidentTitle: string, eventType: string): string {\r\n    const prefix = `[${pageName}]`;\r\n    const statusMap: Record<string, string> = {\r\n        'triggered': 'New Incident',\r\n        'acknowledged': 'Investigating',\r\n        'resolved': 'Resolved',\r\n        'investigating': 'Investigating',\r\n        'identified': 'Identified',\r\n        'monitoring': 'Monitoring',\r\n        'completed': 'Completed'\r\n    };\r\n\r\n    return `${prefix} ${statusMap[eventType] || 'Update'}: ${incidentTitle}`;\r\n}\r\n\r\n\r\nfunction formatEmailBody(pageName: string, incident: any, eventType: string, contactUrl: string): string { // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    const statusMap: Record<string, { label: string; badge: 'success' | 'warning' | 'error' | 'info' }> = {\r\n        'triggered': { label: 'New Incident', badge: 'error' },\r\n        'acknowledged': { label: 'Investigating', badge: 'warning' },\r\n        'resolved': { label: 'Resolved', badge: 'success' },\r\n        'investigating': { label: 'Investigating', badge: 'warning' },\r\n        'identified': { label: 'Identified', badge: 'warning' },\r\n        'monitoring': { label: 'Monitoring', badge: 'info' },\r\n        'completed': { label: 'Maintenance Completed', badge: 'success' },\r\n        'scheduled': { label: 'Maintenance Scheduled', badge: 'info' },\r\n        'inprogress': { label: 'In Progress', badge: 'warning' }\r\n    };\r\n\r\n    const statusInfo = statusMap[eventType] || { label: 'Update', badge: 'info' };\r\n\r\n    // Build the email content using components\r\n    const headerGradients: Record<string, string> = {\r\n        success: 'linear-gradient(135deg, #166534 0%, #16a34a 45%, #22c55e 100%)',\r\n        warning: 'linear-gradient(135deg, #92400e 0%, #d97706 50%, #f59e0b 100%)',\r\n        error: 'linear-gradient(135deg, #7f1d1d 0%, #b91c1c 50%, #dc2626 100%)',\r\n        info: 'linear-gradient(135deg, #1e3a8a 0%, #2563eb 50%, #3b82f6 100%)'\r\n    };\r\n\r\n    const header = SubscriberEmailHeader(pageName, statusInfo.label, incident.title, {\r\n        headerGradient: headerGradients[statusInfo.badge] || headerGradients.info\r\n    });\r\n\r\n    // Main content body\r\n    let contentBody = `\r\n        <div style=\"margin-bottom: 24px;\">\r\n            <p style=\"font-size: 16px; color: #4b5563; margin-bottom: 8px; font-weight: 500;\">\r\n                Affecting Service:\r\n            </p>\r\n            <h2 style=\"font-size: 20px; color: #1f2937; margin: 0; font-weight: 700;\">\r\n                ${incident.service.name}\r\n            </h2>\r\n        </div>\r\n\r\n        <div style=\"background: #f9fafb; border-radius: 12px; padding: 24px; border: 1px solid #e5e7eb; margin-bottom: 32px;\">\r\n            <h3 style=\"font-size: 14px; text-transform: uppercase; color: #6b7280; margin: 0 0 12px 0; letter-spacing: 0.05em; font-weight: 600;\">\r\n                Update Details\r\n            </h3>\r\n            <p style=\"font-size: 16px; line-height: 1.6; color: #374151; margin: 0; white-space: pre-wrap;\">\r\n                ${incident.description || 'No additional details provided.'}\r\n            </p>\r\n            <p style=\"font-size: 14px; color: #9ca3af; margin-top: 16px; font-style: italic;\">\r\n                Posted on ${new Date().toLocaleString('en-US', { dateStyle: 'medium', timeStyle: 'short' })}\r\n            </p>\r\n        </div>\r\n    `;\r\n\r\n    // Add CTA Button\r\n    // We assume the contactUrl is the status page URL, or we should construct it. \r\n    // Ideally we pass the status page URL, but contactUrl is often \"mailto:\" or \"support page\".\r\n    // For now, let's use contactUrl if it's a web link, otherwise hide button or use generic text.\r\n    if (contactUrl && contactUrl.startsWith('http')) {\r\n        contentBody += EmailButton('View Status Page', contactUrl);\r\n        contentBody += `\r\n        <div style=\"text-align: center; margin-top: 24px;\">\r\n            <a href=\"${contactUrl}\" style=\"color: #6b7280; font-size: 14px; text-decoration: none;\">Contact Support</a>\r\n        </div>`;\r\n    } else {\r\n        // Fallback if no valid URL for button\r\n        contentBody += `\r\n        <div style=\"text-align: center; margin-top: 32px; padding-top: 24px; border-top: 1px solid #e5e7eb;\">\r\n            <a href=\"${contactUrl}\" style=\"color: #d32f2f; font-weight: 600; text-decoration: none;\">Contact Support</a>\r\n        </div>`;\r\n    }\r\n\r\n    const body = EmailContent(contentBody);\r\n\r\n    // We need to inject the unsubscribe URL at send time, so we keep the placeholder\r\n    const footer = SubscriberEmailFooter('{{unsubscribe_url}}', pageName);\r\n\r\n    return EmailContainer(header + body + footer);\r\n}\r\n\r\nexport async function notifyStatusPageSubscribersAnnouncement(\r\n    announcementId: string,\r\n    statusPageId: string\r\n) {\r\n    try {\r\n        // 1. Get announcement details\r\n        const announcement = await prisma.statusPageAnnouncement.findUnique({\r\n            where: { id: announcementId }\r\n        });\r\n\r\n        if (!announcement) {\r\n            logger.error(`Announcement ${announcementId} not found for status page notifications`);\r\n            return;\r\n        }\r\n\r\n        // 2. Get status page with subscribers\r\n        const page = await prisma.statusPage.findUnique({\r\n            where: { id: statusPageId },\r\n            include: {\r\n                subscriptions: {\r\n                    where: {\r\n                        verified: true,\r\n                        unsubscribedAt: null\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        if (!page) {\r\n            logger.error(`Status page ${statusPageId} not found for announcement notifications`);\r\n            return;\r\n        }\r\n\r\n        if (page.subscriptions.length === 0) {\r\n            logger.info(`No subscribers found for status page ${page.name}`);\r\n            return;\r\n        }\r\n\r\n        // 3. Get email config\r\n        const emailConfig = await getStatusPageEmailConfig(page.id);\r\n        if (!emailConfig.enabled) {\r\n            logger.warn(`Email not configured for status page ${page.name} (${page.id})`);\r\n            return;\r\n        }\r\n\r\n        // 4. Prepare email content\r\n        // 4. Prepare email content\r\n        const displayName = (page as any).organizationName || page.name; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n\r\n        // Define theme based on announcement type\r\n        const themes: Record<string, { label: string; color: string; bg: string; borderColor: string }> = {\r\n            'INCIDENT': { label: 'Incident', color: '#dc2626', bg: '#fef2f2', borderColor: '#fecaca' },\r\n            'MAINTENANCE': { label: 'Maintenance', color: '#2563eb', bg: '#eff6ff', borderColor: '#bfdbfe' },\r\n            'UPDATE': { label: 'Update', color: '#059669', bg: '#ecfdf5', borderColor: '#a7f3d0' },\r\n            'WARNING': { label: 'Warning', color: '#d97706', bg: '#fffbeb', borderColor: '#fde68a' },\r\n            'INFO': { label: 'Information', color: '#4b5563', bg: '#f9fafb', borderColor: '#e5e7eb' }\r\n        };\r\n\r\n        const theme = themes[announcement.type as string] || themes['INFO'];\r\n        const subject = `[${displayName}] ${theme.label}: ${announcement.title}`;\r\n\r\n        let html = '';\r\n\r\n        // Build the email content using components\r\n        // We pass the theme label (e.g., \"Maintenance\") as the badge text\r\n        const announcementHeader = SubscriberEmailHeader(displayName, theme.label, announcement.title, {\r\n            headerGradient: announcement.type === 'INCIDENT'\r\n                ? 'linear-gradient(135deg, #7f1d1d 0%, #b91c1c 50%, #dc2626 100%)'\r\n                : announcement.type === 'MAINTENANCE'\r\n                    ? 'linear-gradient(135deg, #1e3a8a 0%, #2563eb 50%, #3b82f6 100%)'\r\n                    : announcement.type === 'UPDATE'\r\n                        ? 'linear-gradient(135deg, #166534 0%, #16a34a 45%, #22c55e 100%)'\r\n                        : announcement.type === 'WARNING'\r\n                            ? 'linear-gradient(135deg, #92400e 0%, #d97706 50%, #f59e0b 100%)'\r\n                            : 'linear-gradient(135deg, #8b1a1a 0%, #b91c1c 40%, #c92a2a 70%, #dc2626 100%)'\r\n        });\r\n\r\n        // Main content body with themed styles\r\n        const contentBody = `\r\n            <div style=\"background: ${theme.bg}; border-radius: 12px; padding: 24px; border: 1px solid ${theme.borderColor}; margin-bottom: 32px;\">\r\n                <h3 style=\"font-size: 14px; text-transform: uppercase; color: ${theme.color}; margin: 0 0 12px 0; letter-spacing: 0.05em; font-weight: 700;\">\r\n                    ${theme.label} Details\r\n                </h3>\r\n                <p style=\"font-size: 16px; line-height: 1.6; color: #374151; margin: 0; white-space: pre-wrap;\">\r\n                    ${announcement.message}\r\n                </p>\r\n                <div style=\"margin-top: 20px; padding-top: 16px; border-top: 1px solid ${theme.borderColor}; display: flex; gap: 24px; color: #6b7280; font-size: 14px;\">\r\n                    <div>\r\n                        <span style=\"font-weight: 600; color: ${theme.color};\">Start:</span> ${new Date(announcement.startDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}\r\n                    </div>\r\n                    ${announcement.endDate ? `\r\n                    <div>\r\n                        <span style=\"font-weight: 600; color: ${theme.color};\">End:</span> ${new Date(announcement.endDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}\r\n                    </div>\r\n                    ` : ''}\r\n                </div>\r\n                <p style=\"font-size: 14px; color: #9ca3af; margin-top: 16px; font-style: italic;\">\r\n                    Posted on ${new Date().toLocaleString('en-US', { dateStyle: 'medium', timeStyle: 'short' })}\r\n                </p>\r\n            </div>\r\n            <div style=\"text-align: center; margin-top: 32px;\">\r\n                <a href=\"${page.contactUrl || '#'}\" style=\"display: inline-block; background: #2563eb; color: white; padding: 12px 24px; border-radius: 6px; text-decoration: none; font-weight: 600; box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.2);\">View Status Page</a>\r\n            </div>\r\n        `;\r\n\r\n        const body = EmailContent(contentBody);\r\n        const footer = SubscriberEmailFooter('{{unsubscribe_url}}', displayName);\r\n\r\n        html = EmailContainer(announcementHeader + body + footer);\r\n\r\n        // 5. Send to all subscribers\r\n        logger.info(`Sending announcement notifications to ${page.subscriptions.length} subscribers for page ${page.name}`);\r\n\r\n        const results = await Promise.allSettled(\r\n            page.subscriptions.map(sub =>\r\n                sendEmail({\r\n                    to: sub.email,\r\n                    subject,\r\n                    html: html.replace('{{unsubscribe_url}}', `${process.env.NEXT_PUBLIC_APP_URL}/status/unsubscribe/${sub.token}`)\r\n                }, {\r\n                    source: `status-page-${page.id}`,\r\n                    ...emailConfig\r\n                })\r\n            )\r\n        );\r\n\r\n        const sent = results.filter(r => r.status === 'fulfilled' && r.value.success).length;\r\n        const failed = results.filter(r => r.status === 'rejected' || (r.status === 'fulfilled' && !r.value.success)).length;\r\n\r\n        logger.info(`Status announcement notifications sent: ${sent} success, ${failed} failed`);\r\n\r\n    } catch (error) {\r\n        logger.error('Failed to notify status page subscribers about announcement', {\r\n            error: error instanceof Error ? error.message : 'Unknown error',\r\n            announcementId\r\n        });\r\n    }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\status-page-webhooks.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 12,
        "column": 11,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 12,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [260, 263], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [260, 263], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 52,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 52,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1607, 1610], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1607, 1610], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 85,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 85,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2652, 2655], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2652, 2655], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 100,
        "column": 11,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 100,
        "endColumn": 14,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3103, 3106], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3103, 3106], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 145,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 145,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4658, 4661], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4658, 4661], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 161,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 161,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5206, 5209], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5206, 5209], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 192,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 192,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [6495, 6498], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [6495, 6498], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\time-format.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\timezone.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\unique-names.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\user-friendly-errors.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\user-notifications.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'getEmailConfig' is defined but never used. Allowed unused vars must match /^_/u.",
        "line": 14,
        "column": 30,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 44
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 300,
        "column": 56,
        "nodeType": "MemberExpression",
        "endLine": 300,
        "endColumn": 67
      },
      {
        "ruleId": "security/detect-object-injection",
        "severity": 1,
        "message": "Generic Object Injection Sink",
        "line": 301,
        "column": 49,
        "nodeType": "MemberExpression",
        "endLine": 301,
        "endColumn": 60
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\r\n * User-Based Notification System (PagerDuty-style)\r\n * \r\n * Architecture:\r\n * - Users configure their notification preferences (email, SMS, push)\r\n * - System-level providers are configured via database (Settings ΓåÆ System ΓåÆ Notification Providers)\r\n * - Service-level: Only Slack webhook URL\r\n * - When sending notifications, check user preferences and system provider availability\r\n */\r\n\r\nimport prisma from './prisma';\r\nimport { sendNotification, NotificationChannel } from './notifications';\r\nimport { notifySlackForIncident } from './slack';\r\nimport { isChannelAvailable, getEmailConfig } from './notification-providers';\r\nimport { createInAppNotifications } from './in-app-notifications';\r\nimport { logger } from './logger';\r\n\r\n/**\r\n * Get user's enabled notification channels based on their preferences\r\n * and system provider availability\r\n * \r\n * Returns channels in priority order: PUSH ΓåÆ SMS ΓåÆ WhatsApp ΓåÆ EMAIL\r\n */\r\nexport async function getUserNotificationChannels(userId: string): Promise<NotificationChannel[]> {\r\n    const user = await prisma.user.findUnique({\r\n        where: { id: userId },\r\n        select: {\r\n            emailNotificationsEnabled: true,\r\n            smsNotificationsEnabled: true,\r\n            pushNotificationsEnabled: true,\r\n            whatsappNotificationsEnabled: true,\r\n            phoneNumber: true,\r\n            email: true\r\n        }\r\n    });\r\n\r\n    if (!user) {\r\n        return []; // User not found\r\n    }\r\n\r\n    const channels: NotificationChannel[] = [];\r\n\r\n    // Priority order: PUSH ΓåÆ SMS ΓåÆ WhatsApp ΓåÆ EMAIL\r\n    // Push: Check user preference and system availability\r\n    if (user.pushNotificationsEnabled && await isChannelAvailable('PUSH')) {\r\n        channels.push('PUSH');\r\n    }\r\n\r\n    // SMS: Check user preference, phone number, and system availability\r\n    if (user.smsNotificationsEnabled && user.phoneNumber && await isChannelAvailable('SMS')) {\r\n        channels.push('SMS');\r\n    }\r\n\r\n    // WhatsApp: Check user preference and system availability (Twilio)\r\n    if (user.whatsappNotificationsEnabled && user.phoneNumber) {\r\n        const whatsappConfig = await import('./notification-providers').then(m => m.getWhatsAppConfig());\r\n        if (whatsappConfig.enabled && whatsappConfig.provider === 'twilio') {\r\n            channels.push('WHATSAPP');\r\n        }\r\n    }\r\n\r\n    // Email: Check user preference and system availability\r\n    if (user.emailNotificationsEnabled && await isChannelAvailable('EMAIL')) {\r\n        channels.push('EMAIL');\r\n    }\r\n\r\n    // No fallback - respect user's notification preferences\r\n    // If all notifications are disabled, return empty array\r\n    return channels;\r\n}\r\n\r\n/**\r\n * Send notifications to a user based on their preferences\r\n * @param incidentId - The incident ID\r\n * @param userId - The user ID to notify\r\n * @param message - The notification message\r\n * @param escalationChannels - Optional: Override user preferences with escalation step channels\r\n */\r\n// ... (imports)\r\n\r\n/**\r\n * Send notifications to a user based on their preferences\r\n * @param incidentId - The incident ID\r\n * @param userId - The user ID to notify\r\n * @param message - The notification message\r\n * @param escalationChannels - Optional: Override user preferences with escalation step channels\r\n */\r\nexport async function sendUserNotification(\r\n    incidentId: string,\r\n    userId: string,\r\n    message: string,\r\n    escalationChannels?: NotificationChannel[]\r\n): Promise<{ success: boolean; channelsUsed: NotificationChannel[]; errors?: string[] }> {\r\n\r\n    // Create In-App Notification first\r\n    try {\r\n        await createInAppNotifications({\r\n            userIds: [userId],\r\n            type: 'INCIDENT',\r\n            title: 'Action Required', // Generic title for escalation/direct message\r\n            message: message,\r\n            entityType: 'INCIDENT',\r\n            entityId: incidentId\r\n        });\r\n    } catch (error) {\r\n        logger.error('Failed to create In-App notification', { userId, incidentId, error });\r\n    }\r\n\r\n    let channels: NotificationChannel[];\r\n    // ... rest of function\r\n    const userChannels = await getUserNotificationChannels(userId);\r\n\r\n    // If escalation step specifies channels, use those (filtered by user preferences and availability)\r\n    if (escalationChannels && escalationChannels.length > 0) {\r\n        // Intersection: only use channels that are both in escalation step AND available for user\r\n        channels = escalationChannels.filter(ch => userChannels.includes(ch));\r\n\r\n        // If no intersection, fall back to user preferences\r\n        if (channels.length === 0) {\r\n            channels = userChannels;\r\n        }\r\n    } else {\r\n        // Use user preferences\r\n        channels = userChannels;\r\n    }\r\n\r\n    const errors: string[] = [];\r\n    const channelsUsed: NotificationChannel[] = [];\r\n\r\n    if (channels.length === 0) {\r\n        // Even if no channels, In-App was created. Return success false for external channels only.\r\n        return {\r\n            success: false,\r\n            channelsUsed: [],\r\n            errors: ['User has not enabled any notification channels. In-App notification created.']\r\n        };\r\n    }\r\n\r\n    // Send via each enabled channel\r\n    for (const channel of channels) {\r\n        const result = await sendNotification(incidentId, userId, channel, message);\r\n        if (result.success) {\r\n            channelsUsed.push(channel);\r\n        } else {\r\n            errors.push(`${channel}: ${result.error || 'Failed'}`);\r\n        }\r\n    }\r\n\r\n    return {\r\n        success: channelsUsed.length > 0,\r\n        channelsUsed,\r\n        errors: errors.length > 0 ? errors : undefined\r\n    };\r\n}\r\n\r\n/**\r\n * Send full incident notifications strategy (User prefs + Service integrations)\r\n * Replaces previous sendServiceNotifications\r\n */\r\nexport async function sendIncidentNotifications(\r\n    incidentId: string,\r\n    eventType: 'triggered' | 'acknowledged' | 'resolved' | 'updated', excludeUserIds: string[] = []\r\n): Promise<{ success: boolean; errors?: string[] }> {\r\n    try {\r\n\r\n        const incident = await prisma.incident.findUnique({\r\n            where: { id: incidentId },\r\n            include: {\r\n                service: {\r\n                    include: {\r\n                        team: {\r\n                            include: {\r\n                                members: {\r\n                                    include: { user: true }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                assignee: true\r\n            }\r\n        });\r\n\r\n        if (!incident || !incident.service) {\r\n            return { success: false, errors: ['Incident or service not found'] };\r\n        }\r\n\r\n        const errors: string[] = [];\r\n        const recipients: string[] = [];\r\n\r\n        // Add assignee if exists\r\n        if (incident.assigneeId) {\r\n            recipients.push(incident.assigneeId);\r\n        }\r\n\r\n        // Add service team members if team exists\r\n        if (incident.service.team) {\r\n            const teamUserIds = incident.service.team.members.map(m => m.userId);\r\n            recipients.push(...teamUserIds);\r\n        }\r\n\r\n        // Remove duplicates\r\n        const uniqueRecipients = [...new Set(recipients)].filter(id => !excludeUserIds.includes(id));\r\n\r\n        const eventTitle = eventType === 'triggered'\r\n            ? 'New Incident'\r\n            : eventType === 'acknowledged'\r\n                ? 'Incident Acknowledged'\r\n                : eventType === 'resolved'\r\n                    ? 'Incident Resolved'\r\n                    : 'Incident Updated';\r\n        const eventMessage = `[${incident.service.name}] ${incident.title}`;\r\n\r\n        await createInAppNotifications({\r\n            userIds: uniqueRecipients,\r\n            type: 'INCIDENT',\r\n            title: eventTitle,\r\n            message: eventMessage,\r\n            entityType: 'INCIDENT',\r\n            entityId: incident.id\r\n        });\r\n\r\n        if (uniqueRecipients.length === 0) {\r\n            // No specific recipients, but still send service-level Slack notification if configured\r\n            if (incident.service.slackWebhookUrl && eventType !== 'updated') {\r\n                await notifySlackForIncident(incidentId, eventType).catch(err => {\r\n                    errors.push(`Slack notification failed: ${err.message}`);\r\n                });\r\n            }\r\n            return { success: errors.length === 0, errors: errors.length > 0 ? errors : undefined };\r\n        }\r\n\r\n        // Batch fetch user notification preferences to avoid N+1 queries\r\n        const users = await prisma.user.findMany({\r\n            where: { id: { in: uniqueRecipients } },\r\n            select: {\r\n                id: true,\r\n                emailNotificationsEnabled: true,\r\n                smsNotificationsEnabled: true,\r\n                pushNotificationsEnabled: true,\r\n                whatsappNotificationsEnabled: true,\r\n                phoneNumber: true,\r\n                email: true\r\n            }\r\n        });\r\n\r\n        // Check channel availability once\r\n        const [emailAvailable, smsAvailable, pushAvailable] = await Promise.all([\r\n            isChannelAvailable('EMAIL'),\r\n            isChannelAvailable('SMS'),\r\n            isChannelAvailable('PUSH')\r\n        ]);\r\n\r\n        // Check WhatsApp availability (requires Twilio)\r\n        const whatsappConfig = await import('./notification-providers').then(m => m.getWhatsAppConfig());\r\n        const whatsappAvailable = whatsappConfig.enabled && whatsappConfig.provider === 'twilio';\r\n\r\n        // Create a map for quick lookup\r\n        const userMap = new Map(users.map(u => [u.id, u]));\r\n\r\n        // Send notifications to each recipient based on their preferences\r\n        const message = `[${incident.service.name}] Incident ${eventType}: ${incident.title}`;\r\n        const notificationPromises = uniqueRecipients.map(async (userId) => {\r\n            const user = userMap.get(userId);\r\n            if (!user) {\r\n                return { userId, success: false, error: 'User not found' };\r\n            }\r\n\r\n            // Determine channels for this user\r\n            // Priority order: PUSH ΓåÆ SMS ΓåÆ WhatsApp ΓåÆ EMAIL\r\n            const channels: NotificationChannel[] = [];\r\n            if (user.pushNotificationsEnabled && pushAvailable) {\r\n                channels.push('PUSH');\r\n            }\r\n            if (user.smsNotificationsEnabled && user.phoneNumber && smsAvailable) {\r\n                channels.push('SMS');\r\n            }\r\n            if (user.whatsappNotificationsEnabled && user.phoneNumber && whatsappAvailable) {\r\n                channels.push('WHATSAPP');\r\n            }\r\n            if (user.emailNotificationsEnabled && emailAvailable) {\r\n                channels.push('EMAIL');\r\n            }\r\n\r\n            if (channels.length === 0) {\r\n                return { userId, success: false, error: 'User has not enabled any notification channels. Please configure notification preferences in Settings.' };\r\n            }\r\n\r\n            // Send via all enabled channels\r\n            const channelResults = await Promise.all(\r\n                channels.map(channel => sendNotification(incidentId, userId, channel, message))\r\n            );\r\n\r\n            const successful = channelResults.filter(r => r.success);\r\n            const failed = channelResults.filter(r => !r.success);\r\n\r\n            return {\r\n                userId,\r\n                success: successful.length > 0,\r\n                channelsUsed: successful.map((_, i) => channels[i]),\r\n                errors: failed.map((r, i) => `${channels[i]}: ${r.error || 'Failed'}`)\r\n            };\r\n        });\r\n\r\n        const notificationResults = await Promise.all(notificationPromises);\r\n\r\n        for (const result of notificationResults) {\r\n            if (!result.success) {\r\n                errors.push(`User ${result.userId}: ${result.error || result.errors?.join(', ') || 'Failed'}`);\r\n            }\r\n        }\r\n\r\n        // Send service-level Slack notification (if configured legacy way)\r\n        if (incident.service.slackWebhookUrl && eventType !== 'updated') {\r\n            await notifySlackForIncident(incidentId, eventType).catch(err => {\r\n                errors.push(`Slack notification failed: ${err.message}`);\r\n            });\r\n        }\r\n\r\n        // Trigger Service Webhook Integrations (Slack/Generic/Teams)\r\n        // This connects the \"User Notification\" flow to the \"Service Integration\" flow\r\n        try {\r\n            const { sendServiceNotifications: sendIntegrationNotifications } = await import('./service-notifications');\r\n            await sendIntegrationNotifications(incidentId, eventType);\r\n        } catch (err) {\r\n            logger.error('Failed to send service integration notifications', { component: 'user-notifications', error: err, serviceId: incident.serviceId, incidentId: incident.id });\r\n            // Don't block the response, just log it\r\n        }\r\n\r\n        return {\r\n            success: errors.length === 0,\r\n            errors: errors.length > 0 ? errors : undefined\r\n        };\r\n    } catch (error) {\r\n        logger.error('Service notification error', {\r\n            error: error instanceof Error ? error.message : 'Unknown error'\r\n        });\r\n        return { success: false, errors: [error instanceof Error ? error.message : 'Unknown error'] };\r\n    }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\validation.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\webhooks.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 139,
        "column": 26,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 139,
        "endColumn": 29,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4098, 4101], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4098, 4101], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 149,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 149,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4394, 4397], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4394, 4397], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 188,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 188,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5683, 5686], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5683, 5686], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 243,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 243,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7157, 7160], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7157, 7160], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 332,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 332,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [9565, 9568], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [9565, 9568], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 424,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 424,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [12057, 12060], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [12057, 12060], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 492,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 492,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [13766, 13769], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [13766, 13769], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 588,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 588,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [16171, 16174], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [16171, 16174], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 639,
        "column": 19,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 639,
        "endColumn": 22,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [17645, 17648], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [17645, 17648], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ]
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 20,
        "column": 27,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 20,
        "endColumn": 30,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [544, 547], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [544, 547], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 9,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\r\n * Webhook Notification Service\r\n * Sends generic webhook notifications for incidents\r\n *\r\n * Supports:\r\n * - Custom webhook URLs\r\n * - Signature verification (HMAC-SHA256)\r\n * - Retry logic with exponential backoff\r\n * - Custom payload formatting\r\n */\r\n\r\nimport prisma from './prisma';\r\nimport crypto from 'crypto';\r\nimport { getBaseUrl } from './env-validation';\r\nimport { retryFetch, isRetryableHttpError } from './retry';\r\nimport { logger } from './logger';\r\n\r\nexport type WebhookOptions = {\r\n  url: string;\r\n  payload: Record<string, any>; // eslint-disable-line @typescript-eslint/no-explicit-any\r\n  headers?: Record<string, string>;\r\n  secret?: string; // For HMAC signature\r\n  method?: 'POST' | 'PUT' | 'PATCH';\r\n  timeout?: number; // Timeout in milliseconds\r\n};\r\n\r\nexport type WebhookResult = {\r\n  success: boolean;\r\n  error?: string;\r\n  statusCode?: number;\r\n  responseBody?: string;\r\n};\r\n\r\n/**\r\n * Generate HMAC signature for webhook payload\r\n */\r\nfunction generateSignature(payload: string, secret: string): string {\r\n  return crypto.createHmac('sha256', secret).update(payload).digest('hex');\r\n}\r\n\r\n/**\r\n * Send webhook notification\r\n */\r\nexport async function sendWebhook(options: WebhookOptions): Promise<WebhookResult> {\r\n  try {\r\n    const {\r\n      url,\r\n      payload,\r\n      headers = {},\r\n      secret,\r\n      method = 'POST',\r\n      timeout = 10000, // 10 seconds default\r\n    } = options;\r\n\r\n    if (!url) {\r\n      return { success: false, error: 'Webhook URL is required' };\r\n    }\r\n\r\n    // Stringify payload\r\n    const payloadString = JSON.stringify(payload);\r\n\r\n    // Prepare headers\r\n    const requestHeaders: Record<string, string> = {\r\n      'Content-Type': 'application/json',\r\n      'User-Agent': 'OpsSentinal/1.0',\r\n      ...headers,\r\n    };\r\n\r\n    // Add signature if secret provided\r\n    if (secret) {\r\n      const signature = generateSignature(payloadString, secret);\r\n      requestHeaders['X-OpsSentinal-Signature'] = `sha256=${signature}`;\r\n      requestHeaders['X-OpsSentinal-Timestamp'] = Date.now().toString();\r\n    }\r\n\r\n    // Use retry logic for improved reliability\r\n    // Create AbortController for timeout compatibility\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), timeout);\r\n\r\n    try {\r\n      const response = await retryFetch(\r\n        url,\r\n        {\r\n          method,\r\n          headers: requestHeaders,\r\n          body: payloadString,\r\n          signal: controller.signal,\r\n        },\r\n        {\r\n          maxAttempts: 3,\r\n          initialDelayMs: 1000,\r\n          retryableErrors: error => {\r\n            // Only retry on network errors, timeouts, or 5xx server errors\r\n            if (error instanceof Error) {\r\n              if (error.name === 'AbortError' || error.message.includes('timeout')) {\r\n                return true;\r\n              }\r\n              if (error.message.includes('fetch') || error.message.includes('network')) {\r\n                return true;\r\n              }\r\n              if (error.message.includes('5')) {\r\n                return true;\r\n              }\r\n            }\r\n            return false;\r\n          },\r\n        }\r\n      );\r\n\r\n      clearTimeout(timeoutId);\r\n      const responseText = await response.text();\r\n\r\n      // Check for non-retryable client errors (4xx)\r\n      if (!response.ok && !isRetryableHttpError(response.status)) {\r\n        return {\r\n          success: false,\r\n          error: `Webhook returned ${response.status}: ${responseText}`,\r\n          statusCode: response.status,\r\n          responseBody: responseText,\r\n        };\r\n      }\r\n\r\n      if (!response.ok) {\r\n        // This shouldn't happen after retries, but handle gracefully\r\n        return {\r\n          success: false,\r\n          error: `Webhook returned ${response.status} after retries: ${responseText}`,\r\n          statusCode: response.status,\r\n          responseBody: responseText,\r\n        };\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        statusCode: response.status,\r\n        responseBody: responseText,\r\n      };\r\n    } catch (fetchError: any) {\r\n\r\n      if (fetchError.name === 'AbortError' || fetchError.message?.includes('timeout')) {\r\n        return { success: false, error: 'Webhook request timed out after retries' };\r\n      }\r\n\r\n      throw fetchError;\r\n    } finally {\r\n      clearTimeout(timeoutId);\r\n    }\r\n  } catch (error: any) {\r\n\r\n    logger.error('Webhook send error', { component: 'webhooks', error, url: options.url });\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n\r\n/**\r\n * Send webhook with retry logic (legacy function - kept for backward compatibility)\r\n * Note: sendWebhook now includes retry logic internally, but this function\r\n * provides additional retry attempts on top of that\r\n */\r\nexport async function sendWebhookWithRetry(\r\n  options: WebhookOptions,\r\n  _maxRetries: number = 3,\r\n  _initialDelay: number = 1000\r\n): Promise<WebhookResult> {\r\n  // sendWebhook now has built-in retry logic, so this is mainly for backward compatibility\r\n  // If additional retry attempts are needed, they can be added here\r\n  return await sendWebhook(options);\r\n}\r\n\r\n/**\r\n * Generate standard incident webhook payload\r\n */\r\nexport function generateIncidentWebhookPayload(\r\n  incident: {\r\n    id: string;\r\n    title: string;\r\n    description?: string | null;\r\n    status: string;\r\n    urgency: string;\r\n    service: { name: string; id: string };\r\n    assignee?: { name: string; email: string; id: string } | null;\r\n    createdAt: Date;\r\n    acknowledgedAt?: Date | null;\r\n    resolvedAt?: Date | null;\r\n  },\r\n  eventType: 'triggered' | 'acknowledged' | 'resolved' | 'updated'\r\n): Record<string, any> {\r\n\r\n  const baseUrl = getBaseUrl();\r\n  const incidentUrl = `${baseUrl}/incidents/${incident.id}`;\r\n\r\n  return {\r\n    event: {\r\n      type: eventType,\r\n      timestamp: new Date().toISOString(),\r\n    },\r\n    incident: {\r\n      id: incident.id,\r\n      title: incident.title,\r\n      description: incident.description,\r\n      status: incident.status,\r\n      urgency: incident.urgency,\r\n      url: incidentUrl,\r\n      service: {\r\n        id: incident.service.id,\r\n        name: incident.service.name,\r\n      },\r\n      assignee: incident.assignee\r\n        ? {\r\n          id: incident.assignee.id,\r\n          name: incident.assignee.name,\r\n          email: incident.assignee.email,\r\n        }\r\n        : null,\r\n      timestamps: {\r\n        created: incident.createdAt.toISOString(),\r\n        acknowledged: incident.acknowledgedAt?.toISOString() || null,\r\n        resolved: incident.resolvedAt?.toISOString() || null,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Format payload for Google Chat\r\n */\r\nexport function formatGoogleChatPayload(\r\n  incident: {\r\n    id: string;\r\n    title: string;\r\n    description?: string | null;\r\n    status: string;\r\n    urgency: string;\r\n    service: { name: string; id: string };\r\n    assignee?: { name: string; email: string; id: string } | null;\r\n    createdAt: Date;\r\n    acknowledgedAt?: Date | null;\r\n    resolvedAt?: Date | null;\r\n  },\r\n  eventType: 'triggered' | 'acknowledged' | 'resolved' | 'updated',\r\n  baseUrl: string\r\n): Record<string, any> {\r\n\r\n  const incidentUrl = `${baseUrl}/incidents/${incident.id}`;\r\n  const _statusColor =\r\n    eventType === 'triggered'\r\n      ? '#d32f2f'\r\n      : eventType === 'acknowledged'\r\n        ? '#f9a825'\r\n        : eventType === 'resolved'\r\n          ? '#388e3c'\r\n          : '#757575';\r\n\r\n  return {\r\n    cards: [\r\n      {\r\n        header: {\r\n          title: `Incident ${eventType.toUpperCase()}: ${incident.title}`,\r\n          subtitle: incident.service.name,\r\n          imageUrl: '',\r\n          imageStyle: 'AVATAR',\r\n        },\r\n        sections: [\r\n          {\r\n            widgets: [\r\n              {\r\n                keyValue: {\r\n                  topLabel: 'Status',\r\n                  content: incident.status,\r\n                  contentMultiline: false,\r\n                  bottomLabel: incident.urgency,\r\n                  icon: 'DESCRIPTION',\r\n                  button: {\r\n                    textButton: {\r\n                      text: 'VIEW INCIDENT',\r\n                      onClick: {\r\n                        openLink: {\r\n                          url: incidentUrl,\r\n                        },\r\n                      },\r\n                    },\r\n                  },\r\n                },\r\n              },\r\n              {\r\n                keyValue: {\r\n                  topLabel: 'Assignee',\r\n                  content: incident.assignee?.name || 'Unassigned',\r\n                  contentMultiline: false,\r\n                },\r\n              },\r\n            ],\r\n          },\r\n          ...(incident.description\r\n            ? [\r\n              {\r\n                widgets: [\r\n                  {\r\n                    textParagraph: {\r\n                      text: incident.description,\r\n                    },\r\n                  },\r\n                ],\r\n              },\r\n            ]\r\n            : []),\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\n/**\r\n * Format payload for Microsoft Teams (Adaptive Card)\r\n */\r\nexport function formatMicrosoftTeamsPayload(\r\n  incident: {\r\n    id: string;\r\n    title: string;\r\n    description?: string | null;\r\n    status: string;\r\n    urgency: string;\r\n    service: { name: string; id: string };\r\n    assignee?: { name: string; email: string; id: string } | null;\r\n    createdAt: Date;\r\n    acknowledgedAt?: Date | null;\r\n    resolvedAt?: Date | null;\r\n  },\r\n  eventType: 'triggered' | 'acknowledged' | 'resolved' | 'updated',\r\n  baseUrl: string\r\n): Record<string, any> {\r\n\r\n  const incidentUrl = `${baseUrl}/incidents/${incident.id}`;\r\n  const _accentColor =\r\n    eventType === 'triggered'\r\n      ? '#d32f2f'\r\n      : eventType === 'acknowledged'\r\n        ? '#f9a825'\r\n        : eventType === 'resolved'\r\n          ? '#388e3c'\r\n          : '#757575';\r\n\r\n  return {\r\n    type: 'message',\r\n    attachments: [\r\n      {\r\n        contentType: 'application/vnd.microsoft.card.adaptive',\r\n        content: {\r\n          type: 'AdaptiveCard',\r\n          version: '1.4',\r\n          body: [\r\n            {\r\n              type: 'TextBlock',\r\n              text: `Incident ${eventType.toUpperCase()}: ${incident.title}`,\r\n              weight: 'Bolder',\r\n              size: 'Large',\r\n              wrap: true,\r\n            },\r\n            {\r\n              type: 'FactSet',\r\n              facts: [\r\n                {\r\n                  title: 'Service:',\r\n                  value: incident.service.name,\r\n                },\r\n                {\r\n                  title: 'Status:',\r\n                  value: incident.status,\r\n                },\r\n                {\r\n                  title: 'Urgency:',\r\n                  value: incident.urgency,\r\n                },\r\n                {\r\n                  title: 'Assignee:',\r\n                  value: incident.assignee?.name || 'Unassigned',\r\n                },\r\n              ],\r\n            },\r\n            ...(incident.description\r\n              ? [\r\n                {\r\n                  type: 'TextBlock',\r\n                  text: incident.description,\r\n                  wrap: true,\r\n                  spacing: 'Medium',\r\n                },\r\n              ]\r\n              : []),\r\n          ],\r\n          actions: [\r\n            {\r\n              type: 'Action.OpenUrl',\r\n              title: 'View Incident',\r\n              url: incidentUrl,\r\n            },\r\n          ],\r\n          $schema: 'http://adaptivecards.io/schemas/adaptive-card.json',\r\n        },\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\n/**\r\n * Format payload for Discord (Embed)\r\n */\r\nexport function formatDiscordPayload(\r\n  incident: {\r\n    id: string;\r\n    title: string;\r\n    description?: string | null;\r\n    status: string;\r\n    urgency: string;\r\n    service: { name: string; id: string };\r\n    assignee?: { name: string; email: string; id: string } | null;\r\n    createdAt: Date;\r\n    acknowledgedAt?: Date | null;\r\n    resolvedAt?: Date | null;\r\n  },\r\n  eventType: 'triggered' | 'acknowledged' | 'resolved' | 'updated',\r\n  baseUrl: string\r\n): Record<string, any> {\r\n\r\n  const incidentUrl = `${baseUrl}/incidents/${incident.id}`;\r\n  const color =\r\n    eventType === 'triggered'\r\n      ? 0xd32f2f\r\n      : eventType === 'acknowledged'\r\n        ? 0xf9a825\r\n        : eventType === 'resolved'\r\n          ? 0x388e3c\r\n          : 0x757575;\r\n\r\n  return {\r\n    embeds: [\r\n      {\r\n        title: `Incident ${eventType.toUpperCase()}: ${incident.title}`,\r\n        description: incident.description || undefined,\r\n        url: incidentUrl,\r\n        color: color,\r\n        fields: [\r\n          {\r\n            name: 'Service',\r\n            value: incident.service.name,\r\n            inline: true,\r\n          },\r\n          {\r\n            name: 'Status',\r\n            value: incident.status,\r\n            inline: true,\r\n          },\r\n          {\r\n            name: 'Urgency',\r\n            value: incident.urgency,\r\n            inline: true,\r\n          },\r\n          {\r\n            name: 'Assignee',\r\n            value: incident.assignee?.name || 'Unassigned',\r\n            inline: true,\r\n          },\r\n        ],\r\n        timestamp: new Date().toISOString(),\r\n        footer: {\r\n          text: 'OpsSentinal',\r\n        },\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\n/**\r\n * Format payload for Slack (Block Kit)\r\n */\r\nexport function formatSlackPayload(\r\n  incident: {\r\n    id: string;\r\n    title: string;\r\n    description?: string | null;\r\n    status: string;\r\n    urgency: string;\r\n    service: { name: string; id: string };\r\n    assignee?: { name: string; email: string; id: string } | null;\r\n    createdAt: Date;\r\n    acknowledgedAt?: Date | null;\r\n    resolvedAt?: Date | null;\r\n  },\r\n  eventType: 'triggered' | 'acknowledged' | 'resolved' | 'updated',\r\n  baseUrl: string\r\n): Record<string, any> {\r\n\r\n  const incidentUrl = `${baseUrl}/incidents/${incident.id}`;\r\n\r\n  // Status color mapping\r\n  const statusEmoji =\r\n    eventType === 'triggered'\r\n      ? '≡ƒö┤'\r\n      : eventType === 'acknowledged'\r\n        ? '≡ƒƒí'\r\n        : eventType === 'resolved'\r\n          ? '≡ƒƒó'\r\n          : 'ΓÜ¬';\r\n\r\n  const headerText = `${statusEmoji} Incident ${eventType.charAt(0).toUpperCase() + eventType.slice(1)}: ${incident.title}`;\r\n\r\n  return {\r\n    blocks: [\r\n      {\r\n        type: 'header',\r\n        text: {\r\n          type: 'plain_text',\r\n          text: headerText.substring(0, 150), // Slack header limit\r\n          emoji: true,\r\n        },\r\n      },\r\n      {\r\n        type: 'section',\r\n        fields: [\r\n          {\r\n            type: 'mrkdwn',\r\n            text: `*Service:*\\n${incident.service.name}`,\r\n          },\r\n          {\r\n            type: 'mrkdwn',\r\n            text: `*Status:*\\n${incident.status}`,\r\n          },\r\n          {\r\n            type: 'mrkdwn',\r\n            text: `*Urgency:*\\n${incident.urgency}`,\r\n          },\r\n          {\r\n            type: 'mrkdwn',\r\n            text: `*Assignee:*\\n${incident.assignee?.name || 'Unassigned'}`,\r\n          },\r\n        ],\r\n      },\r\n      ...(incident.description\r\n        ? [\r\n          {\r\n            type: 'section',\r\n            text: {\r\n              type: 'mrkdwn',\r\n              text: `*Description:*\\n${incident.description}`,\r\n            },\r\n          },\r\n        ]\r\n        : []),\r\n      {\r\n        type: 'actions',\r\n        elements: [\r\n          {\r\n            type: 'button',\r\n            text: {\r\n              type: 'plain_text',\r\n              text: 'View Incident',\r\n              emoji: true,\r\n            },\r\n            url: incidentUrl,\r\n            style: eventType === 'resolved' ? 'primary' : 'danger',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\n/**\r\n * Format payload based on webhook type\r\n */\r\nexport function formatWebhookPayloadByType(\r\n  webhookType: string,\r\n  incident: {\r\n    id: string;\r\n    title: string;\r\n    description?: string | null;\r\n    status: string;\r\n    urgency: string;\r\n    service: { name: string; id: string };\r\n    assignee?: { name: string; email: string; id: string } | null;\r\n    createdAt: Date;\r\n    acknowledgedAt?: Date | null;\r\n    resolvedAt?: Date | null;\r\n  },\r\n  eventType: 'triggered' | 'acknowledged' | 'resolved' | 'updated',\r\n  baseUrl: string\r\n): Record<string, any> {\r\n\r\n  switch (webhookType.toUpperCase()) {\r\n    case 'GOOGLE_CHAT':\r\n      return formatGoogleChatPayload(incident, eventType, baseUrl);\r\n    case 'TEAMS':\r\n    case 'MICROSOFT_TEAMS':\r\n      return formatMicrosoftTeamsPayload(incident, eventType, baseUrl);\r\n    case 'SLACK':\r\n      return formatSlackPayload(incident, eventType, baseUrl);\r\n    case 'DISCORD':\r\n      return formatDiscordPayload(incident, eventType, baseUrl);\r\n    case 'GENERIC':\r\n    default:\r\n      return generateIncidentWebhookPayload(incident, eventType);\r\n  }\r\n}\r\n\r\n/**\r\n * Send incident notification webhook with type-specific formatting\r\n */\r\nexport async function sendIncidentWebhook(\r\n  webhookUrl: string,\r\n  incidentId: string,\r\n  eventType: 'triggered' | 'acknowledged' | 'resolved' | 'updated',\r\n  secret?: string,\r\n  webhookType?: string\r\n): Promise<WebhookResult> {\r\n  try {\r\n    const incident = await prisma.incident.findUnique({\r\n      where: { id: incidentId },\r\n      include: {\r\n        service: true,\r\n        assignee: true,\r\n      },\r\n    });\r\n\r\n    if (!incident) {\r\n      return { success: false, error: 'Incident not found' };\r\n    }\r\n\r\n    const baseUrl = getBaseUrl();\r\n    const payload = webhookType\r\n      ? formatWebhookPayloadByType(webhookType, incident, eventType, baseUrl)\r\n      : generateIncidentWebhookPayload(incident, eventType);\r\n\r\n    return await sendWebhookWithRetry({\r\n      url: webhookUrl,\r\n      payload,\r\n      secret,\r\n    });\r\n  } catch (error: any) {\r\n\r\n    logger.error('Send incident webhook error', { component: 'webhooks', error, incidentId, eventType });\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n\r\n/**\r\n * Verify webhook signature (for incoming webhooks)\r\n */\r\nexport function verifyWebhookSignature(\r\n  payload: string,\r\n  signature: string,\r\n  secret: string\r\n): boolean {\r\n  try {\r\n    const expectedSignature = generateSignature(payload, secret);\r\n    const providedSignature = signature.replace(/^sha256=/, '');\r\n\r\n    // Use timing-safe comparison to prevent timing attacks\r\n    return crypto.timingSafeEqual(Buffer.from(expectedSignature), Buffer.from(providedSignature));\r\n  } catch (_error) {\r\n    return false;\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\lib\\whatsapp.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 96,
        "column": 60,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 96,
        "endColumn": 63,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3611, 3614], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3611, 3614], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 129,
        "column": 31,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 129,
        "endColumn": 34,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4960, 4963], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4960, 4963], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 139,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 139,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5360, 5363], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5360, 5363], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 186,
        "column": 60,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 186,
        "endColumn": 63,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7060, 7063], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7060, 7063], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 197,
        "column": 21,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 197,
        "endColumn": 24,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [7465, 7468], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [7465, 7468], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\middleware\\telemetry-middleware.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\services\\alert-rules\\AlertRulesService.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\services\\sla\\SLAService.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\services\\telemetry\\TelemetryServiceV2.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\types\\incident-list.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\types\\next-auth.d.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\Dushyant.Rahangdale\\Repo\\OpsSentinal\\src\\types\\notification-types.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  }
]
